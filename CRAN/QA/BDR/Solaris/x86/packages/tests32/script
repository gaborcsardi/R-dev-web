#!/bin/csh
setenv OMP_THREAD_LIMIT 2

setenv DISPLAY :5
limit cputime 30m
#limit memoryuse 2000m
setenv LC_CTYPE en_GB.UTF-8
setenv _R_CHECK_TIMINGS_ 10
setenv _R_CHECK_INSTALL_DEPENDS_ TRUE
setenv _R_CHECK_SUGGESTS_ONLY_ TRUE
setenv _R_CHECK_NO_RECOMMENDED_ TRUE
#setenv R_PARALLEL_PORT random
setenv _R_CHECK_DEPRECATED_DEFUNCT_ true
setenv _R_CHECK_REPLACING_IMPORTS_ true
setenv _R_CHECK_S3_METHODS_NOT_REGISTERED_ true
setenv _R_CHECK_OVERWRITE_REGISTERED_S3_METHODS_ true

setenv _R_CHECK_DOC_SIZES_ false
setenv _R_CHECK_VIGNETTES_NLINES_ 10000
setenv _R_CHECK_VIGNETTES_SKIP_RUN_MAYBE_ true


setenv WNHOME /usr/local/wordnet-3.0

nohup env MAKE=gmake gmake -j20 -k RDEV=Rgcc CFC.out DeLorean.out Rcpp.out RcppClassic.out RcppArmadillo.out RcppEigen.out RcppGSL.out RcppHoney.out RcppParallel.out Kmisc.out eggCounts.out icenReg.out plogr.out rstan.out rstanarm.out >&! check_log

unsetenv _R_CHECK_DOC_SIZES_
#setenv _R_CHECK_DOC_SIZES2_ true
nohup gmake -j20 -k check >>&! check_log
rm -f /tmp/gs_*
