=================================================
This is an automated collection of open reports in
the R-bugs repository.
=================================================

Directory:  Accuracy

* PR# 1228 *
Subject: bug with var(rep(1e30, 3))
From: Emmanuel Paradis <paradis@isem.univ-montp2.fr>
Date: Wed, 26 Dec 2001 13:03:31 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1228 <==
From postmaster@franz.stat.wisc.edu  Wed Dec 26 13:07:55 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id NAA13232
	for <r-bugs@biostat.ku.dk>; Wed, 26 Dec 2001 13:07:55 +0100 (MET)
Received: from isem.isem.univ-montp2.fr (really [162.38.183.200]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m16JCqF-000IZvC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Wed, 26 Dec 2001 06:07:27 -0600 (CST) 
Received: from diversi (diversi.isem.univ-montp2.fr [162.38.183.45])
	by isem.isem.univ-montp2.fr (8.9.1b+Sun/8.9.1) with SMTP id MAA19343
	for <r-bugs@r-project.org>; Wed, 26 Dec 2001 12:58:33 +0100 (MET)
Message-Id: <3.0.32.20011226130330.00910b80@162.38.183.200>
X-Sender: paradis@162.38.183.200
X-Mailer: Windows Eudora Pro Version 3.0 (32)
Date: Wed, 26 Dec 2001 13:03:31 +0100
To: r-bugs@r-project.org
From: Emmanuel Paradis <paradis@isem.univ-montp2.fr>
Subject: bug with var(rep(1e30, 3))
Mime-Version: 1.0
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by pubhealth.ku.dk id NAA13232

There seems to be a bug with var() when the argument is a vector with
exactly three values of 1e30 (or close to this value). This does not happen
with twice, four (or more) times this value, or another value.


> var(rep(1e30, 3))
[1] 2.971056e+28
> var(rep(1.2e30, 3))
[1] 2.971056e+28
> var(rep(0.9e30, 3))
[1] 2.971056e+28
> var(rep(0.8e30, 3))
[1] 0
> var(rep(1e29, 3))
[1] 0
> var(rep(1e30, 2))
[1] 0
> var(rep(1e30, 4))
[1] 0
> var(rep(1e31, 3))
[1] 0


The bug is repeatable, and I got the same results with R 1.3.1 (binary from
CRAN) and R 1.4.0 (binary from BD Ripley's site) both on Windows NT, and R
1.4.0 on Solaris (compiled from sources).



Emmanuel Paradis
Laboratoire de Paléontologie
Institut des Sciences de l'Évolution
Université Montpellier II
F-34095 Montpellier cédex 05
France
   phone: +33  4 67 14 39 64
     fax: +33  4 67 14 36 10
  mailto:paradis@isem.univ-montp2.fr

==> 1228.reply.1 <==
From p.dalgaard@biostat.ku.dk  Wed Dec 26 15:32:38 2001
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA13516;
	Wed, 26 Dec 2001 15:32:38 +0100 (MET)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.2/8.11.2) id fBQEVRP24017;
	Wed, 26 Dec 2001 15:31:27 +0100
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
Sender: pd@pubhealth.ku.dk
To: paradis@isem.univ-montp2.fr
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] bug with var(rep(1e30, 3)) (PR#1228)
References: <200112261207.NAA13242@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 26 Dec 2001 15:31:27 +0100
In-Reply-To: <200112261207.NAA13242@pubhealth.ku.dk>
Message-ID: <x2heqet5mo.fsf@blueberry.kubism.ku.dk>
Lines: 56
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

paradis@isem.univ-montp2.fr writes:

> There seems to be a bug with var() when the argument is a vector with
> exactly three values of 1e30 (or close to this value). This does not happen
> with twice, four (or more) times this value, or another value.
> 
> 
> > var(rep(1e30, 3))
> [1] 2.971056e+28
> > var(rep(1.2e30, 3))
> [1] 2.971056e+28
> > var(rep(0.9e30, 3))
> [1] 2.971056e+28
> > var(rep(0.8e30, 3))
> [1] 0
> > var(rep(1e29, 3))
> [1] 0
> > var(rep(1e30, 2))
> [1] 0
> > var(rep(1e30, 4))
> [1] 0
> > var(rep(1e31, 3))
> [1] 0
> 
> 
> The bug is repeatable, and I got the same results with R 1.3.1 (binary from
> CRAN) and R 1.4.0 (binary from BD Ripley's site) both on Windows NT, and R
> 1.4.0 on Solaris (compiled from sources).

Not a bug, roundoff:

> (1e30+1e30+1e30)/3-1e30
[1] 1.407375e+14
> 3*((1e30+1e30+1e30)/3-1e30)^2/2
[1] 2.971056e+28

Relative errors of the order 1e-16 are completely expectable in
floating point arithmetic.

For illustration, look at it in octal, after removing a bunch of
trailing zeroes:

> x<-1e30/(8^16)
> structure(x, class="octmode")
[1] "144762623464043165"
> structure(x+x+x, class="octmode")
[1] "456730272634151540"

If you look carefully, you will see that a bit is lost in the process
since 5+5+5 is 17 octal.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1228.followup.1 <==
From ripley@stats.ox.ac.uk  Wed Dec 26 16:52:52 2001
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA13677;
	Wed, 26 Dec 2001 16:52:51 +0100 (MET)
Received: from gannet.stats (IDENT:root@gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id PAA29226;
	Wed, 26 Dec 2001 15:52:25 GMT
Received: from localhost (ripley@localhost)
	by gannet.stats (8.11.3/8.11.3) with ESMTP id fBQFqPg12750;
	Wed, 26 Dec 2001 15:52:25 GMT
X-Authentication-Warning: gannet.stats: ripley owned process doing -bs
Date: Wed, 26 Dec 2001 15:52:25 +0000 (GMT)
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
X-X-Sender:  <ripley@gannet.stats>
To: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
cc: <paradis@isem.univ-montp2.fr>, <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] bug with var(rep(1e30, 3)) (PR#1228)
In-Reply-To: <x2heqet5mo.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.31.0112261550130.12728-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

But there are better algorithms that are not subject to this sort
of rounding error.

I reckon that computing a variance this way is not the quality of
algorithm one should expect from R.

On 26 Dec 2001, Peter Dalgaard BSA wrote:

> paradis@isem.univ-montp2.fr writes:
>
> > There seems to be a bug with var() when the argument is a vector with
> > exactly three values of 1e30 (or close to this value). This does not happen
> > with twice, four (or more) times this value, or another value.
> >
> >
> > > var(rep(1e30, 3))
> > [1] 2.971056e+28
> > > var(rep(1.2e30, 3))
> > [1] 2.971056e+28
> > > var(rep(0.9e30, 3))
> > [1] 2.971056e+28
> > > var(rep(0.8e30, 3))
> > [1] 0
> > > var(rep(1e29, 3))
> > [1] 0
> > > var(rep(1e30, 2))
> > [1] 0
> > > var(rep(1e30, 4))
> > [1] 0
> > > var(rep(1e31, 3))
> > [1] 0
> >
> >
> > The bug is repeatable, and I got the same results with R 1.3.1 (binary from
> > CRAN) and R 1.4.0 (binary from BD Ripley's site) both on Windows NT, and R
> > 1.4.0 on Solaris (compiled from sources).
>
> Not a bug, roundoff:
>
> > (1e30+1e30+1e30)/3-1e30
> [1] 1.407375e+14
> > 3*((1e30+1e30+1e30)/3-1e30)^2/2
> [1] 2.971056e+28
>
> Relative errors of the order 1e-16 are completely expectable in
> floating point arithmetic.
>
> For illustration, look at it in octal, after removing a bunch of
> trailing zeroes:
>
> > x<-1e30/(8^16)
> > structure(x, class="octmode")
> [1] "144762623464043165"
> > structure(x+x+x, class="octmode")
> [1] "456730272634151540"
>
> If you look carefully, you will see that a bit is lost in the process
> since 5+5+5 is 17 octal.
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1228.reply.2 <==
From p.dalgaard@biostat.ku.dk  Wed Dec 26 18:01:10 2001
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA13867;
	Wed, 26 Dec 2001 18:01:10 +0100 (MET)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.2/8.11.2) id fBQGxxE24151;
	Wed, 26 Dec 2001 17:59:59 +0100
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
Sender: pd@pubhealth.ku.dk
To: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Cc: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>,
        <paradis@isem.univ-montp2.fr>, <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] bug with var(rep(1e30, 3)) (PR#1228)
References: <Pine.LNX.4.31.0112261550130.12728-100000@gannet.stats>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 26 Dec 2001 17:59:59 +0100
In-Reply-To: <Pine.LNX.4.31.0112261550130.12728-100000@gannet.stats>
Message-ID: <x2vgetrk6o.fsf@blueberry.kubism.ku.dk>
Lines: 33
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

> But there are better algorithms that are not subject to this sort
> of rounding error.
> 
> I reckon that computing a variance this way is not the quality of
> algorithm one should expect from R.

Hmm. Which algorithms are there? Surely almost any kind of provisional
means subtraction could avoid the the extreme case where the mean of a
bunch of identical numbers is different from all of them, but will it
also improve precision in the general case?

Essentially our current algorithm in cov.c is

xm<- sum(x)/n
v <- 1/(n-1)*sum((x-xm)^2)

> > > x<-1e30/(8^16)
> > > structure(x, class="octmode")
> > [1] "144762623464043165"
> > > structure(x+x+x, class="octmode")
> > [1] "456730272634151540"
> >
> > If you look carefully, you will see that a bit is lost in the process
> > since 5+5+5 is 17 octal.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1228.audit <==
Fri Dec 28 20:08:08 2001	thomas	moved from incoming to Accuracy
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1664 *
Subject: Bug in rnorm.
From: Rolf Turner <rolf@math.unb.ca>
Date: Thu, 13 Jun 2002 16:35:59 -0300 (ADT)
--Strange interaction between "Marsaglia-Multicarry" generator and
--"Kinderman-Ramage" 
--method for normal variates. Apparently, switching either of them will help.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1664 <==
From rolf@math.unb.ca  Thu Jun 13 21:36:41 2002
Received: from gelfand.math.unb.ca (gelfand.math.unb.ca [131.202.168.201])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id VAA25186
	for <r-bugs@biostat.ku.dk>; Thu, 13 Jun 2002 21:36:40 +0200 (MET DST)
Received: (from rolf@localhost)
	by gelfand.math.unb.ca (8.9.3/8.9.3) id QAA04336
	for r-bugs@biostat.ku.dk; Thu, 13 Jun 2002 16:35:59 -0300 (ADT)
Date: Thu, 13 Jun 2002 16:35:59 -0300 (ADT)
From: Rolf Turner <rolf@math.unb.ca>
Message-Id: <200206131935.QAA04336@gelfand.math.unb.ca>
To: r-bugs@biostat.ku.dk
Subject: Bug in rnorm.


There appears to be a mild bug, or at least a deficiency, in
rnorm.  The bug becomes apparent when one looks at extremes
of the squares of the values generated by rnorm; rnorm is not
generating quite enough extreme values.

The R version that I am using is 1.4.1; I never got around to installing
1.5.0, and now since 1.5.1 is about to come out ....  However, checking
the 1.5.0 release notes revealed no mention of fixing a bug in rnorm.

Version details:

platform sparc-sun-solaris2.7
arch     sparc               
os       solaris2.7          
system   sparc, solaris2.7   
status                       
major    1                   
minor    4.1                 
year     2002                
month    01                  
day      30                  
language R

More detail regarding how the bug revealed itself:
==================================================

	For n = 100, 200, ..., 1500

	o I generated 1000 sequences of length n via rnorm(n),

	o for each sequence x, I calculated m = the max of x^2

	o I then calculated pval = 1 - pchisq(m,1)^n

	o I then calculated s.hat.n = #{pval: pval < 0.05}/1000

I then plotted s.hat.n versus n.  This ***should*** give a result
close to a horizontal straight line, at height 0.05 --- but it
didn't.  For the larger values of n, the values of s.hat.n were
displaced significantly below 0.05.

After some discussion with colleagues, I replaced the calls to rnorm()
by calls to myrnorm() defined by

	myrnorm <- function(n,mu=0,sigma=1){
		mu + sigma*cos(2*pi*runif(n))*sqrt(-2*log(runif(n)))
	}

which uses the ``(r,theta)'' method of generating random normals.

When I did so, the resulting values were indeed all ``close to'' 0.05,
as they should be.

I also tried the experiment using rchisq(n,1) instead of rnorm(n) (and
then of course taking m = max of x --- rather than max of x^2).  Again
all the resulting values were close to 0.05 as ought to be the case.
(So rchisq() appears to be OK in this regard.)

Enclosed below is a script to demonstrate the bug.

					cheers,

						Rolf Turner
						rolf@math.unb.ca

#==+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===
#
# Script to demonstrate the bug in rnorm.
#
myrnorm <- function(n,mu=0,sigma=1){
	mu + sigma*cos(2*pi*runif(n))*sqrt(-2*log(runif(n)))
}

# If RFUN <- rnorm we get ``wrong'' answers; if RFUN <- myrnorm,
# we get ``right'' answers.
RFUN <- rnorm

NSER <- 1000
set.seed(350734)
rslt <- list()

for(K in 1:15) {
	N   <- 100*K
	M   <- matrix(RFUN(NSER*N),N,NSER)
	T2  <- apply(M,2,function(x){max(x**2)})
	PV  <- 1 - pchisq(T2,1)**N
	SZ  <- sum(PV < 0.05)/NSER
	rslt[[K]] <- SZ
	cat(K,"\n")
}

rslt <- unlist(rslt)
plot(100*(1:15),rslt,ylim=c(0,0.1),xlab='n',ylab='s.hat.n')
abline(h=0.05)
error.bar(100*(1:15),rslt,lower=1.96*sqrt(0.05*0.95/1000),add=TRUE)

# Clean up:
rm(RFUN,NSER,K,N,M,T2,PV,SZ)
#==+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===

==> 1664.reply.1 <==
From p.dalgaard@biostat.ku.dk  Thu Jun 13 23:59:51 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id XAA25689;
	Thu, 13 Jun 2002 23:59:49 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.2/8.11.2) id g5DLxi720304;
	Thu, 13 Jun 2002 23:59:44 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
Sender: pd@pubhealth.ku.dk
To: rolf@math.unb.ca
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: Bug in rnorm. (PR#1664)
References: <200206131936.VAA25196@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 13 Jun 2002 23:59:43 +0200
In-Reply-To: <200206131936.VAA25196@pubhealth.ku.dk>
Message-ID: <x2lm9ion5c.fsf@blueberry.kubism.ku.dk>
Lines: 39
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

rolf@math.unb.ca writes:

> There appears to be a mild bug, or at least a deficiency, in
> rnorm.  The bug becomes apparent when one looks at extremes
> of the squares of the values generated by rnorm; rnorm is not
> generating quite enough extreme values.
> 
> The R version that I am using is 1.4.1; I never got around to installing
> 1.5.0, and now since 1.5.1 is about to come out ....  However, checking
> the 1.5.0 release notes revealed no mention of fixing a bug in rnorm.

...and I see the effect too with an r-patched from a few days back.


[snip]
> After some discussion with colleagues, I replaced the calls to rnorm()
> by calls to myrnorm() defined by
> 
> 	myrnorm <- function(n,mu=0,sigma=1){
> 		mu + sigma*cos(2*pi*runif(n))*sqrt(-2*log(runif(n)))
> 	}
> 
> which uses the ``(r,theta)'' method of generating random normals.
> 
> When I did so, the resulting values were indeed all ``close to'' 0.05,
> as they should be.
> 
> I also tried the experiment using rchisq(n,1) instead of rnorm(n) (and
> then of course taking m = max of x --- rather than max of x^2).  Again
> all the resulting values were close to 0.05 as ought to be the case.
> (So rchisq() appears to be OK in this regard.)

Also qnorm(runif(n)) seems to be closer to the target.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1664.reply.2 <==
From p.dalgaard@biostat.ku.dk  Fri Jun 14 00:39:40 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id AAA25799;
	Fri, 14 Jun 2002 00:39:40 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.2/8.11.2) id g5DMdZS21724;
	Fri, 14 Jun 2002 00:39:35 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
Sender: pd@pubhealth.ku.dk
To: rolf@math.unb.ca, R-bugs@biostat.ku.dk
Subject: Re: Bug in rnorm. (PR#1664)
References: <200206131936.VAA25196@pubhealth.ku.dk>
	<x2lm9ion5c.fsf@blueberry.kubism.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 14 Jun 2002 00:39:35 +0200
In-Reply-To: <x2lm9ion5c.fsf@blueberry.kubism.ku.dk>
Message-ID: <x23cvqst08.fsf@blueberry.kubism.ku.dk>
Lines: 27
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> rolf@math.unb.ca writes:
> 
> > There appears to be a mild bug, or at least a deficiency, in
> > rnorm.  The bug becomes apparent when one looks at extremes
> > of the squares of the values generated by rnorm; rnorm is not
> > generating quite enough extreme values.
> > 
> > The R version that I am using is 1.4.1; I never got around to installing
> > 1.5.0, and now since 1.5.1 is about to come out ....  However, checking
> > the 1.5.0 release notes revealed no mention of fixing a bug in rnorm.
> 
> ...and I see the effect too with an r-patched from a few days back.

No I do not! My quick check code took the square of the max rather
than the max of the square...

With your script, I get a nice horizontal line both with 1.4.0 and
1.5.0-patched.

(RedHat Linux 7.1 on a PC) 
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1664.followup.1 <==
From dmurdoch@pair.com  Fri Jun 14 03:03:58 2002
Received: from tomts22-srv.bellnexxia.net (tomts22.bellnexxia.net [209.226.175.184])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id DAA26095;
	Fri, 14 Jun 2002 03:03:57 +0200 (MET DST)
Received: from djmfuj ([216.209.253.120]) by tomts22-srv.bellnexxia.net
          (InterMail vM.5.01.04.19 201-253-122-122-119-20020516) with SMTP
          id <20020614010315.TTYC25645.tomts22-srv.bellnexxia.net@djmfuj>;
          Thu, 13 Jun 2002 21:03:15 -0400
From: Duncan Murdoch <dmurdoch@pair.com>
To: p.dalgaard@biostat.ku.dk
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: Bug in rnorm. (PR#1664)
Date: Thu, 13 Jun 2002 21:03:16 -0400
Message-ID: <vueigucgpfqqvp7p8smsnn29cvgit5icka@4ax.com>
References: <200206132239.AAA25804@pubhealth.ku.dk>
In-Reply-To: <200206132239.AAA25804@pubhealth.ku.dk>
X-Mailer: Forte Agent 1.91/32.564
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

On Fri, 14 Jun 2002 00:39:58 +0200 (MET DST), p.dalgaard@biostat.ku.dk
wrote:

>With your script, I get a nice horizontal line both with 1.4.0 and
>1.5.0-patched.
>
>(RedHat Linux 7.1 on a PC) 

I get what Rolf described in 1.5.0-patched for Windows with the
default generators: 

RNGkind()
[1] "Marsaglia-Multicarry" "Kinderman-Ramage"  

I switched to the Ahrens-Dieter normal RNG (using
RNGkind(,'Ahrens-Dieter')), and things were fine.  

Keeping the default normal generator but switching to the
Mersenne-Twister uniform also fixed it:

> RNGkind()
[1] "Mersenne-Twister" "Kinderman-Ramage"

Is it possible you're not using the default generators?  If you are,
this is quite weird, because we're on the same hardware.  Why would
the OS or compiler matter in a calculation like this??

Duncan Murdoch

==> 1664.followup.2 <==
From ripley@stats.ox.ac.uk  Fri Jun 14 09:24:08 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id JAA27314;
	Fri, 14 Jun 2002 09:24:07 +0200 (MET DST)
From: ripley@stats.ox.ac.uk
Received: from gannet.stats (gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id IAA18202;
	Fri, 14 Jun 2002 08:23:26 +0100 (BST)
Date: Fri, 14 Jun 2002 08:23:26 +0100 (BST)
X-X-Sender:  <ripley@gannet.stats>
To: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
cc: <rolf@math.unb.ca>, <R-bugs@biostat.ku.dk>
Subject: Re: Bug in rnorm. (PR#1664)
In-Reply-To: <x2lm9ion5c.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.31.0206140821280.6308-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

R supplies a choice of random-number generators as well as a choice of
generating normals.  All methods are compromises, and I suspect one of the
non-default ones may be better for your purposes.  Please investigate the
choices.


On 13 Jun 2002, Peter Dalgaard BSA wrote:

> rolf@math.unb.ca writes:
>
> > There appears to be a mild bug, or at least a deficiency, in
> > rnorm.  The bug becomes apparent when one looks at extremes
> > of the squares of the values generated by rnorm; rnorm is not
> > generating quite enough extreme values.
> >
> > The R version that I am using is 1.4.1; I never got around to installing
> > 1.5.0, and now since 1.5.1 is about to come out ....  However, checking
> > the 1.5.0 release notes revealed no mention of fixing a bug in rnorm.
>
> ...and I see the effect too with an r-patched from a few days back.
>
>
> [snip]
> > After some discussion with colleagues, I replaced the calls to rnorm()
> > by calls to myrnorm() defined by
> >
> > 	myrnorm <- function(n,mu=0,sigma=1){
> > 		mu + sigma*cos(2*pi*runif(n))*sqrt(-2*log(runif(n)))
> > 	}
> >
> > which uses the ``(r,theta)'' method of generating random normals.
> >
> > When I did so, the resulting values were indeed all ``close to'' 0.05,
> > as they should be.
> >
> > I also tried the experiment using rchisq(n,1) instead of rnorm(n) (and
> > then of course taking m = max of x --- rather than max of x^2).  Again
> > all the resulting values were close to 0.05 as ought to be the case.
> > (So rchisq() appears to be OK in this regard.)
>
> Also qnorm(runif(n)) seems to be closer to the target.
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1664.reply.3 <==
From p.dalgaard@biostat.ku.dk  Fri Jun 14 10:14:33 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA28084;
	Fri, 14 Jun 2002 10:14:33 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.2/8.11.2) id g5E8EUI22113;
	Fri, 14 Jun 2002 10:14:30 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
Sender: pd@pubhealth.ku.dk
To: Duncan Murdoch <dmurdoch@pair.com>
Cc: p.dalgaard@biostat.ku.dk, r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: Bug in rnorm. (PR#1664)
References: <200206132239.AAA25804@pubhealth.ku.dk>
	<vueigucgpfqqvp7p8smsnn29cvgit5icka@4ax.com>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 14 Jun 2002 10:14:29 +0200
In-Reply-To: <vueigucgpfqqvp7p8smsnn29cvgit5icka@4ax.com>
Message-ID: <x27kl2cm56.fsf@blueberry.kubism.ku.dk>
Lines: 101
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Duncan Murdoch <dmurdoch@pair.com> writes:

> On Fri, 14 Jun 2002 00:39:58 +0200 (MET DST), p.dalgaard@biostat.ku.dk
> wrote:
> 
> >With your script, I get a nice horizontal line both with 1.4.0 and
> >1.5.0-patched.
> >
> >(RedHat Linux 7.1 on a PC) 
> 
> I get what Rolf described in 1.5.0-patched for Windows with the
> default generators: 
> 
> RNGkind()
> [1] "Marsaglia-Multicarry" "Kinderman-Ramage"  
> 
> I switched to the Ahrens-Dieter normal RNG (using
> RNGkind(,'Ahrens-Dieter')), and things were fine.  
> 
> Keeping the default normal generator but switching to the
> Mersenne-Twister uniform also fixed it:
> 
> > RNGkind()
> [1] "Mersenne-Twister" "Kinderman-Ramage"
> 
> Is it possible you're not using the default generators?  If you are,
> this is quite weird, because we're on the same hardware.  Why would
> the OS or compiler matter in a calculation like this??
> 
> Duncan Murdoch
> 

Now this is pretty darn odd....

This is what happened to me yesterday with 1.4.0:

[Previously saved workspace restored]

> m <- sapply(1:1000, function(i)max(rnorm(1500)^2))
> sum( 1 - pchisq(m,1)^1500 < .05)
[1] 39
> m <- sapply(1:1000, function(i)max(rnorm(1500)^2))
> sum( 1 - pchisq(m,1)^1500 < .05)
[1] 37
> m <- sapply(1:1000, function(i)max(rnorm(1500)^2))
> sum( 1 - pchisq(m,1)^1500 < .05)
[1] 63
> m <- sapply(1:1000, function(i)max(rnorm(1500)^2))
> sum( 1 - pchisq(m,1)^1500 < .05)
[1] 50
> m <- sapply(1:1000, function(i)max(rnorm(1500)^2))
> sum( 1 - pchisq(m,1)^1500 < .05)
[1] 51
> m <- sapply(1:1000, function(i)max(rnorm(1500)^2))
> sum( 1 - pchisq(m,1)^1500 < .05)
[1] 51

This morning, I get

> RNGkind()
[1] "Marsaglia-Multicarry" "Kinderman-Ramage"    
> m <- sapply(1:1000, function(i)max(rnorm(1500)^2))
> sum( 1 - pchisq(m,1)^1500 < .05)
[1] 27
> m <- sapply(1:1000, function(i)max(rnorm(1500)^2))
> sum( 1 - pchisq(m,1)^1500 < .05)
[1] 23
> m <- sapply(1:1000, function(i)max(rnorm(1500)^2))
> sum( 1 - pchisq(m,1)^1500 < .05)
[1] 29
> m <- sapply(1:1000, function(i)max(rnorm(1500)^2))
> sum( 1 - pchisq(m,1)^1500 < .05)
[1] 29

with the SAME version of R. The only difference is the startup
directory, and hence the saved workspace. This contains:

> ls(all=T)
[1] ".Random.seed" "x"            "y"           
> .Random.seed
[1]     0 25300 11635 10783

..whereas 1.5.0 which now again shows trouble has

>  .Random.seed
[1]         1 196857153 319227924

and 1.4.0 in a clean dir has this after a few iterations of the above

>  .Random.seed
[1]          1 1297109091   47580530


Oho! I think I get it: the "1" in the seed actually *defines* the RNG,
no matter what RNGkind() is telling me??

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1664.audit <==
Fri Jun 14 17:43:33 2002	pd	changed notes
Fri Jun 14 17:43:33 2002	pd	foobar
Fri Jun 14 17:43:33 2002	pd	moved from incoming to Accuracy
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2214 *
Subject: qgamma precision
From: terra@diku.dk
Date: Fri, 25 Oct 2002 16:50:17 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2214 <==
From terra@diku.dk  Fri Oct 25 16:50:17 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA13654
	for <R-bugs@biostat.ku.dk>; Fri, 25 Oct 2002 16:50:17 +0200 (MET DST)
Date: Fri, 25 Oct 2002 16:50:17 +0200 (MET DST)
From: terra@diku.dk
Message-Id: <200210251450.QAA13654@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: qgamma precision

Full_Name: Morten Welinder
Version: 1.5.1
OS: Solaris
Submission from: (NULL) (65.213.85.136)


I was having problems with qgamma's precision in the sense that
pgamma(qpgamma(x))
was not as close to the identity function as I would like.  I was seeing
relative
errors with random input of about 1e-8.  This fits nicely with the code'd EPS2
value of 5e-7.

To solve this I added a newton step at the end.  This seems far cheaper than
the
current iterations.  Here's the code I added (to replace the final return):


    /* Special Gnumeric patch to improve precision.  */
    {
	gnum_float x0 = 0.5*scale*ch;
	gnum_float e0 = pgamma (x0, alpha, scale, lower_tail, log_p) - p;

	if (e0 != 0 && lower_tail && !log_p) {
	    gnum_float d0 = dgamma (x0, alpha, scale, log_p);
	    if (d0) {
		gnum_float x1 = x0 - e0 / d0;
		gnum_float e1 = pgamma (x1, alpha, scale, lower_tail, log_p) - p;
		if (gnumabs (e1) < gnumabs (e0))
		    x0 = x1;
	    }
	}

	return x0;
    }

(Just read "gnum_float" as "double" and "gnumabs" as "fabs".)

The test for lower_tail is because (a) that is where I use it, and (b) the d0
calculation is probably wrong otherwise.

With this change, the relative precision improves to something like 1e-15.


==> 2214.audit <==
Sun Oct 27 08:33:47 2002	ripley	moved from incoming to Accuracy
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Add-ons

* PR# 974 *
Subject: Lattice: panel.superpose with ordered factor groups
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
--The warning is standard S and R behaviour.
--Probably xyplot needs to avoid it (by unclassing?)
--Still there in lattice 0.3-0, 0.6-8
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 974 <==
From postmaster@franz.stat.wisc.edu  Sat Jun  9 03:09:10 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id DAA20814
	for <r-bugs@biostat.ku.dk>; Sat, 9 Jun 2001 03:09:09 +0200 (MET DST)
Received: from leonard.anu.edu.au (really [150.203.2.15]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m158XFN-000JbdC@franz.stat.wisc.edu> (Debian Smail3.2.0.111)
	for <r-bugs@r-project.org>; Fri, 8 Jun 2001 20:09:01 -0500 (CDT) 
Received: (from u9801539@localhost)
	by leonard.anu.edu.au (8.9.3/8.9.3) id LAA01081;
	Sat, 9 Jun 2001 11:08:51 +1000 (EST)
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
From: John Maindonald <john.maindonald@anu.edu.au>
Message-Id: <200106090108.LAA01081@leonard.anu.edu.au>
To: r-bugs@r-project.org
Subject: Lattice: panel.superpose with ordered factor groups
Cc: deepayan@stat.wisc.edu


#       r-bugs@r-project.org
The panel.superpose() function for xyplot() complains when 
the groups parameter is set to be an ordered factor.

> library(mass)
> data(cabbages)
> library(lattice)
> xyplot(HeadWt~VitC|Cult, panel=panel.superpose,
+   groups=Date, data=cabbages)
> cabbages$Date <- ordered(cabbages$Date)  # Make Date an ordered factor
> xyplot(HeadWt~VitC|Cult, panel=panel.superpose,
+   groups=Date, data=cabbages)
Warning messages: 
1: Incompatible methods ("Ops.ordered", "Ops.factor") for "==" 
2: Incompatible methods ("Ops.ordered", "Ops.factor") for "==" 
3: Incompatible methods ("Ops.ordered", "Ops.factor") for "==" 
4: Incompatible methods ("Ops.ordered", "Ops.factor") for "==" 
5: Incompatible methods ("Ops.ordered", "Ops.factor") for "==" 
6: Incompatible methods ("Ops.ordered", "Ops.factor") for "==" 

--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 2.3
 year = 2001
 month = 04
 day = 26
 language = R

Windows ME 4.90 (build 3000)  

Search Path:
 .GlobalEnv, package:grid, package:lattice, package:mass, package:ctest, Autoloads, package:base
John Maindonald            email: john.maindonald@anu.edu.au        
phone : (6125)3998         fax   : (6125)5549 
Statistical Consulting Unit, Room 1194,
John Dedman Mathematical Sciences Building
(Centre for Mathematics & Its Applications.)

==> 974.audit <==
Sun Jun 17 09:39:36 2001	ripley	changed notes
Sun Jun 17 09:39:36 2001	ripley	foobar
Sun Jun 17 09:39:36 2001	ripley	moved from incoming to Add-ons
Sun Sep 30 15:13:56 2001	ripley	changed notes
Sun Sep 30 15:13:56 2001	ripley	foobar
Wed Jan  8 11:14:52 2003	ripley	changed notes
Wed Jan  8 11:14:52 2003	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1361 *
Subject: Matrix identification bug
From: hyu@stats.uwo.ca
Date: Tue, 5 Mar 2002 21:19:46 +0100 (MET)
--seems to be about Matrix package, not solve
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1361 <==
From hyu@stats.uwo.ca  Tue Mar  5 21:19:46 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id VAA08030
	for <R-bugs@biostat.ku.dk>; Tue, 5 Mar 2002 21:19:46 +0100 (MET)
Date: Tue, 5 Mar 2002 21:19:46 +0100 (MET)
From: hyu@stats.uwo.ca
Message-Id: <200203052019.VAA08030@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: Matrix identification bug

Full_Name: Hao Yu
Version: 1.4.1
OS: Windws and Linux
Submission from: (NULL) (129.100.45.161)


Hi,
   Recently we did some benchmarks regarding matrix inverse operation and found
some strange things. See the following results (the package Matrix is most
updated).

1. load the function Toeplitz and library(Matrix)
"Toeplitz"
function(x)
{
        matrix(x[1 + abs(outer(seq(along = x), seq(along = x), FUN = "-"))], 
                byrow = T, ncol = length(x))
}
2. On a PIII 1.125GHz (256kb cache)desktop PC with win2k, the results are
> system.time(solve(Toeplitz(.5^seq(0,999))))
[1] 38.25  0.22 42.01    NA    NA
> system.time(solve.Matrix(Toeplitz(.5^seq(0,999))))
[1] 28.01  0.17 30.94    NA    NA

On a PIII-M 1.2GHz (512kb cache) laptop PC with winxp pro, the results are
> system.time(solve(Toeplitz(.5^seq(0,999))))
[1] 33.94  0.25 34.01    NA    NA
> system.time(solve.Matrix(Toeplitz(.5^seq(0,999))))
[1] 9.40  0.13 9.54    NA    NA

On a PIII Xeon 1GHz (256kb cache) RedHat 7.2 Linux, the results are
> system.time(solve(Toeplitz(.5^seq(0,999))))
[1] 53.79  0.48 00.01    NA    NA
> system.time(solve.Matrix(Toeplitz(.5^seq(0,999))))
[1] 30.29  0.21 30.59    NA    NA

This was the first time that windows R outperformed linux R even PIII Xeon 1GHz
is slightly faster than PIII 1.125GHz. Notice the abnormal result 9.4s from
PIII-M 1.2GHz (cannot be three times faster). After using native fortran lapack
(call to dpotrf and dpotri returns 9s for PIII Xeon), I realized that R may
treat the matrix as a general matrix rather than symmetric except the abnormal
case.  To confirm this, I modified the R_LapackPP.cc in Matrix package and it
turned out that
    is.MMatrix() failed to return true.
Hence 
        if (checkClass(classes, "Hermitian")) 
            return new LaSymmMatDouble(x);
is not executed in static LaMatDouble* asLaMatrix(SEXP x). Instead
    if (isMatrix(x)) {
            return new LaGenMatDouble(x);  
        }
is used. 
After replaced
    return new LaGenMatDouble(x);   
with 
    return new LaSymmMatDouble(x);

the result was (PIII Xeon 1GHz RedHat 7.2 Linux))
> system.time(solve.Matrix(Toeplitz(.5^seq(0,999))))
[1] 9.76 0.22 9.97 0.00 0.00

Clearly there are some bugs in solve() and solve.Matrix(). Notice that all have
> is.Hermitian(Toeplitz(.5^seq(0,999)))
[1] TRUE


Thanks 
Hao Yu


==> 1361.followup.1 <==
From ripley@stats.ox.ac.uk  Tue Mar  5 22:32:30 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA08212
	for <R-bugs@biostat.ku.dk>; Tue, 5 Mar 2002 22:32:30 +0100 (MET)
Received: from tern.stats (pc2-oxfo4-0-cust120.oxf.cable.ntl.com [62.254.131.120])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id VAA24644;
	Tue, 5 Mar 2002 21:31:57 GMT
Date: Tue, 5 Mar 2002 21:32:31 +0000 (GMT Standard Time)
From: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
To: hyu@stats.uwo.ca
cc: R-bugs@biostat.ku.dk
Subject: Re: [Rd] Matrix identification bug (PR#1361)
In-Reply-To: <200203052019.VAA08035@pubhealth.ku.dk>
Message-ID: <Pine.WNT.4.44.0203052125210.1136-100000@tern.stats>
Sender: ripley@stats.ox.ac.uk
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Tue, 5 Mar 2002 hyu@stats.uwo.ca wrote:

> Full_Name: Hao Yu
> Version: 1.4.1
> OS: Windws and Linux
> Submission from: (NULL) (129.100.45.161)

[...]

> the result was (PIII Xeon 1GHz RedHat 7.2 Linux))
> > system.time(solve.Matrix(Toeplitz(.5^seq(0,999))))
> [1] 9.76 0.22 9.97 0.00 0.00
>
> Clearly there are some bugs in solve() and solve.Matrix(). Notice that all have

Nothing in this report suggests a bug in solve().  Can you please provide
some evidence for your claim (which is not `clear' to me), and

> solve
function (a, b, ...)
UseMethod("solve")

seems hard to get wrong!  (It matters: solve is part of R: solve.Matrix is
a contributed addon.)

Incidentally, these sort of timings are crucially dependent on the BLAS
library used, and in my experience that is a far larger factor that the OS
used.  However, that was not part of the report ....

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1361.audit <==
Thu Mar  7 12:41:18 2002	ripley	changed notes
Thu Mar  7 12:41:18 2002	ripley	foobar
Thu Mar  7 12:41:18 2002	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1662 *
Subject: fisher.test FEXACT memory bug "should not occur"
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Thu, 13 Jun 2002 08:21:50 +0200
--The supplementary (table of sum one) is fixed for 1.5.1.
--Detection code for the first problem has been added to 1.5.1 which will stop
--the crash, but the underlying cause is still open.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1662 <==
From maechler@stat.math.ethz.ch  Thu Jun 13 08:22:43 2002
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id IAA16033
	for <R-bugs@biostat.ku.dk>; Thu, 13 Jun 2002 08:22:42 +0200 (MET DST)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id IAA01485
	for <r-bugs@hypatia>; Thu, 13 Jun 2002 08:21:35 +0200 (MET DST)
Received: from lynne(129.132.58.30), claiming to be "lynne.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa000Jg; Thu Jun 13 08:21:26 2002
Received: (from maechler@localhost)
	by lynne.ethz.ch (8.11.6/8.11.2) id g5D6LoC13482;
	Thu, 13 Jun 2002 08:21:50 +0200
X-Authentication-Warning: lynne.ethz.ch: maechler set sender to maechler@stat.math.ethz.ch using -f
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15624.14846.214663.363944@gargle.gargle.HOWL>
Date: Thu, 13 Jun 2002 08:21:50 +0200
To: R-bugs@stat.math.ethz.ch
Subject: fisher.test FEXACT memory bug "should not occur"
X-Mailer: VM 7.07 under Emacs 20.7.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>

This is a bad bug as reported by Robin Hankin,
it is still in "R-patched" ...

##- From: Robin Hankin <r.hankin@auckland.ac.nz>
##- To: r-help@stat.math.ethz.ch
##- Subject: [R] possum sleeping: thanks and fisher.test() FEXACT error
##- Date: Thu, 13 Jun 2002 16:46:26 +1200

## .....

## Example slighlty modified (MM)

d4 <- matrix(c(0, 0, 0, 0, 0,  0, 3, 0, 1, 0,  0, 0, 0, 0, 0,
               1, 0, 0, 0, 0,  1, 0, 0, 2, 0,  0, 0, 1, 0, 0,
               0, 1, 0, 1, 0,  4, 0, 2, 0, 0,  0, 1, 0, 0, 0,  0, 0, 0, 0, 0,
               0, 1, 0, 0, 2,  0, 0, 0, 2, 2,  0, 1, 0, 0, 0,
               0, 0, 1, 1, 0,  0, 0, 0, 0, 0,  0, 1, 0, 0, 0,
               1, 0, 0, 0, 2,  0, 0, 0, 3, 0,  0, 0, 0, 0, 1,  0, 0, 0, 0, 0,
               2, 0, 0, 0, 0,  0, 0, 0, 0, 0,  0, 0, 1, 0, 1,
               0, 0, 0, 0, 2,  0, 0, 0, 0, 8,  0, 0, 0, 3, 0,
               0, 0, 0, 0, 0,  0, 0, 0, 0, 0,  0, 0, 0, 0, 0,  0, 0, 0, 0, 1,
               0, 0, 1, 0, 0,  0, 0, 0, 0, 0,  2, 0, 0, 1, 0,
               0, 2, 0, 0, 0,  0, 2, 0, 0, 1,  3, 0, 0, 0, 0,
               0, 0, 0, 0, 0,  0, 0, 0, 0, 1,  0, 0, 1, 0, 0,  4, 0, 0, 0, 0),
             nr=50)

fisher.test(d4)
##- Error in fisher.test(alldata[, 2:5]) : FEXACT error 30.
##- Stack length exceeded in f3xact.
##- This problem should not occur.


==> 1662.followup.1 <==
From ligges@amadeus.statistik.uni-dortmund.de  Thu Jun 13 08:58:58 2002
Received: from nx5.HRZ.Uni-Dortmund.DE (nx5.HRZ.Uni-Dortmund.DE [129.217.131.21])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id IAA16332
	for <R-bugs@biostat.ku.dk>; Thu, 13 Jun 2002 08:58:57 +0200 (MET DST)
Received: from amadeus.statistik.uni-dortmund.de by nx5.HRZ.Uni-Dortmund.DE
          via smtp-local with ESMTP; Thu, 13 Jun 2002 08:56:18 +0200
Received: from statistik.uni-dortmund.de ([129.217.207.201])
	by amadeus.statistik.uni-dortmund.de (8.11.6+Sun/8.11.6) with ESMTP id g5D6uH708478;
	Thu, 13 Jun 2002 08:56:18 +0200 (MET DST)
Message-ID: <3D084237.3F455ED2@statistik.uni-dortmund.de>
Date: Thu, 13 Jun 2002 08:56:55 +0200
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Organization: Fachbereich Statistik, Universitaet Dortmund
X-Mailer: Mozilla 4.79 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: maechler@stat.math.ethz.ch
CC: R-bugs@biostat.ku.dk
Subject: Re: fisher.test FEXACT memory bug "should not occur" (PR#1662)
References: <200206130622.IAA16038@pubhealth.ku.dk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

maechler@stat.math.ethz.ch wrote:
> 
> This is a bad bug as reported by Robin Hankin,
> it is still in "R-patched" ...
> 
> ##- From: Robin Hankin <r.hankin@auckland.ac.nz>
> ##- To: r-help@stat.math.ethz.ch
> ##- Subject: [R] possum sleeping: thanks and fisher.test() FEXACT error
> ##- Date: Thu, 13 Jun 2002 16:46:26 +1200
> 
> ## .....
> 
> ## Example slighlty modified (MM)
> 
> d4 <- matrix(c(0, 0, 0, 0, 0,  0, 3, 0, 1, 0,  0, 0, 0, 0, 0,
>                1, 0, 0, 0, 0,  1, 0, 0, 2, 0,  0, 0, 1, 0, 0,
>                0, 1, 0, 1, 0,  4, 0, 2, 0, 0,  0, 1, 0, 0, 0,  0, 0, 0, 0, 0,
>                0, 1, 0, 0, 2,  0, 0, 0, 2, 2,  0, 1, 0, 0, 0,
>                0, 0, 1, 1, 0,  0, 0, 0, 0, 0,  0, 1, 0, 0, 0,
>                1, 0, 0, 0, 2,  0, 0, 0, 3, 0,  0, 0, 0, 0, 1,  0, 0, 0, 0, 0,
>                2, 0, 0, 0, 0,  0, 0, 0, 0, 0,  0, 0, 1, 0, 1,
>                0, 0, 0, 0, 2,  0, 0, 0, 0, 8,  0, 0, 0, 3, 0,
>                0, 0, 0, 0, 0,  0, 0, 0, 0, 0,  0, 0, 0, 0, 0,  0, 0, 0, 0, 1,
>                0, 0, 1, 0, 0,  0, 0, 0, 0, 0,  2, 0, 0, 1, 0,
>                0, 2, 0, 0, 0,  0, 2, 0, 0, 1,  3, 0, 0, 0, 0,
>                0, 0, 0, 0, 0,  0, 0, 0, 0, 1,  0, 0, 1, 0, 0,  4, 0, 0, 0, 0),
>              nr=50)
> 
> fisher.test(d4)
> ##- Error in fisher.test(alldata[, 2:5]) : FEXACT error 30.
> ##- Stack length exceeded in f3xact.
> ##- This problem should not occur.

Just for the record:
  repeat try(fisher.test(d4))
results in a crash after a few iterations (R-1.5.0 patched on WinNT
4.0).

Uwe Ligges

==> 1662.reply.1 <==
From maechler@stat.math.ethz.ch  Thu Jun 13 12:17:02 2002
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id MAA19850
	for <R-bugs@biostat.ku.dk>; Thu, 13 Jun 2002 12:17:01 +0200 (MET DST)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id MAA05039;
	Thu, 13 Jun 2002 12:15:37 +0200 (MET DST)
Received: from lynne(129.132.58.30), claiming to be "lynne.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa001Eg; Thu Jun 13 12:15:28 2002
Received: (from maechler@localhost)
	by lynne.ethz.ch (8.11.6/8.11.2) id g5DAFsK19920;
	Thu, 13 Jun 2002 12:15:54 +0200
X-Authentication-Warning: lynne.ethz.ch: maechler set sender to maechler@stat.math.ethz.ch using -f
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15624.28889.858685.234909@gargle.gargle.HOWL>
Date: Thu, 13 Jun 2002 12:15:53 +0200
To: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
Cc: R-bugs@stat.math.ethz.ch, R-core@stat.math.ethz.ch
Subject: Re: bad fisher.test() bug (PR#1662)
In-Reply-To: <Pine.GSO.4.44.0206131000030.1025-100000@auk.stats>
References: <15624.23861.930057.723845@gargle.gargle.HOWL>
	<Pine.GSO.4.44.0206131000030.1025-100000@auk.stats>
X-Mailer: VM 7.07 under Emacs 20.7.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>

(CC'ed to R-bugs  ``for the record'')

>>>>> "BDR" == Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:

    BDR> On Thu, 13 Jun 2002, Martin Maechler wrote:
    >> >>>>> "MM" == Martin Maechler
    >> <maechler@stat.math.ethz.ch> writes:
    >> 
    >> >>>>> "BDR" == Brian D Ripley <ripley@stats.ox.ac.uk>
    >> writes:
    BDR> Martin, What makes this a `bad bug'?  Are you getting a
    BDR> seg fault?
    >>
    MM> yes, always in the half a dozen restarts I tried.
    >>  (in the mean time I had one case where it did not ..)
    >> 
    BDR> Like Uwe this works for me the first few times and I do
    BDR> then get a backtrace (in memory.c, so this is almost
    BDR> certainly an earlier overrun).
    >>
    MM> I see.  This has been different for me.
    >>
    BDR> I think we've had problems before with FEXACT
    BDR> incorrectly specifying the required sizes of its
    BDR> workspaces.
    >>  (I'm not so sure this is the problem here.)
    >> 
    >> I found that
    >> 
    >> fisher.test(d4[1:30,])
    >> 
    >> gives a direct segmentation fault (without any error
    >> message) for me.
    >> 

    BDR> I've had to compile up gdb 5.2 to get the correct
    BDR> information out of R on Linux compiled under gcc-3.1.
    BDR> That shows (on the original problem)

    BDR> Loaded symbols for
    BDR> /users/ripley/R/R-patched/library/ctest/libs/ctest.so
    BDR> #0 f3xact (nrow=0x40051074, irow=0x4005113c,
    BDR> ncol=0x40051000, icol=0x40051120, dlp=0x4041b110,
    BDR> mm=0x40050fc0, fact=0x4035f020, ico=0x4035f4dc,
    BDR> iro=0x4035f5a4, it=0x4035f66c, lb=0x4035f734,
    BDR> nr=0x4035f7fc, nt=0x4035f8c4, nu=0x4035f98c,
    BDR> itc=0x4035fa54, ist=0x40360094, stv=0x40364f18,
    BDR> alen=0x40365ba0, tol=0x4004f878) at
    BDR> /users/ripley/R/cvs/R-patched/src/library/ctest/src/fexact.c:1125
    BDR> 1125 ist[itp] = -1; (gdb) print itp $1 = -3544

    BDR> The same with your variant (except the value of itp).

Okay, I found a much smaller table  --- and a different place
for the seg.fault :
> fisher.test(cbind(0,c(0,0,1)))

Program received signal SIGSEGV, Segmentation fault.
f2xact (nrow=0x8a12ec0, ncol=0x8a12ee0, table=0x8b7bb38, ldtabl=0x8a12f00, 
    expect=0x89dad68, percnt=0x89dad90, emin=0x89dadb8, prt=0x89dade0, 
    pre=0x89dae08, fact=0x403b3020, ico=0x403b302c, iro=0x403b3038, 
    kyy=0x403b3044, idif=0x403b3050, irn=0x403b3058, key=0x403b49d4, 
    ldkey=0xbfffc398, ipoin=0x403b5d44, stp=0x403b70b0, ldstp=0xbfffc39c, 
    ifrq=0x403ffef4, dlp=0x4046d450, dsp=0x4046fb30, tm=0x40472210, 
    key2=0x404748f4, iwk=0x403b3060, rwk=0x403b3d30)
    at ../../../../../R/src/library/ctest/src/fexact.c:524
524		obs += fact[ico[j]] - dd;

Martin



==> 1662.followup.2 <==
From ripley@stats.ox.ac.uk  Thu Jun 13 13:16:27 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id NAA20855
	for <R-bugs@biostat.ku.dk>; Thu, 13 Jun 2002 13:16:27 +0200 (MET DST)
Received: from auk.stats (pc1-oxfd1-4-cust16.oxf.cable.ntl.com [62.254.131.16])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id MAA15227;
	Thu, 13 Jun 2002 12:15:44 +0100 (BST)
Date: Thu, 13 Jun 2002 12:14:46 +0100 (BST)
From: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
Sender: ripley@auk.stats
To: maechler@stat.math.ethz.ch
cc: R-bugs@biostat.ku.dk, <r.hankin@auckland.ac.nz>
Subject: Re: fisher.test FEXACT memory bug "should not occur" (PR#1662)
In-Reply-To: <200206130622.IAA16038@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.44.0206131210510.16576-100000@auk.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

This occurred because integer overflow was giving negative keys.

Append the following line at line 1083 of fexact.c

      if (ipn < 1) ipn += ldst; /* because key might be negative */


> fisher.test(d4)

      Fisher's Exact Test for Count Data

data:  d4
p-value = < 2.2e-16
alternative hypothesis: two.sided



On Thu, 13 Jun 2002 maechler@stat.math.ethz.ch wrote:

> This is a bad bug as reported by Robin Hankin,
> it is still in "R-patched" ...
>
> ##- From: Robin Hankin <r.hankin@auckland.ac.nz>
> ##- To: r-help@stat.math.ethz.ch
> ##- Subject: [R] possum sleeping: thanks and fisher.test() FEXACT error
> ##- Date: Thu, 13 Jun 2002 16:46:26 +1200
>
> ## .....
>
> ## Example slighlty modified (MM)
>
> d4 <- matrix(c(0, 0, 0, 0, 0,  0, 3, 0, 1, 0,  0, 0, 0, 0, 0,
>                1, 0, 0, 0, 0,  1, 0, 0, 2, 0,  0, 0, 1, 0, 0,
>                0, 1, 0, 1, 0,  4, 0, 2, 0, 0,  0, 1, 0, 0, 0,  0, 0, 0, 0, 0,
>                0, 1, 0, 0, 2,  0, 0, 0, 2, 2,  0, 1, 0, 0, 0,
>                0, 0, 1, 1, 0,  0, 0, 0, 0, 0,  0, 1, 0, 0, 0,
>                1, 0, 0, 0, 2,  0, 0, 0, 3, 0,  0, 0, 0, 0, 1,  0, 0, 0, 0, 0,
>                2, 0, 0, 0, 0,  0, 0, 0, 0, 0,  0, 0, 1, 0, 1,
>                0, 0, 0, 0, 2,  0, 0, 0, 0, 8,  0, 0, 0, 3, 0,
>                0, 0, 0, 0, 0,  0, 0, 0, 0, 0,  0, 0, 0, 0, 0,  0, 0, 0, 0, 1,
>                0, 0, 1, 0, 0,  0, 0, 0, 0, 0,  2, 0, 0, 1, 0,
>                0, 2, 0, 0, 0,  0, 2, 0, 0, 1,  3, 0, 0, 0, 0,
>                0, 0, 0, 0, 0,  0, 0, 0, 0, 1,  0, 0, 1, 0, 0,  4, 0, 0, 0, 0),
>              nr=50)
>
> fisher.test(d4)
> ##- Error in fisher.test(alldata[, 2:5]) : FEXACT error 30.
> ##- Stack length exceeded in f3xact.
> ##- This problem should not occur.
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1662.followup.3 <==
From ripley@stats.ox.ac.uk  Thu Jun 13 17:57:14 2002
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id RAA24468
	for <R-bugs@biostat.ku.dk>; Thu, 13 Jun 2002 17:57:14 +0200 (MET DST)
From: ripley@stats.ox.ac.uk
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id RAA20365;
	Thu, 13 Jun 2002 17:56:07 +0200 (MET DST)
Received: from toucan.stats.ox.ac.uk(163.1.20.20)
 via SMTP by hypatia, id smtpdAAAa004wF; Thu Jun 13 17:55:59 2002
Received: from gannet.stats (gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id QAA16075;
	Thu, 13 Jun 2002 16:56:21 +0100 (BST)
Date: Thu, 13 Jun 2002 16:56:20 +0100 (BST)
X-X-Sender:  <ripley@gannet.stats>
To: Martin Maechler <maechler@stat.math.ethz.ch>
cc: <R-bugs@stat.math.ethz.ch>
Subject: Re: bad fisher.test() bug (PR#1662)
In-Reply-To: <15624.28889.858685.234909@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.31.0206131654050.2219-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Thu, 13 Jun 2002, Martin Maechler wrote:

> Okay, I found a much smaller table  --- and a different place
> for the seg.fault :
> > fisher.test(cbind(0,c(0,0,1)))


That one is easy:  You (MM) have calculated fact[2], but fact is only of
length 2 (for values 0 and 1), so ico gets overwritten.

I now suspect that my fix for the original bug is merely a fix for a
symptom, so am going to replace it by an error message.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1662.audit <==
Thu Jun 13 19:15:42 2002	ripley	changed notes
Thu Jun 13 19:15:42 2002	ripley	foobar
Thu Jun 13 19:15:42 2002	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1729 *
Subject: problem with qq( )
From: Jarno.Tuimala@Helsinki.Fi
Date: Tue, 2 Jul 2002 10:37:10 +0200 (MET DST)
--A report on lattice
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1729 <==
From Jarno.Tuimala@Helsinki.Fi  Tue Jul  2 10:37:11 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA28248
	for <R-bugs@biostat.ku.dk>; Tue, 2 Jul 2002 10:37:10 +0200 (MET DST)
Date: Tue, 2 Jul 2002 10:37:10 +0200 (MET DST)
From: Jarno.Tuimala@Helsinki.Fi
Message-Id: <200207020837.KAA28248@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: problem with qq( )

Full_Name: Jarno Tuimala
Version: 1.5.0
OS: Windows Nt
Submission from: (NULL) (193.166.1.21)


Running the following analysis gives as a result kukot vs. kisut.

aikaero <- -27.5+5*(0:10)
frekvenssi.m <- c(0,1,15,37,53,45,23,18,4,1,1)
frekvenssi.n <- c(2,8,12,19,33,47,42,15,2,1,0)
win.graph()
aikaero <- rep(c(aikaero,aikaero), c(frekvenssi.m,frekvenssi.n))
 a.ero <- data.frame(aikaero,
            sukupuoli=rep(c("kukot","kisut"),
                          c(sum(frekvenssi.m),sum(frekvenssi.n))))
    qq(sukupuoli ~ aikaero, data=a.ero)

However, running the following analysis, gives miehet vs. miehet.

 aikaero <- -27.5+5*(0:10)
 frekvenssi.m <- c(0,1,15,37,53,45,23,18,4,1,1)
 frekvenssi.n <- c(2,8,12,19,33,47,42,15,2,1,0)
 win.graph()
 aikaero <- rep(c(aikaero,aikaero), c(frekvenssi.m,frekvenssi.n))
 a.ero <- data.frame(aikaero,
        sukupuoli=rep(c("miehet","naiset"),
                      c(sum(frekvenssi.m),sum(frekvenssi.n))))
     qq(sukupuoli ~ aikaero, data=a.ero)

This seems to happen everytime "sukupuoli" contains one variable name, which
starts with a letter "n". If both names start with "n" or other letters the
results is miehet vs naiset as expected.

So this works fine:

a.ero <- data.frame(aikaero,
        sukupuoli=rep(c("nisset","naiset"),
                      c(sum(frekvenssi.m),sum(frekvenssi.n))))
     qq(sukupuoli ~ aikaero, data=a.ero)

And this also:

a.ero <- data.frame(aikaero,
        sukupuoli=rep(c("miehet","maiset"),
                      c(sum(frekvenssi.m),sum(frekvenssi.n))))
     qq(sukupuoli ~ aikaero, data=a.ero)

Where's the problem?
 

==> 1729.followup.1 <==
From ripley@stats.ox.ac.uk  Tue Jul  2 11:19:02 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA28796
	for <R-bugs@biostat.ku.dk>; Tue, 2 Jul 2002 11:19:02 +0200 (MET DST)
From: ripley@stats.ox.ac.uk
Received: from gannet.stats (gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id KAA21799;
	Tue, 2 Jul 2002 10:18:19 +0100 (BST)
Date: Tue, 2 Jul 2002 10:18:18 +0100 (BST)
X-X-Sender:  <ripley@gannet.stats>
To: <Jarno.Tuimala@Helsinki.Fi>
cc: <r-devel@stat.math.ethz.ch>, <R-bugs@biostat.ku.dk>
Subject: Re: problem with qq( ) (PR#1729)
In-Reply-To: <200207020837.KAA28253@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0207021005500.25466-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

1) This is a report on the lattice package, and we both need you to
mention that and to give the version number of lattice that you used
to be sure of beeing able to reproduce this.

2) It seems that the plots are actually correct, just the labels are
wrong. You can correct that by specifying xlab and ylab in the call.

3) The error appears to be a typo:

    if (missing(ylab))
        ylab <- if (is.f.y)
            unique(levels(y))[y]
        else paste("y:", as.character(unique(levels(y)[[2]])))

should be [2] for consistency.

On Tue, 2 Jul 2002 Jarno.Tuimala@Helsinki.Fi wrote:

> Full_Name: Jarno Tuimala
> Version: 1.5.0
> OS: Windows Nt
> Submission from: (NULL) (193.166.1.21)
>
>
> Running the following analysis gives as a result kukot vs. kisut.
>
> aikaero <- -27.5+5*(0:10)
> frekvenssi.m <- c(0,1,15,37,53,45,23,18,4,1,1)
> frekvenssi.n <- c(2,8,12,19,33,47,42,15,2,1,0)
> win.graph()
> aikaero <- rep(c(aikaero,aikaero), c(frekvenssi.m,frekvenssi.n))
>  a.ero <- data.frame(aikaero,
>             sukupuoli=rep(c("kukot","kisut"),
>                           c(sum(frekvenssi.m),sum(frekvenssi.n))))
>     qq(sukupuoli ~ aikaero, data=a.ero)
>
> However, running the following analysis, gives miehet vs. miehet.
>
>  aikaero <- -27.5+5*(0:10)
>  frekvenssi.m <- c(0,1,15,37,53,45,23,18,4,1,1)
>  frekvenssi.n <- c(2,8,12,19,33,47,42,15,2,1,0)
>  win.graph()
>  aikaero <- rep(c(aikaero,aikaero), c(frekvenssi.m,frekvenssi.n))
>  a.ero <- data.frame(aikaero,
>         sukupuoli=rep(c("miehet","naiset"),
>                       c(sum(frekvenssi.m),sum(frekvenssi.n))))
>      qq(sukupuoli ~ aikaero, data=a.ero)
>
> This seems to happen everytime "sukupuoli" contains one variable name, which
> starts with a letter "n". If both names start with "n" or other letters the
> results is miehet vs naiset as expected.
>
> So this works fine:
>
> a.ero <- data.frame(aikaero,
>         sukupuoli=rep(c("nisset","naiset"),
>                       c(sum(frekvenssi.m),sum(frekvenssi.n))))
>      qq(sukupuoli ~ aikaero, data=a.ero)
>
> And this also:
>
> a.ero <- data.frame(aikaero,
>         sukupuoli=rep(c("miehet","maiset"),
>                       c(sum(frekvenssi.m),sum(frekvenssi.n))))
>      qq(sukupuoli ~ aikaero, data=a.ero)
>
> Where's the problem?
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1729.followup.2 <==
From deepayansarkar@yahoo.com  Mon Jul  8 19:44:52 2002
Received: from web13902.mail.yahoo.com (web13902.mail.yahoo.com [216.136.175.28])
	by pubhealth.ku.dk (8.9.3/8.9.1) with SMTP id TAA03638
	for <R-bugs@biostat.ku.dk>; Mon, 8 Jul 2002 19:44:51 +0200 (MET DST)
Message-ID: <20020708174408.63945.qmail@web13902.mail.yahoo.com>
Received: from [202.54.53.232] by web13902.mail.yahoo.com via HTTP; Mon, 08 Jul 2002 10:44:08 PDT
Date: Mon, 8 Jul 2002 10:44:08 -0700 (PDT)
From: Deepayan Sarkar <deepayansarkar@yahoo.com>
Subject: Re: problem with qq( ) (PR#1729)
To: R-bugs@biostat.ku.dk
In-Reply-To: <Pine.LNX.4.31.0207021005500.25466-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii


--- ripley@stats.ox.ac.uk wrote:
> 1) This is a report on the lattice package, and we both need you to
> mention that and to give the version number of lattice that you used
> to be sure of beeing able to reproduce this.
> 
> 2) It seems that the plots are actually correct, just the labels are
> wrong. You can correct that by specifying xlab and ylab in the call.
> 
> 3) The error appears to be a typo:
> 
>     if (missing(ylab))
>         ylab <- if (is.f.y)
>             unique(levels(y))[y]
>         else paste("y:", as.character(unique(levels(y)[[2]])))
> 
> should be [2] for consistency.


Thanks, fixed for future releases.


> On Tue, 2 Jul 2002 Jarno.Tuimala@Helsinki.Fi wrote:
> 
> > Full_Name: Jarno Tuimala
> > Version: 1.5.0
> > OS: Windows Nt
> > Submission from: (NULL) (193.166.1.21)
> >
> >
> > Running the following analysis gives as a result kukot vs. kisut.
> >
> > aikaero <- -27.5+5*(0:10)
> > frekvenssi.m <- c(0,1,15,37,53,45,23,18,4,1,1)
> > frekvenssi.n <- c(2,8,12,19,33,47,42,15,2,1,0)
> > win.graph()
> > aikaero <- rep(c(aikaero,aikaero), c(frekvenssi.m,frekvenssi.n))
> >  a.ero <- data.frame(aikaero,
> >             sukupuoli=rep(c("kukot","kisut"),
> >                           c(sum(frekvenssi.m),sum(frekvenssi.n))))
> >     qq(sukupuoli ~ aikaero, data=a.ero)
> >
> > However, running the following analysis, gives miehet vs. miehet.
> >
> >  aikaero <- -27.5+5*(0:10)
> >  frekvenssi.m <- c(0,1,15,37,53,45,23,18,4,1,1)
> >  frekvenssi.n <- c(2,8,12,19,33,47,42,15,2,1,0)
> >  win.graph()
> >  aikaero <- rep(c(aikaero,aikaero), c(frekvenssi.m,frekvenssi.n))
> >  a.ero <- data.frame(aikaero,
> >         sukupuoli=rep(c("miehet","naiset"),
> >                       c(sum(frekvenssi.m),sum(frekvenssi.n))))
> >      qq(sukupuoli ~ aikaero, data=a.ero)
> >
> > This seems to happen everytime "sukupuoli" contains one variable name,
> which
> > starts with a letter "n". If both names start with "n" or other letters the
> > results is miehet vs naiset as expected.
> >
> > So this works fine:
> >
> > a.ero <- data.frame(aikaero,
> >         sukupuoli=rep(c("nisset","naiset"),
> >                       c(sum(frekvenssi.m),sum(frekvenssi.n))))
> >      qq(sukupuoli ~ aikaero, data=a.ero)
> >
> > And this also:
> >
> > a.ero <- data.frame(aikaero,
> >         sukupuoli=rep(c("miehet","maiset"),
> >                       c(sum(frekvenssi.m),sum(frekvenssi.n))))
> >      qq(sukupuoli ~ aikaero, data=a.ero)
> >
> > Where's the problem?
> >
> >
> >
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> >
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


__________________________________________________
Do You Yahoo!?
Sign up for SBC Yahoo! Dial - First Month Free
http://sbc.yahoo.com

==> 1729.audit <==
Tue Jul  2 21:14:42 2002	ripley	moved from incoming to Add-ons
Sun Aug 25 11:58:22 2002	ripley	changed notes
Sun Aug 25 11:58:22 2002	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1741 *
Subject: groupedData constructor from a function
From: dieter.menne@menne-biomed.de
Date: Thu, 4 Jul 2002 15:59:59 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1741 <==
From dieter.menne@menne-biomed.de  Thu Jul  4 16:00:01 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA17348
	for <R-bugs@biostat.ku.dk>; Thu, 4 Jul 2002 15:59:59 +0200 (MET DST)
Date: Thu, 4 Jul 2002 15:59:59 +0200 (MET DST)
From: dieter.menne@menne-biomed.de
Message-Id: <200207041359.PAA17348@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: groupedData constructor from a function

Full_Name: Dieter Menne
Version: 1.5.1
OS: win2000
Submission from: (NULL) (212.185.252.139)


Package nlme, version 3.1-27 (but also in earlier)
Calling the groupedData constructor from a function may fail if the formula 
is not passed explicitely. Below a suggested patch 

Suggestions for patches are in the archives, by Thomas Lumley and saikat.
# http://finzi.psych.upenn.edu/R/Rhelp/archive/2250.html
Both are essentially correct, but probably untested (typos).

library(nlme)
data(Oxboys)
# make it a non-grouped data frame
ox<-as.data.frame(Oxboys)

# Changed by DM. See also
# http://finzi.psych.upenn.edu/R/Rhelp/archive/2250.html
# but there were a few typos in there
groupedData<-
function (formula, data = sys.parent(1), order.groups = TRUE, 
    FUN = function(x) max(x, na.rm = TRUE), outer = NULL, inner = NULL, 
    labels = NULL, units = NULL) 
{
    if (!(inherits(formula, "formula") && length(formula) == 
        3)) {
        stop("first argument to groupedData must be a two-sided formula")
    }
    if (is.null(grpForm <- getGroupsFormula(formula, asList = TRUE))) {
        stop("Right hand side of first argument must be a conditional
expression")
    }
    ## patched part follow (may not work with S)
    mCall <- match.call()
    if (length(grpForm) == 1) {
      mCall[[1]] <- as.name("nfGroupedData") 
      eval(mCall, envir = parent.frame()) 
    }
    else {
      mCall[[1]] <- as.name("nmGroupedData") 
      eval(mCall, envir = parent.frame()) 
    }
    #######
}
 
ProcessPar<-function(par)
{
  form1<-as.formula(paste(par,"~age|Subject"))
  oxg3<-groupedData(formula=form1, data=ox)
  # Do processing with 
  print(str(oxg3))
}


# Works only with the patch to groupedData constructor
ProcessPar("height")



==> 1741.audit <==
Thu Jul  4 20:02:01 2002	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1972 *
Subject: lattice install
From: robert.king@newcastle.edu.au
Date: Mon, 2 Sep 2002 04:55:41 +0200 (MET DST)
--Perhaps lattice should require(grid) and print a clearer message?
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1972 <==
From robert.king@newcastle.edu.au  Mon Sep  2 04:55:43 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id EAA26744
	for <R-bugs@biostat.ku.dk>; Mon, 2 Sep 2002 04:55:41 +0200 (MET DST)
Date: Mon, 2 Sep 2002 04:55:41 +0200 (MET DST)
From: robert.king@newcastle.edu.au
Message-Id: <200209020255.EAA26744@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: lattice install

Full_Name: Robert King
Version: 1.3
OS: windows
Submission from: (NULL) (134.148.4.19)


This looks like a problem with package dependencies.  Should be sending this to
the 
package author, not r-bugs?


An attempt to install lattice from the windows binary runs OK, but attempting to
load the library an error occurs:

> install.packages("D:/Software/R/lattice.zip", .lib.loc[1], CRAN = NULL)
updating HTML package descriptions
> library(lattice)
Error in parse(file, n, text, prompt) : syntax error on line 2022

I then tried installing under linux with R 1.5.1

This installed OK, but loading the library gave another error:

> library(lattice)
Error in library(grid) : There is no package called `grid'

Installing grid on linux resulted in lattice loading and working properly

Installing grid also fixed the problem on windows.



==> 1972.audit <==
Tue Sep  3 19:47:36 2002	thomas	changed notes
Tue Sep  3 19:47:36 2002	thomas	foobar
Tue Sep  3 19:47:36 2002	thomas	moved from incoming to Graphics
Wed Jan  8 11:27:36 2003	ripley	foobar
Wed Jan  8 11:27:36 2003	ripley	moved from Graphics to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1974 *
Subject: Rwave installation problem
From: ld-temp-qt3i@pobox.com
Date: Mon, 2 Sep 2002 09:27:36 +0200 (MET DST)
--Instead, this should use ISO C headers, namely <stdlib.h>
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1974 <==
From ld-temp-qt3i@pobox.com  Mon Sep  2 09:27:37 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id JAA27886
	for <R-bugs@biostat.ku.dk>; Mon, 2 Sep 2002 09:27:36 +0200 (MET DST)
Date: Mon, 2 Sep 2002 09:27:36 +0200 (MET DST)
From: ld-temp-qt3i@pobox.com
Message-Id: <200209020727.JAA27886@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: Rwave installation problem

Full_Name: Linc Davis
Version: 1.5.1
OS: Mac OS 10.1.5
Submission from: (NULL) (68.4.90.94)


When running install.packages("Rwave") as root, I got this error:

In file included from compinteg.c:12:
kernel.h:22: malloc.h: No such file or directory
make: *** [compinteg.o] Error 1
ERROR: compilation failed for package 'Rwave'

There are 3 header files 'malloc.h' in Mac OS X: one for generic C, one for
Objective-C, and a private one for the OS. The R installation script looks for C
headers in /usr/include, but the actual path to this one is

/usr/include/sys/malloc.h

I worked around the problem by copying the file as indicated, then I deleted the
copy after compiling the package. To fix the bug, the script should be changed
to look for C headers in both /usr/include and /usr/include/sys.

Thanks.

==> 1974.audit <==
Tue Sep 17 11:20:29 2002	maechler	foobar
Tue Sep 17 11:20:29 2002	maechler	moved from incoming to Add-ons
Wed Nov 20 16:44:15 2002	ripley	changed notes
Wed Nov 20 16:44:15 2002	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2173 *
Subject: xlim in plot.survfit() [with a discussion on "..."]
From: jerome@hivnet.ubc.ca
Date: Wed, 16 Oct 2002 18:46:11 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2173 <==
From jerome@hivnet.ubc.ca  Wed Oct 16 18:46:12 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA00603
	for <R-bugs@biostat.ku.dk>; Wed, 16 Oct 2002 18:46:11 +0200 (MET DST)
Date: Wed, 16 Oct 2002 18:46:11 +0200 (MET DST)
From: jerome@hivnet.ubc.ca
Message-Id: <200210161646.SAA00603@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: xlim in plot.survfit() [with a discussion on "..."]

Full_Name: Jerome Asselin
Version: 1.6.0
OS: RedHat 7.2
Submission from: (NULL) (24.83.203.63)



Hello,

I am trying to draw a legend on top of survival curves using
plot.survfit(). As in the example below, I would like to
specify a large interval for the x-axis. I can achieve such
result using "xlim". However, an error occurs if I use the
legend.pos and legend.text parameters as well.

  library(survival)
  TIME  <- Surv(c(23,52,12,56,23,21),c(T,F,T,F,F,T))

  par(mfrow=c(2,1))
  plot(survfit(TIME~1),conf.int=F,xlim=c(0,100),
  main="xlim=c(0,100) without legend")
  plot(survfit(TIME~1),conf.int=F,xlim=c(0,100),
  legend.pos=0,legend.text="Survival Curve",
  main="xlim=c(0,100) with legend (ERROR!)")

It looks like plot.survfit() attempts to send the "xlim"
parameter to legend(), which does not accept "xlim" as a
parameter. Hence, an error occurs and the legend is not
plotted.

I believe the problem is due to the fact that the
additional parameters "..." that are supplied to
plot.survfit() do not necessarily match the range of
possible parameters for both plot() and legend(). In my
case, "xlim" is matched by plot(), but not by legend().

I know how to plot the legend by directly using the
legend() function. However, in order to correct the
small problem with plot.survfit(), I would suggest that
plot.survfit() be modified to perform an exact match of
the parameters in "..." onto legend(). Perhaps there is
already a function to perform such a task. If not, I
believe it could provide a practical solution for
dealing with "..." and subfunctions that do not have a
built-in "..." parameter. That's just a suggestion,
though.

Thank you very much!
Jerome Asselin


==> 2173.audit <==
Wed Oct 16 22:58:03 2002	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2320 *
Subject: Segmentation fault using "survival" package
From: jerome@hivnet.ubc.ca
Date: Sat, 23 Nov 2002 00:51:50 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2320 <==
From jerome@hivnet.ubc.ca  Sat Nov 23 00:51:50 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id AAA14015
	for <R-bugs@biostat.ku.dk>; Sat, 23 Nov 2002 00:51:50 +0100 (MET)
Date: Sat, 23 Nov 2002 00:51:50 +0100 (MET)
From: jerome@hivnet.ubc.ca
Message-Id: <200211222351.AAA14015@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: Segmentation fault using "survival" package

Full_Name: Jerome Asselin
Version: 1.6.1
OS: RedHat Linux 7.2
Submission from: (NULL) (142.103.173.179)



Hello,

I get a segmentation fault when I run the following code. I wouldn't expect
meaningful results because my response variable contains only missing values.
However, I would expect something like a regular error (not a segmentation
fault).


library(survival)

data <- structure(list(surv = structure(c(NA, NA, NA, 0,
0, 0), .Dim = c(3, 2), .Dimnames = list(NULL, c("time", "status"
)), class = "Surv", type = "right"), x = c(-1, -1, -0.5)),
.Names = c("surv", "x"),row.names = c("1", "2", "3"),
class = "data.frame")

coxph(surv ~ x,data=data)


Below is what I get when I run these commands from a freshly started R session.
This is always reproducible for me.

Sincerely,
Jerome Asselin

> library(survival)
>
> data <- structure(list(surv = structure(c(NA, NA, NA, 0,
+ 0, 0), .Dim = c(3, 2), .Dimnames = list(NULL, c("time", "status"
+ )), class = "Surv", type = "right"), x = c(-1, -1, -0.5)),
+ .Names = c("surv", "x"),row.names = c("1", "2", "3"),
+ class = "data.frame")
>
> coxph(surv ~ x,data=data)
Segmentation fault



==> 2320.reply.1 <==
From maechler@stat.math.ethz.ch  Mon Nov 25 09:20:40 2002
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id JAA22274
	for <R-bugs@biostat.ku.dk>; Mon, 25 Nov 2002 09:20:39 +0100 (MET)
Received: from lynne.ethz.ch (IDENT:root@lynne [129.132.58.30])
	by hypatia.math.ethz.ch (8.12.6/8.12.6) with ESMTP id gAP8JqXE013118;
	Mon, 25 Nov 2002 09:19:52 +0100 (MET)
Received: (from maechler@localhost)
	by lynne.ethz.ch (8.11.6/8.11.2) id gAP8JqQ21717;
	Mon, 25 Nov 2002 09:19:52 +0100
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15841.56616.8240.257467@gargle.gargle.HOWL>
Date: Mon, 25 Nov 2002 09:19:52 +0100
To: jerome@hivnet.ubc.ca
Cc: R-bugs@biostat.ku.dk
Subject: Re: [Rd] Segmentation fault using "survival" package (PR#2320)
In-Reply-To: <200211222351.AAA14020@pubhealth.ku.dk>
References: <200211222351.AAA14020@pubhealth.ku.dk>
X-Mailer: VM 7.07 under Emacs 21.2.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>

>>>>> "Jerome" == Jerome Asselin <jerome@hivnet.ubc.ca>
>>>>>     on Sat, 23 Nov 2002 00:51:51 +0100 (MET) writes:

    Jerome> Full_Name: Jerome Asselin Version: 1.6.1 OS: RedHat
    Jerome> Linux 7.2 Submission from: (NULL) (142.103.173.179)


    Jerome> Hello,

    Jerome> I get a segmentation fault when I run the following
    Jerome> code. I wouldn't expect meaningful results because
    Jerome> my response variable contains only missing values.
    Jerome> However, I would expect something like a regular
    Jerome> error (not a segmentation fault).

I confirm the problem (OS: a version of Redhat Linux, 1.6.1 patched)
running in "R -d gdb"
shows the place :

> coxph(surv ~ x, data=data)

Program received signal SIGSEGV, Segmentation fault.
0x4027dee4 in coxfit2 (maxiter=0x8c9cc60, nusedx=0x8c9cc40, nvarx=0x8c9cc20, 
    time=0x0, status=0x0, covar2=0x0, offset=0x0, weights=0x0, strata=0x0, 
    means=0x8c85738, Rf_beta=0x8c85710, u=0x8c856e8, imat2=0x8c856c0, 
    loglik=0x8cb3dd0, flag=0x8c9cc00, work=0x8b4ef10, eps=0x8c85698, 
    tol_chol=0x8c85670, sctest=0x8c85648) at coxfit2.c:116
116	coxfit2.c: No such file or directory.
	in coxfit2.c

--
Martin

==> 2320.audit <==
Mon Nov 25 21:13:18 2002	thomas	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2322 *
Subject: simplex
From: george@lecompte.org
Date: Sat, 23 Nov 2002 17:30:37 +0100 (MET)
--report on boot, I think (not mentioned, though)
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2322 <==
From george@lecompte.org  Sat Nov 23 17:30:38 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id RAA16415
	for <R-bugs@biostat.ku.dk>; Sat, 23 Nov 2002 17:30:37 +0100 (MET)
Date: Sat, 23 Nov 2002 17:30:37 +0100 (MET)
From: george@lecompte.org
Message-Id: <200211231630.RAA16415@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: simplex

Full_Name: George LeCompte
Version: 1.6.1 (windows)
OS: windows98
Submission from: (NULL) (208.8.162.135)


simplex won't work with only >= constraints examples follow:

this works:
simplex(a=1,A1=1,b1=10,A2=1,b2=1)

but this doesn't
simplex(1,A2=1,b2=1)

Linear Programming Results

Call : simplex(a = 1, A2 = 1, b2 = 1)

Minimization Problem with Objective Function Coefficients
x1 
 1 

No feasible solution could be found


==> 2322.audit <==
Tue Nov 26 21:45:55 2002	ripley	changed notes
Tue Nov 26 21:45:55 2002	ripley	foobar
Tue Nov 26 21:45:55 2002	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2352 *
Subject: avas: segmentation fault on empty args
From: vograno@arbitrade.com
Date: Fri, 6 Dec 2002 19:41:48 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2352 <==
From vograno@arbitrade.com  Fri Dec  6 19:41:49 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id TAA11396
	for <R-bugs@biostat.ku.dk>; Fri, 6 Dec 2002 19:41:48 +0100 (MET)
Date: Fri, 6 Dec 2002 19:41:48 +0100 (MET)
From: vograno@arbitrade.com
Message-Id: <200212061841.TAA11396@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: avas: segmentation fault on empty args

Full_Name: Vadim Ogranovich
Version: 1.6.0
OS: Red Hat 7.1
Submission from: (NULL) (209.99.241.1)


Segmentation fault occurs when empty vectors passed to avas as arguments. 

> library("acepack")
library("acepack")
> avas(numeric(0),numeric(0))
avas(numeric(0),numeric(0))

Process R segmentation fault at Fri Dec  6 10:31:06 2002


==> 2352.audit <==
Sat Dec  7 09:32:42 2002	ripley	foobar
Sat Dec  7 09:32:42 2002	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2363 *
Subject: nlme() and parameters "model", "fixed" and "random"
From: jerome@hivnet.ubc.ca
Date: Wed, 11 Dec 2002 22:29:47 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2363 <==
From jerome@hivnet.ubc.ca  Wed Dec 11 22:29:48 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA17779
	for <R-bugs@biostat.ku.dk>; Wed, 11 Dec 2002 22:29:47 +0100 (MET)
Date: Wed, 11 Dec 2002 22:29:47 +0100 (MET)
From: jerome@hivnet.ubc.ca
Message-Id: <200212112129.WAA17779@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: nlme() and parameters "model", "fixed" and "random"

Full_Name: Jerome Asselin
Version: 1.6.1
OS: linux redhat 7.2
Submission from: (NULL) (142.103.173.179)



print.lme() fails when the parameters "model", "fixed" and "random"
are input as objects in nlme(). To show how this occurs, below is a
slightly modified example from the nlme help page.


     library(nlme)
     data(Loblolly)
     fm1 <- nlme(height ~ SSasymp(age, Asym, R0, lrc),
                 data = Loblolly,
                 fixed = Asym + R0 + lrc ~ 1,
                 random = Asym ~ 1,
                 start = c(Asym = 103, R0 = -8.5, lrc = -3.3))
     fm1 # THIS WORKS...

     model <- height ~ SSasymp(age, Asym, R0, lrc)
     fixed <- Asym + R0 + lrc ~ 1
     random <- Asym ~ 1
     start <- c(Asym = 103, R0 = -8.5, lrc = -3.3)
     fm2 <- nlme(model,
                 data = Loblolly,
                 fixed = fixed,
                 random = random,
                 start = start)
     fm2 # ERROR
     #Nonlinear mixed-effects model fit by maximum likelihood
     #Error in as.vector(x, mode) : cannot coerce to vector

     all(unlist(fm1$coefficients)==unlist(fm2$coefficients)) # TRUE


==> 2363.followup.1 <==
From ldimitro@wfubmc.edu  Wed Dec 11 22:46:06 2002
Received: from EXCHVS1.medctr.ad.wfubmc.edu (exchvs1.medctr.ad.wfubmc.edu [152.11.200.72] (may be forged))
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA17860
	for <R-bugs@biostat.ku.dk>; Wed, 11 Dec 2002 22:46:05 +0100 (MET)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Subject: RE: [Rd] nlme() and parameters "model", "fixed" and "random" (PR#2363)
Date: Wed, 11 Dec 2002 16:44:47 -0500
Message-ID: <F160BE32A2E5E04497668BBDFE83FEDF0350F764@EXCHVS1.medctr.ad.wfubmc.edu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Rd] nlme() and parameters "model", "fixed" and "random" (PR#2363)
Thread-Index: AcKhXMAhzsOqe3+3T4yz9XYAcwrlWwAAcfWA
From: "Latchezar Dimitrov" <ldimitro@wfubmc.edu>
To: <r-devel@stat.math.ethz.ch>
Cc: <R-bugs@biostat.ku.dk>
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by pubhealth.ku.dk id WAA17860

The same in Windows XP Pro

Latchezar Dimitrov

> -----Original Message-----
> From: jerome@hivnet.ubc.ca [mailto:jerome@hivnet.ubc.ca] 
> Sent: Wednesday, December 11, 2002 4:30 PM
> To: r-devel@stat.math.ethz.ch
> Cc: R-bugs@biostat.ku.dk
> Subject: [Rd] nlme() and parameters "model", "fixed" and 
> "random" (PR#2363)
> 
> 
> Full_Name: Jerome Asselin
> Version: 1.6.1
> OS: linux redhat 7.2
> Submission from: (NULL) (142.103.173.179)
> 
> 
> 
> print.lme() fails when the parameters "model", "fixed" and 
> "random" are input as objects in nlme(). To show how this 
> occurs, below is a slightly modified example from the nlme help page.
> 
> 
>      library(nlme)
>      data(Loblolly)
>      fm1 <- nlme(height ~ SSasymp(age, Asym, R0, lrc),
>                  data = Loblolly,
>                  fixed = Asym + R0 + lrc ~ 1,
>                  random = Asym ~ 1,
>                  start = c(Asym = 103, R0 = -8.5, lrc = -3.3))
>      fm1 # THIS WORKS...
> 
>      model <- height ~ SSasymp(age, Asym, R0, lrc)
>      fixed <- Asym + R0 + lrc ~ 1
>      random <- Asym ~ 1
>      start <- c(Asym = 103, R0 = -8.5, lrc = -3.3)
>      fm2 <- nlme(model,
>                  data = Loblolly,
>                  fixed = fixed,
>                  random = random,
>                  start = start)
>      fm2 # ERROR
>      #Nonlinear mixed-effects model fit by maximum likelihood
>      #Error in as.vector(x, mode) : cannot coerce to vector
> 
>      all(unlist(fm1$coefficients)==unlist(fm2$coefficients)) # TRUE
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list 
> http://www.stat.math.ethz.ch/mailman/listin> fo/r-devel
> 

==> 2363.reply.1 <==
From bates@bates5.stat.wisc.edu  Wed Dec 11 22:54:46 2002
Received: from bates5.stat.wisc.edu (mail@bates5.stat.wisc.edu [128.105.174.135])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA17891
	for <R-bugs@biostat.ku.dk>; Wed, 11 Dec 2002 22:54:45 +0100 (MET)
Received: from bates by bates5.stat.wisc.edu with local (Exim 3.36 #1 (Debian))
	id 18MEnW-0001n8-00; Wed, 11 Dec 2002 15:53:42 -0600
To: jerome@hivnet.ubc.ca
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] nlme() and parameters "model", "fixed" and "random" (PR#2363)
References: <200212112129.WAA17784@pubhealth.ku.dk>
From: Douglas Bates <bates@stat.wisc.edu>
Date: 11 Dec 2002 15:53:41 -0600
In-Reply-To: <200212112129.WAA17784@pubhealth.ku.dk>
Message-ID: <6rbs3skysa.fsf@bates5.stat.wisc.edu>
Lines: 42
User-Agent: Gnus/5.0808 (Gnus v5.8.8) XEmacs/21.4 (Common Lisp)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Sender: Douglas Bates <bates@bates5.stat.wisc.edu>

jerome@hivnet.ubc.ca writes:

> Full_Name: Jerome Asselin
> Version: 1.6.1
> OS: linux redhat 7.2
> Submission from: (NULL) (142.103.173.179)
> 
> 
> 
> print.lme() fails when the parameters "model", "fixed" and "random"
> are input as objects in nlme(). To show how this occurs, below is a
> slightly modified example from the nlme help page.
> 
> 
>      library(nlme)
>      data(Loblolly)
>      fm1 <- nlme(height ~ SSasymp(age, Asym, R0, lrc),
>                  data = Loblolly,
>                  fixed = Asym + R0 + lrc ~ 1,
>                  random = Asym ~ 1,
>                  start = c(Asym = 103, R0 = -8.5, lrc = -3.3))
>      fm1 # THIS WORKS...
> 
>      model <- height ~ SSasymp(age, Asym, R0, lrc)
>      fixed <- Asym + R0 + lrc ~ 1
>      random <- Asym ~ 1
>      start <- c(Asym = 103, R0 = -8.5, lrc = -3.3)
>      fm2 <- nlme(model,
>                  data = Loblolly,
>                  fixed = fixed,
>                  random = random,
>                  start = start)
>      fm2 # ERROR
>      #Nonlinear mixed-effects model fit by maximum likelihood
>      #Error in as.vector(x, mode) : cannot coerce to vector
> 
>      all(unlist(fm1$coefficients)==unlist(fm2$coefficients)) # TRUE

Thanks for the report.  The construction deparse(as.vector(x)) where x
is a formula is needed in S-PLUS but can cause an error in R.  We
should, and will, revise the R package for nlme to replace any
instances of deparse(as.vector(x)) by deparse(x).

==> 2363.audit <==
Fri Dec 13 08:28:56 2002	ripley	foobar
Fri Dec 13 08:28:56 2002	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2369 *
Subject: convergence problem with nlme()
From: jerome@hivnet.ubc.ca
Date: Thu, 12 Dec 2002 23:43:14 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2369 <==
From jerome@hivnet.ubc.ca  Thu Dec 12 23:43:15 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id XAA27889
	for <R-bugs@biostat.ku.dk>; Thu, 12 Dec 2002 23:43:14 +0100 (MET)
Date: Thu, 12 Dec 2002 23:43:14 +0100 (MET)
From: jerome@hivnet.ubc.ca
Message-Id: <200212122243.XAA27889@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: convergence problem with nlme()

Full_Name: Jerome Asselin
Version: 1.6.1
OS: linux redhat 7.2
Submission from: (NULL) (142.103.173.179)



I am using the nlme package version 3.1-33.

I tried an example from the file "library/nlme/scripts/ch08.R" that comes
with the nlme package but I did not obtain convergence. I assume that
this example worked at some point in the past, but I cannot determine
why it is not working anymore. So I am unable to determine whether this
is a numerical bug or a documentation bug (in the file "ch08.R").

More specifically, I tried the example below (in which I added the
option msVerbose=T.)

library(nlme)
data(Quinidine)
control <- nlmeControl(msVerbose = T)
fm1Quin.nlme <-
  nlme(conc ~ quinModel(Subject, time, conc, dose, interval,
                        lV, lKa, lCl),
       data = Quinidine, fixed = lV + lKa + lCl ~ 1,
       random = pdDiag(lV + lCl ~ 1), groups =  ~ Subject,
       start = list(fixed = c(5, -0.3, 2)),
       na.action = NULL, naPattern =  ~ !is.na(conc), control = control)
#Error in nlme.formula(conc ~ quinModel(Subject, time, conc, dose, interval,  :
#        Maximum number of iterations reached without convergence

Below is the trace of the calculations by nlme().


iteration = 0
Step:
[1] 0 0
Parameter:
[1] 0.9645714 1.2393630
Function Value
[1] 1053.026
Gradient:
[1] -5.1732725 -0.3194242

iteration = 10
Parameter:
[1] 5.492493 1.275746
Function Value
[1] 1050.678
Gradient:
[1] -0.0004125939  0.0012034419

Iteration limit exceeded.  Algorithm failed.

iteration = 0
Step:
[1] 0 0
Parameter:
[1] 5.492303 0.860876
Function Value
[1] 1047.32
Gradient:
[1]  8.080429e-04 -8.308982e-06

iteration = 6
Parameter:
[1] -1772.4732661     0.3624312
Function Value
[1] 815.6329
Gradient:
[1]  9.726484e-25 -2.590048e-08

Successive iterates within tolerance.
Current iterate is probably solution.

iteration = 0
Step:
[1] 0 0
Parameter:
[1] 0.7142093 0.8328863
Function Value
[1] 1045.966
Gradient:
[1] -2.701254  1.837528

iteration = 6
Parameter:
[1] 1.1387817 0.8237138
Function Value
[1] 1045.492
Gradient:
[1] -3.297258e-08  4.558449e-08

Successive iterates within tolerance.
Current iterate is probably solution.

iteration = 0
Step:
[1] 0 0
Parameter:
[1] 1.2190786 0.8233033
Function Value
[1] 1044.609
Gradient:
[1]  2.589381 -2.443006

iteration = 7
Parameter:
[1] 0.6880674 0.8342263
Function Value
[1] 1043.658
Gradient:
[1] -5.457107e-08 -1.710382e-06

Successive iterates within tolerance.
Current iterate is probably solution.

iteration = 0
Step:
[1] 0 0
Parameter:
[1] 0.6867763 0.8348800
Function Value
[1] 1045.262
Gradient:
[1] -3.318076  2.320207

iteration = 7
Parameter:
[1] 1.2547275 0.8239144
Function Value
[1] 1044.541
Gradient:
[1]  1.496284e-08 -6.761539e-21

Successive iterates within tolerance.
Current iterate is probably solution.

iteration = 0
Step:
[1] 0 0
Parameter:
[1] 1.2661227 0.8244986
Function Value
[1] 1044.441
Gradient:
[1]  2.642391 -2.502298

iteration = 1
Parameter:
[1] -1509.6490716     0.8231054
Function Value
[1] 826.5788
Gradient:
[1] 5.044484e-19 3.488575e+01

Maximum step size exceeded 5 consecutive times.
Either the function is unbounded below,
becomes asymptotic to a finite value
from above in some direction,
or stepmx is too small.

iteration = 0
Step:
[1] 0 0
Parameter:
[1] 0.6851074 0.8350764
Function Value
[1] 1045.189
Gradient:
[1] -3.359032  2.357977

iteration = 7
Parameter:
[1] 1.2648770 0.8239819
Function Value
[1] 1044.448
Gradient:
[1] -1.484278e-08 -4.556966e-08

Last global step failed to locate a point lower than x.
Either x is an approximate local minimum of the function,
the function is too non-linear for this algorithm,
or steptol is too large.

iteration = 0
Step:
[1] 0 0
Parameter:
[1] 1.2679928 0.8245302
Function Value
[1] 1044.427
Gradient:
[1]  2.646834 -2.508039

iteration = 1
Parameter:
[1] -1511.23183     0.82312
Function Value
[1] 826.1627
Gradient:
[1] 1.373859e-18 3.405617e+01

Maximum step size exceeded 5 consecutive times.
Either the function is unbounded below,
becomes asymptotic to a finite value
from above in some direction,
or stepmx is too small.

iteration = 0
Step:
[1] 0 0
Parameter:
[1] 0.6849866 0.8350863
Function Value
[1] 1045.184
Gradient:
[1] -3.361700  2.360219

iteration = 7
Parameter:
[1] 1.2654792 0.8239847
Function Value
[1] 1044.442
Gradient:
[1] -1.483571e-08 -2.278475e-08

Successive iterates within tolerance.
Current iterate is probably solution.

iteration = 0
Step:
[1] 0 0
Parameter:
[1] 1.268088 0.824533
Function Value
[1] 1044.426
Gradient:
[1]  2.647101 -2.508261

iteration = 1
Parameter:
[1] -1511.3133956     0.8231232
Function Value
[1] 827.7616
Gradient:
[1] 1.046018e-18 3.410108e+01

Maximum step size exceeded 5 consecutive times.
Either the function is unbounded below,
becomes asymptotic to a finite value
from above in some direction,
or stepmx is too small.

iteration = 0
Step:
[1] 0 0
Parameter:
[1] 0.6850998 0.8350804
Function Value
[1] 1045.188
Gradient:
[1] -3.359382  2.358456

iteration = 7
Parameter:
[1] 1.2650078 0.8239839
Function Value
[1] 1044.447
Gradient:
[1] -1.484124e-08  2.278477e-08

Last global step failed to locate a point lower than x.
Either x is an approximate local minimum of the function,
the function is too non-linear for this algorithm,
or steptol is too large.

iteration = 0
Step:
[1] 0 0
Parameter:
[1] 1.2680136 0.8245307
Function Value
[1] 1044.426
Gradient:
[1]  2.646877 -2.508084

iteration = 1
Parameter:
[1] -1511.2495885     0.8231376
Function Value
[1] 827.6179
Gradient:
[1] 1.473509e-19 3.477226e+01

Maximum step size exceeded 5 consecutive times.
Either the function is unbounded below,
becomes asymptotic to a finite value
from above in some direction,
or stepmx is too small.

iteration = 0
Step:
[1] 0 0
Parameter:
[1] 0.6851144 0.8350799
Function Value
[1] 1045.188
Gradient:
[1] -3.359088  2.358286

iteration = 6
Parameter:
[1] 1.2649473 0.8239835
Function Value
[1] 1044.448
Gradient:
[1]  2.968390e-08 -6.835435e-08

Successive iterates within tolerance.
Current iterate is probably solution.

iteration = 0
Step:
[1] 0 0
Parameter:
[1] 1.267994 0.824532
Function Value
[1] 1044.427
Gradient:
[1]  2.646853 -2.507863

iteration = 1
Parameter:
[1] -1511.2336349     0.8231352
Function Value
[1] 828.0258
Gradient:
[1] -6.701743e-20  3.365341e+01

Maximum step size exceeded 5 consecutive times.
Either the function is unbounded below,
becomes asymptotic to a finite value
from above in some direction,
or stepmx is too small.

iteration = 0
Step:
[1] 0 0
Parameter:
[1] 0.6851079 0.8350803
Function Value
[1] 1045.188
Gradient:
[1] -3.359215  2.358392

iteration = 7
Parameter:
[1] 1.2649721 0.8239836
Function Value
[1] 1044.447
Gradient:
[1] 1.484166e-08 4.556957e-08

Last global step failed to locate a point lower than x.
Either x is an approximate local minimum of the function,
the function is too non-linear for this algorithm,
or steptol is too large.

iteration = 0
Step:
[1] 0 0
Parameter:
[1] 1.268001 0.824530
Function Value
[1] 1044.427
Gradient:
[1]  2.646867 -2.508106

iteration = 1
Parameter:
[1] -1511.2385145     0.8231441
Function Value
[1] 825.0983
Gradient:
[1] -9.146131e-19  3.823514e+01

Maximum step size exceeded 5 consecutive times.
Either the function is unbounded below,
becomes asymptotic to a finite value
from above in some direction,
or stepmx is too small.

iteration = 0
Step:
[1] 0 0
Parameter:
[1] 0.6849865 0.8350865
Function Value
[1] 1045.184
Gradient:
[1] -3.361722  2.360234

iteration = 6
Parameter:
[1] 1.265490 0.823985
Function Value
[1] 1044.442
Gradient:
[1] -1.254955e-20 -6.835423e-08

Successive iterates within tolerance.
Current iterate is probably solution.

iteration = 0
Step:
[1] 0 0
Parameter:
[1] 1.2681041 0.8245325
Function Value
[1] 1044.426
Gradient:
[1]  2.647101 -2.508336

iteration = 1
Parameter:
[1] -1511.3262872     0.8231335
Function Value
[1] 828.0964
Gradient:
[1] 2.680533e-19 3.401084e+01

Maximum step size exceeded 5 consecutive times.
Either the function is unbounded below,
becomes asymptotic to a finite value
from above in some direction,
or stepmx is too small.

iteration = 0
Step:
[1] 0 0
Parameter:
[1] 0.6850990 0.8350805
Function Value
[1] 1045.188
Gradient:
[1] -3.359395  2.358484

iteration = 7
Parameter:
[1] 1.2650090 0.8239838
Function Value
[1] 1044.447
Gradient:
[1] -4.452368e-08 -2.278478e-08

Last global step failed to locate a point lower than x.
Either x is an approximate local minimum of the function,
the function is too non-linear for this algorithm,
or steptol is too large.

iteration = 0
Step:
[1] 0 0
Parameter:
[1] 1.2680059 0.8245313
Function Value
[1] 1044.426
Gradient:
[1]  2.646886 -2.508011

iteration = 1
Parameter:
[1] -1511.24342     0.82312
Function Value
[1] 827.5457
Gradient:
[1] -1.234659e-18  3.430500e+01

Maximum step size exceeded 5 consecutive times.
Either the function is unbounded below,
becomes asymptotic to a finite value
from above in some direction,
or stepmx is too small.

iteration = 0
Step:
[1] 0 0
Parameter:
[1] 0.6851253 0.8350791

==> 2369.reply.1 <==
From bates@bates5.stat.wisc.edu  Fri Dec 13 00:13:06 2002
Received: from bates5.stat.wisc.edu (mail@bates5.stat.wisc.edu [128.105.174.135])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id AAA28071
	for <R-bugs@biostat.ku.dk>; Fri, 13 Dec 2002 00:13:06 +0100 (MET)
Received: from bates by bates5.stat.wisc.edu with local (Exim 3.36 #1 (Debian))
	id 18McV4-0002vX-00; Thu, 12 Dec 2002 17:12:14 -0600
To: jerome@hivnet.ubc.ca
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] convergence problem with nlme() (PR#2369)
References: <200212122243.XAA27894@pubhealth.ku.dk>
From: Douglas Bates <bates@stat.wisc.edu>
Date: 12 Dec 2002 17:12:14 -0600
In-Reply-To: <200212122243.XAA27894@pubhealth.ku.dk>
Message-ID: <6radjade7l.fsf@bates5.stat.wisc.edu>
Lines: 12
User-Agent: Gnus/5.0808 (Gnus v5.8.8) XEmacs/21.4 (Common Lisp)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Sender: Douglas Bates <bates@bates5.stat.wisc.edu>

It turns out that you learn more if you set verbose = TRUE in the call
to nlme rather than setting control = nlmeControl(msVerbose = TRUE).

The verbose = TRUE option shows you that the parameter values are
bouncing back and forth between two regions of the parameter space,
neither of which are close to the optimum.  It happens that nlm will
occasionally take very large steps at the beginning of the
optimization resulting in unusual parameter values.

This example is a difficult optimization problem.  It may be possible
to stabilize it somewhat by replacing the internal calls to nlm by
calls to optim but that brings its own set of difficulties.

==> 2369.audit <==
Sun Dec 15 08:53:57 2002	ripley	foobar
Sun Dec 15 08:53:57 2002	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2374 *
Subject: quantreg package - predict method for rq objects
From: John Maindonald <u9801539@leonard.anu.edu.au>
Date: Sat, 14 Dec 2002 20:46:34 +1100 (EST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2374 <==
From mailnull@stat.math.ethz.ch  Sat Dec 14 10:47:34 2002
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA08577
	for <R-bugs@biostat.ku.dk>; Sat, 14 Dec 2002 10:47:33 +0100 (MET)
Received: from hypatia.math.ethz.ch (mailnull@localhost [127.0.0.1])
	by hypatia.math.ethz.ch (8.12.6/8.12.6) with ESMTP id gBE9khgo024271
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NO)
	for <R-bugs@biostat.ku.dk>; Sat, 14 Dec 2002 10:46:44 +0100 (MET)
Received: (from mailnull@localhost)
	by hypatia.math.ethz.ch (8.12.6/8.12.6/Submit) id gBE9khMO024270
	for R-bugs@biostat.ku.dk; Sat, 14 Dec 2002 10:46:43 +0100 (MET)
Received: from franz.stat.wisc.edu (mail@www.omegahat.org [128.105.174.32])
	by hypatia.math.ethz.ch (8.12.6/8.12.6) with ESMTP id gBE9kcgn024245
	for <r-bugs@lists.r-project.org>; Sat, 14 Dec 2002 10:46:40 +0100 (MET)
Received: from anumail4.anu.edu.au ([150.203.2.44] helo=anu.edu.au)
	by franz.stat.wisc.edu with esmtp (Exim 3.35 #1 (Debian))
	id 18N8sY-0008MD-00
	for <r-bugs@r-project.org>; Sat, 14 Dec 2002 03:46:38 -0600
Received: from leonard.anu.edu.au (leonard.anu.edu.au [150.203.2.15])
	by anu.edu.au (8.12.4/8.12.4) with ESMTP id gBE9kZBo015610
	for <r-bugs@r-project.org>; Sat, 14 Dec 2002 20:46:35 +1100 (EST)
Received: (from u9801539@localhost)
	by leonard.anu.edu.au (8.11.6/8.11.6) id gBE9kYl17197
	for r-bugs@r-project.org; Sat, 14 Dec 2002 20:46:34 +1100 (EST)
Date: Sat, 14 Dec 2002 20:46:34 +1100 (EST)
From: John Maindonald <u9801539@leonard.anu.edu.au>
Message-Id: <200212140946.gBE9kYl17197@leonard.anu.edu.au>
To: r-bugs@r-project.org
Subject: quantreg package - predict method for rq objects
X-Sender: u9801539@leonard.anu.edu.au
X-Sender-Domain: leonard.anu.edu.au
X-Spam-Score: (0.4)
X-Spam-Tests: FROM_ENDS_IN_NUMS
X-Scanned-By: MIMEDefang 2.15 (www dot roaringpenguin dot com slash mimedefang)
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Spam-Status: No, hits=1.7 required=5.0
	tests=FROM_ENDS_IN_NUMS,SPAM_PHRASE_00_01
	version=2.43
X-Spam-Level: *

In help(rq.object), under Methods, it says:
"
The `"rq"' class of objects has methods for the following generic 
     functions:  `coef', `effects' , `formula' , `labels' , 
     `model.frame' , `model.matrix' , `plot' , `predict' , `print' ,
     `print.summary' , `residuals' , `summary'
"
There seems to be no predict method:

> y <- rnorm(500)
> u <- rq(y ~ 1, tau=.75)
Warning message: 
Solution may be nonunique in: rq.fit.br(x, y, tau = tau, ...) 
> predict(u)
Error in predict(u) : no applicable method for "predict"

[I have looked both at the Windows and at the Darwin/X11 versions.]

John Maindonald                     email : john.maindonald@anu.edu.au
Centre for Bioinformation Science,  phone : (6125)3473        
c/o MSI,                            fax   : (6125)5549 
John Dedman Mathematical Sciences Building (Building 27)
Australian National University
Canberra ACT 0200
Australia


==> 2374.audit <==
Sun Dec 15 08:53:15 2002	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2384 *
Subject: degrees of freedom in nlme()
From: jerome@hivnet.ubc.ca
Date: Fri, 20 Dec 2002 01:40:06 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2384 <==
From jerome@hivnet.ubc.ca  Fri Dec 20 01:40:07 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id BAA27734
	for <R-bugs@biostat.ku.dk>; Fri, 20 Dec 2002 01:40:06 +0100 (MET)
Date: Fri, 20 Dec 2002 01:40:06 +0100 (MET)
From: jerome@hivnet.ubc.ca
Message-Id: <200212200040.BAA27734@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: degrees of freedom in nlme()

Full_Name: Jerome Asselin
Version: 1.6.1
OS: RedHat Linux 7.2
Submission from: (NULL) (142.103.173.179)



There is something very queer happening with the degrees
of freedom in nlme(). In the example below, I am fitting
the same model with lme() and nlme(). I am using the
nlme package version 3.1-34.


library(nlme)
set.seed(14)

a <- 2
x <- rep(rnorm(3),rep(5,3))
id <- rep(c("a","b","c"),rep(5,3))
y <- a+x+rnorm(15)
data <- data.frame(y=y,id=id)
initx <- matrix(x[c(1,6,11)],dimnames=list(c("a","b","c"),"x"))

summary(fit.lme <-
              lme(y ~ 1,data=data,random=~1|id,method="ML"))
summary(fit.nlme <-
              nlme(y ~ a + x, fixed= a~1, random=x~1|id,
              data=data, start=list(fixed=c(a=2),
              random=list(id=initx)),method="ML"))


The number of degrees of freedom for the intercept parameter
is 12 degrees using lme(), but only 2 degrees using nlme().
The same problem is noticed with seeds 15, 16 and 17.

But if I change the seed to 18 and try again, then I get 12
degrees of freedom for both lme() and nlme().


set.seed(18)

a <- 2
x <- rep(rnorm(3),rep(5,3))
id <- rep(c("a","b","c"),rep(5,3))
y <- a+x+rnorm(15)
data <- data.frame(y=y,id=id)
initx <- matrix(x[c(1,6,11)],dimnames=list(c("a","b","c"),"x"))

summary(fit.lme <-
              lme(y ~ 1,data=data,random=~1|id,method="ML"))
summary(fit.nlme <-
              nlme(y ~ a + x, fixed= a~1, random=x~1|id,
              data=data, start=list(fixed=c(a=2),
              random=list(id=initx)),method="ML"))


If I set the seed to 5 or 8, then nlme() fails despite the
simplicity of the model. The error messages are:
- for set.seed(5): 
    Step halving factor reduced below minimum in PNLS step
- for set.seed(8):
    Singularity in backsolve at level 0, block 1
This issue of degrees of freedom may be related to the
convergence problems stated in another bug report (PR#2369).

Sincerely,
Jerome Asselin

set.seed(5)

a <- 2
x <- rep(rnorm(3),rep(5,3))
id <- rep(c("a","b","c"),rep(5,3))
y <- a+x+rnorm(15)
data <- data.frame(y=y,id=id)
initx <- matrix(x[c(1,6,11)],dimnames=list(c("a","b","c"),"x"))

summary(fit.lme <-
              lme(y ~ 1,data=data,random=~1|id,method="ML"))
summary(fit.nlme <-
              nlme(y ~ a + x, fixed= a~1, random=x~1|id,
              data=data, start=list(fixed=c(a=2),
              random=list(id=initx)),method="ML"))


set.seed(8)

a <- 2
x <- rep(rnorm(3),rep(5,3))
id <- rep(c("a","b","c"),rep(5,3))
y <- a+x+rnorm(15)
data <- data.frame(y=y,id=id)
initx <- matrix(x[c(1,6,11)],dimnames=list(c("a","b","c"),"x"))

summary(fit.lme <-
              lme(y ~ 1,data=data,random=~1|id,method="ML"))
summary(fit.nlme <-
              nlme(y ~ a + x, fixed= a~1, random=x~1|id,
              data=data, start=list(fixed=c(a=2),
              random=list(id=initx)),method="ML"))


==> 2384.audit <==
Fri Dec 27 09:19:24 2002	ripley	moved from incoming to Add-ons

==> 2384.followup.1 <==
From jerome@hivnet.ubc.ca  Mon Jan  6 21:00:39 2003
Received: from hivnet.ubc.ca (mailhost.hivnet.ubc.ca [142.103.173.1])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id VAA11133
	for <R-bugs@biostat.ku.dk>; Mon, 6 Jan 2003 21:00:38 +0100 (MET)
Received: from there (jeromePC [142.103.173.179])
	by hivnet.ubc.ca (8.9.0/8.9.0) with SMTP id MAA22901
	for <R-bugs@biostat.ku.dk>; Mon, 6 Jan 2003 12:03:48 -0800 (PST)
Message-Id: <200301062003.MAA22901@hivnet.ubc.ca>
Content-Type: text/plain;
  charset="iso-8859-1"
From: Jerome Asselin <jerome@hivnet.ubc.ca>
Organization: BC Centre for Excellence in HIV/AIDS
To: R-bugs@biostat.ku.dk
Subject: Re: [Rd] degrees of freedom in nlme() (PR#2384)
Date: Mon, 6 Jan 2003 12:05:15 -0800
X-Mailer: KMail [version 1.3.2]
References: <200212122243.XAA27894@pubhealth.ku.dk> <6radjade7l.fsf@bates5.stat.wisc.edu>
In-Reply-To: <6radjade7l.fsf@bates5.stat.wisc.edu>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit


I believe that a round-off error is causing nlme() to provide a wrong number 
of degrees of freedom. In the example below, getFixDF() returns 2 degrees
of freedom, but it should be 12 degrees of freedom according to lme().

R 1.6.1 on RedHat Linux 7.2
Package: nlme
Version: 3.1-36
Date: 2002-12-28

library(nlme)
set.seed(14)

a <- 2
x <- rep(rnorm(3),rep(5,3))
id <- rep(c("a","b","c"),rep(5,3))
y <- a+x+rnorm(15)
data <- data.frame(y=y,id=id)
initx <- matrix(x[c(1,6,11)],dimnames=list(c("a","b","c"),"x"))
rm(a,x,id,y)

summary(fit.lme <-
              lme(y ~ 1,data=data,random=~1|id,method="ML"))
debug(getFixDF)
summary(fit.nlme <-
              nlme(y ~ a + x, fixed= a~1, random=x~1|id,
              data=data, start=list(fixed=c(a=2),
              random=list(id=initx)),method="ML"))

# From within getFixDF(), do the following check...
Browse[1]> apply(X, 2, function(el) any(el != el[1])) #Round-off error here!!
   a
TRUE
Browse[1]> X
   a
1  1
2  1
3  1
4  1
5  1
6  1
7  1
8  1
9  1
10 1
11 1
12 1
13 1
14 1
15 1

# If I force X[ ] <- X[1] in this case, then the result of nlme() is 
concordant with that of lme().


# Below is what I get with the current version of the nlme package.

> summary(fit.lme <-
+               lme(y ~ 1,data=data,random=~1|id,method="ML"))
Linear mixed-effects model fit by maximum likelihood
 Data: data
       AIC      BIC    logLik
  46.09706 48.22121 -20.04853

Random effects:
 Formula: ~1 | id
        (Intercept)  Residual
StdDev:   0.5019741 0.8299741

Fixed effects: y ~ 1
               Value Std.Error DF  t-value p-value
(Intercept) 1.671345 0.3730901 12 4.479736   8e-04

Standardized Within-Group Residuals:
       Min         Q1        Med         Q3        Max
-2.1912914 -0.5408147 -0.1515690  0.7275933  1.3373572

Number of Observations: 15
Number of Groups: 3

> summary(fit.nlme <-
+               nlme(y ~ a + x, fixed= a~1, random=x~1|id,
+               data=data, start=list(fixed=c(a=2),
+               random=list(id=initx)),method="ML"))
Nonlinear mixed-effects model fit by maximum likelihood
  Model: y ~ a + x
 Data: data
       AIC      BIC    logLik
  46.09706 48.22121 -20.04853

Random effects:
 Formula: x ~ 1 | id
                x  Residual
StdDev: 0.5019711 0.8299748

Fixed effects: a ~ 1
     Value Std.Error DF  t-value p-value
a 1.671345 0.3730888  2 4.479752  0.0464

Standardized Within-Group Residuals:
       Min         Q1        Med         Q3        Max
-2.1912919 -0.5408166 -0.1515696  0.7275931  1.3373593

Number of Observations: 15
Number of Groups: 3

==> 2384.followup.2 <==
From jerome@hivnet.ubc.ca Tue Apr  1 21:23:37 2003
Received: from hivnet.ubc.ca (hivnet.ubc.ca [142.103.173.1])
	by pubhealth.ku.dk (8.12.8/8.12.8) with ESMTP id h31JNan9002402
	for <R-bugs@biostat.ku.dk>; Tue, 1 Apr 2003 21:23:36 +0200 (MET DST)
Received: from there (jeromePC [142.103.173.179])
	by hivnet.ubc.ca (8.9.0/8.9.0) with SMTP id LAA07104;
	Tue, 1 Apr 2003 11:28:18 -0800 (PST)
Message-Id: <200304011928.LAA07104@hivnet.ubc.ca>
Content-Type: text/plain;
  charset="iso-8859-1"
From: Jerome Asselin <jerome@hivnet.ubc.ca>
Organization: BC Centre for Excellence in HIV/AIDS
To: r-help@stat.math.ethz.ch
Subject: lme() and nlme() give inconsistent numbers of degrees of freedom (PR#2384)
Date: Tue, 1 Apr 2003 11:22:55 -0800
X-Mailer: KMail [version 1.3.2]
Cc: R-bugs@biostat.ku.dk
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit


I apologize for cross-posting.

In the reproducable example below, I fit the same model with lme() and 
nlme(). However, I get 12 degrees of freedom with lme() and 2 df with 
nlme().

library(nlme)
set.seed(14)

a <- 2
x <- rep(rnorm(3),rep(5,3))
id <- rep(c("a","b","c"),rep(5,3))
y <- a+x+rnorm(15)
data <- data.frame(y=y,id=id)
initx <- matrix(x[c(1,6,11)],dimnames=list(c("a","b","c"),"x"))

summary(fit.lme <-
              lme(y ~ 1,data=data,random=~1|id,method="ML"))
summary(fit.nlme <-
              nlme(y ~ a + x, fixed= a~1, random=x~1|id,
              data=data, start=list(fixed=c(a=2),
              random=list(id=initx)),method="ML"))

When I try the same thing with set.seed(18), I get 12 df for both.

I have submitted a bug report on that issue on Dec 20th and I have tried 
to find the source of the problem, but no success. You can check what I 
found so far at:
http://r-bugs.biostat.ku.dk/cgi-bin/R/Add-ons?id=2384

Can anyone help find the source of this problem?

Sincerely,
Jerome Asselin

R 1.6.2 on Red Hat Linux 7.2
Package: nlme 3.1-38

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2385 *
Subject: read.xport and lookup.xport in foreign
From: Frank E Harrell Jr <fharrell@virginia.edu>
Date: Fri, 20 Dec 2002 12:47:58 -0500
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2385 <==
From fharrell@virginia.edu  Fri Dec 20 18:48:18 2002
Received: from cgatepro-2.mail.virginia.edu (neon.mail.Virginia.EDU [128.143.2.220])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA06798
	for <r-bugs@biostat.ku.dk>; Fri, 20 Dec 2002 18:48:17 +0100 (MET)
Received: from [128.143.108.90] (HELO fharrell.biostat)
  by cgatepro-2.mail.virginia.edu (CommuniGate Pro SMTP 3.5.9)
  with SMTP id 29367241 for r-bugs@biostat.ku.dk; Fri, 20 Dec 2002 12:47:29 -0500
Date: Fri, 20 Dec 2002 12:47:58 -0500
From: Frank E Harrell Jr <fharrell@virginia.edu>
To: r-bugs@biostat.ku.dk
Subject: read.xport and lookup.xport in foreign
Message-Id: <20021220124758.245284af.fharrell@virginia.edu>
Organization: University of Virginia
X-Mailer: Sylpheed version 0.8.2 (GTK+ 1.2.10; i386-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

Under
            
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    6.1              
year     2002             
month    11               
day      01               
language R                

and using foreign 0.5-8 I am encountering errors when using read.xport.  Here's code for producing SAS transport files for testing:

libname x SASV5XPT "test.xpt";
libname y SASV5XPT "test2.xpt";
PROC FORMAT; VALUE race 1=green 2=blue 3=purple; RUN;
PROC FORMAT CNTLOUT=format;RUN;
data test;
LENGTH race 3 age 4;
age=30; label age="Age at Beginning of Study";
race=2;
d1='3mar2002'd ;
dt1='3mar2002 9:31:02'dt;
t1='11:13:45't;
output;

age=31;
race=4;
d1='3jun2002'd ;
dt1='3jun2002 9:42:07'dt;
t1='11:14:13't;
output;
format d1 mmddyy10. dt1 datetime. t1 time. race race.;
run;
PROC COPY IN=work OUT=x;SELECT test;RUN;
PROC COPY IN=work OUT=y;SELECT test format;RUN;

SAS output:

NOTE: Copying WORK.TEST to X.TEST (memtype=DATA).
NOTE: There were 2 observations read from the data set WORK.TEST.
NOTE: The data set X.TEST has 2 observations and 5 variables.
NOTE: PROCEDURE COPY used:
      real time           1.52 seconds
      cpu time            0.04 seconds
      
NOTE: Copying WORK.TEST to Y.TEST (memtype=DATA).
NOTE: There were 2 observations read from the data set WORK.TEST.
NOTE: The data set Y.TEST has 2 observations and 5 variables.
NOTE: Copying WORK.FORMAT to Y.FORMAT (memtype=DATA).
NOTE: There were 3 observations read from the data set WORK.FORMAT.
NOTE: The data set Y.FORMAT has 3 observations and 21 variables.
NOTE: PROCEDURE COPY used:

R results:

> library(foreign)
> read.xport('test.xpt')
      RACE      AGE    D1        DT1    T1
1 2.000063 30.00000 15402 1330767062 40425
2 4.000063 31.00000 15494 1338716527 40453

Note the corruption of RACE (a variable having a SAS length of 3 bytes).

> read.xport('test2.xpt')
            RACE           AGE            D1           DT1            T1
1   2.000063e+00  3.000000e+01  1.540200e+04  1.330767e+09  4.042500e+04
2   4.000063e+00  3.100000e+01  1.549400e+04  1.338717e+09  4.045300e+04
3   3.687825e-40  3.687825e-40  3.687825e-40  3.687896e-40  5.962240e+20
...
124 3.835229e-93  6.434447e-86            NA  3.687825e-40  3.687825e-40

Note corrupted data when trying to read a SAS transport file containing more than one SAS dataset.  According to the documentation, read.xport is supposed to work in this case and is supposed to return a list of data frames.

> names(lookup.xport('test2.xpt'))
[1] "TEST"

Note the inclusion of only one of the 2 datasets.


Also I would greatly benefit from having lookup.xport return all of the SAS variable attributes, especially variable label and format name.  I could then write a little function for the community that makes read.xport as comprehensive as read.spss in terms of creating factor variables and variable labels, if the user exports the PROC CONTENTS CNTLOUT= dataset.

Thanks.
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat

==> 2385.reply.1 <==
From p.dalgaard@biostat.ku.dk  Sun Dec 22 01:09:12 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id BAA10824;
	Sun, 22 Dec 2002 01:09:11 +0100 (MET)
Received: from blueberry.kubism.ku.dk (localhost.localdomain [127.0.0.1])
	by blueberry.kubism.ku.dk (8.12.5/8.12.5) with ESMTP id gBM09HoL024440;
	Sun, 22 Dec 2002 01:09:17 +0100
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.12.5/8.12.5/Submit) id gBM09Gae024436;
	Sun, 22 Dec 2002 01:09:16 +0100
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: r-devel@stat.math.ethz.ch
Cc: R-bugs@biostat.ku.dk
Subject: Re: [Rd] read.xport and lookup.xport in foreign (PR#2385)
References: <200212201748.SAA06803@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 22 Dec 2002 01:09:16 +0100
In-Reply-To: <200212201748.SAA06803@pubhealth.ku.dk>
Message-ID: <x2isxmc3tf.fsf@biostat.ku.dk>
Lines: 41
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

fharrell@virginia.edu writes:

[How to create an xpt file that R cannot read...]
> Also I would greatly benefit from having lookup.xport return all of
> the SAS variable attributes, especially variable label and format
> name. I could then write a little function for the community that
> makes read.xport as comprehensive as read.spss in terms of creating
> factor variables and variable labels, if the user exports the PROC
> CONTENTS CNTLOUT= dataset.

If anyone is interested in trying to figure this stuff out, it would
be most welcome (information on the file format can be obtained via
the link http://www.wotsit.org/download.asp?f=sas). To save you the
trouble, here's the inverse of Frank's code, i.e., how to read the
stuff back into SAS:

libname x SASV5XPT "test.xpt";
libname y SASV5XPT "test2.xpt";
proc format cntlin=y.format;
proc contents data=x.test;
proc contents data=y.test;
proc contents data=y.format;
proc print data=x.test;
proc print data=y.test;
proc print data=y.format;

Notice in particular that nothing works without the proc format line,
SAS can't read test.xpt without somehow being told what the RACE
format is. One possibly relevant oddity is that SAS seems to claim
that RACE has length 4, not 3, in the contents listing.

(Of course, if you haven't already realized: Once we know how to
extract SAS format names and interpret user-supplied formats, people
are going to want us to be able to interpret standard formats like
DATETIME. as well....)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 2385.audit <==
Fri Dec 27 09:19:24 2002	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2386 *
Subject: ace and avas in acepack
From: Frank E Harrell Jr <fharrell@virginia.edu>
Date: Fri, 20 Dec 2002 12:59:07 -0500
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2386 <==
From fharrell@virginia.edu  Fri Dec 20 18:59:26 2002
Received: from cgatepro-2.mail.virginia.edu (neon.mail.Virginia.EDU [128.143.2.220])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA06856
	for <r-bugs@biostat.ku.dk>; Fri, 20 Dec 2002 18:59:26 +0100 (MET)
Received: from [128.143.108.90] (HELO fharrell.biostat)
  by cgatepro-2.mail.virginia.edu (CommuniGate Pro SMTP 3.5.9)
  with SMTP id 29368136; Fri, 20 Dec 2002 12:58:38 -0500
Date: Fri, 20 Dec 2002 12:59:07 -0500
From: Frank E Harrell Jr <fharrell@virginia.edu>
To: r-bugs@biostat.ku.dk
Cc: Thomas Lumley <tlumley@u.washington.edu>
Subject: ace and avas in acepack
Message-Id: <20021220125907.57c1ad10.fharrell@virginia.edu>
Organization: University of Virginia
X-Mailer: Sylpheed version 0.8.2 (GTK+ 1.2.10; i386-redhat-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

Under
            
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    6.1              
year     2002             
month    11               
day      01               
language R                

and using acepack 1.3-2, ace() and avas() have checks such as 
            if(circ[i] < 0 || circ[i] > nrow(x)) {
            if(mon[i] < 0 || mon[i] > nrow(x)) {
            if(lin[i] < 0 || lin[i] > nrow(x)) {

etc.  I believe that nrow should be ncol.

Also, in ace() there is the follwing check:

            if (cat[i] == 0) {
                cat("response spec can only be lin or ordered (default)")
                return()
            }
whereas I believe that the ace algorithm does allow for categorical response variables.
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat

==> 2386.audit <==
Fri Dec 27 09:19:24 2002	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2480 *
Subject: bug in CrossTable (package:gregmisc)
From: John_Hendrickx@yahoo.com
Date: Tue, 21 Jan 2003 13:51:01 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2480 <==
From John_Hendrickx@yahoo.com  Tue Jan 21 13:51:02 2003
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id NAA17686
	for <R-bugs@biostat.ku.dk>; Tue, 21 Jan 2003 13:51:01 +0100 (MET)
Date: Tue, 21 Jan 2003 13:51:01 +0100 (MET)
From: John_Hendrickx@yahoo.com
Message-Id: <200301211251.NAA17686@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: bug in CrossTable (package:gregmisc)

Full_Name: John Hendrickx
Version: 1.6.0
OS: Windows 98
Submission from: (NULL) (137.224.174.216)


CrossTable in the "gregmisc" package fails when the fisher.exact test produces
an error (I suspect this is because the number of cases is too large). This can
be fixed using "FTt <- try(fisher.test(t, alternative = "two.sided"))" or by
making the test optional.

bugtab <- array(c(
24,  31,  2,  50,
 4, 101, 16, 130,
 0,  29,  3,  52,
 3,  39, 11, 210))
dim(bugtab)<-c(4,4)
bugtab<-t(bugtab)
rownames(bugtab)<-c("a","b","c","d")
colnames(bugtab)<-c("A","B","C","D")
bugtab

thisworks<-trunc(bugtab/10)
thisworks

library(gregmisc)
# fisher.exact test works fine on small tables
CrossTable(thisworks)
# I suspect the bugtab table is too large
CrossTable(bugtab)


==> 2480.audit <==
Tue Jan 21 14:39:22 2003	ripley	moved from incoming to Add-ons

==> 2480.followup.1 <==
From mschwartz@medanalytics.com  Wed Jan 22 05:23:39 2003
Received: from mail12.atl.registeredsite.com (nobody@mail12.atl.registeredsite.com [64.224.219.86])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id FAA22283
	for <R-bugs@biostat.ku.dk>; Wed, 22 Jan 2003 05:23:38 +0100 (MET)
Received: from mail.medanalytics.com (mail.medanalytics.com [64.225.164.192])
	by mail12.atl.registeredsite.com (8.12.2/8.12.6) with ESMTP id h0M4Mn0s024550;
	Tue, 21 Jan 2003 23:22:49 -0500
Received: from MARC [64.225.164.192] by mail.medanalytics.com with ESMTP
  (SMTPD32-6.06) id AC96524D00F2; Tue, 21 Jan 2003 23:22:46 -0500
Reply-To: <mschwartz@medanalytics.com>
From: "Marc Schwartz" <mschwartz@medanalytics.com>
To: <John_Hendrickx@yahoo.com>, <r-devel@stat.math.ethz.ch>
Cc: <R-bugs@biostat.ku.dk>
Subject: RE: [Rd] bug in CrossTable (package:gregmisc) (PR#2480)
Date: Tue, 21 Jan 2003 22:22:45 -0600
Organization: MedAnalytics, Inc.
Message-ID: <009801c2c1cd$eaebe5e0$0201a8c0@MARC>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
In-Reply-To: <200301211251.NAA17691@pubhealth.ku.dk>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by pubhealth.ku.dk id FAA22283

> -----Original Message-----
> From: r-devel-admin@stat.math.ethz.ch 
> [mailto:r-devel-admin@stat.math.ethz.ch] On Behalf Of 
> John_Hendrickx@yahoo.com
> Sent: Tuesday, January 21, 2003 6:51 AM
> To: r-devel@stat.math.ethz.ch
> Cc: R-bugs@biostat.ku.dk
> Subject: [Rd] bug in CrossTable (package:gregmisc) (PR#2480)
> 
> 
> Full_Name: John Hendrickx
> Version: 1.6.0
> OS: Windows 98
> Submission from: (NULL) (137.224.174.216)
> 
> 
> CrossTable in the "gregmisc" package fails when the 
> fisher.exact test produces an error (I suspect this is 
> because the number of cases is too large). This can be fixed 
> using "FTt <- try(fisher.test(t, alternative = "two.sided"))" 
> or by making the test optional.
> 
> bugtab <- array(c(
> 24,  31,  2,  50,
>  4, 101, 16, 130,
>  0,  29,  3,  52,
>  3,  39, 11, 210))
> dim(bugtab)<-c(4,4)
> bugtab<-t(bugtab)
> rownames(bugtab)<-c("a","b","c","d")
> colnames(bugtab)<-c("A","B","C","D")
> bugtab
> 
> thisworks<-trunc(bugtab/10)
> thisworks
> 
> library(gregmisc)
> # fisher.exact test works fine on small tables
> CrossTable(thisworks)
> # I suspect the bugtab table is too large
> CrossTable(bugtab)

John,

Thank you for bringing this to my attention. I was out of town all day
on a business trip and will look at this issue further with fresh eyes
in the morning. I'll get an update to Greg as soon as I have a chance
to incorporate a fix.  I also have some pending updates for
barplot2(), so I will coordinate the updates with Greg to conserve his
time.

Best regards,

Marc Schwartz

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2499 *
Subject: survival bug?
From: Pius Korner <korner@eco.umnw.ethz.ch>
Date: Mon, 27 Jan 2003 17:28:11 +0100
--Needs to resubmit in more useful format.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2499 <==
From korner@eco.umnw.ethz.ch  Mon Jan 27 17:28:27 2003
Received: from xsmtp.ethz.ch (xsmtp.ethz.ch [129.132.97.6])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id RAA07671
	for <r-bugs@biostat.ku.dk>; Mon, 27 Jan 2003 17:28:26 +0100 (MET)
Received: from xfe2.d.ethz.ch ([192.168.36.11]) by xsmtp.ethz.ch with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 27 Jan 2003 17:27:39 +0100
Received: from eco.umnw.ethz.ch ([129.132.15.199]) by xfe2.d.ethz.ch with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 27 Jan 2003 17:27:38 +0100
Date: Mon, 27 Jan 2003 17:28:11 +0100
Mime-Version: 1.0 (Apple Message framework v548)
Content-Type: multipart/mixed; boundary=Apple-Mail-27-953181986
Subject: survival bug?
From: Pius Korner <korner@eco.umnw.ethz.ch>
To: r-bugs@biostat.ku.dk
Message-Id: <5397D74A-3214-11D7-912D-000A27D7DD96@eco.umnw.ethz.ch>
X-Mailer: Apple Mail (2.548)
X-OriginalArrivalTime: 27 Jan 2003 16:27:38.0955 (UTC) FILETIME=[01FFB1B0:01C2C621]


--Apple-Mail-27-953181986
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed

a possible bug with survival analysis - either in R or in SPSS...

find more details in bug.doc, and the data in bug.txt

best
Pius Korner



--Apple-Mail-27-953181986
Content-Disposition: attachment
Content-Type: multipart/appledouble;
	boundary=Apple-Mail-28-953181987


--Apple-Mail-28-953181987
Content-Disposition: attachment;
	filename=bug.doc
Content-Transfer-Encoding: base64
Content-Type: application/applefile;
	name="bug.doc"

AAUWBwACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAJAAAAPgAAAAoAAAADAAAASAAAAAcAAAACAAAA
TwAAAR5XOEJOTVNXRAAAYnVnLmRvYwAAAQAAAAEAAAAAAAAAAB4AAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAB
AAAAAAAAAAAeAAAAAAAAAAAAHAAe//8=

--Apple-Mail-28-953181987
Content-Disposition: attachment;
	filename=bug.doc
Content-Transfer-Encoding: base64
Content-Type: application/msword;
	x-mac-creator=4D535744;
	x-unix-mode=0644;
	x-mac-type=5738424E;
	name="bug.doc"

0M8R4KGxGuEAAAAAAAAAAAAAAAAAAAAAPgADAP7/CQAGAAAAAAAAAAAAAAABAAAAJQAAAAAAAAAA
EAAAJwAAAAEAAAD+////AAAAACQAAAD/////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////s
pcEAsUAJBAAA8BK/AAAAAAABEQABAAEABgAAUwkAAA4AamJqYpgKmAoAAAAAAAAAAAAAAAAAAAAA
AAAJBBYAHhYAAPJoAQDyaAEAUwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//w8AAAAA
AAAAAAD//w8AAAAAAAAAAAD//w8AAAAAAAAAAAAAAAAAAAAAAGwAAAAAAKIAAAAAAAAAogAAAKIA
AAAAAAAAogAAAAAAAACiAAAAAAAAAKIAAAAAAAAAogAAABQAAAAAAAAAAAAAANIAAAAAAAAA0gAA
AAAAAADSAAAAAAAAANIAAAAAAAAA0gAAAAwAAADeAAAAFAAAANIAAAAAAAAAswEAAGACAAD+AAAA
AAAAAP4AAAAAAAAA/gAAAAAAAAD+AAAAAAAAAP4AAAAAAAAA/gAAAAAAAAD+AAAAAAAAAP4AAAAA
AAAAcAEAAAIAAAByAQAAAAAAAHIBAAAAAAAAcgEAAAAAAAByAQAAAAAAAHIBAAAAAAAAcgEAACwA
AAATBAAAIAIAADMGAABiAAAAngEAABUAAAAAAAAAAAAAAAAAAAAAAAAAogAAAAAAAAD+AAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAD+AAAAAAAAAP4AAAAAAAAA/gAAAAAAAAD+AAAAAAAAAJ4BAAAAAAAA
/gAAAAAAAACiAAAAAAAAAKIAAAAAAAAA/gAAAAAAAAAAAAAAAAAAAP4AAAAAAAAA/gAAAAAAAAD+
AAAAAAAAAP4AAAAAAAAA/gAAAAAAAAD+AAAAAAAAAKIAAAAAAAAA/gAAAAAAAACiAAAAAAAAAP4A
AAAAAAAAcAEAAAAAAAAAAAAAAAAAAP4AAAAAAAAAtgAAAA4AAADEAAAADgAAAKIAAAAAAAAAogAA
AAAAAACiAAAAAAAAAKIAAAAAAAAA/gAAAAAAAABwAQAAAAAAAP4AAAByAAAA/gAAAAAAAAAAAAAA
AAAAAHABAAAAAAAAogAAAAAAAACiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAEAAAAAAAAAAAAAAAAAAPIAAAAMAAAAiw1bugAA
AADSAAAAAAAAANIAAAAAAAAA/gAAAAAAAABwAQAAAAAAAAAAAAAAAAAAcAEAAAAAAACzAQAAAAAA
ALMBAAAAAAAAcAEAAAAAAACVBgAAAAAAAP4AAAAAAAAAlQYAAAAAAABwAQAAAAAAAP4AAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABADDAA8A5QAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEZWFy
IFINDWlzIHRoYXQgYSBidWc/PzoNDVItY29kZToNIyBkYXRhIHByZXBhcmF0aW9uDWQuZGF0YTwt
cmVhZC50YWJsZSgiYnVnLnR4dCIsaGVhZGVyPVQpDWQuZGF0YSRmYWN0MTwtYXMuZmFjdG9yKGQu
RjEkZmFjdDEpDWQuZGF0YSRmYWN0MjwtYXMuZmFjdG9yKGQuRjEkZmFjdDIpDWxpYnJhcnkoc3Vy
dml2YWwpDSMgQ294IFByb3BvcnRpb25hbCBIYXphcmQNci5jb3g8LWNveHBoKFN1cnYodGltZSxk
ZWx0YSl+ZmFjdDErZmFjdDIrY292YXIsZGF0YT1kLmRhdGEpDWRyb3AxKHIuY294LHRlc3Q9IkNo
aXNxIikNDW91dHB1dDoNU2luZ2xlIHRlcm0gZGVsZXRpb25zDQ1Nb2RlbDoNU3Vydih0aW1lLCBk
ZWx0YSkgfiBmYWN0MSArIGZhY3QyICsgY292YXINICAgICAgIERmICAgIEFJQyAgICBMUlQgICBQ
cihDaGkpICAgIA08bm9uZT4gICAgODI3LjkwICAgICAgICAgICAgICAgICAgICAgDWZhY3QxICAg
NyA4MjguNDkgIDE0LjU4ICAgMC4wNDE3MiAqICANZmFjdDIgICA0IDg0My41NCAgMjMuNjMgOS40
NTVlLTA1ICoqKg1jb3ZhciAgIDEgODI1Ljk4ICAgMC4wOCAgIDAuNzc3NjkgICAgDS0tLQ1TaWdu
aWYuIGNvZGVzOiAgMCBgKioqJyAwLjAwMSBgKionIDAuMDEgYConIDAuMDUgYC4nIDAuMSBgICcg
MQ0NDWlmIEkgZG8gdGhlIHNhbWUgb24gc3BzcywgdGhlIHAtdmFsdWUgZm9yIGZhY3QxIGlzIDAu
MDIsIGZvciBmYWN0MiwgaXRzIDAuMDAxLiBJcyB0aGF0IGEgYnVnIG9yIGp1c3QgZGlmZmVyZW50
IHByb2NlZHVyZXM/DQ1hbHNvLCBpZiBOQSdzIGFyZSBpbiB0aGUgZmlsZSwgdGhlIHAtdmFsdWVz
IHNlZW0gdG8gYmUgY29tcGxldGVseSBpbXBvc3NpYmxlLi4uDQ1iZXN0DVBpdXMNDQAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGAAAiBgAA
JAYAADQGAABQBgAAtgYAAM8GAAAnBwAAMAcAAFIJAABTCQAAAPnx+eri6gDZ1AAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAIT0oHAFFKBwAAEUIqAU9KBwBRSgcAcGgAAAAADzUIgU9KBgBQSgAA
UUoGAAxPSgUAUEoAAFFKBQAADzUIgU9KBABQSgAAUUoEAAxPSgMAUEoAAFFKAwAKAAYAAAcGAAAI
BgAAGQYAABoGAAAiBgAANQYAAFwGAACABgAApAYAALYGAADQBgAADQcAACcHAAAoBwAAMAcAAEYH
AABHBwAATgcAAHgHAACeBwAAxAcAAOoHAAAQCAAANggAADoIAAB5CAAA/QAAAAAAAAAAAAAAAP0A
AAAAAAAAAAAAAAD9AAAAAAAAAAAAAAAA/QAAAAAAAAAAAAAAAP0AAAAAAAAAAAAAAADhAAAAAAAA
AAAAAAAA4QAAAAAAAAAAAAAAAOEAAAAAAAAAAAAAAADhAAAAAAAAAAAAAAAA4QAAAAAAAAAAAAAA
AOEAAAAAAAAAAAAAAADhAAAAAAAAAAAAAAAA4QAAAAAAAAAAAAAAAP0AAAAAAAAAAAAAAAD9AAAA
AAAAAAAAAAAA/QAAAAAAAAAAAAAAAP0AAAAAAAAAAAAAAAD9AAAAAAAAAAAAAAAA/QAAAAAAAAAA
AAAAAP0AAAAAAAAAAAAAAAD9AAAAAAAAAAAAAAAA/QAAAAAAAAAAAAAAAP0AAAAAAAAAAAAAAAD9
AAAAAAAAAAAAAAAA/QAAAAAAAAAAAAAAAP0AAAAAAAAAAAAAAAAAAAAAHAAAMSQANyQAOCQASCQA
DcYmAAzQAqAFcAhACxAO4BCwE4AWUBkgHPAewCEAAAAAAAAAAAAAAAAAAQAAABoABgAABwYAAAgG
AAAZBgAAGgYAACIGAAA1BgAAXAYAAIAGAACkBgAAtgYAANAGAAANBwAAJwcAACgHAAAwBwAARgcA
AEcHAABOBwAAeAcAAJ4HAADEBwAA6gcAABAIAAA2CAAAOggAAHkIAAB6CAAAewgAAPYIAAD3CAAA
RwkAAEgJAABNCQAAUgkAAFMJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAI3kIAAB6CAAAewgA
APYIAAD3CAAARwkAAEgJAABNCQAAUgkAAFMJAAD9AAAAAAAAAAAAAAAA/QAAAAAAAAAAAAAAAP0A
AAAAAAAAAAAAAAD9AAAAAAAAAAAAAAAA/QAAAAAAAAAAAAAAAP0AAAAAAAAAAAAAAAD9AAAAAAAA
AAAAAAAA/QAAAAAAAAAAAAAAAP0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAJHAAfsNAvILDgPSGw
CAcisAgHI5CgBSSQoAUlsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASAA8ACgABAGkADwAC
AAgACAAIADQAAEDx/wIANAAAAAYATgBvAHIAbQBhAGwAAAACAAAAFABDShgAT0oIAFBKCABRSggA
bUgJBAAAAAAAAAAAAAAAAAAAAAAAADwAQUDy/6EAPAAAABYARABlAGYAYQB1AGwAdAAgAFAAYQBy
AGEAZwByAGEAcABoACAARgBvAG4AdAAAAAAAAAAAAAAAAAAAAAAAUwMAAAUAABYAAAAA/////wEA
AAAEIP//AQCgepkAAAAAAFMDAAAAAAAAAAAABgAAUwkAAAcAAAAABgAAeQgAAFMJAAAIAAAACgAA
AAAGAABTCQAACQAAAP//AgAAAAsAcABpAHUAcwAgAGsAbwByAG4AZQByACkAVABvAHAAbwBsAGkA
bgBvACAASABEACAAOgBVAHMAZQByAHMAOgBrAG8AcgBuAGUAcgA6AEQAZQBzAGsAdABvAHAAOgBi
AHUAZwAuAGQAbwBjAP9AA4ABAFIDAABSAwAA3GOyAwEAAQBSAwAAAAAAAHgCAAAAAAAAAwADACMD
owICEAAAAAAAAABTAwAAUAAADABAAAAJAAAARwaQAQAAAAICBgMFBAUCAwAAAAMAAAAAAAAAAAAA
AAABAAAAAAAAAFQAaQBtAGUAcwAgAE4AZQB3ACAAUgBvAG0AYQBuAAAANQaQAQIAAAIABQAAAAAA
AAAAAAAQAAAAAAAAAAAAAAAAAACAAAAAAFMAeQBtAGIAbwBsAAAAMwaQAQAAAAILBgQCAgICAgAA
AAMAAAAAAAAAAAAAAAABAAAAAAAAAEEAcgBpAGEAbAAAADsGkAEAAAACAAUAAAAAAAAAAAADAAAA
AAAAAAAAAAAAAQAAAAAAAABIAGUAbAB2AGUAdABpAGMAYQAAAFEgkAFNDwAAAAAAAAAAAAAAAAAD
AAAAAAAAAAAAAAAAAQAAAAAAAABIAGUAbAB2AGUAdABpAGMAYQAtAEIAbwBsAGQAAABUAGkAbQBl
AHMAAABNAJABTQ0AAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAEAAAAAAAAATAB1AGMAaQBkAGEA
RwByAGEAbgBkAGUAAABUAGkAbQBlAHMAAABXAJABTRIAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAA
AAEAAAAAAAAATAB1AGMAaQBkAGEARwByAGEAbgBkAGUALQBCAG8AbABkAAAAVABpAG0AZQBzAAAA
QQaQAQAAAAILBQYCAgIDAgAAAAMAAAAAAAAAAAAAAAABAAAAAAAAAEEAcgBpAGEAbAAgAE4AYQBy
AHIAbwB3AAAAMwaQAQAAAAIABQAAAAAAAAAAAAMAAAAAAAAAAAAAAAABAAAAAAAAAFQAaQBtAGUA
cwAAACAABAAxCIwYAPDQAgAAaAEAAAAAVNxxJlfccSYAAAAAAQADAAAAAAAAAAAAAAABAAEAAAAE
AAMQAQAAAAAAAAAAAAAAAQABAAAAAQAAAAAAAADpAwDwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAClBsAHtAC0AIAAEjAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAHICAAAAAAgAAEAA
8BAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//xIAAAAAAAAABgBEAGUAYQByACAA
UgAAAAAAAAALAHAAaQB1AHMAIABrAG8AcgBuAGUAcgALAHAAaQB1AHMAIABrAG8AcgBuAGUAcgAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/v8AAAMKAQAAAAAAAAAAAAAAAAAA
AAAAAQAAAOCFn/L5T2gQq5EIACsns9kwAAAAXAEAABAAAAABAAAAiAAAAAIAAACQAAAAAwAAAKAA
AAAEAAAArAAAAAUAAADAAAAABwAAAMwAAAAIAAAA3AAAAAkAAADwAAAAEgAAAPwAAAAKAAAAGAEA
AAwAAAAkAQAADQAAADABAAAOAAAAPAEAAA8AAABEAQAAEAAAAEwBAAATAAAAVAEAAAIAAAAQJwAA
HgAAAAcAAABEZWFyIFIAZh4AAAABAAAAAGVhch4AAAAMAAAAcGl1cyBrb3JuZXIAHgAAAAEAAAAA
aXVzHgAAAAcAAABOb3JtYWwAch4AAAAMAAAAcGl1cyBrb3JuZXIAHgAAAAIAAAAxAHVzHgAAABQA
AABNaWNyb3NvZnQgV29yZCAxMC4xAEAAAAAA0klrAAAAAEAAAAAAuHDwH8bCAUAAAAAAirpbIMbC
AQMAAAABAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP7/AAADCgEAAAAAAAAAAAAAAAAAAAAAAAEAAAAC
1c3VnC4bEJOXCAArLPmuMAAAAPQAAAAMAAAAAQAAAGgAAAAPAAAAcAAAAAUAAACAAAAABgAAAIgA
AAARAAAAkAAAABcAAACYAAAACwAAAKAAAAAQAAAAqAAAABMAAACwAAAAFgAAALgAAAANAAAAwAAA
AAwAAADTAAAAAgAAABAnAAAeAAAABQAAAGV0aHoAAERlAwAAAAEAAAADAAAAAQAAAAMAAAAAAAAA
AwAAAHIJCgALAAAAAAAAAAsAAAAAAAAACwAAAAAAAAALAAAAAAAAAB4QAAABAAAABwAAAERlYXIg
UgAMEAAAAgAAAB4AAAAGAAAAVGl0bGUAAwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAK
AAAACwAAAP7///8NAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAA/v///xUAAAAWAAAAFwAAABgA
AAAZAAAAGgAAABsAAAD+////HQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAAP7////9////JgAA
AP7////+/////v//////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
/////////////////////////1IAbwBvAHQAIABFAG4AdAByAHkAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWAAUB//////////8DAAAABgkCAAAAAADAAAAAAAAA
RgAAAAAAAAAAAAAAAIDfvdQoxsIBKAAAAIAAAAAAAAAAMQBUAGEAYgBsAGUAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAgD///////////////8A
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAABAAAAAAAABXAG8AcgBkAEQA
bwBjAHUAbQBlAG4AdAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGgAC
AQUAAAD//////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeFgAA
AAAAAAUAUwB1AG0AbQBhAHIAeQBJAG4AZgBvAHIAbQBhAHQAaQBvAG4AAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAoAAIBAgAAAAQAAAD/////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAFAAAAAAQAAAAAAAABQBEAG8AYwB1AG0AZQBuAHQAUwB1AG0AbQBhAHIAeQBJAG4AZgBv
AHIAbQBhAHQAaQBvAG4AAAAAAAAAAAAAADgAAgH///////////////8AAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAABAAAAAAAAABAEMAbwBtAHAATwBiAGoAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgACAQEAAAAGAAAA/////wAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYAAAAAAAAAE8AYgBqAGUAYwB0
AFAAbwBvAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWAAEA
////////////////AAAAAAAAAAAAAAAAAAAAAAAAAACA373UKMbCAYDfvdQoxsIBAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAD///////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAABAAAA/v//////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
/////////////////////wEA/v8CAAEA/////wYJAgAAAAAAwAAAAAAAAEYYAAAATWljcm9zb2Z0
IFdvcmQgRG9jdW1lbnQA/v///05CNlcQAAAAV29yZC5Eb2N1bWVudC44AAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAA

--Apple-Mail-28-953181987--

--Apple-Mail-27-953181986
Content-Disposition: attachment;
	filename=bug.txt
Content-Transfer-Encoding: quoted-printable
Content-Type: text/tab-separated-values;
	x-mac-creator=5843454C;
	x-unix-mode=0644;
	x-mac-type=54455854;
	name="bug.txt"

fact1	fact2	covar	time	delta=0D57	1	71	100	=
0=0D24	27	73	100	0=0D54	42	74	46	1=0D24	=
27	77	100	0=0D60	42	78	100	0=0D33	1	=
78	100	0=0D60	42	79	100	0=0D54	42	79	=
100	0=0D24	1	79	100	0=0D48	27	80	78	=
1=0D54	1	80	100	0=0D54	42	81	34	1=0D24	=
27	81	48	1=0D24	1	81	100	0=0D48	40	=
81	100	0=0D58	1	82	13	1=0D60	27	82	=
100	0=0D24	27	82	100	0=0D60	1	83	14	=
1=0D24	1	83	45	1=0D54	42	83	100	0=0D60	=
42	83	100	0=0D33	1	84	41	1=0D54	42	=
84	45	1=0D60	1	84	74	1=0D57	42	84	=
100	0=0D24	27	84	100	0=0D24	27	84	100	=
0=0D24	42	84	100	0=0D60	42	85	100	0=0D57	=
42	85	100	0=0D54	1	85	100	0=0D58	27	=
86	3	1=0D60	1	86	41	1=0D54	1	86	=
58	1=0D54	1	86	100	0=0D60	27	86	100	=
0=0D24	1	86	100	0=0D24	1	86	100	0=0D24	=
27	87	25	1=0D54	1	87	100	0=0D54	42	=
87	100	0=0D54	42	87	100	0=0D57	27	87	=
100	0=0D54	40	87	100	0=0D24	42	87	100	=
0=0D24	42	87	100	0=0D24	42	87	100	0=0D24	=
40	88	63	1=0D24	42	88	68	1=0D54	42	=
88	89	1=0D54	42	88	100	0=0D54	40	88	=
100	0=0D33	27	88	100	0=0D54	1	88	100	=
0=0D54	40	88	100	0=0D54	27	88	100	0=0D54	=
1	88	100	0=0D24	1	88	100	0=0D24	27	=
88	100	0=0D24	42	88	100	0=0D24	49	88	=
100	0=0D54	40	89	10	1=0D54	1	89	43	=
1=0D60	27	89	58	1=0D60	42	89	100	0=0D54	=
42	89	100	0=0D54	40	89	100	0=0D54	1	=
89	100	0=0D54	40	89	100	0=0D54	49	89	=
100	0=0D54	42	89	100	0=0D54	1	89	100	=
0=0D24	1	89	100	0=0D33	40	89	100	0=0D24	=
49	89	100	0=0D7	42	89	100	0=0D24	27	=
89	100	0=0D24	1	89	100	0=0D33	1	90	=
3	1=0D48	42	90	7	1=0D24	42	90	7	=
1=0D24	1	90	35	1=0D48	1	90	45	1=0D24	=
40	90	52	1=0D60	1	90	58	1=0D58	42	=
90	61	1=0D60	42	90	62	1=0D60	1	90	=
63	1=0D24	42	90	82	1=0D54	27	90	100	=
0=0D60	42	90	100	0=0D54	1	90	100	0=0D54	=
27	90	100	0=0D60	40	90	100	0=0D54	27	=
90	100	0=0D54	40	90	100	0=0D33	40	90	=

==> 2499.audit <==
Wed Jan 29 20:22:13 2003	thomas	changed notes
Wed Jan 29 20:22:13 2003	thomas	foobar
Wed Jan 29 20:22:13 2003	thomas	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2520 *
Subject: Apparent parser problem
From: "Jim Rogers" <jrogers@cantatapharm.com>
Date: Sat, 1 Feb 2003 16:51:41 -0500
--Its an ESS or XEmacs problem. I redirected him to ESS-bugs.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2520 <==
From mailnull@stat.math.ethz.ch  Sat Feb  1 22:52:39 2003
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA05614
	for <R-bugs@biostat.ku.dk>; Sat, 1 Feb 2003 22:52:38 +0100 (MET)
Received: from hypatia.math.ethz.ch (mailnull@localhost [127.0.0.1])
	by hypatia.math.ethz.ch (8.12.6/8.12.6) with ESMTP id h11LpnGG028138
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NO)
	for <R-bugs@biostat.ku.dk>; Sat, 1 Feb 2003 22:51:49 +0100 (MET)
Received: (from mailnull@localhost)
	by hypatia.math.ethz.ch (8.12.6/8.12.6/Submit) id h11Lpm5f028137
	for R-bugs@biostat.ku.dk; Sat, 1 Feb 2003 22:51:48 +0100 (MET)
Received: from franz.stat.wisc.edu (mail@www.omegahat.org [128.105.174.32])
	by hypatia.math.ethz.ch (8.12.6/8.12.6) with ESMTP id h11LpiGF028121
	for <r-bugs@lists.r-project.org>; Sat, 1 Feb 2003 22:51:45 +0100 (MET)
Received: from [66.9.123.50] (helo=mercury.cantatapharm.com)
	by franz.stat.wisc.edu with esmtp (Exim 3.35 #1 (Debian))
	id 18f5Y7-0000kV-00
	for <r-bugs@r-project.org>; Sat, 01 Feb 2003 15:51:43 -0600
content-class: urn:content-classes:message
Subject: Apparent parser problem
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Date: Sat, 1 Feb 2003 16:51:41 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Message-ID: <99A12772DCDEEB458B996332957B0D53011749@mercury.cantatapharm.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Apparent parser problem
Thread-Index: AcLKPBqdX60dZahxRyWJzrWscd1tfQ==
From: "Jim Rogers" <jrogers@cantatapharm.com>
To: <r-bugs@r-project.org>
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by hypatia.math.ethz.ch id h11LpiGF028121
X-Spam-Status: No, hits=0.8 required=5.0
	tests=SPAM_PHRASE_00_01
	version=2.43
X-Spam-Level: 

Let me first admit: I am experiencing this bug on a precompiled binary
of R for windows, and I know these are not supported. I am not asking
for support, but I thought the R developers would want to know about
this. 

# Define:

foo.page <- function(x) x

# Then, 

foo.page("a")

# actually invokes the pager (!) on object named "a" (if one is
defined). 
# same thing happens if you define the function with the name
<anyname>.page.

# Interestingly, 

foo.page("a" )

# will actually act as desired (returns "a")

         _              
platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status                  
major    1              
minor    6.2            
year     2003           
month    01             
day      10             
language R    


Cheers, 
Jim Rogers

James A. Rogers, Ph.D. <rogers@cantatapharm.com>
Statistical Scientist
Cantata Pharmaceuticals
3-G Gill St
Woburn, MA  01801
617.225.9009
Fax 617.225.9010


==> 2520.followup.1 <==
From ripley@stats.ox.ac.uk  Sat Feb  1 23:11:16 2003
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id XAA05674
	for <R-bugs@biostat.ku.dk>; Sat, 1 Feb 2003 23:11:16 +0100 (MET)
From: ripley@stats.ox.ac.uk
Received: from gannet.stats (gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id WAA00664;
	Sat, 1 Feb 2003 22:10:28 GMT
Date: Sat, 1 Feb 2003 22:10:27 +0000 (GMT)
X-X-Sender: ripley@gannet.stats
To: jrogers@cantatapharm.com
cc: R-bugs@biostat.ku.dk
Subject: Re: [Rd] Apparent parser problem (PR#2520)
In-Reply-To: <200302012152.WAA05619@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.44.0302012205160.12055-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

That does not happen here, using the precompiled binary rw1062.exe (which
BTW is supported: it is the 182 addon packages which are not).

You *did* do this in a new session with --vanilla, didn't you?


On Sat, 1 Feb 2003 jrogers@cantatapharm.com wrote:

> Let me first admit: I am experiencing this bug on a precompiled binary
> of R for windows, and I know these are not supported. I am not asking
> for support, but I thought the R developers would want to know about
> this. 
> 
> # Define:
> 
> foo.page <- function(x) x
> 
> # Then, 
> 
> foo.page("a")
> 
> # actually invokes the pager (!) on object named "a" (if one is
> defined). 
> # same thing happens if you define the function with the name
> <anyname>.page.
> 
> # Interestingly, 
> 
> foo.page("a" )
> 
> # will actually act as desired (returns "a")
> 
>          _              
> platform i386-pc-mingw32
> arch     i386           
> os       mingw32        
> system   i386, mingw32  
> status                  
> major    1              
> minor    6.2            
> year     2003           
> month    01             
> day      10             
> language R    
> 
> 
> Cheers, 
> Jim Rogers
> 
> James A. Rogers, Ph.D. <rogers@cantatapharm.com>
> Statistical Scientist
> Cantata Pharmaceuticals
> 3-G Gill St
> Woburn, MA  01801
> 617.225.9009
> Fax 617.225.9010
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 2520.followup.2 <==
From jrogers@cantatapharm.com  Sun Feb  2 02:54:21 2003
Received: from mercury.cantatapharm.com ([66.9.123.50])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id CAA06281
	for <R-bugs@biostat.ku.dk>; Sun, 2 Feb 2003 02:54:20 +0100 (MET)
content-class: urn:content-classes:message
Subject: RE: [Rd] Apparent parser problem (PR#2520)
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Date: Sat, 1 Feb 2003 20:53:28 -0500
Message-ID: <99A12772DCDEEB458B996332957B0D5301174A@mercury.cantatapharm.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Rd] Apparent parser problem (PR#2520)
Thread-Index: AcLKPsxV5Tm5i7xpRlacTaMmQ0IJwQAHTGlQ
From: "Jim Rogers" <jrogers@cantatapharm.com>
To: <ripley@stats.ox.ac.uk>
Cc: <R-bugs@biostat.ku.dk>
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by pubhealth.ku.dk id CAA06281

> You *did* do this in a new session with --vanilla, didn't you?

Almost. What I did was comment out all of the lines of my Rprofile, and
start with a new .Rdata (this should have the same effect as --vanilla,
right?). Doing that, I get the behavior I described, but...

I now see that I only get the problem when running R through iESS. If I
work directly with Rterm, or with Rgui, I don't get the problem. So, R
is not responsible (sorry!) and perhaps I should pursue this outside of
R-bugs. But may I ask if anyone can replicate my problem when working
through iESS?

Jim  

> -----Original Message-----
> From: ripley@stats.ox.ac.uk [mailto:ripley@stats.ox.ac.uk] 
> Sent: Saturday, February 01, 2003 5:10 PM
> To: Jim Rogers
> Cc: R-bugs@biostat.ku.dk
> Subject: Re: [Rd] Apparent parser problem (PR#2520)
> 
> 
> That does not happen here, using the precompiled binary 
> rw1062.exe (which BTW is supported: it is the 182 addon 
> packages which are not).
> 
> You *did* do this in a new session with --vanilla, didn't you?
> 
> 
> On Sat, 1 Feb 2003 jrogers@cantatapharm.com wrote:
> 
> > Let me first admit: I am experiencing this bug on a 
> precompiled binary 
> > of R for windows, and I know these are not supported. I am 
> not asking 
> > for support, but I thought the R developers would want to 
> know about 
> > this.
> > 
> > # Define:
> > 
> > foo.page <- function(x) x
> > 
> > # Then,
> > 
> > foo.page("a")
> > 
> > # actually invokes the pager (!) on object named "a" (if one is 
> > defined). # same thing happens if you define the function with the 
> > name <anyname>.page.
> > 
> > # Interestingly,
> > 
> > foo.page("a" )
> > 
> > # will actually act as desired (returns "a")
> > 
> >          _              
> > platform i386-pc-mingw32
> > arch     i386           
> > os       mingw32        
> > system   i386, mingw32  
> > status                  
> > major    1              
> > minor    6.2            
> > year     2003           
> > month    01             
> > day      10             
> > language R    
> > 
> > 
> > Cheers,
> > Jim Rogers
> > 
> > James A. Rogers, Ph.D. <rogers@cantatapharm.com>
> > Statistical Scientist
> > Cantata Pharmaceuticals
> > 3-G Gill St
> > Woburn, MA  01801
> > 617.225.9009
> > Fax 617.225.9010
> > 
> > ______________________________________________
> > R-devel@stat.math.ethz.ch mailing list 
> > http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> > 
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 

==> 2520.audit <==
Tue Feb  4 01:04:27 2003	thomas	changed notes
Tue Feb  4 01:04:27 2003	thomas	foobar
Tue Feb  4 01:04:27 2003	thomas	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2859 *
Subject: bug and proposed fix in print.trellis 1.7.0
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Sun, 27 Apr 2003 01:56:30 -0400
--Lattice
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2859 <==
From mailnull@stat.math.ethz.ch Sun Apr 27 07:58:02 2003
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3R5w1pD001157
	for <R-bugs@biostat.ku.dk>; Sun, 27 Apr 2003 07:58:01 +0200 (MET DST)
Received: from hypatia.math.ethz.ch (localhost [127.0.0.1])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h3R5vvbj002219
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <R-bugs@biostat.ku.dk>; Sun, 27 Apr 2003 07:57:57 +0200 (MEST)
Received: (from mailnull@localhost)
	by hypatia.math.ethz.ch (8.12.9/8.12.6/Submit) id h3R5vudl002218
	for R-bugs@biostat.ku.dk; Sun, 27 Apr 2003 07:57:56 +0200 (MEST)
Received: from franz.stat.wisc.edu (www.omegahat.org [128.105.174.32])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h3R5vkbi002193
	for <r-bugs@lists.r-project.org>; Sun, 27 Apr 2003 07:57:47 +0200 (MEST)
Received: from surfer.sbm.temple.edu ([155.247.185.2])
	by franz.stat.wisc.edu with esmtp (Exim 3.35 #1 (Debian))
	id 199fAE-0006i6-00
	for <r-bugs@r-project.org>; Sun, 27 Apr 2003 00:57:26 -0500
Received: from localhost (rmh@localhost)
	by surfer.sbm.temple.edu (8.12.8p1/8.12.8) with ESMTP id h3R5uUG52625009
	for <r-bugs@r-project.org>; Sun, 27 Apr 2003 01:56:30 -0400 (EDT)
Date: Sun, 27 Apr 2003 01:56:30 -0400
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
To: <r-bugs@r-project.org>
Subject: bug and proposed fix in print.trellis 1.7.0
Message-ID: <Pine.SGI.4.32.0304270153310.2626055-400000@surfer.sbm.temple.edu>
MIME-Version: 1.0
Content-Type: MULTIPART/MIXED; BOUNDARY="-1678264062-154654637-1051422990=:2626055"
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Spam-Status: No, hits=-9.0 required=5.0 tests=QUOTED_EMAIL_TEXT,USER_AGENT_PINE version=2.53
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.53 (1.174.2.15-2003-03-30-exp)

  This message is in MIME format.  The first part should be readable text,
  while the remaining parts are likely unreadable without MIME-aware tools.
  Send mail to mime@docserver.cac.washington.edu for more info.

---1678264062-154654637-1051422990=:2626055
Content-Type: TEXT/PLAIN; charset=US-ASCII


---1678264062-154654637-1051422990=:2626055
Content-Type: TEXT/PLAIN; charset=US-ASCII; name="pt-R.bug.report"
Content-Transfer-Encoding: BASE64
Content-ID: <Pine.SGI.4.32.0304270156300.2626055@surfer.sbm.temple.edu>
Content-Description: description
Content-Disposition: attachment; filename="pt-R.bug.report"

IyBZb3VyIG1haWxlciBpcyBzZXQgdG8gIm5vbmUiIChkZWZhdWx0IG9uIFdp
bmRvd3MpLA0NCiMgaGVuY2Ugd2UgY2Fubm90IHNlbmQgdGhlIGJ1ZyByZXBv
cnQgZGlyZWN0bHkgZnJvbSBSLg0NCiMgUGxlYXNlIGNvcHkgdGhlIGJ1ZyBy
ZXBvcnQgKGFmdGVyIGZpbmlzaGluZyBpdCkgdG8NDQojIHlvdXIgZmF2b3Jp
dGUgZW1haWwgcHJvZ3JhbSBhbmQgc2VuZCBpdCB0bw0NCiMNDQojICAgICAg
IHItYnVnc0ByLXByb2plY3Qub3JnDQ0KIw0NCiMjIyMjIyMjIyMjIyMjIyMj
IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIw0NCg0NCg0N
ClRoZSBuZXcgZmVhdHVyZSBkZXNjcmliZWQgaW4gcncxMDcwL2xpYnJhcnkv
bGF0dGljZS9DaGFuZ2VzIGlzIHZlcnkNDQp1c2VmdWwgYW5kIGlzIG5lZWRl
ZCBmb3Igc2V2ZXJhbCBvZiB0aGUgZXhhbXBsZXMgSSBzaG93ZWQgYXQgRFND
LTIwMDMuDQ0KDQ0KPiBzY2FsZXMNDQo+IC0tLS0tLQ0NCj4gSW4gYW50aWNp
cGF0aW9uIG9mIGZ1dHVyZSB1c2UgKGluIG5sbWUsIGZvciBleGFtcGxlKSwg
dGhlIGF0IGFuZA0NCj4gbGFiZWxzIGNvbXBvbmVudHMgb2Ygc2NhbGVzIGNh
biBub3cgYmUgYSBsaXN0LiBFYWNoIGVsZW1lbnQNDQo+IGNvcnJlc3BvbmRz
IHRvIGEgcGFuZWwuIFRoaXMgaXMgdGhvcm91Z2hseSB1bnRlc3RlZCBhbmQg
bm90IGd1YXJhbnRlZWQNDQo+IHRvIHdvcmsuDQ0KDQ0KSXQgY3VycmVudGx5
IHJlamVjdHMgY29ycmVjdGx5IGZvcm1lZCB1c2VyIGxhYmVscy4gIEkgYXR0
YWNoIGFuDQ0KZXhhbXBsZSBvZiB0aGUgcHJvYmxlbSBhbmQgYSBwcm9wb3Nl
ZCBmaXguDQ0KDQ0KUmljaA0NCg0NCi0tcGxlYXNlIGRvIG5vdCBlZGl0IHRo
ZSBpbmZvcm1hdGlvbiBiZWxvdy0tDQ0KDQ0KVmVyc2lvbjoNDQogcGxhdGZv
cm0gPSBpMzg2LXBjLW1pbmd3MzINDQogYXJjaCA9IGkzODYNDQogb3MgPSBt
aW5ndzMyDQ0KIHN5c3RlbSA9IGkzODYsIG1pbmd3MzINDQogc3RhdHVzID0g
DQ0KIG1ham9yID0gMQ0NCiBtaW5vciA9IDcuMA0NCiB5ZWFyID0gMjAwMw0N
CiBtb250aCA9IDA0DQ0KIGRheSA9IDE2DQ0KIGxhbmd1YWdlID0gUg0NCg0N
CldpbmRvd3MgWFAgSG9tZSBFZGl0aW9uIChidWlsZCAyNjAwKSBTZXJ2aWNl
IFBhY2sgMS4wDQ0KDQ0KU2VhcmNoIFBhdGg6DQ0KIC5HbG9iYWxFbnYsIGZp
bGU6YzovSE9NRS9ybWgvaGgvc3BsdXMubGlicmFyeS8uUkRhdGEsIHBhY2th
Z2U6Z3JpZCwgcGFja2FnZTpsYXR0aWNlLCBwYWNrYWdlOm1ldGhvZHMsIHBh
Y2thZ2U6Y3Rlc3QsIHBhY2thZ2U6bXZhLCBwYWNrYWdlOm1vZHJlZywgcGFj
a2FnZTpubHMsIHBhY2thZ2U6dHMsIEF1dG9sb2FkcywgcGFja2FnZTpiYXNl
DQ0K
---1678264062-154654637-1051422990=:2626055
Content-Type: TEXT/PLAIN; charset=US-ASCII; name="pt-test.r"
Content-Transfer-Encoding: BASE64
Content-ID: <Pine.SGI.4.32.0304270156301.2626055@surfer.sbm.temple.edu>
Content-Description: illustration
Content-Disposition: attachment; filename="pt-test.r"

IyMgcHJpbnQudHJlbGxpcyBidWcgaW4gUiAxLjcuMA0KDQp0bXAgPC0gZGF0
YS5mcmFtZShhPWZhY3RvcihjKCJhIiwiYiIsImMiKSksDQogICAgICAgICAg
ICAgICAgICBiPWZhY3RvcihjKCJkIiwiZSIsImYiKSksDQogICAgICAgICAg
ICAgICAgICBkPWZhY3RvcihjKDEsMSwyKSkpDQoNCnh5cGxvdChhIH4gYiB8
IGQsIGRhdGE9dG1wLCAgIyMgd29ya3MNCiAgICAgICAgc2NhbGVzPWxpc3Qo
YWx0ZXJuYXRpbmc9RikpDQoNCnh5cGxvdChhIH4gYiB8IGQsIGRhdGE9dG1w
LCAgIyMgSW52YWxpZCB2YWx1ZSBmb3IgbGFiZWxzDQogICAgICAgc2NhbGVz
PWxpc3QoeD1saXN0KGxhYmVscz1saXN0KGMoImQiLCJlIiwiIiksYygiIiwi
IiwiZiIpKSwNCiAgICAgICAgICAgICAgICAgICAgIGFsdGVybmF0aW5nPUYp
KSkNCg0Kc291cmNlKCJwcmludC50cmVsbGlzLnIiKSAgICAjIyBybWggcHJv
cG9zZWQgZml4DQoNCnh5cGxvdChhIH4gYiB8IGQsIGRhdGE9dG1wLCAgIyMg
bm93IGl0IHdvcmtzDQogICAgICAgc2NhbGVzPWxpc3QoeD1saXN0KGxhYmVs
cz1saXN0KGMoImQiLCJlIiwiIiksYygiIiwiIiwiZiIpKSwNCiAgICAgICAg
ICAgICAgICAgICAgIGFsdGVybmF0aW5nPUYpKSkNCg==
---1678264062-154654637-1051422990=:2626055
Content-Type: TEXT/PLAIN; charset=US-ASCII; name="print.trellis.r"
Content-Transfer-Encoding: BASE64
Content-ID: <Pine.SGI.4.32.0304270156302.2626055@surfer.sbm.temple.edu>
Content-Description: proposed fix
Content-Disposition: attachment; filename="print.trellis.r"

cHJpbnQudHJlbGxpcyA8LQ0KZnVuY3Rpb24gKHgsIHBvc2l0aW9uLCBzcGxp
dCwgbW9yZSA9IEZBTFNFLCBuZXdwYWdlID0gVFJVRSwgcGFuZWwuaGVpZ2h0
ID0gbGlzdCgxLCANCiAgICAibnVsbCIpLCBwYW5lbC53aWR0aCA9IGxpc3Qo
MSwgIm51bGwiKSwgLi4uKSANCnsNCiAgICBpZiAoaXMubnVsbChkZXYubGlz
dCgpKSkgDQogICAgICAgIHRyZWxsaXMuZGV2aWNlKCkNCiAgICBlbHNlIGlm
IChpcy5udWxsKHRyZWxsaXMucGFyLmdldCgpKSkgDQogICAgICAgIHRyZWxs
aXMuZGV2aWNlKGRldmljZSA9IC5EZXZpY2UsIG5ldyA9IEZBTFNFKQ0KICAg
IGJnID0gdHJlbGxpcy5wYXIuZ2V0KCJiYWNrZ3JvdW5kIikkY29sDQogICAg
bmV3IDwtIFRSVUUNCiAgICBpZiAoLmxhdHRpY2UucHJpbnQubW9yZSB8fCAh
bmV3cGFnZSkgDQogICAgICAgIG5ldyA8LSBGQUxTRQ0KICAgIC5sYXR0aWNl
LnByaW50Lm1vcmUgPDwtIG1vcmUNCiAgICB1c3VhbCA8LSAobWlzc2luZyhw
b3NpdGlvbikgJiBtaXNzaW5nKHNwbGl0KSkNCiAgICBmb250c2l6ZS5kZWZh
dWx0IDwtIHRyZWxsaXMucGFyLmdldCgiZm9udHNpemUiKSRkZWZhdWx0DQog
ICAgaWYgKCFtaXNzaW5nKHBvc2l0aW9uKSkgew0KICAgICAgICBpZiAobGVu
Z3RoKHBvc2l0aW9uKSAhPSA0KSANCiAgICAgICAgICAgIHN0b3AoIkluY29y
cmVjdCB2YWx1ZSBvZiBwb3NpdGlvbiIpDQogICAgICAgIGlmIChuZXcpIHsN
CiAgICAgICAgICAgIGdyaWQubmV3cGFnZSgpDQogICAgICAgICAgICBncmlk
LnJlY3QoZ3AgPSBncGFyKGZpbGwgPSBiZywgY29sID0gInRyYW5zcGFyZW50
IikpDQogICAgICAgIH0NCiAgICAgICAgcHVzaC52aWV3cG9ydCh2aWV3cG9y
dCh4ID0gcG9zaXRpb25bMV0sIHkgPSBwb3NpdGlvblsyXSwgDQogICAgICAg
ICAgICB3aWR0aCA9IHBvc2l0aW9uWzNdIC0gcG9zaXRpb25bMV0sIGhlaWdo
dCA9IHBvc2l0aW9uWzRdIC0gDQogICAgICAgICAgICAgICAgcG9zaXRpb25b
Ml0sIGp1c3QgPSBjKCJsZWZ0IiwgImJvdHRvbSIpKSkNCiAgICAgICAgaWYg
KCFtaXNzaW5nKHNwbGl0KSkgew0KICAgICAgICAgICAgaWYgKGxlbmd0aChz
cGxpdCkgIT0gNCkgDQogICAgICAgICAgICAgICAgc3RvcCgiSW5jb3JyZWN0
IHZhbHVlIG9mIHNwbGl0IikNCiAgICAgICAgICAgIHB1c2gudmlld3BvcnQo
dmlld3BvcnQobGF5b3V0ID0gZ3JpZC5sYXlvdXQobnJvdyA9IHNwbGl0WzRd
LCANCiAgICAgICAgICAgICAgICBuY29sID0gc3BsaXRbM10pKSkNCiAgICAg
ICAgICAgIHB1c2gudmlld3BvcnQodmlld3BvcnQobGF5b3V0LnBvcy5yb3cg
PSBzcGxpdFsyXSwgDQogICAgICAgICAgICAgICAgbGF5b3V0LnBvcy5jb2wg
PSBzcGxpdFsxXSkpDQogICAgICAgIH0NCiAgICB9DQogICAgZWxzZSBpZiAo
IW1pc3Npbmcoc3BsaXQpKSB7DQogICAgICAgIGlmIChsZW5ndGgoc3BsaXQp
ICE9IDQpIA0KICAgICAgICAgICAgc3RvcCgiSW5jb3JyZWN0IHZhbHVlIG9m
IHNwbGl0IikNCiAgICAgICAgaWYgKG5ldykgew0KICAgICAgICAgICAgZ3Jp
ZC5uZXdwYWdlKCkNCiAgICAgICAgICAgIGdyaWQucmVjdChncCA9IGdwYXIo
ZmlsbCA9IGJnLCBjb2wgPSAidHJhbnNwYXJlbnQiKSkNCiAgICAgICAgfQ0K
ICAgICAgICBwdXNoLnZpZXdwb3J0KHZpZXdwb3J0KGxheW91dCA9IGdyaWQu
bGF5b3V0KG5yb3cgPSBzcGxpdFs0XSwgDQogICAgICAgICAgICBuY29sID0g
c3BsaXRbM10pKSkNCiAgICAgICAgcHVzaC52aWV3cG9ydCh2aWV3cG9ydChs
YXlvdXQucG9zLnJvdyA9IHNwbGl0WzJdLCBsYXlvdXQucG9zLmNvbCA9IHNw
bGl0WzFdKSkNCiAgICB9DQogICAgcGFuZWwgPC0gaWYgKGlzLmZ1bmN0aW9u
KHgkcGFuZWwpKSANCiAgICAgICAgeCRwYW5lbA0KICAgIGVsc2UgaWYgKGlz
LmNoYXJhY3Rlcih4JHBhbmVsKSkgDQogICAgICAgIGdldCh4JHBhbmVsKQ0K
ICAgIGVsc2UgZXZhbCh4JHBhbmVsKQ0KICAgIHgkc3RyaXAgPC0gaWYgKGlz
LmZ1bmN0aW9uKHgkc3RyaXApKSANCiAgICAgICAgeCRzdHJpcA0KICAgIGVs
c2UgaWYgKGlzLmNoYXJhY3Rlcih4JHN0cmlwKSkgDQogICAgICAgIGdldCh4
JHN0cmlwKQ0KICAgIGVsc2UgZXZhbCh4JHN0cmlwKQ0KICAgIGF4aXMubGlu
ZSA8LSB0cmVsbGlzLnBhci5nZXQoImF4aXMubGluZSIpDQogICAgbnVtYmVy
Lm9mLmNvbmQgPC0gbGVuZ3RoKHgkY29uZGxldmVscykNCiAgICBsYXlvdXQu
cmVzcGVjdCA8LSAheCRhc3BlY3QuZmlsbA0KICAgIGlmIChsYXlvdXQucmVz
cGVjdCkgDQogICAgICAgIHBhbmVsLmhlaWdodFtbMV1dIDwtIHgkYXNwZWN0
LnJhdGlvICogcGFuZWwud2lkdGhbWzFdXQ0KICAgIGlmICghaXMubnVsbCh4
JGtleSkpIHsNCiAgICAgICAga2V5LmdmIDwtIGRyYXcua2V5KHgka2V5KQ0K
ICAgICAgICBrZXkuc3BhY2UgPC0gaWYgKCJzcGFjZSIgJWluJSBuYW1lcyh4
JGtleSkpIA0KICAgICAgICAgICAgeCRrZXkkc3BhY2UNCiAgICAgICAgZWxz
ZSBpZiAoIngiICVpbiUgbmFtZXMoeCRrZXkpIHx8ICJjb3JuZXIiICVpbiUg
bmFtZXMoeCRrZXkpKSANCiAgICAgICAgICAgICJpbnNpZGUiDQogICAgICAg
IGVsc2UgInRvcCINCiAgICB9DQogICAgZWxzZSBpZiAoIWlzLm51bGwoeCRj
b2xvcmtleSkpIHsNCiAgICAgICAga2V5LmdmIDwtIGRyYXcuY29sb3JrZXko
eCRjb2xvcmtleSkNCiAgICAgICAga2V5LnNwYWNlIDwtIGlmICgic3BhY2Ui
ICVpbiUgbmFtZXMoeCRjb2xvcmtleSkpIA0KICAgICAgICAgICAgeCRjb2xv
cmtleSRzcGFjZQ0KICAgICAgICBlbHNlICJyaWdodCINCiAgICB9DQogICAg
eGF4aXMuY29sIDwtIGlmIChpcy5sb2dpY2FsKHgkeC5zY2FsZXMkY29sKSkg
DQogICAgICAgIGF4aXMubGluZSRjb2wNCiAgICBlbHNlIHgkeC5zY2FsZXMk
Y29sDQogICAgeGF4aXMuZm9udCA8LSBpZiAoaXMubG9naWNhbCh4JHguc2Nh
bGVzJGZvbnQpKSANCiAgICAgICAgMQ0KICAgIGVsc2UgeCR4LnNjYWxlcyRm
b250DQogICAgeGF4aXMuY2V4IDwtIHgkeC5zY2FsZXMkY2V4DQogICAgeGF4
aXMucm90IDwtIGlmIChpcy5sb2dpY2FsKHgkeC5zY2FsZXMkcm90KSkgDQog
ICAgICAgIGMoMCwgMCkNCiAgICBlbHNlIHgkeC5zY2FsZXMkcm90DQogICAg
eWF4aXMuY29sIDwtIGlmIChpcy5sb2dpY2FsKHgkeS5zY2FsZXMkY29sKSkg
DQogICAgICAgIGF4aXMubGluZSRjb2wNCiAgICBlbHNlIHgkeS5zY2FsZXMk
Y29sDQogICAgeWF4aXMuZm9udCA8LSBpZiAoaXMubG9naWNhbCh4JHkuc2Nh
bGVzJGZvbnQpKSANCiAgICAgICAgMQ0KICAgIGVsc2UgeCR5LnNjYWxlcyRm
b250DQogICAgeWF4aXMuY2V4IDwtIHgkeS5zY2FsZXMkY2V4DQogICAgeWF4
aXMucm90IDwtIGlmICghaXMubG9naWNhbCh4JHkuc2NhbGVzJHJvdCkpIA0K
ICAgICAgICB4JHkuc2NhbGVzJHJvdA0KICAgIGVsc2UgaWYgKHgkeS5zY2Fs
ZXMkcmVsYXRpb24gIT0gInNhbWUiICYmIGlzLmxvZ2ljYWwoeCR5LnNjYWxl
cyRsYWJlbHMpKSANCiAgICAgICAgYyg5MCwgOTApDQogICAgZWxzZSBjKDAs
IDApDQogICAgc3RyaXAuY29sLmRlZmF1bHQuYmcgPC0gcmVwKHRyZWxsaXMu
cGFyLmdldCgic3RyaXAuYmFja2dyb3VuZCIpJGNvbCwgDQogICAgICAgIGxl
bmd0aCA9IG51bWJlci5vZi5jb25kKQ0KICAgIHN0cmlwLmNvbC5kZWZhdWx0
LmZnIDwtIHJlcCh0cmVsbGlzLnBhci5nZXQoInN0cmlwLnNoaW5nbGUiKSRj
b2wsIA0KICAgICAgICBsZW5ndGggPSBudW1iZXIub2YuY29uZCkNCiAgICBj
b25kLm1heC5sZXZlbCA8LSBpbnRlZ2VyKG51bWJlci5vZi5jb25kKQ0KICAg
IGZvciAoaSBpbiAxOm51bWJlci5vZi5jb25kKSB7DQogICAgICAgIGNvbmQu
bWF4LmxldmVsW2ldIDwtIGxlbmd0aCh4JGNvbmRsZXZlbHNbW2ldXSkNCiAg
ICB9DQogICAgaWYgKHgkbGF5b3V0WzFdID09IDApIHsNCiAgICAgICAgZGRp
bSA8LSBwYXIoImRpbiIpDQogICAgICAgIGRldmljZS5hc3BlY3QgPC0gZGRp
bVsyXS9kZGltWzFdDQogICAgICAgIHBhbmVsLmFzcGVjdCA8LSBwYW5lbC5o
ZWlnaHRbWzFdXS9wYW5lbC53aWR0aFtbMV1dDQogICAgICAgIHBsb3RzLnBl
ci5wYWdlIDwtIHgkbGF5b3V0WzJdDQogICAgICAgIG0gPC0gbWF4KDEsIHJv
dW5kKHNxcnQoeCRsYXlvdXRbMl0gKiBkZXZpY2UuYXNwZWN0L3BhbmVsLmFz
cGVjdCkpKQ0KICAgICAgICBuIDwtIGNlaWxpbmcocGxvdHMucGVyLnBhZ2Uv
bSkNCiAgICAgICAgbSA8LSBjZWlsaW5nKHBsb3RzLnBlci5wYWdlL24pDQog
ICAgICAgIHgkbGF5b3V0WzFdIDwtIG4NCiAgICAgICAgeCRsYXlvdXRbMl0g
PC0gbQ0KICAgIH0NCiAgICBlbHNlIHBsb3RzLnBlci5wYWdlIDwtIHgkbGF5
b3V0WzFdICogeCRsYXlvdXRbMl0NCiAgICBjb2xzLnBlci5wYWdlIDwtIHgk
bGF5b3V0WzFdDQogICAgcm93cy5wZXIucGFnZSA8LSB4JGxheW91dFsyXQ0K
ICAgIG51bWJlci5vZi5wYWdlcyA8LSB4JGxheW91dFszXQ0KICAgIGlmIChj
b2xzLnBlci5wYWdlID4gMSkgDQogICAgICAgIHguYmV0d2VlbiA8LSByZXAo
eCR4LmJldHdlZW4sIGxlbmd0aCA9IGNvbHMucGVyLnBhZ2UgLSANCiAgICAg
ICAgICAgIDEpDQogICAgaWYgKHJvd3MucGVyLnBhZ2UgPiAxKSANCiAgICAg
ICAgeS5iZXR3ZWVuIDwtIHJlcCh4JHkuYmV0d2VlbiwgbGVuZ3RoID0gcm93
cy5wZXIucGFnZSAtIA0KICAgICAgICAgICAgMSkNCiAgICB4LmFsdGVybmF0
aW5nIDwtIHJlcCh4JHguc2NhbGVzJGFsdGVybmF0aW5nLCBsZW5ndGggPSBj
b2xzLnBlci5wYWdlKQ0KICAgIHkuYWx0ZXJuYXRpbmcgPC0gcmVwKHgkeS5z
Y2FsZXMkYWx0ZXJuYXRpbmcsIGxlbmd0aCA9IHJvd3MucGVyLnBhZ2UpDQog
ICAgeC5yZWxhdGlvbi5zYW1lIDwtIHgkeC5zY2FsZXMkcmVsYXRpb24gPT0g
InNhbWUiDQogICAgeS5yZWxhdGlvbi5zYW1lIDwtIHgkeS5zY2FsZXMkcmVs
YXRpb24gPT0gInNhbWUiDQogICAgeGxvZyA8LSB4JHguc2NhbGVzJGxvZw0K
ICAgIHlsb2cgPC0geCR5LnNjYWxlcyRsb2cNCiAgICBpZiAoaXMubG9naWNh
bCh4bG9nKSAmJiB4bG9nKSANCiAgICAgICAgeGxvZyA8LSAxMA0KICAgIGlm
IChpcy5sb2dpY2FsKHlsb2cpICYmIHlsb2cpIA0KICAgICAgICB5bG9nIDwt
IDEwDQogICAgaGF2ZS54bG9nIDwtICFpcy5sb2dpY2FsKHhsb2cpIHx8IHhs
b2cNCiAgICBoYXZlLnlsb2cgPC0gIWlzLmxvZ2ljYWwoeWxvZykgfHwgeWxv
Zw0KICAgIHhsb2diYXNlIDwtIGlmIChpcy5udW1lcmljKHhsb2cpKSANCiAg
ICAgICAgeGxvZw0KICAgIGVsc2UgZXhwKDEpDQogICAgeWxvZ2Jhc2UgPC0g
aWYgKGlzLm51bWVyaWMoeWxvZykpIA0KICAgICAgICB5bG9nDQogICAgZWxz
ZSBleHAoMSkNCiAgICB4bG9ncGFzdGUgPC0gaWYgKGhhdmUueGxvZykgDQog
ICAgICAgIHBhc3RlKGFzLmNoYXJhY3Rlcih4bG9nKSwgIl4iLCBzZXAgPSAi
IikNCiAgICBlbHNlICIiDQogICAgeWxvZ3Bhc3RlIDwtIGlmIChoYXZlLnls
b2cpIA0KICAgICAgICBwYXN0ZShhcy5jaGFyYWN0ZXIoeWxvZyksICJeIiwg
c2VwID0gIiIpDQogICAgZWxzZSAiIg0KICAgIGhhdmUubWFpbiA8LSAhKGlz
Lm51bGwoeCRtYWluJGxhYmVsKSB8fCAoaXMuY2hhcmFjdGVyKHgkbWFpbiRs
YWJlbCkgJiYgDQogICAgICAgIHgkbWFpbiRsYWJlbCA9PSAiIikpDQogICAg
aGF2ZS5zdWIgPC0gIShpcy5udWxsKHgkc3ViJGxhYmVsKSB8fCAoaXMuY2hh
cmFjdGVyKHgkc3ViJGxhYmVsKSAmJiANCiAgICAgICAgeCRzdWIkbGFiZWwg
PT0gIiIpKQ0KICAgIGhhdmUueGxhYiA8LSAhKGlzLm51bGwoeCR4bGFiJGxh
YmVsKSB8fCAoaXMuY2hhcmFjdGVyKHgkeGxhYiRsYWJlbCkgJiYgDQogICAg
ICAgIHgkeGxhYiRsYWJlbCA9PSAiIikpDQogICAgaGF2ZS55bGFiIDwtICEo
aXMubnVsbCh4JHlsYWIkbGFiZWwpIHx8IChpcy5jaGFyYWN0ZXIoeCR5bGFi
JGxhYmVsKSAmJiANCiAgICAgICAgeCR5bGFiJGxhYmVsID09ICIiKSkNCiAg
ICBuLnJvdyA8LSByb3dzLnBlci5wYWdlICogKG51bWJlci5vZi5jb25kICsg
MykgKyAocm93cy5wZXIucGFnZSAtIA0KICAgICAgICAxKSArIDExDQogICAg
bi5jb2wgPC0gMyAqIGNvbHMucGVyLnBhZ2UgKyAoY29scy5wZXIucGFnZSAt
IDEpICsgOQ0KICAgIGlmIChsYXlvdXQucmVzcGVjdCkgew0KICAgICAgICBs
YXlvdXQucmVzcGVjdCA8LSBtYXRyaXgoMCwgbi5yb3csIG4uY29sKQ0KICAg
ICAgICBsYXlvdXQucmVzcGVjdFtudW1iZXIub2YuY29uZCArIDYgKyAoMTpy
b3dzLnBlci5wYWdlIC0gDQogICAgICAgICAgICAxKSAqIChudW1iZXIub2Yu
Y29uZCArIDQpLCAoMTpjb2xzLnBlci5wYWdlIC0gMSkgKiANCiAgICAgICAg
ICAgIDQgKyA4XSA8LSAxDQogICAgfQ0KICAgIGhlaWdodHMueCA8LSByZXAo
MSwgbi5yb3cpDQogICAgaGVpZ2h0cy51bml0cyA8LSByZXAoImxpbmVzIiwg
bi5yb3cpDQogICAgaGVpZ2h0cy5kYXRhIDwtIGFzLmxpc3QoMTpuLnJvdykN
CiAgICB3aWR0aHMueCA8LSByZXAoMSwgbi5jb2wpDQogICAgd2lkdGhzLnVu
aXRzIDwtIHJlcCgibGluZXMiLCBuLmNvbCkNCiAgICB3aWR0aHMuZGF0YSA8
LSBhcy5saXN0KDE6bi5jb2wpDQogICAgaGVpZ2h0cy54W251bWJlci5vZi5j
b25kICsgNiArICgxOnJvd3MucGVyLnBhZ2UgLSAxKSAqIChudW1iZXIub2Yu
Y29uZCArIA0KICAgICAgICA0KV0gPC0gcGFuZWwuaGVpZ2h0W1sxXV0NCiAg
ICBoZWlnaHRzLnVuaXRzW251bWJlci5vZi5jb25kICsgNiArICgxOnJvd3Mu
cGVyLnBhZ2UgLSAxKSAqIA0KICAgICAgICAobnVtYmVyLm9mLmNvbmQgKyA0
KV0gPC0gcGFuZWwuaGVpZ2h0W1syXV0NCiAgICBoZWlnaHRzLnhbbnVtYmVy
Lm9mLmNvbmQgKyA3ICsgKDE6cm93cy5wZXIucGFnZSAtIDEpICogKG51bWJl
ci5vZi5jb25kICsgDQogICAgICAgIDQpXSA8LSAwDQogICAgaGVpZ2h0cy54
W251bWJlci5vZi5jb25kICsgOCArICgxOnJvd3MucGVyLnBhZ2UgLSAxKSAq
IChudW1iZXIub2YuY29uZCArIA0KICAgICAgICA0KV0gPC0gMA0KICAgIGhl
aWdodHMueFs0XSA8LSAwDQogICAgaGVpZ2h0cy54WzVdIDwtIDANCiAgICBo
ZWlnaHRzLnhbbi5yb3cgLSA0XSA8LSAwDQogICAgaGVpZ2h0cy54W24ucm93
IC0gNV0gPC0gMA0KICAgIGlmIChyb3dzLnBlci5wYWdlID4gMSkgDQogICAg
ICAgIGhlaWdodHMueFtudW1iZXIub2YuY29uZCArIDkgKyAoKGlmICh4JGFz
LnRhYmxlKSANCiAgICAgICAgICAgIDE6KHJvd3MucGVyLnBhZ2UgLSAxKQ0K
ICAgICAgICBlbHNlIChyb3dzLnBlci5wYWdlIC0gMSk6MSkgLSAxKSAqIChu
dW1iZXIub2YuY29uZCArIA0KICAgICAgICAgICAgNCldIDwtIHkuYmV0d2Vl
bg0KICAgIGhlaWdodHMueFsxXSA8LSAwLjUNCiAgICBoZWlnaHRzLnhbMl0g
PC0gaWYgKGhhdmUubWFpbikgDQogICAgICAgIDIgKiB4JG1haW4kY2V4DQog
ICAgZWxzZSAwDQogICAgaWYgKGhhdmUubWFpbikgew0KICAgICAgICBoZWln
aHRzLnVuaXRzWzJdIDwtICJzdHJoZWlnaHQiDQogICAgICAgIGhlaWdodHMu
ZGF0YVtbMl1dIDwtIHgkbWFpbiRsYWINCiAgICB9DQogICAgaGVpZ2h0cy54
W24ucm93XSA8LSAwLjUNCiAgICBoZWlnaHRzLnhbbi5yb3cgLSAxXSA8LSBp
ZiAoaGF2ZS5zdWIpIA0KICAgICAgICAyICogeCRzdWIkY2V4DQogICAgZWxz
ZSAwDQogICAgaWYgKGhhdmUuc3ViKSB7DQogICAgICAgIGhlaWdodHMudW5p
dHNbbi5yb3cgLSAxXSA8LSAic3RyaGVpZ2h0Ig0KICAgICAgICBoZWlnaHRz
LmRhdGFbW24ucm93IC0gMV1dIDwtIHgkc3ViJGxhYg0KICAgIH0NCiAgICBo
ZWlnaHRzLnhbM10gPC0gMA0KICAgIGhlaWdodHMueFtuLnJvdyAtIDJdIDwt
IDANCiAgICBoZWlnaHRzLmluc2VydGxpc3QucG9zaXRpb24gPC0gMA0KICAg
IGhlaWdodHMuaW5zZXJ0bGlzdC51bml0IDwtIHVuaXQoMSwgIm51bGwiKQ0K
ICAgIGlmICh4JHguc2NhbGVzJGRyYXcpIHsNCiAgICAgICAgaWYgKHgucmVs
YXRpb24uc2FtZSkgew0KICAgICAgICAgICAgbGFiIDwtIGNhbGN1bGF0ZUF4
aXNDb21wb25lbnRzKHggPSB4JHgubGltaXRzLCBhdCA9IHgkeC5zY2FsZXMk
YXQsIA0KICAgICAgICAgICAgICAgIGxhYmVscyA9IHgkeC5zY2FsZXMkbGFi
LCBoYXZlLmxvZyA9IGhhdmUueGxvZywgDQogICAgICAgICAgICAgICAgbG9n
YmFzZSA9IHhsb2diYXNlLCBsb2dwYXN0ZSA9IHhsb2dwYXN0ZSwgYWJicmV2
aWF0ZSA9IHgkeC5zY2FsZXMkYWJiciwgDQogICAgICAgICAgICAgICAgbWlu
bGVuZ3RoID0geCR4LnNjYWxlcyRtaW5sLCBuID0geCR4LnNjYWxlcyR0aWNr
Lm51bWJlcikkbGFiDQojIyAgICAgICAgICBpZiAoaXMuY2hhcmFjdGVyKGxh
YikpIA0KICAgICAgICAgICAgaWYgKGFsbChzYXBwbHkobGFiLCBpcy5jaGFy
YWN0ZXIpKSkgICMjIHJtaA0KICAgICAgICAgICAgICAgIHN0cmJhciA8LSBh
cy5saXN0KGxhYikNCiAgICAgICAgICAgIGVsc2UgaWYgKGlzLmV4cHJlc3Np
b24obGFiKSkgew0KICAgICAgICAgICAgICAgIHN0cmJhciA8LSBsaXN0KCkN
CiAgICAgICAgICAgICAgICBmb3IgKHNzIGluIHNlcShhbG9uZyA9IGxhYikp
IHN0cmJhciA8LSBjKHN0cmJhciwgDQogICAgICAgICAgICAgICAgICBsaXN0
KGxhYltzc10pKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBz
dG9wKCJJbnZhbGlkIHZhbHVlIGZvciBsYWJlbHMiKQ0KICAgICAgICAgICAg
aGVpZ2h0cy54WzVdIDwtIDAuNSArIG1heCgwLjAwMSwgeCR4LnNjYWxlcyR0
Y2tbMl0pICogDQogICAgICAgICAgICAgICAgMC4zDQogICAgICAgICAgICBo
ZWlnaHRzLnhbbi5yb3cgLSA1XSA8LSAwLjUgKyBtYXgoMC4wMDEsIHgkeC5z
Y2FsZXMkdGNrWzFdKSAqIA0KICAgICAgICAgICAgICAgIDAuMw0KICAgICAg
ICAgICAgaWYgKGFueSh4LmFsdGVybmF0aW5nID09IDIgfCB4LmFsdGVybmF0
aW5nID09IDMpKSB7DQogICAgICAgICAgICAgICAgaWYgKHhheGlzLnJvdFsy
XSAlaW4lIGMoMCwgMTgwKSkgew0KICAgICAgICAgICAgICAgICAgaGVpZ2h0
cy5pbnNlcnRsaXN0LnBvc2l0aW9uIDwtIGMoaGVpZ2h0cy5pbnNlcnRsaXN0
LnBvc2l0aW9uLCANCiAgICAgICAgICAgICAgICAgICAgNCkNCiAgICAgICAg
ICAgICAgICAgIGhlaWdodHMuaW5zZXJ0bGlzdC51bml0IDwtIHVuaXQuYyho
ZWlnaHRzLmluc2VydGxpc3QudW5pdCwgDQogICAgICAgICAgICAgICAgICAg
IG1heCh1bml0KHJlcCgxICogeGF4aXMuY2V4WzJdLCBsZW5ndGgoc3RyYmFy
KSksIA0KICAgICAgICAgICAgICAgICAgICAgICJzdHJoZWlnaHQiLCBzdHJi
YXIpKSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxz
ZSB7DQogICAgICAgICAgICAgICAgICBoZWlnaHRzLmluc2VydGxpc3QucG9z
aXRpb24gPC0gYyhoZWlnaHRzLmluc2VydGxpc3QucG9zaXRpb24sIA0KICAg
ICAgICAgICAgICAgICAgICA0KQ0KICAgICAgICAgICAgICAgICAgaGVpZ2h0
cy5pbnNlcnRsaXN0LnVuaXQgPC0gdW5pdC5jKGhlaWdodHMuaW5zZXJ0bGlz
dC51bml0LCANCiAgICAgICAgICAgICAgICAgICAgbWF4KHVuaXQocmVwKDEg
KiB4YXhpcy5jZXhbMl0gKiBhYnMoc2luKHhheGlzLnJvdFsyXSAqIA0KICAg
ICAgICAgICAgICAgICAgICAgIGJhc2U6OnBpLzE4MCkpLCBsZW5ndGgoc3Ry
YmFyKSksICJzdHJ3aWR0aCIsIA0KICAgICAgICAgICAgICAgICAgICAgIHN0
cmJhcikpKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAg
ICAgICAgICAgIGlmIChhbnkoeC5hbHRlcm5hdGluZyA9PSAxIHwgeC5hbHRl
cm5hdGluZyA9PSAzKSkgew0KICAgICAgICAgICAgICAgIGlmICh4YXhpcy5y
b3RbMV0gJWluJSBjKDAsIDE4MCkpIHsNCiAgICAgICAgICAgICAgICAgIGhl
aWdodHMuaW5zZXJ0bGlzdC5wb3NpdGlvbiA8LSBjKGhlaWdodHMuaW5zZXJ0
bGlzdC5wb3NpdGlvbiwgDQogICAgICAgICAgICAgICAgICAgIG4ucm93IC0g
NCkNCiAgICAgICAgICAgICAgICAgIGhlaWdodHMuaW5zZXJ0bGlzdC51bml0
IDwtIHVuaXQuYyhoZWlnaHRzLmluc2VydGxpc3QudW5pdCwgDQogICAgICAg
ICAgICAgICAgICAgIG1heCh1bml0KHJlcCgxICogeGF4aXMuY2V4WzFdLCBs
ZW5ndGgoc3RyYmFyKSksIA0KICAgICAgICAgICAgICAgICAgICAgICJzdHJo
ZWlnaHQiLCBzdHJiYXIpKSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAg
ICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICBoZWlnaHRzLmlu
c2VydGxpc3QucG9zaXRpb24gPC0gYyhoZWlnaHRzLmluc2VydGxpc3QucG9z
aXRpb24sIA0KICAgICAgICAgICAgICAgICAgICBuLnJvdyAtIDQpDQogICAg
ICAgICAgICAgICAgICBoZWlnaHRzLmluc2VydGxpc3QudW5pdCA8LSB1bml0
LmMoaGVpZ2h0cy5pbnNlcnRsaXN0LnVuaXQsIA0KICAgICAgICAgICAgICAg
ICAgICBtYXgodW5pdChyZXAoMSAqIHhheGlzLmNleFsxXSAqIGFicyhzaW4o
eGF4aXMucm90WzFdICogDQogICAgICAgICAgICAgICAgICAgICAgYmFzZTo6
cGkvMTgwKSksIGxlbmd0aChzdHJiYXIpKSwgInN0cndpZHRoIiwgDQogICAg
ICAgICAgICAgICAgICAgICAgc3RyYmFyKSkpDQogICAgICAgICAgICAgICAg
fQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGVsc2Ugew0K
ICAgICAgICAgICAgbGFiZWxDaGFycyA8LSBjaGFyYWN0ZXIoMCkNCiAgICAg
ICAgICAgIGxhYmVsRXhwcnMgPC0gZXhwcmVzc2lvbigwKQ0KICAgICAgICAg
ICAgZm9yIChpIGluIHNlcShhbG9uZyA9IHgkeC5saW1pdHMpKSB7DQogICAg
ICAgICAgICAgICAgbGFiIDwtIGNhbGN1bGF0ZUF4aXNDb21wb25lbnRzKHgg
PSB4JHgubGltaXRzW1tpXV0sIA0KICAgICAgICAgICAgICAgICAgYXQgPSBp
ZiAoaXMubGlzdCh4JHguc2NhbGVzJGF0KSkgDQogICAgICAgICAgICAgICAg
ICAgIHgkeC5zY2FsZXMkYXRbW2ldXQ0KICAgICAgICAgICAgICAgICAgZWxz
ZSB4JHguc2NhbGVzJGF0LCBsYWJlbHMgPSBpZiAoaXMubGlzdCh4JHguc2Nh
bGVzJGxhYikpIA0KICAgICAgICAgICAgICAgICAgICB4JHguc2NhbGVzJGxh
YltbaV1dDQogICAgICAgICAgICAgICAgICBlbHNlIHgkeC5zY2FsZXMkbGFi
LCBoYXZlLmxvZyA9IGhhdmUueGxvZywgDQogICAgICAgICAgICAgICAgICBs
b2diYXNlID0geGxvZ2Jhc2UsIGxvZ3Bhc3RlID0geGxvZ3Bhc3RlLCBhYmJy
ZXZpYXRlID0geCR4LnNjYWxlcyRhYmJyLCANCiAgICAgICAgICAgICAgICAg
IG1pbmxlbmd0aCA9IHgkeC5zY2FsZXMkbWlubCwgbiA9IHgkeC5zY2FsZXMk
dGljay5udW1iZXIpJGxhYg0KICAgICAgICAgICAgICAgIGlmIChpcy5jaGFy
YWN0ZXIobGFiKSkgDQogICAgICAgICAgICAgICAgICBsYWJlbENoYXJzIDwt
IGMobGFiZWxDaGFycywgbGFiKQ0KICAgICAgICAgICAgICAgIGVsc2UgaWYg
KGlzLmV4cHJlc3Npb24obGFiKSkgDQogICAgICAgICAgICAgICAgICBsYWJl
bEV4cHJzIDwtIGMobGFiZWxFeHBycywgbGFiKQ0KICAgICAgICAgICAgfQ0K
ICAgICAgICAgICAgbGFiZWxDaGFycyA8LSB1bmlxdWUobGFiZWxDaGFycykN
CiAgICAgICAgICAgIHN0cmJhciA8LSBsaXN0KCkNCiAgICAgICAgICAgIGZv
ciAoc3MgaW4gbGFiZWxDaGFycykgc3RyYmFyIDwtIGMoc3RyYmFyLCBsaXN0
KHNzKSkNCiAgICAgICAgICAgIGZvciAoc3MgaW4gc2VxKGFsb25nID0gbGFi
ZWxFeHBycykpIHN0cmJhciA8LSBjKHN0cmJhciwgDQogICAgICAgICAgICAg
ICAgbGlzdChsYWJlbEV4cHJzW3NzXSkpDQogICAgICAgICAgICBpZiAoeGF4
aXMucm90WzFdICVpbiUgYygwLCAxODApKSB7DQogICAgICAgICAgICAgICAg
aGVpZ2h0cy54W251bWJlci5vZi5jb25kICsgNyArICgxOnJvd3MucGVyLnBh
Z2UgLSANCiAgICAgICAgICAgICAgICAgIDEpICogKG51bWJlci5vZi5jb25k
ICsgNCldIDwtIG1heCgwLjAwMSwgeCR4LnNjYWxlcyR0Y2tbMV0pICogDQog
ICAgICAgICAgICAgICAgICAwLjMNCiAgICAgICAgICAgICAgICBoZWlnaHRz
Lmluc2VydGxpc3QucG9zaXRpb24gPC0gYyhoZWlnaHRzLmluc2VydGxpc3Qu
cG9zaXRpb24sIA0KICAgICAgICAgICAgICAgICAgbnVtYmVyLm9mLmNvbmQg
KyA4ICsgKDE6cm93cy5wZXIucGFnZSAtIDEpICogDQogICAgICAgICAgICAg
ICAgICAgIChudW1iZXIub2YuY29uZCArIDQpKQ0KICAgICAgICAgICAgICAg
IGZvciAoaSBpbiAxOnJvd3MucGVyLnBhZ2UpIGhlaWdodHMuaW5zZXJ0bGlz
dC51bml0IDwtIHVuaXQuYyhoZWlnaHRzLmluc2VydGxpc3QudW5pdCwgDQog
ICAgICAgICAgICAgICAgICBtYXgodW5pdChyZXAoMS41ICogeGF4aXMuY2V4
WzFdLCBsZW5ndGgoc3RyYmFyKSksIA0KICAgICAgICAgICAgICAgICAgICAi
c3RyaGVpZ2h0Iiwgc3RyYmFyKSkpDQogICAgICAgICAgICB9DQogICAgICAg
ICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICBoZWlnaHRzLnhbbnVtYmVy
Lm9mLmNvbmQgKyA3ICsgKDE6cm93cy5wZXIucGFnZSAtIA0KICAgICAgICAg
ICAgICAgICAgMSkgKiAobnVtYmVyLm9mLmNvbmQgKyA0KV0gPC0gbWF4KDAu
MDAxLCB4JHguc2NhbGVzJHRja1sxXSkgKiANCiAgICAgICAgICAgICAgICAg
IDAuMw0KICAgICAgICAgICAgICAgIGhlaWdodHMuaW5zZXJ0bGlzdC5wb3Np
dGlvbiA8LSBjKGhlaWdodHMuaW5zZXJ0bGlzdC5wb3NpdGlvbiwgDQogICAg
ICAgICAgICAgICAgICBudW1iZXIub2YuY29uZCArIDggKyAoMTpyb3dzLnBl
ci5wYWdlIC0gMSkgKiANCiAgICAgICAgICAgICAgICAgICAgKG51bWJlci5v
Zi5jb25kICsgNCkpDQogICAgICAgICAgICAgICAgZm9yIChpIGluIDE6cm93
cy5wZXIucGFnZSkgaGVpZ2h0cy5pbnNlcnRsaXN0LnVuaXQgPC0gdW5pdC5j
KGhlaWdodHMuaW5zZXJ0bGlzdC51bml0LCANCiAgICAgICAgICAgICAgICAg
IG1heCh1bml0KHJlcCgxLjUgKiB4YXhpcy5jZXhbMV0gKiBhYnMoc2luKHhh
eGlzLnJvdFsxXSAqIA0KICAgICAgICAgICAgICAgICAgICBiYXNlOjpwaS8x
ODApKSwgbGVuZ3RoKHN0cmJhcikpLCAic3Ryd2lkdGgiLCANCiAgICAgICAg
ICAgICAgICAgICAgc3RyYmFyKSkpDQogICAgICAgICAgICB9DQogICAgICAg
IH0NCiAgICB9DQogICAgaGVpZ2h0cy54W24ucm93IC0gM10gPC0gaWYgKGhh
dmUueGxhYikgDQogICAgICAgIDIgKiB4JHhsYWIkY2V4DQogICAgZWxzZSAw
DQogICAgaWYgKGhhdmUueGxhYikgew0KICAgICAgICBoZWlnaHRzLnVuaXRz
W24ucm93IC0gM10gPC0gInN0cmhlaWdodCINCiAgICAgICAgaGVpZ2h0cy5k
YXRhW1tuLnJvdyAtIDNdXSA8LSB4JHhsYWIkbGFiDQogICAgfQ0KICAgIGZv
ciAoY3JyIGluIDE6bnVtYmVyLm9mLmNvbmQpIGhlaWdodHMueFtudW1iZXIu
b2YuY29uZCArIA0KICAgICAgICA2ICsgKDE6cm93cy5wZXIucGFnZSAtIDEp
ICogKG51bWJlci5vZi5jb25kICsgNCkgLSBjcnJdIDwtIGlmIChpcy5sb2dp
Y2FsKHgkc3RyaXApKSANCiAgICAgICAgMA0KICAgIGVsc2UgMS4xICogeCRw
YXIuc3RyaXAudGV4dCRjZXggKiB4JHBhci5zdHJpcC50ZXh0JGxpbmVzDQog
ICAgd2lkdGhzLnhbM10gPC0gaWYgKGhhdmUueWxhYikgDQogICAgICAgIDIg
KiB4JHlsYWIkY2V4DQogICAgZWxzZSAwDQogICAgaWYgKGhhdmUueWxhYikg
ew0KICAgICAgICB3aWR0aHMudW5pdHNbM10gPC0gInN0cmhlaWdodCINCiAg
ICAgICAgd2lkdGhzLmRhdGFbWzNdXSA8LSB4JHlsYWIkbGFiDQogICAgfQ0K
ICAgIHdpZHRocy54WygxOmNvbHMucGVyLnBhZ2UgLSAxKSAqIDQgKyA4XSA8
LSBwYW5lbC53aWR0aFtbMV1dDQogICAgd2lkdGhzLnVuaXRzWygxOmNvbHMu
cGVyLnBhZ2UgLSAxKSAqIDQgKyA4XSA8LSBwYW5lbC53aWR0aFtbMl1dDQog
ICAgd2lkdGhzLnhbKDE6Y29scy5wZXIucGFnZSAtIDEpICogNCArIDddIDwt
IDANCiAgICB3aWR0aHMueFsoMTpjb2xzLnBlci5wYWdlIC0gMSkgKiA0ICsg
Nl0gPC0gMA0KICAgIHdpZHRocy54WzRdIDwtIDANCiAgICB3aWR0aHMueFs1
XSA8LSAwDQogICAgd2lkdGhzLnhbbi5jb2wgLSAyXSA8LSAwDQogICAgd2lk
dGhzLnhbbi5jb2wgLSAzXSA8LSAwDQogICAgaWYgKGNvbHMucGVyLnBhZ2Ug
PiAxKSANCiAgICAgICAgd2lkdGhzLnhbKDE6KGNvbHMucGVyLnBhZ2UgLSAx
KSAtIDEpICogNCArIDldIDwtIHguYmV0d2Vlbg0KICAgIHdpZHRocy54WzFd
IDwtIDAuNQ0KICAgIHdpZHRocy54W24uY29sXSA8LSAwLjUNCiAgICB3aWR0
aHMueFsyXSA8LSAwDQogICAgd2lkdGhzLnhbbi5jb2wgLSAxXSA8LSAwDQog
ICAgd2lkdGhzLmluc2VydGxpc3QucG9zaXRpb24gPC0gMA0KICAgIHdpZHRo
cy5pbnNlcnRsaXN0LnVuaXQgPC0gdW5pdCgxLCAibnVsbCIpDQogICAgaWYg
KHgkeS5zY2FsZXMkZHJhdykgew0KICAgICAgICBpZiAoeS5yZWxhdGlvbi5z
YW1lKSB7DQogICAgICAgICAgICBsYWIgPC0gY2FsY3VsYXRlQXhpc0NvbXBv
bmVudHMoeCA9IHgkeS5saW1pdHMsIGF0ID0geCR5LnNjYWxlcyRhdCwgDQog
ICAgICAgICAgICAgICAgbGFiZWxzID0geCR5LnNjYWxlcyRsYWIsIGhhdmUu
bG9nID0gaGF2ZS55bG9nLCANCiAgICAgICAgICAgICAgICBsb2diYXNlID0g
eWxvZ2Jhc2UsIGxvZ3Bhc3RlID0geWxvZ3Bhc3RlLCBhYmJyZXZpYXRlID0g
eCR5LnNjYWxlcyRhYmJyLCANCiAgICAgICAgICAgICAgICBtaW5sZW5ndGgg
PSB4JHkuc2NhbGVzJG1pbmwsIG4gPSB4JHkuc2NhbGVzJHRpY2subnVtYmVy
KSRsYWINCiMjICAgICAgICAgIGlmIChpcy5jaGFyYWN0ZXIobGFiKSkgDQog
ICAgICAgICAgICBpZiAoYWxsKHNhcHBseShsYWIsIGlzLmNoYXJhY3Rlcikp
KSAgIyMgcm1oDQogICAgICAgICAgICAgICAgc3RyYmFyIDwtIGFzLmxpc3Qo
bGFiKQ0KICAgICAgICAgICAgZWxzZSBpZiAoaXMuZXhwcmVzc2lvbihsYWIp
KSB7DQogICAgICAgICAgICAgICAgc3RyYmFyIDwtIGxpc3QoKQ0KICAgICAg
ICAgICAgICAgIGZvciAoc3MgaW4gc2VxKGFsb25nID0gbGFiKSkgc3RyYmFy
IDwtIGMoc3RyYmFyLCANCiAgICAgICAgICAgICAgICAgIGxpc3QobGFiW3Nz
XSkpDQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIHN0b3AoIklu
dmFsaWQgdmFsdWUgZm9yIGxhYmVscyIpDQogICAgICAgICAgICB3aWR0aHMu
eFs1XSA8LSAwLjUgKyBtYXgoMC4wMDEsIHgkeS5zY2FsZXMkdGNrWzFdKSAq
IA0KICAgICAgICAgICAgICAgIDAuMw0KICAgICAgICAgICAgd2lkdGhzLnhb
bi5jb2wgLSAzXSA8LSBtYXgoMSwgeCR5LnNjYWxlcyR0Y2tbMl0pICogDQog
ICAgICAgICAgICAgICAgMC41DQogICAgICAgICAgICBpZiAoYW55KHkuYWx0
ZXJuYXRpbmcgPT0gMSB8IHkuYWx0ZXJuYXRpbmcgPT0gMykpIHsNCiAgICAg
ICAgICAgICAgICBpZiAoYWJzKHlheGlzLnJvdFsxXSkgPT0gOTApIHsNCiAg
ICAgICAgICAgICAgICAgIHdpZHRocy5pbnNlcnRsaXN0LnBvc2l0aW9uIDwt
IGMod2lkdGhzLmluc2VydGxpc3QucG9zaXRpb24sIA0KICAgICAgICAgICAg
ICAgICAgICA0KQ0KICAgICAgICAgICAgICAgICAgd2lkdGhzLmluc2VydGxp
c3QudW5pdCA8LSB1bml0LmMod2lkdGhzLmluc2VydGxpc3QudW5pdCwgDQog
ICAgICAgICAgICAgICAgICAgIG1heCh1bml0KDEgKiByZXAoeWF4aXMuY2V4
WzFdLCBsZW5ndGgoc3RyYmFyKSksIA0KICAgICAgICAgICAgICAgICAgICAg
ICJzdHJoZWlnaHQiLCBkYXRhID0gc3RyYmFyKSkpDQogICAgICAgICAgICAg
ICAgfQ0KICAgICAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAg
ICAgd2lkdGhzLmluc2VydGxpc3QucG9zaXRpb24gPC0gYyh3aWR0aHMuaW5z
ZXJ0bGlzdC5wb3NpdGlvbiwgDQogICAgICAgICAgICAgICAgICAgIDQpDQog
ICAgICAgICAgICAgICAgICB3aWR0aHMuaW5zZXJ0bGlzdC51bml0IDwtIHVu
aXQuYyh3aWR0aHMuaW5zZXJ0bGlzdC51bml0LCANCiAgICAgICAgICAgICAg
ICAgICAgbWF4KHVuaXQocmVwKDEgKiB5YXhpcy5jZXhbMV0gKiBhYnMoY29z
KHlheGlzLnJvdFsxXSAqIA0KICAgICAgICAgICAgICAgICAgICAgIGJhc2U6
OnBpLzE4MCkpLCBsZW5ndGgoc3RyYmFyKSksICJzdHJ3aWR0aCIsIA0KICAg
ICAgICAgICAgICAgICAgICAgIHN0cmJhcikpKQ0KICAgICAgICAgICAgICAg
IH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChhbnkoeS5hbHRl
cm5hdGluZyA9PSAyIHwgeS5hbHRlcm5hdGluZyA9PSAzKSkgew0KICAgICAg
ICAgICAgICAgIGlmIChhYnMoeWF4aXMucm90WzJdKSA9PSA5MCkgew0KICAg
ICAgICAgICAgICAgICAgd2lkdGhzLmluc2VydGxpc3QucG9zaXRpb24gPC0g
Yyh3aWR0aHMuaW5zZXJ0bGlzdC5wb3NpdGlvbiwgDQogICAgICAgICAgICAg
ICAgICAgIG4uY29sIC0gMikNCiAgICAgICAgICAgICAgICAgIHdpZHRocy5p
bnNlcnRsaXN0LnVuaXQgPC0gdW5pdC5jKHdpZHRocy5pbnNlcnRsaXN0LnVu
aXQsIA0KICAgICAgICAgICAgICAgICAgICBtYXgodW5pdChyZXAoMSAqIHlh
eGlzLmNleFsyXSwgbGVuZ3RoKHN0cmJhcikpLCANCiAgICAgICAgICAgICAg
ICAgICAgICAic3RyaGVpZ2h0Iiwgc3RyYmFyKSkpDQogICAgICAgICAgICAg
ICAgfQ0KICAgICAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAg
ICAgd2lkdGhzLmluc2VydGxpc3QucG9zaXRpb24gPC0gYyh3aWR0aHMuaW5z
ZXJ0bGlzdC5wb3NpdGlvbiwgDQogICAgICAgICAgICAgICAgICAgIG4uY29s
IC0gMikNCiAgICAgICAgICAgICAgICAgIHdpZHRocy5pbnNlcnRsaXN0LnVu
aXQgPC0gdW5pdC5jKHdpZHRocy5pbnNlcnRsaXN0LnVuaXQsIA0KICAgICAg
ICAgICAgICAgICAgICBtYXgodW5pdChyZXAoMSAqIHlheGlzLmNleFsyXSAq
IGFicyhjb3MoeWF4aXMucm90WzJdICogDQogICAgICAgICAgICAgICAgICAg
ICAgYmFzZTo6cGkvMTgwKSksIGxlbmd0aChzdHJiYXIpKSwgInN0cndpZHRo
IiwgDQogICAgICAgICAgICAgICAgICAgICAgc3RyYmFyKSkpDQogICAgICAg
ICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAg
IGVsc2Ugew0KICAgICAgICAgICAgbGFiZWxDaGFycyA8LSBjaGFyYWN0ZXIo
MCkNCiAgICAgICAgICAgIGxhYmVsRXhwcnMgPC0gZXhwcmVzc2lvbigwKQ0K
ICAgICAgICAgICAgZm9yIChpIGluIHNlcShhbG9uZyA9IHgkeS5saW1pdHMp
KSB7DQogICAgICAgICAgICAgICAgbGFiIDwtIGNhbGN1bGF0ZUF4aXNDb21w
b25lbnRzKHggPSB4JHkubGltaXRzW1tpXV0sIA0KICAgICAgICAgICAgICAg
ICAgYXQgPSBpZiAoaXMubGlzdCh4JHkuc2NhbGVzJGF0KSkgDQogICAgICAg
ICAgICAgICAgICAgIHgkeS5zY2FsZXMkYXRbW2ldXQ0KICAgICAgICAgICAg
ICAgICAgZWxzZSB4JHkuc2NhbGVzJGF0LCBsYWJlbHMgPSBpZiAoaXMubGlz
dCh4JHkuc2NhbGVzJGxhYikpIA0KICAgICAgICAgICAgICAgICAgICB4JHku
c2NhbGVzJGxhYltbaV1dDQogICAgICAgICAgICAgICAgICBlbHNlIHgkeS5z
Y2FsZXMkbGFiLCBoYXZlLmxvZyA9IGhhdmUueWxvZywgDQogICAgICAgICAg
ICAgICAgICBsb2diYXNlID0geWxvZ2Jhc2UsIGxvZ3Bhc3RlID0geWxvZ3Bh
c3RlLCBhYmJyZXZpYXRlID0geCR5LnNjYWxlcyRhYmJyLCANCiAgICAgICAg
ICAgICAgICAgIG1pbmxlbmd0aCA9IHgkeS5zY2FsZXMkbWlubCwgbiA9IHgk
eS5zY2FsZXMkdGljay5udW1iZXIpJGxhYg0KICAgICAgICAgICAgICAgIGlm
IChpcy5jaGFyYWN0ZXIobGFiKSkgDQogICAgICAgICAgICAgICAgICBsYWJl

==> 2859.followup.1 <==
From mailnull@stat.math.ethz.ch Sun Apr 27 16:44:01 2003
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3REi0pD003346
	for <R-bugs@biostat.ku.dk>; Sun, 27 Apr 2003 16:44:00 +0200 (MET DST)
Received: from hypatia.math.ethz.ch (localhost [127.0.0.1])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h3REhvbj013995
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <R-bugs@biostat.ku.dk>; Sun, 27 Apr 2003 16:43:57 +0200 (MEST)
Received: (from mailnull@localhost)
	by hypatia.math.ethz.ch (8.12.9/8.12.6/Submit) id h3REhvfb013971
	for R-bugs@biostat.ku.dk; Sun, 27 Apr 2003 16:43:57 +0200 (MEST)
Received: from franz.stat.wisc.edu (www.omegahat.org [128.105.174.32])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h3REhgbi013939
	for <r-bugs@lists.r-project.org>; Sun, 27 Apr 2003 16:43:43 +0200 (MEST)
Received: from surfer.sbm.temple.edu ([155.247.185.2])
	by franz.stat.wisc.edu with esmtp (Exim 3.35 #1 (Debian))
	id 199nNW-0000Co-00
	for <r-bugs@r-project.org>; Sun, 27 Apr 2003 09:43:42 -0500
Received: (from rmh@localhost)
	by surfer.sbm.temple.edu (8.12.8p1/8.12.8) id h3REh61C2644022;
	Sun, 27 Apr 2003 10:43:06 -0400 (EDT)
Date: Sun, 27 Apr 2003 10:43:06 -0400 (EDT)
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Message-Id: <200304271443.h3REh61C2644022@surfer.sbm.temple.edu>
To: r-bugs@r-project.org
Subject: Re: [Rd] bug and proposed fix in print.trellis 1.7.0 (PR#2859)
Cc: rmh@surfer.sbm.temple.edu
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Spam-Status: No, hits=-0.9 required=5.0 tests=QUOTED_EMAIL_TEXT,WEIRD_QUOTING version=2.53
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.53 (1.174.2.15-2003-03-30-exp)

sent again without attachments at Peter Dalgaard's request

description:
# Your mailer is set to "none" (default on Windows),
# hence we cannot send the bug report directly from R.
# Please copy the bug report (after finishing it) to
# your favorite email program and send it to
#
#       r-bugs@r-project.org
#
######################################################


The new feature described in rw1070/library/lattice/Changes is very
useful and is needed for several of the examples I showed at DSC-2003.

> scales
> ------
> In anticipation of future use (in nlme, for example), the at and
> labels components of scales can now be a list. Each element
> corresponds to a panel. This is thoroughly untested and not guaranteed
> to work.

It currently rejects correctly formed user labels.  I attach an
example of the problem and a proposed fix.

Rich

--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = i386
 os = mingw32
 system = i386, mingw32
 status = 
 major = 1
 minor = 7.0
 year = 2003
 month = 04
 day = 16
 language = R

Windows XP Home Edition (build 2600) Service Pack 1.0

Search Path:
 .GlobalEnv, file:c:/HOME/rmh/hh/splus.library/.RData, package:grid, package:lattice, package:methods, package:ctest, package:mva, package:modreg, package:nls, package:ts, Autoloads, package:base


example:
## print.trellis bug in R 1.7.0

tmp <- data.frame(a=factor(c("a","b","c")),
                  b=factor(c("d","e","f")),
                  d=factor(c(1,1,2)))

xyplot(a ~ b | d, data=tmp,  ## works
        scales=list(alternating=F))

xyplot(a ~ b | d, data=tmp,  ## Invalid value for labels
       scales=list(x=list(labels=list(c("d","e",""),c("","","f")),
                     alternating=F)))

source("print.trellis.r")    ## rmh proposed fix

xyplot(a ~ b | d, data=tmp,  ## now it works
       scales=list(x=list(labels=list(c("d","e",""),c("","","f")),
                     alternating=F)))




proposed fix:
print.trellis <-
function (x, position, split, more = FALSE, newpage = TRUE, panel.height = list(1, 
    "null"), panel.width = list(1, "null"), ...) 
{
    if (is.null(dev.list())) 
        trellis.device()
    else if (is.null(trellis.par.get())) 
        trellis.device(device = .Device, new = FALSE)
    bg = trellis.par.get("background")$col
    new <- TRUE
    if (.lattice.print.more || !newpage) 
        new <- FALSE
    .lattice.print.more <<- more
    usual <- (missing(position) & missing(split))
    fontsize.default <- trellis.par.get("fontsize")$default
    if (!missing(position)) {
        if (length(position) != 4) 
            stop("Incorrect value of position")
        if (new) {
            grid.newpage()
            grid.rect(gp = gpar(fill = bg, col = "transparent"))
        }
        push.viewport(viewport(x = position[1], y = position[2], 
            width = position[3] - position[1], height = position[4] - 
                position[2], just = c("left", "bottom")))
        if (!missing(split)) {
            if (length(split) != 4) 
                stop("Incorrect value of split")
            push.viewport(viewport(layout = grid.layout(nrow = split[4], 
                ncol = split[3])))
            push.viewport(viewport(layout.pos.row = split[2], 
                layout.pos.col = split[1]))
        }
    }
    else if (!missing(split)) {
        if (length(split) != 4) 
            stop("Incorrect value of split")
        if (new) {
            grid.newpage()
            grid.rect(gp = gpar(fill = bg, col = "transparent"))
        }
        push.viewport(viewport(layout = grid.layout(nrow = split[4], 
            ncol = split[3])))
        push.viewport(viewport(layout.pos.row = split[2], layout.pos.col = split[1]))
    }
    panel <- if (is.function(x$panel)) 
        x$panel
    else if (is.character(x$panel)) 
        get(x$panel)
    else eval(x$panel)
    x$strip <- if (is.function(x$strip)) 
        x$strip
    else if (is.character(x$strip)) 
        get(x$strip)
    else eval(x$strip)
    axis.line <- trellis.par.get("axis.line")
    number.of.cond <- length(x$condlevels)
    layout.respect <- !x$aspect.fill
    if (layout.respect) 
        panel.height[[1]] <- x$aspect.ratio * panel.width[[1]]
    if (!is.null(x$key)) {
        key.gf <- draw.key(x$key)
        key.space <- if ("space" %in% names(x$key)) 
            x$key$space
        else if ("x" %in% names(x$key) || "corner" %in% names(x$key)) 
            "inside"
        else "top"
    }
    else if (!is.null(x$colorkey)) {
        key.gf <- draw.colorkey(x$colorkey)
        key.space <- if ("space" %in% names(x$colorkey)) 
            x$colorkey$space
        else "right"
    }
    xaxis.col <- if (is.logical(x$x.scales$col)) 
        axis.line$col
    else x$x.scales$col
    xaxis.font <- if (is.logical(x$x.scales$font)) 
        1
    else x$x.scales$font
    xaxis.cex <- x$x.scales$cex
    xaxis.rot <- if (is.logical(x$x.scales$rot)) 
        c(0, 0)
    else x$x.scales$rot
    yaxis.col <- if (is.logical(x$y.scales$col)) 
        axis.line$col
    else x$y.scales$col
    yaxis.font <- if (is.logical(x$y.scales$font)) 
        1
    else x$y.scales$font
    yaxis.cex <- x$y.scales$cex
    yaxis.rot <- if (!is.logical(x$y.scales$rot)) 
        x$y.scales$rot
    else if (x$y.scales$relation != "same" && is.logical(x$y.scales$labels)) 
        c(90, 90)
    else c(0, 0)
    strip.col.default.bg <- rep(trellis.par.get("strip.background")$col, 
        length = number.of.cond)
    strip.col.default.fg <- rep(trellis.par.get("strip.shingle")$col, 
        length = number.of.cond)
    cond.max.level <- integer(number.of.cond)
    for (i in 1:number.of.cond) {
        cond.max.level[i] <- length(x$condlevels[[i]])
    }
    if (x$layout[1] == 0) {
        ddim <- par("din")
        device.aspect <- ddim[2]/ddim[1]
        panel.aspect <- panel.height[[1]]/panel.width[[1]]
        plots.per.page <- x$layout[2]
        m <- max(1, round(sqrt(x$layout[2] * device.aspect/panel.aspect)))
        n <- ceiling(plots.per.page/m)
        m <- ceiling(plots.per.page/n)
        x$layout[1] <- n
        x$layout[2] <- m
    }
    else plots.per.page <- x$layout[1] * x$layout[2]
    cols.per.page <- x$layout[1]
    rows.per.page <- x$layout[2]
    number.of.pages <- x$layout[3]
    if (cols.per.page > 1) 
        x.between <- rep(x$x.between, length = cols.per.page - 
            1)
    if (rows.per.page > 1) 
        y.between <- rep(x$y.between, length = rows.per.page - 
            1)
    x.alternating <- rep(x$x.scales$alternating, length = cols.per.page)
    y.alternating <- rep(x$y.scales$alternating, length = rows.per.page)
    x.relation.same <- x$x.scales$relation == "same"
    y.relation.same <- x$y.scales$relation == "same"
    xlog <- x$x.scales$log
    ylog <- x$y.scales$log
    if (is.logical(xlog) && xlog) 
        xlog <- 10
    if (is.logical(ylog) && ylog) 
        ylog <- 10
    have.xlog <- !is.logical(xlog) || xlog
    have.ylog <- !is.logical(ylog) || ylog
    xlogbase <- if (is.numeric(xlog)) 
        xlog
    else exp(1)
    ylogbase <- if (is.numeric(ylog)) 
        ylog
    else exp(1)
    xlogpaste <- if (have.xlog) 
        paste(as.character(xlog), "^", sep = "")
    else ""
    ylogpaste <- if (have.ylog) 
        paste(as.character(ylog), "^", sep = "")
    else ""
    have.main <- !(is.null(x$main$label) || (is.character(x$main$label) && 
        x$main$label == ""))
    have.sub <- !(is.null(x$sub$label) || (is.character(x$sub$label) && 
        x$sub$label == ""))
    have.xlab <- !(is.null(x$xlab$label) || (is.character(x$xlab$label) && 
        x$xlab$label == ""))
    have.ylab <- !(is.null(x$ylab$label) || (is.character(x$ylab$label) && 
        x$ylab$label == ""))
    n.row <- rows.per.page * (number.of.cond + 3) + (rows.per.page - 
        1) + 11
    n.col <- 3 * cols.per.page + (cols.per.page - 1) + 9
    if (layout.respect) {
        layout.respect <- matrix(0, n.row, n.col)
        layout.respect[number.of.cond + 6 + (1:rows.per.page - 
            1) * (number.of.cond + 4), (1:cols.per.page - 1) * 
            4 + 8] <- 1
    }
    heights.x <- rep(1, n.row)
    heights.units <- rep("lines", n.row)
    heights.data <- as.list(1:n.row)
    widths.x <- rep(1, n.col)
    widths.units <- rep("lines", n.col)
    widths.data <- as.list(1:n.col)
    heights.x[number.of.cond + 6 + (1:rows.per.page - 1) * (number.of.cond + 
        4)] <- panel.height[[1]]
    heights.units[number.of.cond + 6 + (1:rows.per.page - 1) * 
        (number.of.cond + 4)] <- panel.height[[2]]
    heights.x[number.of.cond + 7 + (1:rows.per.page - 1) * (number.of.cond + 
        4)] <- 0
    heights.x[number.of.cond + 8 + (1:rows.per.page - 1) * (number.of.cond + 
        4)] <- 0
    heights.x[4] <- 0
    heights.x[5] <- 0
    heights.x[n.row - 4] <- 0
    heights.x[n.row - 5] <- 0
    if (rows.per.page > 1) 
        heights.x[number.of.cond + 9 + ((if (x$as.table) 
            1:(rows.per.page - 1)
        else (rows.per.page - 1):1) - 1) * (number.of.cond + 
            4)] <- y.between
    heights.x[1] <- 0.5
    heights.x[2] <- if (have.main) 
        2 * x$main$cex
    else 0
    if (have.main) {
        heights.units[2] <- "strheight"
        heights.data[[2]] <- x$main$lab
    }
    heights.x[n.row] <- 0.5
    heights.x[n.row - 1] <- if (have.sub) 
        2 * x$sub$cex
    else 0
    if (have.sub) {
        heights.units[n.row - 1] <- "strheight"
        heights.data[[n.row - 1]] <- x$sub$lab
    }
    heights.x[3] <- 0
    heights.x[n.row - 2] <- 0
    heights.insertlist.position <- 0
    heights.insertlist.unit <- unit(1, "null")
    if (x$x.scales$draw) {
        if (x.relation.same) {
            lab <- calculateAxisComponents(x = x$x.limits, at = x$x.scales$at, 
                labels = x$x.scales$lab, have.log = have.xlog, 
                logbase = xlogbase, logpaste = xlogpaste, abbreviate = x$x.scales$abbr, 
                minlength = x$x.scales$minl, n = x$x.scales$tick.number)$lab
##          if (is.character(lab)) 
            if (all(sapply(lab, is.character)))  ## rmh
                strbar <- as.list(lab)
            else if (is.expression(lab)) {
                strbar <- list()
                for (ss in seq(along = lab)) strbar <- c(strbar, 
                  list(lab[ss]))
            }
            else stop("Invalid value for labels")
            heights.x[5] <- 0.5 + max(0.001, x$x.scales$tck[2]) * 
                0.3
            heights.x[n.row - 5] <- 0.5 + max(0.001, x$x.scales$tck[1]) * 
                0.3
            if (any(x.alternating == 2 | x.alternating == 3)) {
                if (xaxis.rot[2] %in% c(0, 180)) {
                  heights.insertlist.position <- c(heights.insertlist.position, 
                    4)
                  heights.insertlist.unit <- unit.c(heights.insertlist.unit, 
                    max(unit(rep(1 * xaxis.cex[2], length(strbar)), 
                      "strheight", strbar)))
                }
                else {
                  heights.insertlist.position <- c(heights.insertlist.position, 
                    4)
                  heights.insertlist.unit <- unit.c(heights.insertlist.unit, 
                    max(unit(rep(1 * xaxis.cex[2] * abs(sin(xaxis.rot[2] * 
                      base::pi/180)), length(strbar)), "strwidth", 
                      strbar)))
                }
            }
            if (any(x.alternating == 1 | x.alternating == 3)) {
                if (xaxis.rot[1] %in% c(0, 180)) {
                  heights.insertlist.position <- c(heights.insertlist.position, 
                    n.row - 4)
                  heights.insertlist.unit <- unit.c(heights.insertlist.unit, 
                    max(unit(rep(1 * xaxis.cex[1], length(strbar)), 
                      "strheight", strbar)))
                }
                else {
                  heights.insertlist.position <- c(heights.insertlist.position, 
                    n.row - 4)
                  heights.insertlist.unit <- unit.c(heights.insertlist.unit, 
                    max(unit(rep(1 * xaxis.cex[1] * abs(sin(xaxis.rot[1] * 
                      base::pi/180)), length(strbar)), "strwidth", 
                      strbar)))
                }
            }
        }
        else {
            labelChars <- character(0)
            labelExprs <- expression(0)
            for (i in seq(along = x$x.limits)) {
                lab <- calculateAxisComponents(x = x$x.limits[[i]], 
                  at = if (is.list(x$x.scales$at)) 
                    x$x.scales$at[[i]]
                  else x$x.scales$at, labels = if (is.list(x$x.scales$lab)) 
                    x$x.scales$lab[[i]]
                  else x$x.scales$lab, have.log = have.xlog, 
                  logbase = xlogbase, logpaste = xlogpaste, abbreviate = x$x.scales$abbr, 
                  minlength = x$x.scales$minl, n = x$x.scales$tick.number)$lab
                if (is.character(lab)) 
                  labelChars <- c(labelChars, lab)
                else if (is.expression(lab)) 
                  labelExprs <- c(labelExprs, lab)
            }
            labelChars <- unique(labelChars)
            strbar <- list()
            for (ss in labelChars) strbar <- c(strbar, list(ss))
            for (ss in seq(along = labelExprs)) strbar <- c(strbar, 
                list(labelExprs[ss]))
            if (xaxis.rot[1] %in% c(0, 180)) {
                heights.x[number.of.cond + 7 + (1:rows.per.page - 
                  1) * (number.of.cond + 4)] <- max(0.001, x$x.scales$tck[1]) * 
                  0.3
                heights.insertlist.position <- c(heights.insertlist.position, 
                  number.of.cond + 8 + (1:rows.per.page - 1) * 
                    (number.of.cond + 4))
                for (i in 1:rows.per.page) heights.insertlist.unit <- unit.c(heights.insertlist.unit, 
                  max(unit(rep(1.5 * xaxis.cex[1], length(strbar)), 
                    "strheight", strbar)))
            }
            else {
                heights.x[number.of.cond + 7 + (1:rows.per.page - 
                  1) * (number.of.cond + 4)] <- max(0.001, x$x.scales$tck[1]) * 
                  0.3
                heights.insertlist.position <- c(heights.insertlist.position, 
                  number.of.cond + 8 + (1:rows.per.page - 1) * 
                    (number.of.cond + 4))
                for (i in 1:rows.per.page) heights.insertlist.unit <- unit.c(heights.insertlist.unit, 
                  max(unit(rep(1.5 * xaxis.cex[1] * abs(sin(xaxis.rot[1] * 
                    base::pi/180)), length(strbar)), "strwidth", 
                    strbar)))
            }
        }
    }
    heights.x[n.row - 3] <- if (have.xlab) 
        2 * x$xlab$cex
    else 0
    if (have.xlab) {
        heights.units[n.row - 3] <- "strheight"
        heights.data[[n.row - 3]] <- x$xlab$lab
    }
    for (crr in 1:number.of.cond) heights.x[number.of.cond + 
        6 + (1:rows.per.page - 1) * (number.of.cond + 4) - crr] <- if (is.logical(x$strip)) 
        0
    else 1.1 * x$par.strip.text$cex * x$par.strip.text$lines
    widths.x[3] <- if (have.ylab) 
        2 * x$ylab$cex
    else 0
    if (have.ylab) {
        widths.units[3] <- "strheight"
        widths.data[[3]] <- x$ylab$lab
    }
    widths.x[(1:cols.per.page - 1) * 4 + 8] <- panel.width[[1]]
    widths.units[(1:cols.per.page - 1) * 4 + 8] <- panel.width[[2]]
    widths.x[(1:cols.per.page - 1) * 4 + 7] <- 0
    widths.x[(1:cols.per.page - 1) * 4 + 6] <- 0
    widths.x[4] <- 0
    widths.x[5] <- 0
    widths.x[n.col - 2] <- 0
    widths.x[n.col - 3] <- 0
    if (cols.per.page > 1) 
        widths.x[(1:(cols.per.page - 1) - 1) * 4 + 9] <- x.between
    widths.x[1] <- 0.5
    widths.x[n.col] <- 0.5
    widths.x[2] <- 0
    widths.x[n.col - 1] <- 0
    widths.insertlist.position <- 0
    widths.insertlist.unit <- unit(1, "null")
    if (x$y.scales$draw) {
        if (y.relation.same) {
            lab <- calculateAxisComponents(x = x$y.limits, at = x$y.scales$at, 
                labels = x$y.scales$lab, have.log = have.ylog, 
                logbase = ylogbase, logpaste = ylogpaste, abbreviate = x$y.scales$abbr, 
                minlength = x$y.scales$minl, n = x$y.scales$tick.number)$lab
##          if (is.character(lab)) 
            if (all(sapply(lab, is.character)))  ## rmh
                strbar <- as.list(lab)
            else if (is.expression(lab)) {
                strbar <- list()
                for (ss in seq(along = lab)) strbar <- c(strbar, 
                  list(lab[ss]))
            }
            else stop("Invalid value for labels")
            widths.x[5] <- 0.5 + max(0.001, x$y.scales$tck[1]) * 
                0.3
            widths.x[n.col - 3] <- max(1, x$y.scales$tck[2]) * 
                0.5
            if (any(y.alternating == 1 | y.alternating == 3)) {
                if (abs(yaxis.rot[1]) == 90) {
                  widths.insertlist.position <- c(widths.insertlist.position, 
                    4)
                  widths.insertlist.unit <- unit.c(widths.insertlist.unit, 
                    max(unit(1 * rep(yaxis.cex[1], length(strbar)), 
                      "strheight", data = strbar)))
                }
                else {
                  widths.insertlist.position <- c(widths.insertlist.position, 
                    4)
                  widths.insertlist.unit <- unit.c(widths.insertlist.unit, 
                    max(unit(rep(1 * yaxis.cex[1] * abs(cos(yaxis.rot[1] * 
                      base::pi/180)), length(strbar)), "strwidth", 
                      strbar)))
                }
            }
            if (any(y.alternating == 2 | y.alternating == 3)) {
                if (abs(yaxis.rot[2]) == 90) {
                  widths.insertlist.position <- c(widths.insertlist.position, 
                    n.col - 2)
                  widths.insertlist.unit <- unit.c(widths.insertlist.unit, 
                    max(unit(rep(1 * yaxis.cex[2], length(strbar)), 
                      "strheight", strbar)))
                }
                else {
                  widths.insertlist.position <- c(widths.insertlist.position, 
                    n.col - 2)
                  widths.insertlist.unit <- unit.c(widths.insertlist.unit, 
                    max(unit(rep(1 * yaxis.cex[2] * abs(cos(yaxis.rot[2] * 
                      base::pi/180)), length(strbar)), "strwidth", 

==> 2859.audit <==
Tue Apr 29 10:53:09 2003	ripley	changed notes
Tue Apr 29 10:53:09 2003	ripley	foobar
Tue Apr 29 10:53:09 2003	ripley	moved from incoming to Add-ons

==> 2859.followup.2 <==
From deepayan@stat.wisc.edu Tue May 13 22:26:55 2003
Received: from sabe.cs.wisc.edu (sabe.cs.wisc.edu [128.105.6.20])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h4DKQs2b001914
	for <R-bugs@biostat.ku.dk>; Tue, 13 May 2003 22:26:54 +0200 (MET DST)
Received: from 192.168.0.114 (66-188-128-48.mad.wi.charter.com [66.188.128.48])
	(authenticated (0 bits))
	by sabe.cs.wisc.edu (8.11.3/8.11.3) with ESMTP id h4DKQot21116
	(using TLSv1/SSLv3 with cipher RC4-MD5 (128 bits) verified NO);
	Tue, 13 May 2003 15:26:50 -0500
From: Deepayan Sarkar <deepayan@stat.wisc.edu>
To: rmh@surfer.sbm.temple.edu
Subject: Re: [Rd] bug and proposed fix in print.trellis 1.7.0 (PR#2859)
Date: Tue, 13 May 2003 15:27:05 -0500
User-Agent: KMail/1.5.1
Cc: R-bugs@biostat.ku.dk
References: <200304271444.h3REi9pD003350@pubhealth.ku.dk>
In-Reply-To: <200304271444.h3REi9pD003350@pubhealth.ku.dk>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200305131527.05339.deepayan@stat.wisc.edu>


Hi,

sorry for the delay, I didn't have time to look at this earlier.

On Sunday 27 April 2003 09:44, rmh@surfer.sbm.temple.edu wrote:

> The new feature described in rw1070/library/lattice/Changes is very
> useful and is needed for several of the examples I showed at DSC-2003.
>
> > scales
> > ------
> > In anticipation of future use (in nlme, for example), the at and
> > labels components of scales can now be a list. Each element
> > corresponds to a panel. This is thoroughly untested and not guaranteed
> > to work.

It's not at all clear from this entry, but I meant to do this only when 
relation="free" or "sliced" in scales, because those are the only cases in 
which different tick positions and labels can be guaranteed to be associated 
with each panel. In the relation = "same" case, changing the layout changes 
which labels go with which panel (and if alternating = 0 or 3, it's even 
ambiguous).

I notice now that your first example (with the 'at' but no 'labels') does 
produce some output that seems to take the list into account, but that was 
unintended. My preference would be to produce an error in such cases, but I'm 
open to other suggestions.

Do you really need this ? I think relation="free" would suit your purpose 
quite well, at least in the given example. Perhaps I could additionally allow 
'limits' (which is ignored now for relation="free") to be a list as well.

Deepayan


> It currently rejects correctly formed user labels.  I attach an
> example of the problem and a proposed fix.
>
> Rich
>
> --please do not edit the information below--
>
> Version:
>  platform = i386-pc-mingw32
>  arch = i386
>  os = mingw32
>  system = i386, mingw32
>  status =
>  major = 1
>  minor = 7.0
>  year = 2003
>  month = 04
>  day = 16
>  language = R
>
> Windows XP Home Edition (build 2600) Service Pack 1.0
>
> Search Path:
>  .GlobalEnv, file:c:/HOME/rmh/hh/splus.library/.RData, package:grid,
> package:lattice, package:methods, package:ctest, package:mva,
> package:modreg, package:nls, package:ts, Autoloads, package:base
>
>
> example:
> ## print.trellis bug in R 1.7.0
>
> tmp <- data.frame(a=factor(c("a","b","c")),
>                   b=factor(c("d","e","f")),
>                   d=factor(c(1,1,2)))
>
> xyplot(a ~ b | d, data=tmp,  ## works
>         scales=list(alternating=F))
>
> xyplot(a ~ b | d, data=tmp,  ## Invalid value for labels
>        scales=list(x=list(labels=list(c("d","e",""),c("","","f")),
>                      alternating=F)))
>
> source("print.trellis.r")    ## rmh proposed fix
>
> xyplot(a ~ b | d, data=tmp,  ## now it works
>        scales=list(x=list(labels=list(c("d","e",""),c("","","f")),
>                      alternating=F)))



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2865 *
Subject: bug in y limits in bwplot
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Mon, 28 Apr 2003 02:19:53 -0400 (EDT)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2865 <==
From mailnull@stat.math.ethz.ch Mon Apr 28 08:20:38 2003
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3S6KcpD006491
	for <R-bugs@biostat.ku.dk>; Mon, 28 Apr 2003 08:20:38 +0200 (MET DST)
Received: from hypatia.math.ethz.ch (localhost [127.0.0.1])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h3S6KZbj016116
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <R-bugs@biostat.ku.dk>; Mon, 28 Apr 2003 08:20:35 +0200 (MEST)
Received: (from mailnull@localhost)
	by hypatia.math.ethz.ch (8.12.9/8.12.6/Submit) id h3S6KYeM016115
	for R-bugs@biostat.ku.dk; Mon, 28 Apr 2003 08:20:34 +0200 (MEST)
Received: from franz.stat.wisc.edu (www.omegahat.org [128.105.174.32])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h3S6KTbi016095
	for <r-bugs@lists.r-project.org>; Mon, 28 Apr 2003 08:20:30 +0200 (MEST)
Received: from surfer.sbm.temple.edu ([155.247.185.2])
	by franz.stat.wisc.edu with esmtp (Exim 3.35 #1 (Debian))
	id 19A205-0008Hy-00
	for <r-bugs@r-project.org>; Mon, 28 Apr 2003 01:20:29 -0500
Received: (from rmh@localhost)
	by surfer.sbm.temple.edu (8.12.8p1/8.12.8) id h3S6JrAx2647908;
	Mon, 28 Apr 2003 02:19:53 -0400 (EDT)
Date: Mon, 28 Apr 2003 02:19:53 -0400 (EDT)
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Message-Id: <200304280619.h3S6JrAx2647908@surfer.sbm.temple.edu>
To: r-bugs@r-project.org
Subject: bug in y limits in bwplot
Cc: rmh@surfer.sbm.temple.edu
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Spam-Status: No, hits=0.0 required=5.0 tests=none version=2.53
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.53 (1.174.2.15-2003-03-30-exp)

# Your mailer is set to "none" (default on Windows),
# hence we cannot send the bug report directly from R.
# Please copy the bug report (after finishing it) to
# your favorite email program and send it to
#
#       r-bugs@r-project.org
#
######################################################

## bug in y limits in bwplot

tmp <- data.frame(y=1:10, a=factor(rep(1:2,5)))

## x limits in bwplot works as expected
bwplot(y ~ a, data=tmp, horizontal=F)  # works

bwplot(y ~ a, data=tmp, horizontal=F,  # works
       xlim=c(-1,5))

bwplot(y ~ a, data=tmp, horizontal=F,  # works
       scales=list(x=list(limits=c(-1,5))))


## problem with y limits in bwplot
bwplot(a ~ y, data=tmp, horizontal=T)  # works

bwplot(a ~ y, data=tmp, horizontal=T,  # works
       ylim=c(-1,5))

bwplot(a ~ y, data=tmp, horizontal=T,  # error message
       scales=list(y=list(limits=c(-1,5))))


## transcript with error message
> bwplot(a ~ y, data=tmp, horizontal=T,  # error message
+        scales=list(y=list(limits=c(-1,5))))
Error in print.trellis(structure(list(as.table = FALSE, aspect.fill = TRUE,  : 
	Invalid value for labels
In addition: Warning message: 
is.na() applied to non-(list or vector) in: is.na(x) 
> 





--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = i386
 os = mingw32
 system = i386, mingw32
 status = 
 major = 1
 minor = 7.0
 year = 2003
 month = 04
 day = 16
 language = R

Windows XP Home Edition (build 2600) Service Pack 1.0

Search Path:
 .GlobalEnv, package:grid, package:lattice, package:methods, package:ctest, package:mva, package:modreg, package:nls, package:ts, Autoloads, package:base


==> 2865.audit <==
Tue Apr 29 10:54:47 2003	ripley	moved from incoming to Add-ons

==> 2865.followup.1 <==
From deepayan@stat.wisc.edu Tue May 13 23:50:16 2003
Received: from sabe.cs.wisc.edu (sabe.cs.wisc.edu [128.105.6.20])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h4DLoF2b002288
	for <R-bugs@biostat.ku.dk>; Tue, 13 May 2003 23:50:15 +0200 (MET DST)
Received: from 192.168.0.114 (66-188-128-48.mad.wi.charter.com [66.188.128.48])
	(authenticated (0 bits))
	by sabe.cs.wisc.edu (8.11.3/8.11.3) with ESMTP id h4DLoEt21481
	(using TLSv1/SSLv3 with cipher RC4-MD5 (128 bits) verified NO);
	Tue, 13 May 2003 16:50:14 -0500
From: Deepayan Sarkar <deepayan@stat.wisc.edu>
To: rmh@surfer.sbm.temple.edu
Subject: Re: [Rd] bug in y limits in bwplot (PR#2865)
Date: Tue, 13 May 2003 16:50:29 -0500
User-Agent: KMail/1.5.1
Cc: R-bugs@biostat.ku.dk
References: <200304280620.h3S6KdpD006495@pubhealth.ku.dk>
In-Reply-To: <200304280620.h3S6KdpD006495@pubhealth.ku.dk>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200305131650.29426.deepayan@stat.wisc.edu>


This turns out to be a long-standing bug (in all the lattice functions in 
fact, not only bwplot). Should be fixed in the next release. A workaround is 
to use xlim and ylim directly instead of limits in scale.

On Monday 28 April 2003 01:20, rmh@surfer.sbm.temple.edu wrote:

> ## bug in y limits in bwplot
>
> tmp <- data.frame(y=1:10, a=factor(rep(1:2,5)))
>
> ## x limits in bwplot works as expected
> bwplot(y ~ a, data=tmp, horizontal=F)  # works
>
> bwplot(y ~ a, data=tmp, horizontal=F,  # works
>        xlim=c(-1,5))
>
> bwplot(y ~ a, data=tmp, horizontal=F,  # works
>        scales=list(x=list(limits=c(-1,5))))
>
>
> ## problem with y limits in bwplot
> bwplot(a ~ y, data=tmp, horizontal=T)  # works
>
> bwplot(a ~ y, data=tmp, horizontal=T,  # works
>        ylim=c(-1,5))
>
> bwplot(a ~ y, data=tmp, horizontal=T,  # error message
>        scales=list(y=list(limits=c(-1,5))))
>
>
> ## transcript with error message
>
> > bwplot(a ~ y, data=tmp, horizontal=T,  # error message
>
> +        scales=list(y=list(limits=c(-1,5))))
> Error in print.trellis(structure(list(as.table = FALSE, aspect.fill = TRUE,
>  : Invalid value for labels
> In addition: Warning message:
> is.na() applied to non-(list or vector) in: is.na(x)

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2933 *
Subject: frailty models in survreg() -- survival package
From: Jerome Asselin <jerome@hivnet.ubc.ca>
Date: Tue, 6 May 2003 15:36:23 -0700
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2933 <==
From jerome@hivnet.ubc.ca Wed May  7 00:36:58 2003
Received: from hivnet.ubc.ca (hivnet.ubc.ca [142.103.173.1])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h46Mau2b029257
	for <r-bugs@biostat.ku.dk>; Wed, 7 May 2003 00:36:57 +0200 (MET DST)
Received: from there (jeromePC [142.103.173.13])
	by hivnet.ubc.ca (8.9.0/8.9.0) with SMTP id PAA26505;
	Tue, 6 May 2003 15:42:06 -0700 (PDT)
Message-Id: <200305062242.PAA26505@hivnet.ubc.ca>
Content-Type: text/plain;
  charset="iso-8859-1"
From: Jerome Asselin <jerome@hivnet.ubc.ca>
Organization: BC Centre for Excellence in HIV/AIDS
To: r-bugs@biostat.ku.dk
Subject: frailty models in survreg() -- survival package
Date: Tue, 6 May 2003 15:36:23 -0700
X-Mailer: KMail [version 1.3.2]
Cc: Thomas Lumley <tlumley@u.washington.edu>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit


I am confused on how the log-likelihood is calculated in a parametric 
survival problem with frailty. I see a contradiction in the frailty() help 
file vs. the source code of frailty.gamma(), frailty.gaussian() and 
frailty.t().

The function frailty.gaussian() appears to calculate the penalty as the 
negative log-density of independent Gaussian variables, as one would 
expect:
> frailty.gaussian
[...]
            list([...], penalty = 0.5 * sum(coef^2/theta +
                log(2 * pi * theta)), flag = FALSE)
[...]

Similarly, the frailty.t() appears to use the joint negative log-density 
of Student t random variables. HOWEVER, frailty.gamma() uses:
> frailty.gamma
[...]
            list([...], penalty = -sum(coef) *
                nu, flag = FALSE)
[...]
I would rather expect to see something like:
(1)    penalty=sum(coef*nu-(nu-1)*log(coef)+lgamma(nu)-nu*log(nu))
which is the joint negative log-density of gamma variables. Alternately, I 
could also expect to see something like this:
(2)    penalty=sum(coef-exp(coef))*nu
which was shown to lead to the same EM solution as penalty (1) -- at least 
in the case of a Cox proportional hazard model (Therneau and Grambsch, 
2000. Modeling Survival Data, Extending the Cox Model. Springer, New York. 
Page 254, Eq. (9.8).). Bare we me, I don't know whether this holds in the 
case of a parametric model. I also have concerns about the validity of the 
likelihood ratio tests obtained with the latter penalty function (2), 
because this penalty is NOT equal to the negative log-likelihood (1). 
Finally, it's not clear to me whether we gain significant convergence 
speed and accuracy by using the penalty (2) as opposed to (1).

Furthermore, the help file for frailty() says,
     "The penalised likelihood method is equivalent to maximum (partial)
     likelihood for the gamma frailty but not for the others."

In the current state of the package, I would think that this should be the 
other way around. That is,
     "The penalised likelihood method is equivalent to maximum (partial)
     likelihood for the gaussian and t frailty but not for the gamma."

However, my current comprehension of the problem leads me to recommend to 
use the negative log-likelihood of gamma variables (2). Hence, both gamma, 
Gaussian and t frailty would be equivalent to maximum (partial) likelihood.

Any comment on this issue would be much appreciated.

Sincerely,
Jerome Asselin

R 1.6.2 on Red Hat Linux 7.2
Package: survival
Version: 2.9-7

-- 

Jerome Asselin (Jérôme), Statistical Analyst
British Columbia Centre for Excellence in HIV/AIDS
St. Paul's Hospital, 608 - 1081 Burrard Street
Vancouver, British Columbia, CANADA V6Z 1Y6
Email: jerome@hivnet.ubc.ca
Phone: 604 806-9112   Fax: 604 806-9044

==> 2933.audit <==
Tue May 13 16:48:37 2003	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2934 *
Subject: Re: frailty models in survreg() -- survival package
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Tue, 6 May 2003 15:58:37 -0700 (PDT)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2934 <==
From tlumley@u.washington.edu Wed May  7 00:58:41 2003
Received: from mxout5.cac.washington.edu (mxout5.cac.washington.edu [140.142.32.135])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h46Mwd2b029319
	for <r-bugs@biostat.ku.dk>; Wed, 7 May 2003 00:58:40 +0200 (MET DST)
Received: from homer14.u.washington.edu (homer14.u.washington.edu [140.142.8.14])
	by mxout5.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h46Mwct7021392;
	Tue, 6 May 2003 15:58:38 -0700
Received: from localhost (tlumley@localhost)
	by homer14.u.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h46MwbSk071522;
	Tue, 6 May 2003 15:58:37 -0700
Date: Tue, 6 May 2003 15:58:37 -0700 (PDT)
From: Thomas Lumley <tlumley@u.washington.edu>
To: Jerome Asselin <jerome@hivnet.ubc.ca>
cc: r-bugs@biostat.ku.dk
Subject: Re: frailty models in survreg() -- survival package
In-Reply-To: <200305062242.PAA26505@hivnet.ubc.ca>
Message-ID: <Pine.A41.4.44.0305061551340.23944-100000@homer14.u.washington.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Tue, 6 May 2003, Jerome Asselin wrote:

>
> I am confused on how the log-likelihood is calculated in a parametric
> survival problem with frailty. I see a contradiction in the frailty() help
> file vs. the source code of frailty.gamma(), frailty.gaussian() and
> frailty.t().
>
> The function frailty.gaussian() appears to calculate the penalty as the
> negative log-density of independent Gaussian variables, as one would
> expect:
> > frailty.gaussian
> [...]
>             list([...], penalty = 0.5 * sum(coef^2/theta +
>                 log(2 * pi * theta)), flag = FALSE)
> [...]
>
> Similarly, the frailty.t() appears to use the joint negative log-density
> of Student t random variables. HOWEVER, frailty.gamma() uses:
> > frailty.gamma
> [...]
>             list([...], penalty = -sum(coef) *
>                 nu, flag = FALSE)
> [...]
> I would rather expect to see something like:
> (1)    penalty=sum(coef*nu-(nu-1)*log(coef)+lgamma(nu)-nu*log(nu))
> which is the joint negative log-density of gamma variables. Alternately, I
> could also expect to see something like this:
> (2)    penalty=sum(coef-exp(coef))*nu
> which was shown to lead to the same EM solution as penalty (1) -- at least
> in the case of a Cox proportional hazard model (Therneau and Grambsch,
> 2000. Modeling Survival Data, Extending the Cox Model. Springer, New York.
> Page 254, Eq. (9.8).).

Looking at a wider context in the code

   pfun <- function(coef, theta, ndeath) {
        if (theta == 0)
            list(recenter = 0, penalty = 0, flag = TRUE)
        else {
            recenter <- log(mean(exp(coef)))
            coef <- coef - recenter
            nu <- 1/theta
            list(recenter = recenter, first = (exp(coef) - 1) *
                nu, second = exp(coef) * nu, penalty = -sum(coef) *
                nu, flag = FALSE)
        }
    }

so the recentering means the penalty is actually your penalty (2) -- not
surprising, as the code was written by Terry Therneau.



> Bare we me, I don't know whether this holds in the
> case of a parametric model. I also have concerns about the validity of the
> likelihood ratio tests obtained with the latter penalty function (2),
> because this penalty is NOT equal to the negative log-likelihood (1).
> Finally, it's not clear to me whether we gain significant convergence
> speed and accuracy by using the penalty (2) as opposed to (1).
>
> Furthermore, the help file for frailty() says,
>      "The penalised likelihood method is equivalent to maximum (partial)
>      likelihood for the gamma frailty but not for the others."
>
> In the current state of the package, I would think that this should be the
> other way around. That is,
>      "The penalised likelihood method is equivalent to maximum (partial)
>      likelihood for the gaussian and t frailty but not for the gamma."
>
> However, my current comprehension of the problem leads me to recommend to
> use the negative log-likelihood of gamma variables (2). Hence, both gamma,
> Gaussian and t frailty would be equivalent to maximum (partial) likelihood.
>

The log density penalty doesn't give maximum likelihood (which you would
get by integrating out the frailties). It gives the joint likelihood of
the data and the random effects.

For the gamma model, as you note, they are equivalent.  I believe that the
current state of knowledge is that the log density penalty generally gives
consistent estimates but is not equivalent to maximum likelihood. However,
I have not actually seen the arguments for consistency and it isn't
obvious to me how the argument would go.


	-thomas


==> 2934.followup.1 <==
From jerome@hivnet.ubc.ca Wed May  7 01:54:08 2003
Received: from hivnet.ubc.ca (hivnet.ubc.ca [142.103.173.1])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h46Ns62b029455
	for <r-bugs@biostat.ku.dk>; Wed, 7 May 2003 01:54:07 +0200 (MET DST)
Received: from there (jeromePC [142.103.173.13])
	by hivnet.ubc.ca (8.9.0/8.9.0) with SMTP id QAA29199;
	Tue, 6 May 2003 16:59:12 -0700 (PDT)
Message-Id: <200305062359.QAA29199@hivnet.ubc.ca>
Content-Type: text/plain;
  charset="iso-8859-1"
From: Jerome Asselin <jerome@hivnet.ubc.ca>
Organization: BC Centre for Excellence in HIV/AIDS
To: Thomas Lumley <tlumley@u.washington.edu>
Subject: Re: frailty models in survreg() -- survival package (PR#2934)
Date: Tue, 6 May 2003 16:53:29 -0700
X-Mailer: KMail [version 1.3.2]
Cc: r-bugs@biostat.ku.dk
References: <Pine.A41.4.44.0305061551340.23944-100000@homer14.u.washington.edu>
In-Reply-To: <Pine.A41.4.44.0305061551340.23944-100000@homer14.u.washington.edu>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit


SEE ALSO ORIGINAL POSTING IN PR#2933

On May 6, 2003 03:58 pm, Thomas Lumley wrote:
>
> Looking at a wider context in the code
>
>    pfun <- function(coef, theta, ndeath) {
>         if (theta == 0)
>             list(recenter = 0, penalty = 0, flag = TRUE)
>         else {
>             recenter <- log(mean(exp(coef)))
>             coef <- coef - recenter
>             nu <- 1/theta
>             list(recenter = recenter, first = (exp(coef) - 1) *
>                 nu, second = exp(coef) * nu, penalty = -sum(coef) *
>                 nu, flag = FALSE)
>         }
>     }
>
> so the recentering means the penalty is actually your penalty (2) -- not
> surprising, as the code was written by Terry Therneau.

Ok, I forgot to account for the recentering. However, correct me if I am 
wrong, but if Therneau and Grambsch (2000, Eq. (9.8)) are right, I think 
it should be:
            recenter <- mean(exp(coef))
instead of
            recenter <- log(mean(exp(coef)))

>
> The log density penalty doesn't give maximum likelihood (which you would
> get by integrating out the frailties). It gives the joint likelihood of
> the data and the random effects.

I'm confused... Do you mean that the log-likelihood of all model 
parameters (which is maximised) is NOT the sum of the conditional 
log-likelihood of the data and the log-likelihood of the random effects?

>
> For the gamma model, as you note, they are equivalent.  I believe that
> the current state of knowledge is that the log density penalty generally
> gives consistent estimates but is not equivalent to maximum likelihood.
> However, I have not actually seen the arguments for consistency and it
> isn't obvious to me how the argument would go.
>

Sorry, I don't understand why you say that they are equivalent for the 
gamma model. Therneau and Grambsch (p.254) specifically note,
"... the penalized loglikelihood and the observed-data loglikelihood in 
equation (9.4) have the same solution, although these two equations are 
NOT equal to one another."
For that reason, I think that the help file should read,
> >      "The penalised likelihood method is equivalent to maximum
> > (partial) likelihood for the gaussian and t frailty but not for the
> > gamma."

Also, is it clear whether the current gamma penalty function remains valid 
even in the case of parametric survival analysis? Is it computationally 
better than (1)? Finally, what is the meaning of the "loglik" value in 
gamma frailty? Can it still be used to calculate likelihood ratio tests?

Cheers,
Jerome

==> 2934.audit <==
Tue May 13 16:48:37 2003	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2985 *
Subject: update.lme trouble
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 12 May 2003 17:59:41 +0200
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2985 <==
From mailnull@stat.math.ethz.ch Mon May 12 17:54:40 2003
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h4CFsd2b019251
	for <R-bugs@biostat.ku.dk>; Mon, 12 May 2003 17:54:39 +0200 (MET DST)
Received: from hypatia.math.ethz.ch (localhost [127.0.0.1])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h4CFsZ6s000908
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <R-bugs@biostat.ku.dk>; Mon, 12 May 2003 17:54:36 +0200 (MEST)
Received: (from mailnull@localhost)
	by hypatia.math.ethz.ch (8.12.9/8.12.6/Submit) id h4CFsZhn000899
	for R-bugs@biostat.ku.dk; Mon, 12 May 2003 17:54:35 +0200 (MEST)
Received: from pubhealth.ku.dk (mail.kubism.ku.dk [192.38.18.10])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h4CFsS6r000755
	for <r-bugs@hypatia.math.ethz.ch>; Mon, 12 May 2003 17:54:28 +0200 (MEST)
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h4CFsQ2b019248
	for <r-bugs@hypatia.math.ethz.ch>; Mon, 12 May 2003 17:54:26 +0200 (MET DST)
Received: from blueberry.kubism.ku.dk (localhost.localdomain [127.0.0.1])
	by blueberry.kubism.ku.dk (8.12.8/8.12.8) with ESMTP id h4CFxg8e024887
	for <r-bugs@hypatia.math.ethz.ch>; Mon, 12 May 2003 17:59:43 +0200
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.12.8/8.12.8/Submit) id h4CFxfjs024883;
	Mon, 12 May 2003 17:59:41 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: r-bugs@stat.math.ethz.ch
Subject: update.lme trouble
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 12 May 2003 17:59:41 +0200
Message-ID: <x265og9mvm.fsf@biostat.ku.dk>
Lines: 35
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Spam-Status: No, hits=-7.8 required=4.8 tests=USER_AGENT_GNUS_UA,X_AUTH_WARNING version=2.53
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.53 (1.174.2.15-2003-03-30-exp)


Try this

data(Assay)
as1 <- lme(logDens~sample*dilut, data=Assay,
           random=pdBlocked(list(
                     pdIdent(~1),
                     pdIdent(~sample-1),
                     pdIdent(~dilut-1))))

update(as1,random=pdCompSymm(~sample-1))
update(as1,random=pdCompSymm(~sample-1))
update(as1,random=pdCompSymm(~sample-1))
update(as1,random=pdCompSymm(~sample-1))

I'm getting different results on different invocations!
         _
platform i686-pc-linux-gnu
arch     i686
os       linux-gnu
system   i686, linux-gnu
status
major    1
minor    7.0
year     2003
month    04
day      16
language R

But similar things have been seen on Windows earlier today.
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907


==> 2985.audit <==
Tue May 13 15:12:14 2003	ripley	moved from incoming to Add-ons

==> 2985.reply.1 <==
From bates@bates4.stat.wisc.edu Thu May 15 18:28:50 2003
Received: from bates4.stat.wisc.edu (mail@bates4.stat.wisc.edu [128.105.174.134])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h4FGSn2b022974;
	Thu, 15 May 2003 18:28:49 +0200 (MET DST)
Received: from bates by bates4.stat.wisc.edu with local (Exim 3.36 #1 (Debian))
	id 19GLb7-0003oj-00; Thu, 15 May 2003 11:28:49 -0500
To: p.dalgaard@biostat.ku.dk
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] update.lme trouble (PR#2985)
References: <200305121554.h4CFsf2b019255@pubhealth.ku.dk>
From: Douglas Bates <bates@stat.wisc.edu>
Date: 15 May 2003 11:28:49 -0500
In-Reply-To: <200305121554.h4CFsf2b019255@pubhealth.ku.dk>
Message-ID: <6ry918i37i.fsf@bates4.stat.wisc.edu>
Lines: 34
User-Agent: Gnus/5.0808 (Gnus v5.8.8) XEmacs/21.4 (Common Lisp)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Sender: Douglas Bates <bates@bates4.stat.wisc.edu>

p.dalgaard@biostat.ku.dk writes:

> Try this
> 
> data(Assay)
> as1 <- lme(logDens~sample*dilut, data=Assay,
>            random=pdBlocked(list(
>                      pdIdent(~1),
>                      pdIdent(~sample-1),
>                      pdIdent(~dilut-1))))
> 
> update(as1,random=pdCompSymm(~sample-1))
> update(as1,random=pdCompSymm(~sample-1))
> update(as1,random=pdCompSymm(~sample-1))
> update(as1,random=pdCompSymm(~sample-1))
> 
> I'm getting different results on different invocations!

I'm not sure exactly what the problem was but it could be triggered by
calling lme directly rather than through update.  That is, successive
calls to
  lme(logDens~sample*dilut, data=Assay, random=pdCompSymm(~sample-1))
would alternate between a successful fit and an error.

The problem does *not* occur with the current r-patched, which will be
released as R-1.7.1 in early June.  At least it does not occur under
Linux.  I would appreciate it if someone could check with r-patched
under Windows.

I have added this example as one of the tests in nlme_3.1-40, which
will be released before R-1.7.1




==> 2985.reply.2 <==
From p.dalgaard@biostat.ku.dk Thu May 15 21:45:36 2003
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h4FJjZ2b023663;
	Thu, 15 May 2003 21:45:35 +0200 (MET DST)
Received: from blueberry.kubism.ku.dk (localhost.localdomain [127.0.0.1])
	by blueberry.kubism.ku.dk (8.12.8/8.12.8) with ESMTP id h4FJpG8e005381;
	Thu, 15 May 2003 21:51:16 +0200
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.12.8/8.12.8/Submit) id h4FJpG9h005377;
	Thu, 15 May 2003 21:51:16 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: Douglas Bates <bates@stat.wisc.edu>
Cc: p.dalgaard@biostat.ku.dk, r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] update.lme trouble (PR#2985)
References: <200305121554.h4CFsf2b019255@pubhealth.ku.dk>
	<6ry918i37i.fsf@bates4.stat.wisc.edu>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 15 May 2003 21:51:16 +0200
In-Reply-To: <6ry918i37i.fsf@bates4.stat.wisc.edu>
Message-ID: <x2znlodm4r.fsf@biostat.ku.dk>
Lines: 143
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Douglas Bates <bates@stat.wisc.edu> writes:

> p.dalgaard@biostat.ku.dk writes:
> 
> > Try this
> > 
> > data(Assay)
> > as1 <- lme(logDens~sample*dilut, data=Assay,
> >            random=pdBlocked(list(
> >                      pdIdent(~1),
> >                      pdIdent(~sample-1),
> >                      pdIdent(~dilut-1))))
> > 
> > update(as1,random=pdCompSymm(~sample-1))
> > update(as1,random=pdCompSymm(~sample-1))
> > update(as1,random=pdCompSymm(~sample-1))
> > update(as1,random=pdCompSymm(~sample-1))
> > 
> > I'm getting different results on different invocations!
> 
> I'm not sure exactly what the problem was but it could be triggered by
> calling lme directly rather than through update.  That is, successive
> calls to
>   lme(logDens~sample*dilut, data=Assay, random=pdCompSymm(~sample-1))
> would alternate between a successful fit and an error.
> 
> The problem does *not* occur with the current r-patched, which will be
> released as R-1.7.1 in early June.

It does for me! (RedHat 8.0):

R : Copyright 2003, The R Development Core Team
Version 1.7.0 Patched (2003-05-15)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

> library(nlme)
Loading required package: lattice
Loading required package: grid
> data(Assay)
> lme(logDens~sample*dilut, data=Assay, random=pdCompSymm(~sample-1))
Error in if ((aux <- mean(aux[row(aux) != col(aux)])) <= -1/(nc - 1))
{ :
        missing value where TRUE/FALSE needed
In addition: There were 25 warnings (use warnings() to see them)
> lme(logDens~sample*dilut, data=Assay, random=pdCompSymm(~sample-1))
Linear mixed-effects model fit by REML
  Data: Assay
  Log-restricted-likelihood: 38.47943
  Fixed: logDens ~ sample * dilut
   (Intercept)        sampleb        samplec        sampled
samplee
  -0.182791540    0.080753295    0.133976305    0.207698745
-0.023672400
       samplef         dilut2         dilut3         dilut4
dilut5
   0.073569240    0.204429030    0.405863085    0.573191050
0.720635465
sampleb:dilut2 samplec:dilut2 sampled:dilut2 samplee:dilut2 samplef:dilut2
   0.008938930   -0.008495275    0.001079295   -0.041917525
0.019352105
sampleb:dilut3 samplec:dilut3 sampled:dilut3 samplee:dilut3 samplef:dilut3
  -0.025066045    0.018645100    0.003988575   -0.027712815
0.054316035
sampleb:dilut4 samplec:dilut4 sampled:dilut4 samplee:dilut4 samplef:dilut4
   0.060788600    0.005259755   -0.016485510    0.049798755
0.063371900
sampleb:dilut5 samplec:dilut5 sampled:dilut5 samplee:dilut5 samplef:dilut5
  -0.045762455   -0.072598205   -0.177756610    0.013610930
0.004023400

Random effects:
 Formula: ~sample - 1 | Block
 Structure: Compound Symmetry
         StdDev     Corr
samplea  0.02712464
sampleb  0.02712464 0.154
samplec  0.02712464 0.154 0.154
sampled  0.02712464 0.154 0.154 0.154
samplee  0.02712464 0.154 0.154 0.154 0.154
samplef  0.02712464 0.154 0.154 0.154 0.154 0.154
Residual 0.04255631

Number of Observations: 60
Number of Groups: 2
> lme(logDens~sample*dilut, data=Assay, random=pdCompSymm(~sample-1))
Linear mixed-effects model fit by REML
  Data: Assay
  Log-restricted-likelihood: 36.62856
  Fixed: logDens ~ sample * dilut
   (Intercept)        sampleb        samplec        sampled
samplee
  -0.182791540    0.080753295    0.133976305    0.207698745
-0.023672400
       samplef         dilut2         dilut3         dilut4
dilut5
   0.073569240    0.204429030    0.405863085    0.573191050
0.720635465
sampleb:dilut2 samplec:dilut2 sampled:dilut2 samplee:dilut2 samplef:dilut2
   0.008938930   -0.008495275    0.001079295   -0.041917525
0.019352105
sampleb:dilut3 samplec:dilut3 sampled:dilut3 samplee:dilut3 samplef:dilut3
  -0.025066045    0.018645100    0.003988575   -0.027712815
0.054316035
sampleb:dilut4 samplec:dilut4 sampled:dilut4 samplee:dilut4 samplef:dilut4
   0.060788600    0.005259755   -0.016485510    0.049798755
0.063371900
sampleb:dilut5 samplec:dilut5 sampled:dilut5 samplee:dilut5 samplef:dilut5
  -0.045762455   -0.072598205   -0.177756610    0.013610930
0.004023400

Random effects:
 Formula: ~sample - 1 | Block
 Structure: Compound Symmetry
         StdDev        Corr
samplea  1.464982e-141
sampleb  1.464982e-141 0
samplec  1.464982e-141 0    0
sampled  1.464982e-141 0    0 0
samplee  1.464982e-141 0    0 0 0
samplef  1.464982e-141 0    0 0 0 0
Residual  5.046555e-02

Number of Observations: 60
Number of Groups: 2
There were 50 or more warnings (use warnings() to see the first 50)



-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2986 *
Subject: plot.ranef.lme
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 12 May 2003 18:19:28 +0200
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2986 <==
From mailnull@stat.math.ethz.ch Mon May 12 18:14:24 2003
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h4CGEN2b019376
	for <R-bugs@biostat.ku.dk>; Mon, 12 May 2003 18:14:24 +0200 (MET DST)
Received: from hypatia.math.ethz.ch (localhost [127.0.0.1])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h4CGEK6s005731
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <R-bugs@biostat.ku.dk>; Mon, 12 May 2003 18:14:21 +0200 (MEST)
Received: (from mailnull@localhost)
	by hypatia.math.ethz.ch (8.12.9/8.12.6/Submit) id h4CGEKQh005730
	for R-bugs@biostat.ku.dk; Mon, 12 May 2003 18:14:20 +0200 (MEST)
Received: from pubhealth.ku.dk (mail.kubism.ku.dk [192.38.18.10])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h4CGEF6r005673
	for <r-bugs@hypatia.math.ethz.ch>; Mon, 12 May 2003 18:14:15 +0200 (MEST)
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h4CGED2b019373
	for <r-bugs@hypatia.math.ethz.ch>; Mon, 12 May 2003 18:14:13 +0200 (MET DST)
Received: from blueberry.kubism.ku.dk (localhost.localdomain [127.0.0.1])
	by blueberry.kubism.ku.dk (8.12.8/8.12.8) with ESMTP id h4CGJT8e024933
	for <r-bugs@hypatia.math.ethz.ch>; Mon, 12 May 2003 18:19:29 +0200
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.12.8/8.12.8/Submit) id h4CGJTth024929;
	Mon, 12 May 2003 18:19:29 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: r-bugs@stat.math.ethz.ch
Subject: plot.ranef.lme
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 12 May 2003 18:19:28 +0200
Message-ID: <x21xz49lyn.fsf@biostat.ku.dk>
Lines: 33
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Spam-Status: No, hits=-7.8 required=4.8 tests=USER_AGENT_GNUS_UA,X_AUTH_WARNING version=2.53
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.53 (1.174.2.15-2003-03-30-exp)


library(nlme)
data(Phenobarb)
na.include <- function(x)x
phe1 <- nlme(conc~phenoModel(Subject, time, dose, lCl, lV),
     data  = Phenobarb,
     fixed = lCl+lV~1,
     random= pdDiag(lCl+lV~1),
     start = c(-5,0),
     na.action = na.include,
     naPattern = ~!is.na(conc))

phe.ranef <- ranef(phe1,augFrame=TRUE)
plot(phe.ranef, form=lCl~Wt+ApgarInd)

[Error in max(length(x0), length(x1), length(y0), length(y1)) :
        Argument "x0" is missing, with no default]

The cause is plain to see: in plot.ranef.lme we have

            staple.ends <- list(x1 = c(rep(X - w, 2), rep(X +
                w, 2)), y1 = rep(c(Y[5], max(Y[1] - e.u, Y[2])),
                2), x2 = c(rep(X - w, 2), rep(X + w, 2)), y2 = rep(c(min(Y[5] +                e.l, Y[4]), Y[1]), 2))
                       . . . .
            do.call("lsegments", c(staple.ends, box.umbrella))

but lsegments expects arguments named x0,y0,x1,y1 not x1,y1,x2,y2

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907


==> 2986.followup.1 <==
From deepayan@stat.wisc.edu Mon May 12 19:43:28 2003
Received: from sabe.cs.wisc.edu (sabe.cs.wisc.edu [128.105.6.20])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h4CHhR2b019699;
	Mon, 12 May 2003 19:43:27 +0200 (MET DST)
Received: from bates1.stat.wisc.edu (bates1.stat.wisc.edu [128.105.5.131])
	(authenticated (0 bits))
	by sabe.cs.wisc.edu (8.11.3/8.11.3) with ESMTP id h4CHhQ915378
	(using TLSv1/SSLv3 with cipher RC4-MD5 (128 bits) verified NO);
	Mon, 12 May 2003 12:43:26 -0500
From: Deepayan Sarkar <deepayan@stat.wisc.edu>
To: p.dalgaard@biostat.ku.dk
Subject: Re: [Rd] plot.ranef.lme (PR#2986)
Date: Mon, 12 May 2003 12:46:19 -0500
User-Agent: KMail/1.5.1
Cc: R-bugs@biostat.ku.dk
References: <200305121614.h4CGEP2b019381@pubhealth.ku.dk>
In-Reply-To: <200305121614.h4CGEP2b019381@pubhealth.ku.dk>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200305121246.19059.deepayan@stat.wisc.edu>

On Monday 12 May 2003 11:14 am, p.dalgaard@biostat.ku.dk wrote:
> library(nlme)
> data(Phenobarb)
> na.include <- function(x)x
> phe1 <- nlme(conc~phenoModel(Subject, time, dose, lCl, lV),
>      data  = Phenobarb,
>      fixed = lCl+lV~1,
>      random= pdDiag(lCl+lV~1),
>      start = c(-5,0),
>      na.action = na.include,
>      naPattern = ~!is.na(conc))
>
> phe.ranef <- ranef(phe1,augFrame=TRUE)
> plot(phe.ranef, form=lCl~Wt+ApgarInd)
>
> [Error in max(length(x0), length(x1), length(y0), length(y1)) :
>         Argument "x0" is missing, with no default]
>
> The cause is plain to see: in plot.ranef.lme we have
>
>             staple.ends <- list(x1 = c(rep(X - w, 2), rep(X +
>                 w, 2)), y1 = rep(c(Y[5], max(Y[1] - e.u, Y[2])),
>                 2), x2 = c(rep(X - w, 2), rep(X + w, 2)), y2 =
> rep(c(min(Y[5] +                e.l, Y[4]), Y[1]), 2)) . . . .
>             do.call("lsegments", c(staple.ends, box.umbrella))
>
> but lsegments expects arguments named x0,y0,x1,y1 not x1,y1,x2,y2

I have seen this problem before and I remember fixing lsegments to work with 
both forms of the arguments. But the CVS doesn't have the fix, so I guess I 
made it somewhere temporarily and forgot to add it to CVS, sorry. I'll fix 
this for the next release.

Deepayan

==> 2986.audit <==
Tue May 13 15:12:14 2003	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Analyses

* PR# 2993 *
Subject: small bug in power.t.test for two-sided alternatives
From: vangel@nmr.mgh.harvard.edu
Date: Tue, 13 May 2003 14:12:24 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2993 <==
From vangel@nmr.mgh.harvard.edu Tue May 13 14:12:25 2003
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h4DCCO2b027952
	for <R-bugs@biostat.ku.dk>; Tue, 13 May 2003 14:12:25 +0200 (MET DST)
Date: Tue, 13 May 2003 14:12:24 +0200 (MET DST)
Message-Id: <200305131212.h4DCCO2b027952@pubhealth.ku.dk>
From: vangel@nmr.mgh.harvard.edu
To: R-bugs@biostat.ku.dk
Subject: small bug in power.t.test for two-sided alternatives

Full_Name: Mark Vangel
Version: 1.7
OS: FreeBSD 4.4
Submission from: (NULL) (18.155.1.81)


power.t.test returns a value for whichever of the arguments n, delta, power is
set
to "NULL".  If one sets the argument alternative='two.sided' (actually, this is
the default), 
then the function takes the absolute value of delta.  Unfortunately, before
taking 
the abs value, there is apparently no check for whether delta is NULL, resulting
in 
an error. For example,

power.t.test(n=10,delta=NULL,power=.9,alternative='two.sided')
Error in abs(delta) : non-numeric argument to function

The arguments delta and alternative are set to their defaults in this example;
omitting them results in the same error.

Yhis is easy to fix by adding the appropriate check, but I thought that I might
as well report it.

    Mark Vangel

==> 2993.audit <==
Tue May 13 15:12:24 2003	ripley	moved from incoming to Analyses
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Documentation

* PR# 988 *
Subject: input for R-intro
From: "Paul E. Johnson" <pauljohn@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 988 <==
From pauljohn@ku.edu  Mon Jun 18 21:03:09 2001
Received: from lark.cc.ku.edu (root@lark.cc.ku.edu [129.237.34.2])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id VAA14694
	for <r-bugs@biostat.ku.dk>; Mon, 18 Jun 2001 21:03:08 +0200 (MET DST)
Received: from ku.edu by lark.cc.ku.edu (8.8.8/1.1.8.2/12Jan95-0207PM)
	id OAA0000024737; Mon, 18 Jun 2001 14:02:11 -0500 (CDT)
Sender: pauljohn@lark.cc.ku.edu
Message-ID: <3B2E4F06.F3198537@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
From: "Paul E. Johnson" <pauljohn@ku.edu>
X-Mailer: Mozilla 4.77 [en] (X11; U; Linux 2.4.2-2 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: r-bugs@biostat.ku.dk
Subject: input for R-intro
Content-Type: multipart/mixed;
 boundary="------------1C95DB321C5D7CBC643B8CA3"

This is a multi-part message in MIME format.
--------------1C95DB321C5D7CBC643B8CA3
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I asked Prof. Brian Ripley if I might submit some text/input for the
R-intro writers, he said this is the place to do it.

I was on a plane a couple of weeks ago reading R-intro as I plan for a
course and made these notes, some of which I think will help my students
if you incorporate them.  I've attached a raw text file I wrote in Emacs
to this message "Rintrochanges.txt".

I have written documents like R-intro before and understand it is
difficult to please everybody, and I thank you for your effort on the
project.

Paul Johnson
Assoc. Professor
Dept. of Political Science
University of Kansas

--------------1C95DB321C5D7CBC643B8CA3
Content-Type: text/plain; charset=us-ascii;
 name="Rintrochanges.txt"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="Rintrochanges.txt"

R-intro comments/enhancements  Part I.

I think something more verbose like this would help under
"Ordered and Unordered factors"

Texts on research design emphasize that variables have
different levels of measurement. Typically, there are three levels.
If a measurement is taken with a precise scale (one on which it is
meaningful to say new_value = b*old_value, as with readings of a
thermometer), it is considered an "interval" level variable.  Many
statistical models were originally designed for interval level
variables.  If a measurement is not so precise, but only provides an
ordered categorization of observations, such as "low" "medium" and
"high", it is called an ordinal variable.  If a measurement is
categorical and implies no sense of ordering, such as "European",
"Asian", or "South American", then it is typically called an ordinal
variable.  Assigning the values of "1", "2", and "3" to these
observations has no substantive significance, as we might as well
number them "3","2","1".

Many statistical models are designed for interval level data, but with
appropriate recoding of input, they can also be made to work with
nominal and ordinal data.  In the "old days" of statistical computing,
users were forced to create a lot of indicator (or "dummy") variables,
thereby converting information from nominal or ordinal measurements
into variables that have only values 0 and 1.  For example, to
represent the information about the home continents of survey
respondents, we might create two dummy variables, one for Asia (coded
1 if respondent is from Asia, 0 otherwise) and one for South America
(likewise 0 and 1).  A respondent for whom we find both of these dummy
variables equal to 0 is sure to be from Europe, so we don't usually
need to create three dummy variables.  Doing so would be redundant.

With a modern language like R, much of the drudgery of creating the
indicator variables is handled automatically if the user declares the
variables properly.  In R, and S before it, the term "factor" is used
to refer to a variable that is not measured at the interval level. An
"unordered factor" is a nominal (or categorical) variable, while an
"ordered factor" is the term for an ordinal measurement.  Many
statistical procedures in R have builtin procedures for handling
factors.

Beyond handling coding of noninterval variables, factors play a vital
role in many R procedures.  Procedures can be designed to do a chore
for each value of a factor.  Many procedures will in fact insist that
a variable be designated as a factor.

 ------------------


In this section "Named arguments and defaults", I am left in a
confusion about a few things.  This confusion has bothered me a while.
Can you do more to explain which arguments must be specified, which
are optional, and under what conditions is it necessary to include the
parameter= which calling a function.

1.  When I use a function, and I look in its help page, how do I know
which input variables must be declared and which can be ignored?  This
is quite mysterious.  When invocations leave out some arguments, how
does R "sift through" the ones that are provided to know which is
which?


For example, consider the page on "update.packages".  

Under Usage, I find:
update.packages(lib.loc = .lib.loc, CRAN = getOption("CRAN"),
                contriburl = contrib.url(CRAN),
                method = "auto", instlib = NULL,
                ask=TRUE, available=NULL, destdir=NULL)

I've been using computers a long time, and I use this function every two months or so.  Between times I forget, come back to this page, and still this one leaves me totally confused.  

After fiddling a while, I find this works on Linux:
>update.packages(lib="/usr/lib/R/library",CRAN="http://lib.stat.cmu.edu/R/CRAN")

but what bothered me thd most is the "getOption("CRAN") option for CRAN.  I tried many variations on that and never figured how to make it work.


Maybe any clarifications could be related to the section "Getting help with functions and features"

In this section, I think it would be nice to have a paragraph about
"how to read a help page."  Some things are not obvious to all new
users.  Some things in help pages are tough to describe... Maybe I'd
say

How to read a help page.

If you find a help page, notice that it is made up of different parts.

1. "Description". These are usually terse, so read every word
   carefully.

2. Look for the "Value" heading.  That tells you what this procedure is
   going to return when you call it. If this procedure doesn't return
   what you need, you should find out immediately.

3. Under "Usage", most help pages list a number of possible commands
   that can be used.  These are not commands to be typed
   literally. Many of them contain abstract references which provide
   information about the nature of the variables that might be
   entered.  

   Here is a simple case.  The coefficients help page has this:

Usage

coef(object, ...)
coefficients(object, ...)

   Clearly, coef and coefficients are going to do the same thing, and you must supply the appropriate object.

4. Under "Arguments," the help page indicates what inputs this
   procedure wants.  The inputs are described line-by-line, and often
   the comments indicate of parameters are optional or what their
   default value might be.

   Many help pages have the infamous "...", which is something like
   "fill in the appropriately, depending on whatever context you
   find."  In some situations this is easy to understand .  Many help
   pages will eplicitly say that "..." refers to any options that
   might be used with a particular kind of object, and in that case
   one must find the help page for that other object. For example, the
   dev.copy help page clearly indicates that "..." refers to any
   options that might be used with the particular device in question.

   Other help pages are not so informative.  Consider the output from ?coefficients:

Arguments

 object
       an object for which the extraction of model coefficients is meaningful.
 ...
       other arguments.

Here it is clear you need to give a statistical object to have
coefficients removed.  The "..." is a mystery, and most R users will
try to use the coefficients command without worrying about it, and
then backtrack if an error occurs.  And, if an error occurs, there may be no recourse but to read the source code for this command or ask  about it in the r-help email list.

--------------1C95DB321C5D7CBC643B8CA3--


==> 988.audit <==
Tue Jun 19 09:07:09 2001	ripley	moved from incoming to Documentation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1011 *
Subject: R-intro suggestions part II
From: "Paul E. Johnson" <pauljohn@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1011 <==
From pauljohn@ukans.edu  Tue Jul  3 22:55:21 2001
Received: from lark.cc.ku.edu (root@lark.cc.ku.edu [129.237.34.2])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA25420
	for <r-bugs@biostat.ku.dk>; Tue, 3 Jul 2001 22:55:20 +0200 (MET DST)
Received: from ukans.edu by lark.cc.ku.edu (8.8.8/1.1.8.2/12Jan95-0207PM)
	id PAA0000007085; Tue, 3 Jul 2001 15:55:12 -0500 (CDT)
Sender: pauljohn@lark.cc.ku.edu
Message-ID: <3B422FFE.F4450D57@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
From: "Paul E. Johnson" <pauljohn@ukans.edu>
X-Mailer: Mozilla 4.77 [en] (X11; U; Linux 2.4.2-2 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: r-bugs@biostat.ku.dk
Subject: R-intro suggestions part II
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Brian Ripley said that, if I sent these here, they might find their way
to the R-intro team.  So, here is another installment:


Concerning this section:

Data permanency and removing objects.

This is the first place R-intro discusses objects.  I was thinking a
better discussion of objects and syntax is needed, perhaps here, or in
the later section "Objects, their modes and attributes."  I suggest
this:


The fact that R is an object-oriented approach to programming for
statistical analysis has pervasive implications.  If one has studied a
programming language like Java or C++, the notions of object and
method are not new.  For readers who have not studied languages like
that, perhaps we can offer a brief explanation.  An object is a "self
contained data holder" that can follow instructions (do calculations,
provide values).  One intention of this design is to keep things
separate if they belong that way, to reduce the risk that one
calculation accidentally influences the result of another.
Object-orientation also has important implications for the way the
different parts of a program fit together.  Since an object is
supposed to be able to carry out a certain set of actions (which are
called methods, but in R one often says "functions" or "procedures"),
then both the user and the programmer understand what the object can
be expected to do.  There are numerous implications of object
orientation that come into play "under the hood" of the R statistical
engine, but it is not important to delve into them from a user's point
of view.


There is one wrinkle about the syntax of R that we hasten to
emphasize.  In object-oriented computer languages, syntax typically
puts the object first, followed by the instruction, followed any needed
parameters.  In Java, to tell the object "regression" to calculate
estimates for vectors y and x, one would write something like:

   regression.estimate(y,x);

Assuming that object's class has an "estimate" method which knows how
to handle the input, we would be in business.

In R, the syntax is totally different.  Instead of thinking of the
object itself as the primary thing, the syntax in R is designed to use
the method name--the instruction--as the leading concept, and then the
object that is being acted upon is given as a parameter.

When a model gives a result in R, the result is almost invariably an
object, which can then be "poked and prodded" with other methods.
If a linear regression is calculated, for example:

resultObject <- lm(y~x)

the return value is an object.  But, unlike other object-oriented
languages, in R one would write summary(resultObject), or
coefficients(resultObject), rather than the Java style
result_object.summary() or some such thing, in order to investigate the
result.


Paul E. Johnson
Political Science
University of Kansas


==> 1011.audit <==
Fri Aug  3 11:30:05 2001	ripley	moved from incoming to Documentation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1772 *
Subject: bug(?) in R FAQ - Should I run R from within Emacs?
From: Tim.Harrold@csiro.au
Date: Thu, 11 Jul 2002 18:21:42 +1000
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1772 <==
From Tim.Harrold@csiro.au  Thu Jul 11 10:22:31 2002
Received: from bastion1.vic.csiro.au (bastion1.vic.CSIRO.AU [138.194.2.8])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA17393
	for <r-bugs@biostat.ku.dk>; Thu, 11 Jul 2002 10:22:29 +0200 (MET DST)
From: Tim.Harrold@csiro.au
Received: from bastion1.vic.csiro.au (localhost [127.0.0.1])
	by bastion1.vic.csiro.au (8.11.4/8.11.4) with ESMTP id g6B8Ljv13431
	for <r-bugs@biostat.ku.dk>; Thu, 11 Jul 2002 18:21:45 +1000 (EST)
Received: from pcexch.dar.csiro.au (pcexch.dar.csiro.au [138.194.146.21])
	by bastion1.vic.csiro.au (8.11.4/8.11.4) with ESMTP id g6B8Lit13427;
	Thu, 11 Jul 2002 18:21:45 +1000 (EST)
Received: by pcexch.dar.csiro.au with Internet Mail Service (5.5.2653.19)
	id <33DQ5CHV>; Thu, 11 Jul 2002 18:21:43 +1000
Message-ID: <BE3FDFA0E846D311B264009027887568021F9571@pcexch.dar.csiro.au>
To: r-bugs@biostat.ku.dk
Cc: ripley@stats.ox.ac.uk
Subject: bug(?) in R FAQ - Should I run R from within Emacs?
Date: Thu, 11 Jul 2002 18:21:42 +1000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"

I have a small request re.

R FAQ
Frequently Asked Questions on R
Version 1.5-10, 2002-06-13
ISBN 3-901167-51-X
Kurt Hornik


In section 6.2 Should I run R from within Emacs? The faq says

"Yes, definitely." 

This led me to install emacs, and to install ess. However, I use a windows
environment (mswindows2000) and I had some difficulty installing, linking
and launching these applications. After several hours I had launched emacs
but had failed to link it with either ess or r, partly because of platform
problems. (As a dedicated windows user, I am reluctant to tinker with
autoexec.bat and the like).

I spent several hours doing this, and in hindsight, I decided to uninstall
emacs and ess.
 
I would prefer if the faq could be changed to say:

"This is optional."

And perhaps some comment could be made about platforms. I found the
documentation for emacs and ess to be a bit of a hair-pulling exercise. NOT
one of the "plug and play" applications that MS windows is so fond of! 

By the way, I like the r gui very much. I used splus for some time as a PhD
student, and I was pleasantly surprised to find that my scripts run in r!! I
intend to use r from now onwards, and to encourage my colleagues to use it
too.

Kind regards,

Tim Harrold
CSIRO Atmospheric Research
107 Station Street Aspendale Vic 3195
Phone: 03 9239 4411  Fax: 03 9239 4688
Home: 03 9571 2736
email tim.harrold@csiro.au
"Give thanks to the Lord, for he is good."
Psalm 106:1 

==> 1772.audit <==
Wed Jul 17 09:19:26 2002	ripley	moved from incoming to Documentation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2794 *
Subject: prop.test  confidence intervals
From: rbaer@kcom.edu
Date: Fri, 18 Apr 2003 19:01:03 +0200 (MET DST)
--prop.test should say how it computes confidence intervals.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2794 <==
From rbaer@kcom.edu Fri Apr 18 19:01:04 2003
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3IH13pD022320
	for <R-bugs@biostat.ku.dk>; Fri, 18 Apr 2003 19:01:04 +0200 (MET DST)
Date: Fri, 18 Apr 2003 19:01:03 +0200 (MET DST)
Message-Id: <200304181701.h3IH13pD022320@pubhealth.ku.dk>
From: rbaer@kcom.edu
To: R-bugs@biostat.ku.dk
Subject: prop.test  confidence intervals

Full_Name: Robert W. Baer, Ph.D.
Version: 1.6.2
OS: Windows 2000
Submission from: (NULL) (198.209.172.106)


Problem:  prop.test() does not seem to produce appropriate confidence intervals
for the case where the vector length of x and n is one.  (I am not certain about
higher vector lengths.)

As an example, I include x=6 and n=42 which has a mean proportion of 0.115. 
When I calculate the 95% CI using the normal approximation by hand (and no
continuity correction) I get (0.028, 0.202).  The exact binomial CI from
binom.test() is (0.044, 0.234).  With correct=FALSE prop.test produces CI95 =
(0.05396969, 0.22971664) which is neither of these.  With correct=TRUE it
produces  (0.04778925, 0.2412937) This seems reasonably like a normal
approximation 95% CI (which I presume is what is used by prop.test()) of the
true binomial but I did not actually check it by hand.

BUG summary.  The prop.test() calculation of 95% CI of sample proportions is
improperly calculated when continuity correction is turned off.

-----------------------------
Sample R code and output shown below:


> x= 6;n=52
> prop.test(x,n,correct=TRUE)

        1-sample proportions test with continuity correction

data:  x out of n, null probability 0.5 
X-squared = 29.25, df = 1, p-value = 6.362e-08
alternative hypothesis: true p is not equal to 0.5 
95 percent confidence interval:
 0.04778925 0.24129372 
sample estimates:
        p 
0.1153846 

> prop.test(x,n,correct=FALSE)

        1-sample proportions test without continuity correction

data:  x out of n, null probability 0.5 
X-squared = 30.7692, df = 1, p-value = 2.906e-08
alternative hypothesis: true p is not equal to 0.5 
95 percent confidence interval:
 0.05396969 0.22971664 
sample estimates:
        p 
0.1153846 

> binom.test(x,n)

        Exact binomial test

data:  x and n 
number of successes = 6, number of trials = 52, p-value = 1.033e-08
alternative hypothesis: true probability of success is not equal to 0.5 
95 percent confidence interval:
 0.0435412 0.2344083 
sample estimates:
probability of success 
             0.1153846 


==> 2794.followup.1 <==
From tlumley@u.washington.edu Fri Apr 18 20:53:46 2003
Received: from mxout3.cac.washington.edu (mxout3.cac.washington.edu [140.142.32.166])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3IIripD022635
	for <R-bugs@biostat.ku.dk>; Fri, 18 Apr 2003 20:53:45 +0200 (MET DST)
Received: from homer28.u.washington.edu (homer28.u.washington.edu [140.142.8.38])
	by mxout3.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h3IIrfSL003028;
	Fri, 18 Apr 2003 11:53:42 -0700
Received: from localhost (tlumley@localhost)
	by homer28.u.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h3IIreAa096050;
	Fri, 18 Apr 2003 11:53:40 -0700
Date: Fri, 18 Apr 2003 11:53:40 -0700 (PDT)
From: Thomas Lumley <tlumley@u.washington.edu>
To: rbaer@kcom.edu
cc: r-devel@stat.math.ethz.ch, <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] prop.test  confidence intervals (PR#2794)
In-Reply-To: <200304181701.h3IH15pD022324@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.44.0304181137320.79606-100000@homer28.u.washington.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Fri, 18 Apr 2003 rbaer@kcom.edu wrote:

> Full_Name: Robert W. Baer, Ph.D.
> Version: 1.6.2
> OS: Windows 2000
> Submission from: (NULL) (198.209.172.106)
>
>
> Problem:  prop.test() does not seem to produce appropriate confidence intervals
> for the case where the vector length of x and n is one.  (I am not certain about
> higher vector lengths.)
>
> As an example, I include x=6 and n=42 which has a mean proportion of 0.115.
> When I calculate the 95% CI using the normal approximation by hand (and no
> continuity correction) I get (0.028, 0.202).  The exact binomial CI from
> binom.test() is (0.044, 0.234).  With correct=FALSE prop.test produces CI95 =
> (0.05396969, 0.22971664) which is neither of these.  With correct=TRUE it
> produces  (0.04778925, 0.2412937) This seems reasonably like a normal
> approximation 95% CI (which I presume is what is used by prop.test()) of the
> true binomial but I did not actually check it by hand.
>
> BUG summary.  The prop.test() calculation of 95% CI of sample proportions is
> improperly calculated when continuity correction is turned off.

No, it isn't a bug.  It uses a Normal approximation, but not the one you
were using. It is based on inverting the score test rather than the Wald
test, and is substantially more accurate.

Checking by simulation: n=42, p=0.1, 10,000 replicates, the coverage from
prop.test without correction was 96.7%, with correction was 97.9% and from
the Wald-based Normal approximation was 92.3%.


	-thomas




==> 2794.audit <==
Fri Apr 18 21:57:39 2003	thomas	changed notes
Fri Apr 18 21:57:39 2003	thomas	foobar
Fri Apr 18 21:57:39 2003	thomas	moved from incoming to Documentation

==> 2794.reply.1 <==
From p.dalgaard@biostat.ku.dk Fri Apr 18 23:10:50 2003
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3ILAnpD022966;
	Fri, 18 Apr 2003 23:10:49 +0200 (MET DST)
Received: from blueberry.kubism.ku.dk (localhost.localdomain [127.0.0.1])
	by blueberry.kubism.ku.dk (8.12.8/8.12.8) with ESMTP id h3ILD48e026673;
	Fri, 18 Apr 2003 23:13:04 +0200
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.12.8/8.12.8/Submit) id h3ILD4wi026669;
	Fri, 18 Apr 2003 23:13:04 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: rbaer@kcom.edu
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] prop.test  confidence intervals (PR#2794)
References: <200304181701.h3IH15pD022324@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 18 Apr 2003 23:13:03 +0200
In-Reply-To: <200304181701.h3IH15pD022324@pubhealth.ku.dk>
Message-ID: <x2he8v4ihs.fsf@biostat.ku.dk>
Lines: 33
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

rbaer@kcom.edu writes:

> As an example, I include x=6 and n=42 which has a mean proportion of 0.115. 

...n=52...

> When I calculate the 95% CI using the normal approximation by hand (and no
> continuity correction) I get (0.028, 0.202).  The exact binomial CI from
> binom.test() is (0.044, 0.234).  With correct=FALSE prop.test produces CI95 =
> (0.05396969, 0.22971664) which is neither of these.  With correct=TRUE it
> produces  (0.04778925, 0.2412937) This seems reasonably like a normal
> approximation 95% CI (which I presume is what is used by prop.test()) of the
> true binomial but I did not actually check it by hand.
> 
> BUG summary.  The prop.test() calculation of 95% CI of sample proportions is
> improperly calculated when continuity correction is turned off.

Uhm... Basically, we know the correct answer from binom.test, and R's
intervals are considerably closer to that than the textbook p+-2*se(p)
formula. So R has a bug because it isn't inaccurate enough??

This might enlighten you:

prop.test(6,52,p=.05396969,alt="g",correct=F)
prop.test(6,52,p=.22971664,alt="l",correct=F)

also, consider the case x=0.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Graphics

* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 202 <==
From wsi@gcal.ac.uk  Wed Jun  2 15:02:10 1999
Received: from localhost (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA27126
	for <R-bugs@biostat.ku.dk>; Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
From: wsi@gcal.ac.uk
Message-Id: <199906021302.PAA27126@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: persp box occlusion bug

Full_Name: Bill Simpson
Version: 64.1
OS: linux
Submission from: (NULL) (193.62.250.209)


Bug in persp() bounding box:
If the surface being plotted extends below the lower z-axis boundary, the box
is
drawn with the wrong occlusion. The box is shown as being occluded by the
surface
even though it should be in front of the surface.

The box is correct for surface extending above the box. Problem is only for
surface extending below the box.

This exhibits the bug:

std<-rep(seq(-32,32,8),9)/1000 * 60
cf<-rep(seq(-32,32,8),rep(9,9))/1000 *60 
dp<-(cf-std)/.6
std<-unique(std)
cf<-unique(cf)
dp<-t(matrix(dp,length(cf),length(std)))
persp(std,cf,dp, xlim=c(-2,2), ylim=c(-2,2), zlim=c(0,5),theta=-40,    
phi=45,
box=TRUE,ltheta=-120, lphi=120,
d=1.5, shade=.7)


==> 202.audit <==
Wed Jun 30 19:31:18 1999	pd	moved from incoming to Graphics
Thu Jul 01 18:19:48 1999	pd	changed notes
Sun Feb 20 10:07:11 2000	ripley	changed notes
Mon Feb 28 17:17:51 2000	pd	changed notes
Mon Feb 28 17:18:28 2000	pd	changed notes
Mon Feb 28 17:19:35 2000	pd	changed notes
Mon Feb 28 17:20:17 2000	pd	changed notes
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 660 <==
From postmaster@franz.stat.wisc.edu  Fri Sep 15 11:23:32 2000
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA13327
	for <R-bugs@biostat.ku.dk>; Fri, 15 Sep 2000 11:23:32 +0200 (MET DST)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id LAA17846
	for <r-bugs@hypatia.math.ethz.ch>; Fri, 15 Sep 2000 11:23:49 +0200 (MET DST)
Received: from franz.stat.wisc.edu(128.105.174.95)
 via SMTP by hypatia, id smtpdAAAa004Mn; Fri Sep 15 11:23:42 2000
Received: from toucan.stats.ox.ac.uk (really [163.1.20.20]) by franz.stat.wisc.edu
	via in.smtpd with esmtp
	id <m13Zrkl-000IW0C@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <R-bugs@r-project.org>; Fri, 15 Sep 2000 04:25:51 -0500 (CDT) 
Received: from localhost (ripley@localhost)
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id KAA14892
	for <R-bugs@r-project.org>; Fri, 15 Sep 2000 10:23:39 +0100 (BST)
X-Authentication-Warning: toucan.stats: ripley owned process doing -bs
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
X-Sender: ripley@toucan.stats
To: R-bugs@r-project.org
Subject: identify.default ignores any setting of cex.
Message-ID: <Pine.GSO.4.05.10009151011510.14885-100000@toucan.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

R 1.1.1 on Windows, but I think this is widespread.

Using either

par(cex=0.5)
plot(1:10)
identify(1:10)

or

plot(1:10)
identify(1:10, cex=0.5)

ignores the cex setting.  The root cause is that par(cex=0.5)
alters cexbase for the device but sets cex=1.0, and the internal
text plotting routines use cex and not cexbase.

The obvious fix is to set cex to cexbase in do_identify. However,
if this is fixed, there is another problem, The offset of the label
is related to the cex in use for the label, and not for the symbol.
So

plot(1:10, type="n")
points(1:10, cex=5)
identify(1:10)

is not sensible in placing the labels.  That may be hard to anticipate,
but 

plot(1:10)
identify(1:10, cex=0.5)

needs to use cex=1 not cex=0.5 for the adjustment.  Perhaps identify is
trying too hard, and should give the user more control over the precise
position of the label (as S-PLUS does).

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 660.audit <==
Wed Oct 25 06:57:35 2000	ripley	moved from incoming to Graphics

==> 660.followup.1 <==
From ligges@statistik.uni-dortmund.de  Wed Apr 25 17:24:42 2001
Received: from nx5.HRZ.Uni-Dortmund.DE (nx5.HRZ.Uni-Dortmund.DE [129.217.131.21])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id RAA02114
	for <R-bugs@biostat.ku.dk>; Wed, 25 Apr 2001 17:24:42 +0200 (MET DST)
Received: from amadeus.statistik.uni-dortmund.de by nx5.HRZ.Uni-Dortmund.DE
          via smtp-local with ESMTP; Wed, 25 Apr 2001 17:24:51 +0200
Received: from statistik.uni-dortmund.de ([129.217.207.201])
	by amadeus.statistik.uni-dortmund.de (8.9.3+Sun/8.9.3) with ESMTP id RAA01760;
	Wed, 25 Apr 2001 17:24:50 +0200 (MET DST)
Message-ID: <3AE6EC55.6C1D8C7A@statistik.uni-dortmund.de>
Date: Wed, 25 Apr 2001 17:25:09 +0200
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Organization: Fachbereich Statistik, Universitaet Dortmund
X-Mailer: Mozilla 4.76 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: r-bugs <R-bugs@biostat.ku.dk>
CC: "Brian D. Ripley" <ripley@stats.ox.ac.uk>
Subject: Re: identify.default ignores any setting of cex (PR#660)
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

A follow-up to PR#660 (15 Sep 2000) from Brian Ripley:

> R 1.1.1 on Windows, but I think this is widespread.
>
> Using either
>
> par(cex=0.5)
> plot(1:10)
> identify(1:10)
>
> or
> 
> plot(1:10)
> identify(1:10, cex=0.5)
> 
> ignores the cex setting.  The root cause is that par(cex=0.5)
> alters cexbase for the device but sets cex=1.0, and the internal
> text plotting routines use cex and not cexbase.
> 
> The obvious fix is to set cex to cexbase in do_identify. However,
> if this is fixed, there is another problem, The offset of the label
> is related to the cex in use for the label, and not for the symbol.
> So
> 
> plot(1:10, type="n")
> points(1:10, cex=5)
> identify(1:10)
> 
> is not sensible in placing the labels.  That may be hard to anticipate,
> but 
> 
> plot(1:10)
> identify(1:10, cex=0.5)
> 
> needs to use cex=1 not cex=0.5 for the adjustment.  Perhaps identify is
> trying too hard, and should give the user more control over the precise
> position of the label (as S-PLUS does).


The same with 

 par(cex=1); plot(1:10); text(4, 5, "Hello World") # OK
 par(cex=2); plot(1:10); text(4, 5, "Hello World") # OK
 par(cex=2); plot(1:10); text(4, 5, "Hello World", cex = 1) # NOT OK
 par(cex=2); plot(1:10); text(4, 5, "Hello World", cex = 0.5)

So the scaling with cex in text() is relative to the par() settings,
which is not the expected behaviour.


[R-1.2.2 on WinNT 4.0]

Uwe Ligges

==> 660.followup.2 <==
From ripley@stats.ox.ac.uk  Wed Apr 25 20:00:09 2001
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA03187
	for <R-bugs@biostat.ku.dk>; Wed, 25 Apr 2001 20:00:09 +0200 (MET DST)
Received: from max166.public.ox.ac.uk (max166.public.ox.ac.uk [192.76.27.166])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id SAA06061;
	Wed, 25 Apr 2001 18:56:30 +0100 (BST)
Date: Wed, 25 Apr 2001 18:55:47 +0100 (GMT Daylight Time)
From: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
To: <ligges@statistik.uni-dortmund.de>
cc: <r-devel@stat.math.ethz.ch>, <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] Re: identify.default ignores any setting of cex (PR#660)
In-Reply-To: <200104251524.RAA02124@pubhealth.ku.dk>
Message-ID: <Pine.WNT.4.31.0104251852500.300-100000@tern.stats>
Sender: ripley@stats.ox.ac.uk
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Wed, 25 Apr 2001 ligges@statistik.uni-dortmund.de wrote:

> A follow-up to PR#660 (15 Sep 2000) from Brian Ripley:

[...]

> The same with
>
>  par(cex=1); plot(1:10); text(4, 5, "Hello World") # OK
>  par(cex=2); plot(1:10); text(4, 5, "Hello World") # OK
>  par(cex=2); plot(1:10); text(4, 5, "Hello World", cex = 1) # NOT OK
>  par(cex=2); plot(1:10); text(4, 5, "Hello World", cex = 0.5)
>
> So the scaling with cex in text() is relative to the par() settings,
> which is not the expected behaviour.

It is the documented behaviour, though: see the description of cex in
?help.

     cex: numeric character expansion factor; multiplied by
          `par("cex")' yields the final character size.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 776 <==
From postmaster@franz.stat.wisc.edu  Tue Dec 19 14:53:40 2000
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA05819
	for <r-bugs@biostat.ku.dk>; Tue, 19 Dec 2000 14:53:39 +0100 (MET)
Received: from smtp02.iarc.fr (really [212.157.236.234]) by franz.stat.wisc.edu
	via in.smtpd with esmtp
	id <m148NHG-000IYiC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Tue, 19 Dec 2000 07:58:02 -0600 (CST) 
Received: from xena.iarc.fr ([10.10.150.125])
	by smtp02.iarc.fr (8.9.3/8.9.3) with ESMTP id OAA21720
	for <r-bugs@r-project.org>; Tue, 19 Dec 2000 14:53:55 +0100
Message-ID: <XFMail.001219145601.plummer@iarc.fr>
X-Mailer: XFMail 1.3 [p0] on Linux
X-Priority: 3 (Normal)
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 8bit
MIME-Version: 1.0
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
Organization: International Agency for Research on Cancer
Sender: martyn@xena.iarc.fr
From: Martyn Plummer <plummer@iarc.fr>
To: r-bugs@r-project.org
Subject: strwidth does not take font into account

One for the wishlist.

The text() function permits the use of different fonts with the arguments
"font" or "vfont".  These create text strings of the same height as the
default font, but of different widths: bold face is slightly wider; vector
fonts are usually much wider.  I think the strwidth() function needs to
take the font into account by also having "font" and "vfont" arguments.
Currently it reports the string width using the default font, which can
be quite different.

Here is a little test function you can use to see how far off the
reported string width is.

test.strwidth <-
function(text, vfont=NULL, cex=NULL, ...)
{
 plot(0,0,xlim=c(-1,1),ylim=c(-1,1), type="n")
 text(0,0, text, adj=c(0,0), offset=0, cex=cex, vfont=vfont, ...)
 abline(h=c(0, strheight(text, cex=cex)), lty=2)
 abline(v=c(0, strwidth(text, cex=cex)), lty=2)
}

e.g.

test.strwidth("This is some text", cex=2)
test.strwidth("This is some text", cex=2, font=2)
test.strwidth("This is some text", vfont=c("sans serif", "plain"))

Martyn

Please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status =
 major = 1
 minor = 2.0
 year = 2000
 month = 12
 day = 15
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base




==> 776.audit <==
Tue Dec 26 10:31:10 2000	ripley	moved from incoming to Graphics
Sat Feb 24 08:55:28 2001	ripley	changed notes
Sat Feb 24 08:55:28 2001	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 791 <==
From postmaster@franz.stat.wisc.edu  Fri Dec 22 10:59:23 2000
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA08619
	for <r-bugs@biostat.ku.dk>; Fri, 22 Dec 2000 10:59:23 +0100 (MET)
Received: from stat.math.ethz.ch (really [129.132.58.23]) by franz.stat.wisc.edu
	via in.smtpd with esmtp (ident daemon using rfc1413)
	id <m149OzA-000IXMC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Fri, 22 Dec 2000 03:59:36 -0600 (CST) 
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id KAA02617;
	Fri, 22 Dec 2000 10:59:34 +0100 (MET)
Received: from UNKNOWN(129.132.58.33), claiming to be "florence.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa000cp; Fri Dec 22 10:59:26 2000
Received: (maechler@localhost) by florence.ethz.ch (8.9.3/D-MATH-client) id KAA23075; Fri, 22 Dec 2000 10:59:26 +0100
Date: Fri, 22 Dec 2000 10:59:26 +0100
From: maechler@stat.math.ethz.ch
Message-Id: <200012220959.KAA23075@florence.ethz.ch>
To: r-bugs@r-project.org
Subject:  par(lab= *) / axis(*) bug 
Cc: maechler@stat.math.ethz.ch

As the subject says,
here is example code (with comments) showing the problem:

p1 <- function(lab = c(8,12,7))
{
    ## This `fails' (on a virgin device)
    clab <- paste(lab,collapse=",")
    plot(1,1, xlim = c(0,15), ylim = c(-.8,1), type ="n", axes = FALSE,
         main=paste("plot(*,axes=F); par(lab= c(",clab,"));  axis(*) x 2",sep=""))
    box(col="gray80")
    op <- par(lab = lab) ; on.exit(par(op))
    axis(1, pos = 0)
    axis(2, pos = 0, las = 1)
    par(op)
    op
}

p2 <- function(lab = c(8,12,7))
{
    ## This works  [par()  *BEFORE*  plot() ]
    clab <- paste(lab,collapse=",")
    op <- par(lab = lab) ; on.exit(par(op))

    plot(1,1, xlim = c(0,15), ylim = c(-.8,1), type ="n", axes = FALSE,
         main=paste("par(lab= c(",clab,")); plot(*,axes=F); axis(*) x 2",sep=""))
    box(col="gray80")
    axis(1, pos = 0)
    axis(2, pos = 0, las = 1)
    op ## lab 5 5 7
}

dev.off()
par(mfrow=c(2,1), mar=c(2,2,3,1))
p1()
p2()




--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = Patched
 major = 1
 minor = 2.0
 year = 2000
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, package:nls, package:splines, package:lqs, package:modreg, package:stepfun, package:mva, package:eda, package:ts, package:VLMC, package:ctest, package:SfS, Autoloads, package:base

==> 791.audit <==
Tue Dec 26 10:31:10 2000	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 816 <==
From postmaster@franz.stat.wisc.edu  Thu Jan 18 16:57:16 2001
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA13627
	for <r-bugs@biostat.ku.dk>; Thu, 18 Jan 2001 16:57:15 +0100 (MET)
Received: from ingw1.tirol.gv.at (really [212.183.27.1]) by franz.stat.wisc.edu
	via in.smtpd with esmtp
	id <m14JHRE-000IWyC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Thu, 18 Jan 2001 09:57:24 -0600 (CST) 
Received: from xms.tirol.gv.at (xms.tirol.gv.at [10.11.128.200])
	by ingw1.tirol.gv.at (Mailer) with ESMTP id 22ADE2825
	for <r-bugs@r-project.org>; Thu, 18 Jan 2001 14:49:47 +0100 (NFT)
Received: from xms.tirol.gv.at (unverified) by xms.tirol.gv.at
 (Content Technologies SMTPRS 4.1.5) with ESMTP id <T0a0b80c8512ecf1400@xms.tirol.gv.at> for <r-bugs@r-project.org>;
 Thu, 18 Jan 2001 14:54:33 +0100
Received: by xms.tirol.gv.at with Internet Mail Service (5.5.2650.21)
	id <CLGLQ6B7>; Thu, 18 Jan 2001 14:54:33 +0100
Message-ID: <C4D44AB4CB62D311BA6500041202E8862640F8@xms1.tirol.gv.at>
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
To: "'r-bugs@r-project.org'" <r-bugs@r-project.org>
Subject: dotplot: character size of labels
Date: Thu, 18 Jan 2001 14:54:32 +0100
Return-Receipt-To: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by pubhealth.ku.dk id QAA13627

There seems to be a bug in "dotplot" concerning the "cex" parameter. Setting
cex has no effect on the character size of the labels of the points.
This problem was posted to r-help today (Thu, 18 Jan 2001); the solution
given by Brian Ripley (and Uwe Ligges) seems to work for me.

Heinrich Rinner.
 
> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    2.0            
year     2000           
month    12             
day      15             
language R              

> ----------
> Von: 	Prof Brian Ripley[SMTP:ripley@stats.ox.ac.uk]
> Gesendet: 	Donnerstag, 18. Jänner 2001 10:35
> An: 	RINNER Heinrich
> Cc: 	'r-help@stat.math.ethz.ch'
> Betreff: 	Re: [R] dotplot: character size of labels
> 
> On Thu, 18 Jan 2001, RINNER Heinrich wrote:
> 
> > Dear R users,
> >
> > using dotplot (R1.2.0, WinNT4.0), I am trying to change the character
> size
> > of the labels of the points:
> >
> > > # example
> > > data(VADeaths)
> > > dotplot(VADeaths, main = "Death Rates in Virginia - 1940")
> > > # I'd like to have smaller character size of the labels (for age and
> > population groups)
> > > ?dotplot
> > > # for argument "cex", this says: "Setting cex to a value smaller than
> one
> > can be a useful way of avoiding label overlap."
> > > dotplot(VADeaths, main = "Death Rates in Virginia - 1940", cex = 0.5)
> > > # the main title and the plotting characters are smaller now, but not
> the
> > labels
> > > # trying to set other graphics parameters seems to have no effect:
> > > dotplot(VADeaths, main = "Death Rates in Virginia - 1940", cex.axis =
> 0.5)
> > > dotplot(VADeaths, main = "Death Rates in Virginia - 1940", cex.lab =
> 0.5)
> >
> > I'd be grateful for any hint how to do this correctly;
> 
> Looks like a bug. Inside dotplot alter to
> 
>         for (i in 1:n) mtext(labs[i], side = 2, line = loffset,
>             at = y[i], adj = 0, col = color, las = 2, cex = cex, ...)
> 
>         for (i in 1:nlevels(groups)) mtext(glabels[i], side = 2,
>             line = goffset, at = gpos[i], adj = 0, col = gcolor,
>             las = 2, cex = cex, ...)
> 
> However, it really needs more than that to calculate the spaces for the
> labels correctly.
> 
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 

==> 816.audit <==
Sat Jan 20 10:24:14 2001	ripley	moved from incoming to Graphics
Tue Jan 23 03:38:23 2001	paul	changed notes
Tue Jan 23 03:38:23 2001	paul	foobar
Sun Feb 18 10:11:12 2001	ripley	changed notes
Sun Feb 18 10:11:12 2001	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
--Still there. Suggested fix included in followups, but we didn't get around to
--try it in time for 1.2.3.
--
--Fix doesn't work. One problem is that the opar<-par();par(opar) idiom updates
--xaxp before xlog, and the new value of xaxp may only be valid under the new
--value of xlog.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 831 <==
From postmaster@franz.stat.wisc.edu  Tue Jan 30 06:39:31 2001
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id GAA28455
	for <r-bugs@biostat.ku.dk>; Tue, 30 Jan 2001 06:39:30 +0100 (MET)
Received: from infiniti.ece.cmu.edu (really [128.2.216.84]) by franz.stat.wisc.edu
	via in.smtpd with esmtp
	id <m14NTW2-000IWyC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Mon, 29 Jan 2001 23:39:42 -0600 (CST) 
Received: (from tov@localhost) by infiniti.ece.cmu.edu (AIX4.3/UCB 8.8.8/8.8.8) id AAA26672; Tue, 30 Jan 2001 00:39:42 -0500
X-Authentication-Warning: infiniti.ece.cmu.edu: tov set sender to tov@ece.cmu.edu using -f
Sender: tov@infiniti.ece.cmu.edu
To: r-bugs@r-project.org
Cc: Thomas Vogels <tov@ece.cmu.edu>
Subject: screen can't go back to (split) screen with log="y" plot
Reply-To: Thomas Vogels <tov@ece.cmu.edu>
X-URI: http://www.ece.cmu.edu/~tov
From: Thomas Vogels <tov@ece.cmu.edu>
User-Agent: Gnus/5.0807 (Gnus v5.8.7) Emacs/20.7
Date: 30 Jan 2001 00:39:41 -0500
Message-ID: <pxsnm1egyq.fsf@infiniti.ece.cmu.edu>
Lines: 76
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii


Hi.  Let's try to explain the subject line with some code:

> split.screen (c(2,1))
[1] 1 2
> screen(1)
> plot (1:2, 1:2, log="y", main="1")
> screen (2)
> plot (1:2, 1:2, main="2")
> screen (1)
Error in par(.split.screens[[n]]) : invalid value specified for graphics parameter "yaxp".
> close.screen(all=TRUE)

Let's add comments:

> split.screen (c(2,1))
[1] 1 2

OK, plot in the top half screen:
> screen(1)
> plot (1:2, 1:2, log="y", main="1")
> par("yaxp")
[1]  1  2 -5

OK, switch to bottom half:
> screen (2)
> plot (1:2, 1:2, main="2")
> par("yaxp")
[1] 1 2 5

OK, looks fine, let's go back up:
> screen (1)
Error in par(.split.screens[[n]]) : invalid value specified for graphics parameter "yaxp".

Bummer.
> close.screen(all=TRUE)

Somehow I'm hoping you'll tell me I'm doing something wrong, because
I'd really would like to be able to do the following:
  repeat {
    #calculate
    screen(1)
    #fancy plot
    screen (2)
    #even fancier plot ;-)
    if (user.bored()) break
  }
Which is roughly what I was doing when the error messages started
popping up.

Thanks,
  -tom

--please do not edit the information below--

Version:
 platform = i386-pc-linux-gnu
 arch = i386
 os = linux-gnu
 system = i386, linux-gnu
 status = 
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base



-- 
mailto:tov@ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204


==> 831.followup.1 <==
From ripley@stats.ox.ac.uk  Tue Jan 30 08:40:46 2001
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id IAA28901
	for <R-bugs@biostat.ku.dk>; Tue, 30 Jan 2001 08:40:46 +0100 (MET)
Received: from max144.public.ox.ac.uk (max144.public.ox.ac.uk [192.76.27.144])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id HAA21509;
	Tue, 30 Jan 2001 07:40:54 GMT
Date: Tue, 30 Jan 2001 07:39:25 +0000 (GMT)
From: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
Sender: <ripley@auk.stats>
To: <tov@ece.cmu.edu>
cc: <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] screen can't go back to log="y" plot (PR#831)
In-Reply-To: <200101300539.GAA28465@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0101300725290.17104-100000@auk.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

[I have abbreviated the subject as jitterbug has been having probems
with long subjects.]

The issue here is that one cannot mix log/non-log axes in the calls to
screen(), as the appropriate par() parameter is read-only, but the
meaning of yaxp depends on it.  But beyond that you can't set
x/yaxp for log axes.

You should be able to do this: you can in the S original.

A simpler version:

plot (1:2, 1:2, log="y", main="1")
zz <- par("yaxp")
zz
[1]  1  2 -5
par(yaxp=zz)
Error in par(yaxp = zz) : invalid value specified for graphics parameter
"yaxp".

So you can't reset the yaxp parameter to what it is reported as!


Additional bug: the meaning of x/yaxp for log axes is not defined
in help(par).


On Tue, 30 Jan 2001 tov@ece.cmu.edu wrote:

>
> Hi.  Let's try to explain the subject line with some code:
>
> > split.screen (c(2,1))
> [1] 1 2
> > screen(1)
> > plot (1:2, 1:2, log="y", main="1")
> > screen (2)
> > plot (1:2, 1:2, main="2")
> > screen (1)
> Error in par(.split.screens[[n]]) : invalid value specified for graphics parameter "yaxp".
> > close.screen(all=TRUE)
>
> Let's add comments:
>
> > split.screen (c(2,1))
> [1] 1 2
>
> OK, plot in the top half screen:
> > screen(1)
> > plot (1:2, 1:2, log="y", main="1")
> > par("yaxp")
> [1]  1  2 -5
>
> OK, switch to bottom half:
> > screen (2)
> > plot (1:2, 1:2, main="2")
> > par("yaxp")
> [1] 1 2 5
>
> OK, looks fine, let's go back up:
> > screen (1)
> Error in par(.split.screens[[n]]) : invalid value specified for graphics parameter "yaxp".
>
> Bummer.
> > close.screen(all=TRUE)
>
> Somehow I'm hoping you'll tell me I'm doing something wrong, because
> I'd really would like to be able to do the following:
>   repeat {
>     #calculate
>     screen(1)
>     #fancy plot
>     screen (2)
>     #even fancier plot ;-)
>     if (user.bored()) break
>   }
> Which is roughly what I was doing when the error messages started
> popping up.
>
> Thanks,
>   -tom
>
> --please do not edit the information below--
>
> Version:
>  platform = i386-pc-linux-gnu
>  arch = i386
>  os = linux-gnu
>  system = i386, linux-gnu
>  status =
>  major = 1
>  minor = 2.1
>  year = 2001
>  month = 01
>  day = 15
>  language = R
>
> Search Path:
>  .GlobalEnv, package:ctest, Autoloads, package:base
>
>
>
> --
> mailto:tov@ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 831.followup.2 <==
From tov@ece.cmu.edu  Thu Feb  1 02:13:08 2001
Received: from infiniti.ece.cmu.edu (INFINITI.ECE.CMU.EDU [128.2.133.84])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id CAA25173
	for <R-bugs@biostat.ku.dk>; Thu, 1 Feb 2001 02:13:07 +0100 (MET)
Received: (from tov@localhost) by infiniti.ece.cmu.edu (AIX4.3/UCB 8.8.8/8.8.8) id UAA19026; Wed, 31 Jan 2001 20:12:41 -0500
X-Authentication-Warning: infiniti.ece.cmu.edu: tov set sender to tov@ece.cmu.edu using -f
Sender: tov@infiniti.ece.cmu.edu
To: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
Cc: <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] screen can't go back to log="y" plot (PR#831)
References: <Pine.GSO.4.31.0101300725290.17104-100000@auk.stats>
Reply-To: Thomas Vogels <tov@ece.cmu.edu>
X-URI: http://www.ece.cmu.edu/~tov
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 31 Jan 2001 20:12:41 -0500
In-Reply-To: Prof Brian D Ripley's message of "Tue, 30 Jan 2001 07:39:25 +0000 (GMT)"
Message-ID: <px7l3bcik6.fsf@infiniti.ece.cmu.edu>
Lines: 81
User-Agent: Gnus/5.0807 (Gnus v5.8.7) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii


Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:

> [I have abbreviated the subject as jitterbug has been having probems
> with long subjects.]
> 
> The issue here is that one cannot mix log/non-log axes in the calls to
> screen(), as the appropriate par() parameter is read-only, but the
> meaning of yaxp depends on it.  But beyond that you can't set
> x/yaxp for log axes.
> 
> You should be able to do this: you can in the S original.
> 
> A simpler version:
> 
> plot (1:2, 1:2, log="y", main="1")
> zz <- par("yaxp")
> zz
> [1]  1  2 -5
> par(yaxp=zz)
> Error in par(yaxp = zz) : invalid value specified for graphics parameter
> "yaxp".
> 
> So you can't reset the yaxp parameter to what it is reported as!
[snip]

The code in main/par.c ignores the value of xlog (or ylog) when
setting xaxp (or yaxp).  Right now you have in Specify (and Specify2):

... else if (streql(what, "xaxp")) {
	value = coerceVector(value, REALSXP);
	lengthCheck(what, value, 3);
	naRealCheck(REAL(value)[0], what);
	naRealCheck(REAL(value)[1], what);
        posIntCheck((int) (REAL(value)[2]), what);

Shouldn't that be something like:

... else if (streql(what, "xaxp")) {
	value = coerceVector(value, REALSXP);
	lengthCheck(what, value, 3);
	naRealCheck(REAL(value)[0], what);
	naRealCheck(REAL(value)[1], what);
        if (dd->gp.xlog)
            logAxpCheck((int) (REAL(value)[2]), what);
        else
            posIntCheck((int) (REAL(value)[2]), what);

Where logAxpCheck is suitably defined as:

static void logAxpCheck(int x, char *s)
{
    if (x == NA_INTEGER || x == 0 || x > 4)
	par_error(s);
}

since only values < 0 or the values 1, 2, 3 are allowed?


> Additional bug: the meaning of x/yaxp for log axes is not defined
> in help(par).

excerpt from help(par):

    xaxp: A vector of the form `c(x1, x2, n)' giving the coordinates
          of the extreme tick marks and the number of intervals
          between tick-marks.

Could you add:

          The value of n must be positive for linear scale axes.  For
          logarithmic scale axes n must be either negative (then there
          will be (1-n) ticks at a linear distance) or one of 1, 2, or
          3 where n then indicates the number of ticks per decade.

similar for yaxp?  What am I missing?
Regards,
  -tom

-- 
mailto:tov@ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204

==> 831.audit <==
Wed Feb  7 08:51:14 2001	ripley	moved from incoming to Graphics
Thu Apr 26 12:13:40 2001	pd	changed notes
Thu Apr 26 12:13:40 2001	pd	foobar
Thu Jun  7 19:13:15 2001	thomas	changed notes
Thu Jun  7 19:13:15 2001	thomas	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 837 <==
From tov@ece.cmu.edu  Thu Feb  1 20:20:40 2001
Received: from infiniti.ece.cmu.edu (INFINITI.ECE.CMU.EDU [128.2.133.84])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA08721
	for <r-bugs@biostat.ku.dk>; Thu, 1 Feb 2001 20:20:39 +0100 (MET)
Received: (from tov@localhost) by infiniti.ece.cmu.edu (AIX4.3/UCB 8.8.8/8.8.8) id OAA30464; Thu, 1 Feb 2001 14:20:52 -0500
X-Authentication-Warning: infiniti.ece.cmu.edu: tov set sender to tov@ece.cmu.edu using -f
Sender: tov@infiniti.ece.cmu.edu
To: r-bugs@biostat.ku.dk
Cc: Thomas Vogels <tov@ece.cmu.edu>
Subject: screen doesn't handle redrawing properly
Reply-To: Thomas Vogels <tov@ece.cmu.edu>
X-URI: http://www.ece.cmu.edu/~tov
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
Message-ID: <pxitmub46j.fsf@infiniti.ece.cmu.edu>
Lines: 74
User-Agent: Gnus/5.0807 (Gnus v5.8.7) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii


Hi.  As far as I understand it, there is a list of graphic primitives
stored for a device.  So for example, when I iconify/deiconify an X11
window, the plot will be redrawn.  Now screen (split.screen and
friends) appear not to handle this list properly, the list is reset or
not reset at odd times.  The commands below will show clearly what I
mean.  There are two effects:

  - After splitting the device real estate into two screens, I can
    plot on these screens, alternating between them.  When I then
    touch the window to force a redraw, *all* the plots are redrawn,
    not just the last (and visible) ones.
    [This happens when the X server runs on AIX, R runs on AIX or Sun.]

  - Again, after splitting, plotting on one screen can affect the
    other screen.  I.e. plot(...); plot (...) on the left screen can
    erase the *right* screen.
    [This happens for all platforms I have access to, AIX, Linux, Sun.]

The first effect may be due to a bad interaction with the X server,
but the second effect is surely not desirable, is it?  Am I mis-using
'screen' here?

R> split.screen (c(1,2))
[1] 1 2
R> # Draw 10000 points to make the effect obvious
R> screen (1)
R> plot (1:10000, 1:10000, main="1")
R> screen (2)
R> plot (1:10000, 1:10000, main="2")
R> # Ok, go back to screen 1, draw plots 3 and 4
R> screen (1)
R> plot (1:10000, 10000:1, main="3")
R> screen (2)
R> plot (1:10000, 10000:1, main="4")
R> 
R> ########################################
R> # NOW lower/raise window, do something to force device to redraw itself.
R> # You'll see again plot 1 (!), 2 (!), 3, and 4.  Why 1 and 2?
R> ########################################
R> 
R> # Here's how to erase screen 2 from screen 1 (!)
R> screen (1)
R> plot (1:10, 1:10, main="3a")
R> ########################################
R> # The following plot will erase screen 2
R> ########################################
R> plot (1:10, 1:10, main="3b")
R> 
R> # The good news is that this resets the list of graphic ops:
R> screen (2)
R> plot (1:10, 1:10, main="4")
R> # Now if you touch the window, you'll see only plot 3b and 4.

Regards,
  -tom

R> R.version
         _                   
platform sparc-sun-solaris2.7
arch     sparc               
os       solaris2.7          
system   sparc, solaris2.7   
status   Patched             
major    1                   
minor    2.1                 
year     2001                
month    01                  
day      31                  
language R                   

-- 
mailto:tov@ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204


==> 837.audit <==
Wed Feb  7 08:51:14 2001	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 887 <==
From jhallman@frb.gov  Wed Mar 28 20:51:06 2001
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA23265
	for <R-bugs@biostat.ku.dk>; Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
From: jhallman@frb.gov
Message-Id: <200103281851.UAA23265@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: axis(adj=anything) has no effect

Full_Name: Jeff Hallman
Version: 1.2.2
OS: SunOS5.6
Submission from: (NULL) (132.200.32.33)


Giving an adj argument to axis() seems to have no effect.  In Splus, adj = 0 
left-justifies the labels under the ticks, adj = 1 right justifies them, and 
numbers in between can also be used.  I like to use adj = 0.9 to get something
that looks like this:

-----------+-----------+-----------+------------+---------
        1980        1981        1982         1983

as an axis for a plot of monthly time series data.



==> 887.audit <==
Sat Apr  7 10:29:17 2001	ripley	moved from incoming to Graphics

==> 887.followup.1 <==
From paul@stat.auckland.ac.nz  Tue Jun 19 06:05:35 2001
Received: from mailhost.auckland.ac.nz (mailhost.auckland.ac.nz [130.216.191.4] (may be forged))
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id GAA16140
	for <R-bugs@biostat.ku.dk>; Tue, 19 Jun 2001 06:05:33 +0200 (MET DST)
Received: from stat1.stat.auckland.ac.nz (stat1.stat.auckland.ac.nz [130.216.93.1])
	by mailhost.auckland.ac.nz (8.9.2/8.9.2/8.9.2-ua) with ESMTP id QAA00412;
	Tue, 19 Jun 2001 16:05:26 +1200 (NZST)
Received: from murrell (murrell.stat.auckland.ac.nz [130.216.93.23])
	by stat1.stat.auckland.ac.nz (8.9.3+Sun/8.8.8) with SMTP id QAA24826;
	Tue, 19 Jun 2001 16:05:25 +1200 (NZST)
Message-ID: <020401c0f877$becbd540$175dd882@stat.auckland.ac.nz>
From: "Paul Murrell" <paul@stat.auckland.ac.nz>
To: <r-core@r-project.org>
Cc: <R-bugs@biostat.ku.dk>
Subject: Re: axis(adj=anything) has no effect (PR#887)
Date: Tue, 19 Jun 2001 16:24:35 +1200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4522.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200

Hi

----Bug summary:----
Giving an adj argument to axis() seems to have no effect.  In Splus, adj = 0
left-justifies the labels under the ticks, adj = 1 right justifies them, and
numbers in between can also be used.  I like to use adj = 0.9 to get
something
that looks like this:

-----------+-----------+-----------+------------+---------
        1980        1981        1982         1983

as an axis for a plot of monthly time series data.
----Bug summary:----


Are missing features bugs or wish-list items ?

Paul


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 943 *
Subject: legend() with xpd=T; omission of initial plot character
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sun, 20 May 2001 10:35:16 +1000
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 943 <==
From postmaster@franz.stat.wisc.edu  Sun May 20 02:32:40 2001
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id CAA02494
	for <r-bugs@biostat.ku.dk>; Sun, 20 May 2001 02:32:39 +0200 (MET DST)
Received: from mail.anu.edu.au (really [150.203.2.7]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m151H95-000JH8C@franz.stat.wisc.edu> (Debian Smail3.2.0.111)
	for <r-bugs@r-project.org>; Sat, 19 May 2001 19:32:31 -0500 (CDT) 
Received: from anugpo.anu.edu.au (anugpo.anu.edu.au [150.203.2.6])
	by mail.anu.edu.au (8.9.3/8.9.3) with ESMTP id KAA18515
	for <r-bugs@r-project.org>; Sun, 20 May 2001 10:32:27 +1000 (EST)
Received: from soda.anu.edu.au (soda.anu.edu.au [150.203.33.17])
	by anugpo.anu.edu.au (8.9.3+Sun/8.9.3) with ESMTP id KAA22405
	for <r-bugs@r-project.org>; Sun, 20 May 2001 10:32:27 +1000 (EST)
Message-Id: <5.0.2.1.1.20010520103337.00ac8b10@pophost.anu.edu.au>
X-Sender: u9801539@pophost.anu.edu.au (Unverified)
X-Mailer: QUALCOMM Windows Eudora Version 5.0.2
Date: Sun, 20 May 2001 10:35:16 +1000
To: r-bugs@r-project.org
From: John Maindonald <john.maindonald@anu.edu.au>
Subject: legend() with xpd=T; omission of initial plot character
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed


In the following:

plot(0:1, 0:1)
legend(x=0, y=1.2, pch=c(1,2), legend=c("May","June"))

the first plot character is omitted when plotting to
the screen.

I obtained the same behaviour when placing a legend
in the margin following use of pairs()

-please do not edit the information below--

Version:
  platform = i386-pc-mingw32
  arch = x86
  os = Win32
  system = x86, Win32
  status =
  major = 1
  minor = 2.3
  year = 2001
  month = 04
  day = 26
  language = R

Windows 98 SE 4.10 (build 2222)  A

Search Path:
  .GlobalEnv, package:ctest, Autoloads, package:base
John Maindonald               email : john.maindonald@anu.edu.au
Statistical Consulting Unit,  phone : (6125)3998
c/o CMA, SMS,                 fax   : (6125)5549
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia


==> 943.reply.1 <==
From: paul@stat.auckland.ac.nz
To: r-core@r-project.org
Subject: Re: legend() with xpd=T; omission of initial plot character (PR#943)
Date: Tue Jun 19 05:58:40 2001
CC: r-bugs@r-project.org; john.maindonald@anu.edu.au

Hi

Bug summary:----
par(xpd=T)
plot(0:1, 0:1)
legend(x=0, y=1.2, pch=c(1,2), legend=c("May","June"))

the first plot character is omitted when plotting to
the screen.
Bug summary:----

I cannot reproduce this bug, BUT it did show up a bug in rect() -- in the
example above, the border around the legend is not drawn.

This is because rect() ignores par(xpd).  The default is rect(xpd=FALSE).  This
is at odds with text(xpd=NULL) and polygon(xpd=NULL) which use par(xpd) by
default.  arrows(xpd=FALSE) has the same problem as rect().  

I propose modifying rect() and arrows() to use par(xpd) by default like text()
and polygon().  There will, as usual, be a small risk that someone's code will
produce different output after this change, but this risk should be pretty
small.

Any objections ... ?

Paul

==> 943.followup.1 <==
From postmaster@franz.stat.wisc.edu  Tue Jun 19 05:56:22 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id FAA16092
	for <r-bugs@biostat.ku.dk>; Tue, 19 Jun 2001 05:56:21 +0200 (MET DST)
Received: from pubhealth.ku.dk (really [130.225.108.10]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m15CCch-000JGhC@franz.stat.wisc.edu> (Debian Smail3.2.0.111)
	for <r-bugs@r-project.org>; Mon, 18 Jun 2001 22:56:15 -0500 (CDT) 
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id FAA16087;
	Tue, 19 Jun 2001 05:55:27 +0200 (MET DST)
From: paul@stat.auckland.ac.nz
Received: from blueberry.kubism.ku.dk (blueberry.kubism.ku.dk [130.225.108.193])
	by blueberry.kubism.ku.dk (8.9.3/8.9.3) with ESMTP id FAA32381;
	Tue, 19 Jun 2001 05:58:35 +0200
Date: Tue, 19 Jun 2001 05:58:35 +0200
Message-Id: <200106190358.FAA32381@blueberry.kubism.ku.dk>
To: r-core@r-project.org
Subject: Re: legend() with xpd=T; omission of initial plot character (PR#943)
CC: r-bugs@r-project.org;john.maindonald@anu.edu.au;;;
X-Loop: R-bugs@biostat.ku.dk

Hi

Bug summary:----
par(xpd=T)
plot(0:1, 0:1)
legend(x=0, y=1.2, pch=c(1,2), legend=c("May","June"))

the first plot character is omitted when plotting to
the screen.
Bug summary:----

I cannot reproduce this bug, BUT it did show up a bug in rect() -- in the
example above, the border around the legend is not drawn.

This is because rect() ignores par(xpd).  The default is rect(xpd=FALSE).  This
is at odds with text(xpd=NULL) and polygon(xpd=NULL) which use par(xpd) by
default.  arrows(xpd=FALSE) has the same problem as rect().  

I propose modifying rect() and arrows() to use par(xpd) by default like text()
and polygon().  There will, as usual, be a small risk that someone's code will
produce different output after this change, but this risk should be pretty
small.

Any objections ... ?

Paul


==> 943.reply.2 <==
From postmaster@franz.stat.wisc.edu  Tue Jun 19 08:43:07 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id IAA16819
	for <r-bugs@biostat.ku.dk>; Tue, 19 Jun 2001 08:43:07 +0200 (MET DST)
Received: from stat.math.ethz.ch (really [129.132.58.23]) by franz.stat.wisc.edu
	via smail with esmtp (ident daemon using rfc1413)
	id <m15CFDy-000JJWC@franz.stat.wisc.edu> (Debian Smail3.2.0.111)
	for <r-bugs@r-project.org>; Tue, 19 Jun 2001 01:42:54 -0500 (CDT) 
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id IAA02705;
	Tue, 19 Jun 2001 08:42:52 +0200 (MET DST)
Received: from lynne(129.132.58.30), claiming to be "lynne.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa000eE; Tue Jun 19 08:42:50 2001
Received: (maechler@localhost) by lynne.ethz.ch (8.9.3/D-MATH-client) id IAA08111; Tue, 19 Jun 2001 08:42:50 +0200
X-Authentication-Warning: lynne.ethz.ch: maechler set sender to maechler@stat.math.ethz.ch using -f
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15150.62570.490993.741070@gargle.gargle.HOWL>
Date: Tue, 19 Jun 2001 08:42:50 +0200
To: paul@stat.auckland.ac.nz
Cc: r-bugs@r-project.org, john.maindonald@anu.edu.au
Subject: Re: legend() with xpd=T; omission of initial plot character (PR#943)
In-Reply-To: <200106190358.FAA32381@blueberry.kubism.ku.dk>
References: <200106190358.FAA32381@blueberry.kubism.ku.dk>
X-Mailer: VM 6.92 under Emacs 20.7.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>

>>>>> "Paul" == Paul Murrell <paul@stat.auckland.ac.nz> writes:

    Paul> Hi
    Paul> Bug summary:----
    Paul> par(xpd=T)
    Paul> plot(0:1, 0:1)
    Paul> legend(x=0, y=1.2, pch=c(1,2), legend=c("May","June"))

    Paul> the first plot character is omitted when plotting to
    Paul> the screen.
    Paul> Bug summary:----

    Paul> I cannot reproduce this bug, BUT it did show up a bug in rect()
    Paul> -- in the example above, the border around the legend is not
    Paul> drawn.

Coincidence, I *did* look at that bug only yesterday.
My experience:
   I *could* reproduce the bug {X11(), Linux-386}, but only a few times. 
   Then, it didn't show anymore. Even restarting R wouldn't show it again.
   My ``explanation'' was that it might be (a bug) inside X11 / Window manager
   handling of things... ??


    Paul> This is because rect() ignores par(xpd).  The default is
    Paul> rect(xpd=FALSE).  This is at odds with text(xpd=NULL) and
    Paul> polygon(xpd=NULL) which use par(xpd) by default.
    Paul> arrows(xpd=FALSE) has the same problem as rect().

    Paul> I propose modifying rect() and arrows() to use par(xpd) by
    Paul> default like text() and polygon().  There will, as usual, be a
    Paul> small risk that someone's code will produce different output
    Paul> after this change, but this risk should be pretty small.

    Paul> Any objections ... ?

not at all, but please fix  abline(*) at the same time.
It doesn't obey xpd either (PR#750).

Martin

==> 943.reply.3 <==
From: paul murrell <R-bugs@biostat.ku.dk>
To: paul@stat.auckland.ac.nz
Subject: Re: legend() with xpd=T; omission of initial plot character (PR#943)
Date: Tue Jul 17 04:28:44 2001
CC: John Maindonald <john.maindonald@anu.edu.au>

Hi


> Bug summary:----
> par(xpd=T)
> plot(0:1, 0:1)
> legend(x=0, y=1.2, pch=c(1,2), legend=c("May","June"))
> 
> the first plot character is omitted when plotting to
> the screen.
> Bug summary:----
> 
> I cannot reproduce this bug, BUT it did show up a bug in rect() -- in the
> example above, the border around the legend is not drawn.


Still can't reproduce original bug, so no progress there.


> This is because rect() ignores par(xpd).  The default is rect(xpd=FALSE). 
This
> is at odds with text(xpd=NULL) and polygon(xpd=NULL) which use par(xpd) by
> default.  arrows(xpd=FALSE) has the same problem as rect().  
> 
> I propose modifying rect() and arrows() to use par(xpd) by default like
text()
> and polygon().  There will, as usual, be a small risk that someone's code
will
> produce different output after this change, but this risk should be pretty
> small.


Both of these changes made now (for 1.3.1).  
The following code should demonstrate the bugs (in pre-1.3.1 R) and the fixes:

par(mfrow=c(2,1), xpd=FALSE)
plot(1:10)
plot(1:10)
# rect() and arrow() ignored par(xpd=)
rect(1, 9, 2, 20, col="red")
arrows(1.5, 20, 1.5, 10)
par(xpd=TRUE)
rect(3, 9, 4, 20, col="blue")
arrows(3.5, 20, 3.5, 10)
par(xpd=NA)
rect(5, 9, 6, 20, col="green")
arrows(5.5, 20, 5.5, 10)

Paul


==> 943.audit <==
Mon May 21 08:54:07 2001	ripley	moved from incoming to Graphics
Tue Jun 19 05:58:40 2001	paul	sent reply 1
Tue Jul 17 04:28:44 2001	paul	sent reply 3

==> 943.followup.2 <==
From MAILER-DAEMON  Tue Jul 17 04:21:22 2001
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id EAA16216
	for <R-bugs@biostat.ku.dk>; Tue, 17 Jul 2001 04:21:21 +0200 (MET DST)
Received: from localhost (localhost)
	by blueberry.kubism.ku.dk (8.9.3/8.9.3) with internal id EAA21901;
	Tue, 17 Jul 2001 04:28:45 +0200
Date: Tue, 17 Jul 2001 04:28:45 +0200
From: Mail Delivery Subsystem <MAILER-DAEMON@pubhealth.ku.dk>
Message-Id: <200107170228.EAA21901@blueberry.kubism.ku.dk>
To: <R-bugs@biostat.ku.dk>
MIME-Version: 1.0
Content-Type: multipart/report; report-type=delivery-status;
	boundary="EAA21901.995336925/blueberry.kubism.ku.dk"
Subject: Returned mail: User unknown
Auto-Submitted: auto-generated (failure)

This is a MIME-encapsulated message

--EAA21901.995336925/blueberry.kubism.ku.dk

The original message was received at Tue, 17 Jul 2001 04:28:44 +0200
from blueberry.kubism.ku.dk [130.225.108.193]

   ----- The following addresses had permanent fatal errors -----
<John>
    (expanded from: <John>)
<Maindonald>
    (expanded from: <Maindonald>)

   ----- Transcript of session follows -----
... while talking to mail.kubism.ku.dk.:
>>> RCPT To:<maindonald@mail.kubism.ku.dk>
<<< 550 <maindonald@mail.kubism.ku.dk>... User unknown
550 <Maindonald>... User unknown
>>> RCPT To:<john@mail.kubism.ku.dk>
<<< 550 <john@mail.kubism.ku.dk>... User unknown
550 <John>... User unknown

--EAA21901.995336925/blueberry.kubism.ku.dk
Content-Type: message/delivery-status

Reporting-MTA: dns; blueberry.kubism.ku.dk
Received-From-MTA: DNS; blueberry.kubism.ku.dk
Arrival-Date: Tue, 17 Jul 2001 04:28:44 +0200

Final-Recipient: RFC822; john@blueberry.kubism.ku.dk
X-Actual-Recipient: RFC822; john@mail.kubism.ku.dk
Action: failed
Status: 5.1.1
Remote-MTA: DNS; mail.kubism.ku.dk
Diagnostic-Code: SMTP; 550 <john@mail.kubism.ku.dk>... User unknown
Last-Attempt-Date: Tue, 17 Jul 2001 04:28:44 +0200

Final-Recipient: RFC822; maindonald@blueberry.kubism.ku.dk
X-Actual-Recipient: RFC822; maindonald@mail.kubism.ku.dk
Action: failed
Status: 5.1.1
Remote-MTA: DNS; mail.kubism.ku.dk
Diagnostic-Code: SMTP; 550 <maindonald@mail.kubism.ku.dk>... User unknown
Last-Attempt-Date: Tue, 17 Jul 2001 04:28:44 +0200

--EAA21901.995336925/blueberry.kubism.ku.dk
Content-Type: message/rfc822

Return-Path: <R-bugs@biostat.ku.dk>
Received: from blueberry.kubism.ku.dk (blueberry.kubism.ku.dk [130.225.108.193])
	by blueberry.kubism.ku.dk (8.9.3/8.9.3) with ESMTP id EAA21899;
	Tue, 17 Jul 2001 04:28:44 +0200
Date: Tue, 17 Jul 2001 04:28:44 +0200
Message-Id: <200107170228.EAA21899@blueberry.kubism.ku.dk>
From: paul murrell <R-bugs@biostat.ku.dk>
To: paul@stat.auckland.ac.nz
Subject: Re: legend() with xpd=T; omission of initial plot character (PR#943)
CC: John Maindonald <john.maindonald@anu.edu.au>
X-Loop: R-bugs@biostat.ku.dk

Hi


> Bug summary:----
> par(xpd=T)
> plot(0:1, 0:1)
> legend(x=0, y=1.2, pch=c(1,2), legend=c("May","June"))
> 
> the first plot character is omitted when plotting to
> the screen.
> Bug summary:----
> 
> I cannot reproduce this bug, BUT it did show up a bug in rect() -- in the
> example above, the border around the legend is not drawn.


Still can't reproduce original bug, so no progress there.


> This is because rect() ignores par(xpd).  The default is rect(xpd=FALSE). 
This
> is at odds with text(xpd=NULL) and polygon(xpd=NULL) which use par(xpd) by
> default.  arrows(xpd=FALSE) has the same problem as rect().  
> 
> I propose modifying rect() and arrows() to use par(xpd) by default like
text()
> and polygon().  There will, as usual, be a small risk that someone's code
will
> produce different output after this change, but this risk should be pretty
> small.


Both of these changes made now (for 1.3.1).  
The following code should demonstrate the bugs (in pre-1.3.1 R) and the fixes:

par(mfrow=c(2,1), xpd=FALSE)
plot(1:10)
plot(1:10)
# rect() and arrow() ignored par(xpd=)
rect(1, 9, 2, 20, col="red")
arrows(1.5, 20, 1.5, 10)
par(xpd=TRUE)
rect(3, 9, 4, 20, col="blue")
arrows(3.5, 20, 3.5, 10)
par(xpd=NA)
rect(5, 9, 6, 20, col="green")
arrows(5.5, 20, 5.5, 10)

Paul



--EAA21901.995336925/blueberry.kubism.ku.dk--

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 997 *
Subject:  las=1 with log axis 
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Date: Wed, 27 Jun 2001 11:54:06 +0200
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 997 <==
From postmaster@franz.stat.wisc.edu  Wed Jun 27 11:50:00 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA01987
	for <r-bugs@biostat.ku.dk>; Wed, 27 Jun 2001 11:49:59 +0200 (MET DST)
Received: from pubhealth.ku.dk (really [130.225.108.10]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m15FBxI-000JJjC@franz.stat.wisc.edu> (Debian Smail3.2.0.111)
	for <r-bugs@r-project.org>; Wed, 27 Jun 2001 04:49:52 -0500 (CDT) 
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA01969;
	Wed, 27 Jun 2001 11:49:40 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.9.3/8.9.3) id LAA25776;
	Wed, 27 Jun 2001 11:54:06 +0200
Date: Wed, 27 Jun 2001 11:54:06 +0200
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Message-Id: <200106270954.LAA25776@blueberry.kubism.ku.dk>
To: r-bugs@r-project.org
Subject:  las=1 with log axis 
Cc: pd@pubhealth.ku.dk

This just came in:

plot(c(0.1,100),log="y", las=1)

(Numbers and tick marks are unaligned)

Same thing with mtext(), try

mtext("x",2,at=0.1)
mtext("x",2,at=0.1,las=1)

--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = 
 major = 1
 minor = 3.0
 year = 2001
 month = 06
 day = 22
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

==> 997.followup.1 <==
From paul@stat.auckland.ac.nz  Fri Jun 29 00:19:03 2001
Received: from mailhost.auckland.ac.nz (mailhost.auckland.ac.nz [130.216.1.4] (may be forged))
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id AAA21935;
	Fri, 29 Jun 2001 00:19:01 +0200 (MET DST)
Received: from stat1.stat.auckland.ac.nz (stat1.stat.auckland.ac.nz [130.216.93.1])
	by mailhost.auckland.ac.nz (8.9.2/8.9.2/8.9.2-ua) with ESMTP id KAA24932;
	Fri, 29 Jun 2001 10:18:52 +1200 (NZST)
Received: from murrell (murrell.stat.auckland.ac.nz [130.216.93.23])
	by stat1.stat.auckland.ac.nz (8.9.3+Sun/8.8.8) with SMTP id KAA25180;
	Fri, 29 Jun 2001 10:18:52 +1200 (NZST)
Message-ID: <00fc01c10023$19a40700$175dd882@stat.auckland.ac.nz>
From: "Paul Murrell" <paul@stat.auckland.ac.nz>
To: <pd@pubhealth.ku.dk>, <r-devel@stat.math.ethz.ch>
Cc: <R-bugs@biostat.ku.dk>
References: <200106270950.LAA01997@pubhealth.ku.dk>
Subject: Re: [Rd] las=1 with log axis (PR#997)
Date: Fri, 29 Jun 2001 10:38:49 +1200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4522.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200

Hi


> This just came in:
>
> plot(c(0.1,100),log="y", las=1)
>
> (Numbers and tick marks are unaligned)
>
> Same thing with mtext(), try
>
> mtext("x",2,at=0.1)
> mtext("x",2,at=0.1,las=1)


This is related to bug #865, which I have discovered is a problem with some
of the very basic transformation code in R graphics (for transforming widths
or heights when there are log scales).  I have a fix for this particular
mtext() problem, but I'm still working on the more general transformation
bug.

Paul



==> 997.reply.1 <==
From: paul murrell <R-bugs@biostat.ku.dk>
To: pd@pubhealth.ku.dk
Subject: Re: las=1 with log axis (PR#997)
Date: Tue Jul 17 06:05:49 2001

Hi


> plot(c(0.1,100),log="y", las=1)
> 
> (Numbers and tick marks are unaligned)
> 
> Same thing with mtext(), try
> 
> mtext("x",2,at=0.1)
> mtext("x",2,at=0.1,las=1)


This is now fixed (which also fixes PR#865).
Also fixed for mtext() when side=1, log="x", and las=2 (and for corresponding
siutations on sides 3 and 4).
Also fixed for mtext() when text is an expression (i.e., mathematical
annotation).

Unfortunately, the problem goes pretty deep -- it is to do with transformation
of widths and heights to or from USER coordinates when the axis is logged. 
There are a couple of other places where this causes a problem:
(i) strwidth() and strheight() 
(ii) symbols()

I'm leaving this bug active until these other issues are resolved.

Paul


==> 997.audit <==
Sat Jun 30 08:57:44 2001	ripley	moved from incoming to Graphics
Tue Jul 17 06:05:49 2001	paul	sent reply 1
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1045 *
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1045 <==
From postmaster@franz.stat.wisc.edu  Wed Aug  8 19:07:59 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id TAA11349
	for <r-bugs@biostat.ku.dk>; Wed, 8 Aug 2001 19:07:58 +0200 (MET DST)
Received: from blueberry.kubism.ku.dk (really [130.225.108.193]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m15UWoD-000JIvC@franz.stat.wisc.edu> (Debian Smail3.2.0.111)
	for <r-bugs@r-project.org>; Wed, 8 Aug 2001 12:07:53 -0500 (CDT) 
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.2/8.11.2) id f78H81o29218;
	Wed, 8 Aug 2001 19:08:01 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
Sender: pd@pubhealth.ku.dk
To: r-bugs@r-project.org
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
Message-ID: <x2snf2zdhq.fsf@blueberry.kubism.ku.dk>
Lines: 14
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Try this

example(palette)

then trigger a redraw e.g. by resizing the window. Shouldn't the
palette be stored as part of the display list?

(This only happens because the palette was reset at the end of the
example, but still...)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1045.reply.1 <==
From ihaka@stat.auckland.ac.nz  Wed Aug  8 22:36:29 2001
Received: from mailhost.auckland.ac.nz (mailhost.auckland.ac.nz [130.216.1.4] (may be forged))
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA12009;
	Wed, 8 Aug 2001 22:36:26 +0200 (MET DST)
Received: from stat1.stat.auckland.ac.nz (stat1.stat.auckland.ac.nz [130.216.93.1])
	by mailhost.auckland.ac.nz (8.9.2/8.9.2/8.9.2-ua) with ESMTP id IAA21626;
	Thu, 9 Aug 2001 08:36:20 +1200 (NZST)
Received: from stat.auckland.ac.nz (g.ihaka.slip.auckland.ac.nz [130.216.9.243])
	by stat1.stat.auckland.ac.nz (8.10.2+Sun/8.8.8) with ESMTP id f78KaJ720404;
	Thu, 9 Aug 2001 08:36:19 +1200 (NZST)
Sender: ihaka@stat.auckland.ac.nz
Message-ID: <3B71A31A.8BB29F85@stat.auckland.ac.nz>
Date: Thu, 09 Aug 2001 08:37:46 +1200
From: Ross Ihaka <ihaka@stat.auckland.ac.nz>
Organization: University of Auckland
X-Mailer: Mozilla 4.76 [en] (X11; U; Linux 2.2.12 i386)
X-Accept-Language: en
MIME-Version: 1.0
To: p.dalgaard@biostat.ku.dk
CC: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] Palette changes on redraw (PR#1045)
References: <200108081708.TAA11359@pubhealth.ku.dk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

p.dalgaard@biostat.ku.dk wrote:
> 
> Try this
> 
> example(palette)
> 
> then trigger a redraw e.g. by resizing the window. Shouldn't the
> palette be stored as part of the display list?
> 
> (This only happens because the palette was reset at the end of the
> example, but still...)

I could argue either way on this.

I agree that its nasty to have plot colours change in mid-stream,
but I suspect that adding the palette to the display list may not
be the "right" solution.

A different approach would be to map the colour indices (and names)
to RGB values at a slightly higher level.  That way it would be the
RGB values which would be captured in the display list, not the
indices.

[ I'm afraid that I think that the whole display list mechanism is
  "wrong".  We need a much higher level way of describing plots. ]

	Ross

==> 1045.audit <==
Sat Aug 11 09:57:42 2001	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1147 *
Subject: postscript problem
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
--This seems to be a problem with screen/layout rather than postscript.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1147 <==
From postmaster@franz.stat.wisc.edu  Fri Oct 26 21:23:17 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id VAA03528
	for <r-bugs@biostat.ku.dk>; Fri, 26 Oct 2001 21:23:16 +0200 (MET DST)
Received: from jupiter.umsanet.edu.bo (really [166.114.17.11]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m15xCZT-000JIvC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Fri, 26 Oct 2001 14:23:11 -0500 (CDT) 
Received: from umsanet.edu.bo (pc69.umsanet.edu.bo [166.114.17.69])
	by jupiter.umsanet.edu.bo (8.11.0/8.9.3) with ESMTP id f9QJZjK01812
	for <r-bugs@r-project.org>; Fri, 26 Oct 2001 15:35:47 -0400
Message-ID: <3BD9B841.215F6DB3@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Reply-To: kjetilh@umsanet.edu.bo
Organization: UMSA
X-Mailer: Mozilla 4.7 [en] (Win98; I)
X-Accept-Language: en
MIME-Version: 1.0
To: r-bugs@r-project.org
Subject: postscript problem
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I reported this earlier, and have got reports that others have the same
promlem on UNIX machines, so it is not only a windows problem
S I file a bug report.

The function (boot.stat) given at the end produces a postscript file, 
which cannot be included correctly in LaTeX. Specifically, 
the image in LaTeX (when translated by dvips to postscript)
becomes very small, not using the bounding box, and turned on its head!

Kjetil Halvorsen

boot.stat <-
function (x, B = 1000, norm = FALSE) 
{
    xname <- deparse(substitute(x))
    means <- meds <- numeric(B)
    for (i in 1:B) {
        s <- sample(x, replace = TRUE)
        means[i] <- mean(s)
        meds[i] <- median(s)
    }
    CImedian <- quantile(meds, c(0.025, 0.5, 0.975))
    CImean <- quantile(means, c(0.025, 0.5, 0.975))
    hmean <- hist(means, freq = FALSE, plot = FALSE)
    hmeds <- hist(meds, freq = FALSE, plot = FALSE)
    split.screen(c(1, 2))
    xlims <- range(c(hmean$breaks, hmeds$breaks))
    ymax <- max(c(hmean$density, hmeds$density))
    screen(1)
    plot(hmean, freq = FALSE, col = "red", xlim = xlims, ylim = c(0, 
        ymax), xlab = paste("Sampling dist. of mean of ", xname), 
        main = "")
    if (norm) {
        n <- length(x)
        mu <- mean(x)
        sd <- sqrt(var(x)/n)
        ps <- seq(xlims[1], xlims[2], len = 100)
        lines(ps, dnorm(ps, mu, sd), col = "darkgreen")
    }
    lines(CImean, rep(ymax/2, 3))
    points(CImean[2], ymax/2, cex = 2, col = "black")
    screen(2)
    plot(hmeds, freq = FALSE, col = "lightblue", xlim = xlims, 
        ylim = c(0, ymax), xlab = paste("Sampling dist. of median of ",
            xname), main = "")
    if (norm) {
        n <- length(x)
        p <- 1/2
        mu <- median(x)
        d <- density(x, n = 1, from = mu, to = mu)$y
        sd <- sqrt(p * (1 - p)/n)/d
        ps <- seq(xlims[1], xlims[2], len = 100)
        lines(ps, dnorm(ps, mu, sd), col = "darkgreen")
    }
    lines(CImedian, rep(ymax/2, 3))
    points(CImedian[2], ymax/2, cex = 2, col = "black")
    names(B) <- "Number of bootstrap replicactions"
    invisible(list(CImean = CImean, CImedian = CImedian, B, means =
means, 
        meds = meds))
}


call with for example

boot.stat( rnorm(100), norm=TRUE)

==> 1147.audit <==
Wed Oct 31 15:17:18 2001	ripley	changed notes
Wed Oct 31 15:17:18 2001	ripley	foobar
Wed Oct 31 15:17:18 2001	ripley	moved from incoming to Graphics

==> 1147.followup.1 <==
From postmaster@franz.stat.wisc.edu Thu Feb  7 16:39:12 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA05430
	for <r-bugs@biostat.ku.dk>; Thu, 7 Feb 2002 16:39:09 +0100 (MET)
Received: from jupiter.umsanet.edu.bo (really [166.114.17.11]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m16YqdA-000IbFC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Thu, 7 Feb 2002 09:38:36 -0600 (CST) 
Received: from umsanet.edu.bo (antiguo31.umsanet.edu.bo [192.168.14.31])
	by jupiter.umsanet.edu.bo (8.11.0/8.9.3) with ESMTP id g17FqWW23666
	for <r-bugs@r-project.org>; Thu, 7 Feb 2002 11:52:33 -0400
Message-ID: <3C629F2F.71DBBE02@umsanet.edu.bo>
Date: Thu, 07 Feb 2002 11:37:19 -0400
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Reply-To: kjetilh@umsanet.edu.bo
Organization: UMSA
X-Mailer: Mozilla 4.7 [en] (Win98; I)
X-Accept-Language: en
MIME-Version: 1.0
To: r-bugs@r-project.org
Subject: PR# 1147
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Length: 328
Status: RO

Apropops todays automatic bug report: The bug #1147 I reported
(postscript, problems with screen layout) which I treported some time
ago, does not anymore occur R1.4.0, windows 98, when I test with the
same code that caused the original problem. Fixed as a by-product of the
internal changes to graphics code?

Kjetil Halvorsen

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1161 *
Subject: x-axis label in persp()
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Wed, 7 Nov 2001 18:07:22 +0800 (WST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1161 <==
From postmaster@franz.stat.wisc.edu  Wed Nov  7 11:07:32 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA22526
	for <r-bugs@biostat.ku.dk>; Wed, 7 Nov 2001 11:07:32 +0100 (MET)
Received: from madvax.maths.uwa.edu.au (really [130.95.16.1]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m161PcE-000JLZC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Wed, 7 Nov 2001 04:07:26 -0600 (CST) 
Received: from salvia.maths.uwa.edu.au (salvia.maths.uwa.edu.au [130.95.16.72])
	by madvax.maths.uwa.edu.au (8.12.0/8.12.0) with ESMTP id fA7A7M7Z209411
	for <r-bugs@r-project.org>; Wed, 7 Nov 2001 18:07:23 +0800 (WST)
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Wed, 7 Nov 2001 18:07:22 +0800 (WST)
Message-Id: <200111071007.SAA21120@salvia.maths.uwa.edu.au>
To: r-bugs@r-project.org
Subject: x-axis label in persp()


If the surface to be plotted by persp() is supplied as
a list, the x-axis label defaults to the name, in the call,
of this list --- which is usually silly.

I would suggest changing the first four lines of
persp.default() (where the x-axis label gets set) from

if (is.null(xlab))
        xlab <- if (!missing(x))
            deparse(substitute(x))
        else "X"

to

if (is.null(xlab))
        xlab <- if (!missing(x) && !is.list(x) && !is.matrix(x))
            deparse(substitute(x))
        else "X"

which makes the x-axis label default to "X" if the surface
is specified as a list.


					cheers,

						Rolf Turner

Current email address: rolf@maths.uwa.edu.au
Usual email address:   rolf@math.unb.ca

==> 1161.audit <==
Sun Nov 11 17:22:03 2001	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1207 *
Subject: boxplot labels incorrect when horizontal = TRUE
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 9 Dec 2001 21:46:32 -0500 (EST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1207 <==
From rnassar@duke.edu  Mon Dec 10 03:47:18 2001
Received: from gibson.acpub.duke.edu (gibson.acpub.duke.edu [152.3.233.8])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id DAA19748
	for <r-bugs@biostat.ku.dk>; Mon, 10 Dec 2001 03:47:17 +0100 (MET)
Received: from godzilla5.acpub.duke.edu (rnassar@godzilla5.acpub.duke.edu [152.3.233.46]) 
        by gibson.acpub.duke.edu (8.11.5/8.11.3/Duke-5.0.0) with ESMTP id fBA2kYR03236 for <r-bugs@biostat.ku.dk>;
        Sun, 9 Dec 2001 21:46:34 -0500 (EST)
Received: (from rnassar@localhost)
	by godzilla5.acpub.duke.edu (8.9.3/8.9.3) id VAA28884;
	Sun, 9 Dec 2001 21:46:33 -0500 (EST)
Date: Sun, 9 Dec 2001 21:46:32 -0500 (EST)
From: Rashid Nassar <rnassar@duke.edu>
X-Sender: rnassar@godzilla5.acpub.duke.edu
To: r-bugs <r-bugs@biostat.ku.dk>
Subject: boxplot labels incorrect when horizontal = TRUE
Message-ID: <Pine.SOL.3.91.1011209214428.28790B-100000@godzilla5.acpub.duke.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Scanned: by amavisd-milter, Duke University (http://amavis.org/)

#Example:

y <- rnorm(10)
group <- gl(2,5)

plot(y ~ group, horizontal = TRUE)  # BUG: default xlab & ylab interchanged
plot(y ~ group, horizontal = FALSE) # OK: supplies correct default xlab & ylab


# Using boxplot() instead of plot() omits default axis labels altogether
# (not sure if this is intentional):

boxplot(y ~ group, horizontal = FALSE) # no default axis labels supplied
boxplot(y ~ group, horizontal = TRUE)  # no default axis labels supplied

Thank you!

Rashid Nassar


--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, Shoes, package:nls, package:nlme, package:ctest, Autoloads, 
package:base


==> 1207.audit <==
Mon Dec 10 08:21:15 2001	ripley	foobar
Mon Dec 10 08:21:15 2001	ripley	moved from incoming to Graphics

==> 1207.followup.1 <==
From ripley@stats.ox.ac.uk  Mon Dec 10 08:41:33 2001
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id IAA20814
	for <R-bugs@biostat.ku.dk>; Mon, 10 Dec 2001 08:41:32 +0100 (MET)
Received: from gannet.stats (IDENT:root@gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id HAA10031;
	Mon, 10 Dec 2001 07:41:26 GMT
Received: from localhost (ripley@localhost)
	by gannet.stats (8.11.3/8.11.3) with ESMTP id fBA7fQZ09146;
	Mon, 10 Dec 2001 07:41:26 GMT
X-Authentication-Warning: gannet.stats: ripley owned process doing -bs
Date: Mon, 10 Dec 2001 07:41:26 +0000 (GMT)
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
X-X-Sender:  <ripley@gannet.stats>
To: <rnassar@duke.edu>
cc: <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] boxplot labels incorrect when horizontal = TRUE (PR#1207)
In-Reply-To: <200112100247.DAA19758@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0112100733010.9079-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Mon, 10 Dec 2001 rnassar@duke.edu wrote:

> #Example:
>
> y <- rnorm(10)
> group <- gl(2,5)
>
> plot(y ~ group, horizontal = TRUE)  # BUG: default xlab & ylab interchanged
> plot(y ~ group, horizontal = FALSE) # OK: supplies correct default xlab & ylab

Um.  That's plot.formula, not boxplot.  horizontal = TRUE is *not* a
documented argument to plot.formula.  If you pass arguments to boxplot
through ... (rather than just par values), you may well get unexpected
results.

To fix this needs plot.formula to recognize horizontal, and that's
an API change which I don't advocate during feature freeze.
Generally, not doing something which is not documented to happen is not a
bug, so I'll put this on the wishlist.

> # Using boxplot() instead of plot() omits default axis labels altogether
> # (not sure if this is intentional):
>
> boxplot(y ~ group, horizontal = FALSE) # no default axis labels supplied
> boxplot(y ~ group, horizontal = TRUE)  # no default axis labels supplied

Yes, it's intentional.  You can always use title().


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1235 *
Subject: Axes labelling with logarithmic scales
From: tobias.hoevekamp@ilw.agrl.ethz.ch
Date: Thu, 3 Jan 2002 15:29:02 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1235 <==
From tobias.hoevekamp@ilw.agrl.ethz.ch  Thu Jan  3 15:29:03 2002
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA25589
	for <R-bugs@biostat.ku.dk>; Thu, 3 Jan 2002 15:29:02 +0100 (MET)
Date: Thu, 3 Jan 2002 15:29:02 +0100 (MET)
From: tobias.hoevekamp@ilw.agrl.ethz.ch
Message-Id: <200201031429.PAA25589@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: Axes labelling with logarithmic scales

Full_Name: Tobias Hoevekamp
Version: 1.4.0
OS: Debian GNU/Linux
Submission from: (NULL) (129.132.139.109)


There seems to be a problem with the labelling of axes when
logarithmic scales are used. More than half of 
both axes are not labeled in the following example:


x <-  c(0.12,  0.3,   0.53,  1.1,   1.8,  2.6, 4.5)
y <-  c(0.012, 0.021, 0.032, 0.055, 0.1,  0.2, 0.35)

plot(x, y,
     log="xy",
     main="Problem with axes labelling on logarithmic scales",
     xlab="x, why aren't 0.5, or even smaller tic-values displyed?",
     ylab="y, why isn't 0.05 diplayed?")


==> 1235.audit <==
Mon Jan  7 10:33:27 2002	ripley	foobar
Mon Jan  7 10:33:27 2002	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1300 *
Subject: FW: layout and piechart diameter problem
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Thu, 7 Feb 2002 11:05:15 -0500 
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1300 <==
From gregory_r_warnes@groton.pfizer.com Thu Feb  7 17:06:56 2002
Received: from mailrelay1.pfizer.com (ns2.pfizer.com [192.77.198.2])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id RAA05738
	for <r-bugs@biostat.ku.dk>; Thu, 7 Feb 2002 17:06:55 +0100 (MET)
Received: from gsun56.pfizer.com (localhost [127.0.0.1])
	by mailrelay1.pfizer.com (8.9.3/Pro-8.9.3) with ESMTP id LAA25035
	for <r-bugs@biostat.ku.dk>; Thu, 7 Feb 2002 11:05:53 -0500 (EST)
Received: from groexms02.pfizer.com (localhost [127.0.0.1])
	by gsun56.pfizer.com (Pro-8.9.3/Pro-8.9.3) with ESMTP id LAA08185
	for <r-bugs@biostat.ku.dk>; Thu, 7 Feb 2002 11:07:32 -0500 (EST)
Received: from groexcncr01.pfizer.com (unverified) by groexms02.pfizer.com
 (Content Technologies SMTPRS 4.2.1) with ESMTP id <T58ecad88b1ac1e08e42e9@groexms02.pfizer.com> for <r-bugs@biostat.ku.dk>;
 Thu, 7 Feb 2002 11:05:17 -0500
Received: by groexcncr01.pfizer.com with Internet Mail Service (5.5.2654.89)
	id <1KVC00AM>; Thu, 7 Feb 2002 11:05:17 -0500
Message-ID: <5429125E11E4D411AF7300805FE603A8040DE623@groexmbcr02.pfizer.com>
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
To: "'R-bugs'" <r-bugs@biostat.ku.dk>
Subject: FW: layout and piechart diameter problem
Date: Thu, 7 Feb 2002 11:05:15 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2654.89)
Content-Type: text/plain; charset="windows-1252"
Content-Length: 2315
Status: R


Third try...

>  -----Original Message-----
> From: 	Warnes, Gregory R  
> Sent:	Tuesday, February 05, 2002 4:12 PM
> To:	'R-bugs'
> Subject:	layout and piechart diameter problem
> 
> 
> I've been using layout to create some graphics pages which include pie
> charts.   (NB: No piechart arguments please, the main chart on the page is
> a proper bar chart representing the same information.)
> 
> When I plot pie charts in a column, the piechart at the top of a column is
> always smaller than the others:  
> 
> For example:
> 
> 	layout( matrix(c(1,1,2,
>                        1,1,3,
>                        1,1,4), ncol=3, byrow=T))
> 	for(i in 1:4) piechart( 1:3 )
> 
> In column 3, the first piechart has a radius something like 2/3 of the
> others.
> 
> This also happens for:
> 
> 	layout( matrix(c(1,2,
>                        1,3,
>                        1,4), ncol=2, byrow=T))
> 	for(i in 1:4) piechart( 1:3 )
> 
> 
> For this: 
> 
> 	layout( matrix(c(1,3,
>                        1,4,
>                        2,5), ncol=2, byrow=T))
> 	for(i in 1:5) piechart( 1:3 )
> 
> the piechart at the bottom left is smaller than the three in the second
> column:
> 
> 
> This occurs both on the x11 and postscript devices, although it is less
> noticeable on the latter.  It doesn't seem happen for 'hist' or 'plot'. As
> I've only recently started using layout, I don't know if this occurs with
> other plotting devices or commands.  
> 
> -Greg
> 
> ------
> 
> > version
>          _                   
> platform sparc-sun-solaris2.8
> arch     sparc               
> os       solaris2.8          
> system   sparc, solaris2.8   
> status                       
> major    1                   
> minor    4.1                 
> year     2002                
> month    01                  
> day      30                  
> language R                   
> 
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.


==> 1300.followup.1 <==
From ligges@amadeus.statistik.uni-dortmund.de  Thu Feb  7 22:54:23 2002
Received: from nx5.HRZ.Uni-Dortmund.DE (nx5.HRZ.Uni-Dortmund.DE [129.217.131.21])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA07015
	for <R-bugs@biostat.ku.dk>; Thu, 7 Feb 2002 22:54:23 +0100 (MET)
Received: from amadeus.statistik.uni-dortmund.de by nx5.HRZ.Uni-Dortmund.DE
          via smtp-local with ESMTP; Thu, 7 Feb 2002 22:53:27 +0100
Received: from statistik.uni-dortmund.de (dial-142015.HRZ.Uni-Dortmund.DE [129.217.142.15])
	by amadeus.statistik.uni-dortmund.de (8.10.2+Sun/8.10.2) with ESMTP id g17LrPS08216;
	Thu, 7 Feb 2002 22:53:25 +0100 (MET)
Message-ID: <3C62F7A1.8BF78BAC@statistik.uni-dortmund.de>
Date: Thu, 07 Feb 2002 22:54:41 +0100
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
X-Mailer: Mozilla 4.79 [en] (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: gregory_r_warnes@groton.pfizer.com
CC: R-bugs@biostat.ku.dk
Subject: Re: [Rd] FW: layout and piechart diameter problem (PR#1300)
References: <200202071812.TAA06359@pubhealth.ku.dk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

gregory_r_warnes@groton.pfizer.com wrote:
> 
> Third try...
> 
> >  -----Original Message-----
> > From:         Warnes, Gregory R
> > Sent: Tuesday, February 05, 2002 4:12 PM
> > To:   'R-bugs'
> > Subject:      layout and piechart diameter problem
> >
> >
> > I've been using layout to create some graphics pages which include pie
> > charts.   (NB: No piechart arguments please, the main chart on the page is
> > a proper bar chart representing the same information.)
> >
> > When I plot pie charts in a column, the piechart at the top of a column is
> > always smaller than the others:
> >
> > For example:
> >
> >       layout( matrix(c(1,1,2,
> >                        1,1,3,
> >                        1,1,4), ncol=3, byrow=T))
> >       for(i in 1:4) piechart( 1:3 )
> >
> > In column 3, the first piechart has a radius something like 2/3 of the
> > others.
> >
> > This also happens for:
> >
> >       layout( matrix(c(1,2,
> >                        1,3,
> >                        1,4), ncol=2, byrow=T))
> >       for(i in 1:4) piechart( 1:3 )
> >
> >
> > For this:
> >
> >       layout( matrix(c(1,3,
> >                        1,4,
> >                        2,5), ncol=2, byrow=T))
> >       for(i in 1:5) piechart( 1:3 )
> >
> > the piechart at the bottom left is smaller than the three in the second
> > column:
> >
> >
> > This occurs both on the x11 and postscript devices, although it is less
> > noticeable on the latter.  It doesn't seem happen for 'hist' or 'plot'. As
> > I've only recently started using layout, I don't know if this occurs with
> > other plotting devices or commands.

Probably only if the functions are making use of par("pin") (and friends
?) as piechart() does:

layout(matrix(c(1,1,2, 1,1,3, 1,1,4), ncol=3, byrow=TRUE))
par("pin")
plot(1); par("pin")  # Here it goes wrong for the next plot.
plot(1); par("pin")
plot(1); par("pin")
plot(1)


Uwe Ligges

==> 1300.followup.2 <==
From ligges@amadeus.statistik.uni-dortmund.de  Thu Feb  7 22:59:11 2002
Received: from nx5.HRZ.Uni-Dortmund.DE (nx5.HRZ.Uni-Dortmund.DE [129.217.131.21])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA07044
	for <R-bugs@biostat.ku.dk>; Thu, 7 Feb 2002 22:59:11 +0100 (MET)
Received: from amadeus.statistik.uni-dortmund.de by nx5.HRZ.Uni-Dortmund.DE
          via smtp-local with ESMTP; Thu, 7 Feb 2002 22:58:27 +0100
Received: from statistik.uni-dortmund.de (dial-142015.HRZ.Uni-Dortmund.DE [129.217.142.15])
	by amadeus.statistik.uni-dortmund.de (8.10.2+Sun/8.10.2) with ESMTP id g17LwQS08237;
	Thu, 7 Feb 2002 22:58:26 +0100 (MET)
Message-ID: <3C62F8CE.85E07095@statistik.uni-dortmund.de>
Date: Thu, 07 Feb 2002 22:59:42 +0100
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
X-Mailer: Mozilla 4.79 [en] (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: gregory_r_warnes@groton.pfizer.com, R-bugs@biostat.ku.dk
Subject: Re: [Rd] FW: layout and piechart diameter problem (PR#1300)
References: <200202071812.TAA06359@pubhealth.ku.dk> <3C62F7A1.8BF78BAC@statistik.uni-dortmund.de>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit



Uwe Ligges wrote:
> 
> gregory_r_warnes@groton.pfizer.com wrote:
> >
> > Third try...
> >
> > >  -----Original Message-----
> > > From:         Warnes, Gregory R
> > > Sent: Tuesday, February 05, 2002 4:12 PM
> > > To:   'R-bugs'
> > > Subject:      layout and piechart diameter problem
> > >
> > >
> > > I've been using layout to create some graphics pages which include pie
> > > charts.   (NB: No piechart arguments please, the main chart on the page is
> > > a proper bar chart representing the same information.)
> > >
> > > When I plot pie charts in a column, the piechart at the top of a column is
> > > always smaller than the others:
> > >
> > > For example:
> > >
> > >       layout( matrix(c(1,1,2,
> > >                        1,1,3,
> > >                        1,1,4), ncol=3, byrow=T))
> > >       for(i in 1:4) piechart( 1:3 )
> > >
> > > In column 3, the first piechart has a radius something like 2/3 of the
> > > others.
> > >
> > > This also happens for:
> > >
> > >       layout( matrix(c(1,2,
> > >                        1,3,
> > >                        1,4), ncol=2, byrow=T))
> > >       for(i in 1:4) piechart( 1:3 )
> > >
> > >
> > > For this:
> > >
> > >       layout( matrix(c(1,3,
> > >                        1,4,
> > >                        2,5), ncol=2, byrow=T))
> > >       for(i in 1:5) piechart( 1:3 )
> > >
> > > the piechart at the bottom left is smaller than the three in the second
> > > column:
> > >
> > >
> > > This occurs both on the x11 and postscript devices, although it is less
> > > noticeable on the latter.  It doesn't seem happen for 'hist' or 'plot'. As
> > > I've only recently started using layout, I don't know if this occurs with
> > > other plotting devices or commands.
> 
> Probably only if the functions are making use of par("pin") (and friends
> ?) as piechart() does:
> 
> layout(matrix(c(1,1,2, 1,1,3, 1,1,4), ncol=3, byrow=TRUE))
> par("pin")
> plot(1); par("pin")  # Here it goes wrong for the next plot.
> plot(1); par("pin")
> plot(1); par("pin")
> plot(1)

And let me add, it is everytime the second one:

layout(matrix(c(1,3, 1,4, 2,5), ncol=2, byrow=TRUE))
for(i in 1:5) piechart( 1:3 )

layout(matrix(c(1,2, 1,4, 3,5), ncol=2, byrow=TRUE))
for(i in 1:5) piechart( 1:3 )

layout(matrix(c(1,3, 1,2, 4,5), ncol=2, byrow=TRUE))
for(i in 1:5) piechart( 1:3 )

Uwe

==> 1300.audit <==
Mon Feb 11 21:37:01 2002	ripley	foobar
Mon Feb 11 21:37:01 2002	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1395 *
Subject: mgp parameter in par()
From: mh.smith@niwa.cri.nz
Date: Tue, 19 Mar 2002 06:11:49 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1395 <==
From mh.smith@niwa.cri.nz  Tue Mar 19 06:11:51 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id GAA29491
	for <R-bugs@biostat.ku.dk>; Tue, 19 Mar 2002 06:11:49 +0100 (MET)
Date: Tue, 19 Mar 2002 06:11:49 +0100 (MET)
From: mh.smith@niwa.cri.nz
Message-Id: <200203190511.GAA29491@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: mgp parameter in par()

Full_Name: Murray H Smith
Version: 1.4.1
OS: Windows 2000
Submission from: (NULL) (202.36.29.1)


The mgp parameter in par() does not allow negative values. That is, it does not
allow plots with axes ticks and labels inside the plot. The help document,
Introduction to R, under Graphics: Axes and tick marks, specifically mentions
negative values for mgp as a way to achieve internal ticks and labels. 

Code:
> par(mgp=c(-3,-1,0))
Error in par(mgp = c(-3, -1, 0)) : invalid value specified for graphics
parameter "mgp"

> par(mgp=c(3,-1,0))
Error in par(mgp = c(3, -1, 0)) : invalid value specified for graphics parameter
"mgp".

> par(mgp=c(3,1,-1))
Error in par(mgp = c(3, 1, -1)) : invalid value specified for graphics parameter
"mgp".

> par(mgp=c(-3,1,0))
Error in par(mgp = c(-3, 1, 0)) : invalid value specified for graphics parameter
"mgp".






==> 1395.audit <==
Wed Mar 20 09:15:03 2002	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1505 *
Subject: pictex 
From: luchini@ehess.cnrs-mrs.fr
Date: Thu, 2 May 2002 12:23:21 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1505 <==
From luchini@ehess.cnrs-mrs.fr  Thu May  2 12:23:22 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id MAA03886
	for <R-bugs@biostat.ku.dk>; Thu, 2 May 2002 12:23:21 +0200 (MET DST)
Date: Thu, 2 May 2002 12:23:21 +0200 (MET DST)
From: luchini@ehess.cnrs-mrs.fr
Message-Id: <200205021023.MAA03886@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: pictex 

Full_Name: Stephane Luchini
Version: 1.4.1
OS: Redhat 7.2
Submission from: (NULL) (193.50.233.43)


I want to use R to plot an histogram of a vector of size 759 with min=-63260e+06

and max=3.700646.

When I use X11 as the output device, there is no problem to obtain the desired 
graphics using the following instructions:

hist(VED,br=60,prob=TRUE)
lines(density(VED,bw=7.668e+05))

Now, if I use the pictex driver :
pictex(file = "test.pictex")

The whole pictex code is not generated. It stops after line 760.
When I put debug = TRUE, it stops after 243 lines.

==> 1505.audit <==
Tue May  7 09:07:02 2002	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1653 *
Subject: coplot behaviour
From: "RenE J.V. Bertin" <rjvbertin@hotmail.com>
Date: Mon, 10 Jun 2002 20:11:02 +0200
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1653 <==
From postmaster@franz.stat.wisc.edu  Mon Jun 10 20:12:01 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA26970
	for <r-bugs@biostat.ku.dk>; Mon, 10 Jun 2002 20:12:00 +0200 (MET DST)
Received: from hotmail.com (really [216.32.181.37]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m17HTdO-000IXUC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Mon, 10 Jun 2002 13:11:18 -0500 (CDT) 
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Mon, 10 Jun 2002 11:11:02 -0700
Received: from 193.52.22.12 by lw2fd.hotmail.msn.com with HTTP;
	Mon, 10 Jun 2002 18:11:02 GMT
X-Originating-IP: [193.52.22.12]
From: "RenE J.V. Bertin" <rjvbertin@hotmail.com>
To: r-bugs@r-project.org
Subject: coplot behaviour
Date: Mon, 10 Jun 2002 20:11:02 +0200
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <LAW2-F37t7rPEn1pgE00001da40@hotmail.com>
X-OriginalArrivalTime: 10 Jun 2002 18:11:02.0564 (UTC) FILETIME=[2E370E40:01C210AA]
Content-Transfer-Encoding: 8bit

Another one, using the same data as in my previous report (PR1651, available 
as http://rjvbertin.free.fr/PR1651data.tab):

kk<-read.table(<data>)
attach(kk)
Snr<-factor(Snr)
# Now try to make a coplot using boxplots:
coplot(nFD~Modality|Type+size, panel = function(x, y, ...) plot(x, y))
# or
coplot(nFD~Modality|Type+size, panel = function(x, y, ...) boxplot(y~x))

This almost functions,only the boxplot matrix is shifted and right-aligned 
with the vertical (size) factor display (seems to be drawn underneath it).
This happens both with the Windows binaries and the source distribution 
compiled under Linux.

RenE J.V. Bertin
College de France/LPPA
11, place Marcelin Berthelot
75005 Paris, France

_________________________________________________________________
Join the worlds largest e-mail service with MSN Hotmail. 
http://www.hotmail.com


==> 1653.audit <==
Wed Jun 12 17:37:50 2002	ripley	foobar
Wed Jun 12 17:37:50 2002	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1654 *
Subject: R 1.5.0: axis() does not honor the xaxp argument
From: "Robert D. Merithew" <merithew@ccmr.cornell.edu>
Date: Tue, 11 Jun 2002 09:29:39 -0400 (EDT)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1654 <==
From postmaster@franz.stat.wisc.edu  Tue Jun 11 16:33:40 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA04905
	for <r-bugs@biostat.ku.dk>; Tue, 11 Jun 2002 16:33:40 +0200 (MET DST)
Received: from mercury.ccmr.cornell.edu (really [128.84.231.97]) by franz.stat.wisc.edu
	via smail with esmtp (ident 0 using rfc1413)
	id <m17HmaZ-000IYKC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Tue, 11 Jun 2002 09:25:39 -0500 (CDT) 
Received: from magic.ccmr.cornell.edu (IDENT:0@magic.ccmr.cornell.edu [128.84.231.181])
	by mercury.ccmr.cornell.edu (8.9.3/8.9.3) with ESMTP id JAA21476
	for <r-bugs@r-project.org>; Tue, 11 Jun 2002 09:33:13 -0400
Received: from localhost (merithew@localhost)
	by magic.ccmr.cornell.edu (8.9.3/8.9.3) with ESMTP id JAA12487
	for <r-bugs@r-project.org>; Tue, 11 Jun 2002 09:29:39 -0400
X-Authentication-Warning: magic.ccmr.cornell.edu: merithew owned process doing -bs
Date: Tue, 11 Jun 2002 09:29:39 -0400 (EDT)
From: "Robert D. Merithew" <merithew@ccmr.cornell.edu>
Reply-To: rdm28@cornell.edu
To: r-bugs@r-project.org
Subject: R 1.5.0: axis() does not honor the xaxp argument
Message-ID: <Pine.LNX.4.44.0206110918130.12431-100000@magic.ccmr.cornell.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII



----------------------- transcript --------------------------
$ R --vanilla

R : Copyright 2002, The R Development Core Team
Version 1.5.0  (2002-04-29)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

> plot(c(0,1),c(0.2,0.3),xaxt="n")
> axis(1,xaxp=c(0,1,4))
> version
         _
platform i586-pc-linux-gnu
arch     i586
os       linux-gnu
system   i586, linux-gnu
status
major    1
minor    5.0
year     2002
month    04
day      29
language R
>
------------------------end transcript ---------------------

I expect only 4 intervals on the x-axis, but find 5 intervals.  The same
problem seems to exist for axis() with a yaxp argument.

The sequence:

> plot(c(0,1),c(0.2,0.3),xaxt="n")
> par(xaxp=c(0,1,4))
> axis(1)

does draw an axis with four intervals, though.


On R-Help, in response to my question about this, Paul Murrell
<p.murrell@auckland.ac.nz> wrote:

> This appears to be a bug.  axis() should respond to an "in-line" xaxp
> setting.
>
> I can see a place in the C code where the problem appears to be, but an
> attempted quick fix failed.
>
> Could you please submit a bug report so that I (or someone else) will
> remember to have a proper look later?
>
> Thanks
>
> Paul


Thanks,
--
Robert Merithew





==> 1654.followup.1 <==
From p.murrell@auckland.ac.nz  Wed Jun 12 00:04:30 2002
Received: from mailhost2.auckland.ac.nz (mailhost2.auckland.ac.nz [130.216.191.4] (may be forged))
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id AAA06582
	for <R-bugs@biostat.ku.dk>; Wed, 12 Jun 2002 00:04:28 +0200 (MET DST)
Received: from stat1.stat.auckland.ac.nz (stat1.stat.auckland.ac.nz [130.216.93.1])
	by mailhost2.auckland.ac.nz (8.9.2/8.9.2/8.9.2-ua) with ESMTP id KAA25770
	for <R-bugs@biostat.ku.dk>; Wed, 12 Jun 2002 10:03:45 +1200 (NZST)
Received: from stat.auckland.ac.nz (murrell.stat.auckland.ac.nz [130.216.50.118])
	by stat1.stat.auckland.ac.nz (8.11.6+Sun/8.8.8) with ESMTP id g5BM3jI03971;
	Wed, 12 Jun 2002 10:03:45 +1200 (NZST)
Message-ID: <3D067451.59949C1C@stat.auckland.ac.nz>
Date: Wed, 12 Jun 2002 10:06:09 +1200
From: Paul Murrell <p.murrell@auckland.ac.nz>
X-Mailer: Mozilla 4.78 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
CC: R-bugs@biostat.ku.dk
Subject: Re: R 1.5.0: axis() does not honor the xaxp argument (PR#1654)
References: <200206111433.QAA04910@pubhealth.ku.dk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi


> ----------------------- transcript --------------------------
> $ R --vanilla
> 
> R : Copyright 2002, The R Development Core Team
> Version 1.5.0  (2002-04-29)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type `license()' or `licence()' for distribution details.
> 
> R is a collaborative project with many contributors.
> Type `contributors()' for more information.
> 
> Type `demo()' for some demos, `help()' for on-line help, or
> `help.start()' for a HTML browser interface to help.
> Type `q()' to quit R.
> 
> > plot(c(0,1),c(0.2,0.3),xaxt="n")
> > axis(1,xaxp=c(0,1,4))
> > version
>          _
> platform i586-pc-linux-gnu
> arch     i586
> os       linux-gnu
> system   i586, linux-gnu
> status
> major    1
> minor    5.0
> year     2002
> month    04
> day      29
> language R
> >
> ------------------------end transcript ---------------------
> 
> I expect only 4 intervals on the x-axis, but find 5 intervals.  The same
> problem seems to exist for axis() with a yaxp argument.
> 
> The sequence:
> 
> > plot(c(0,1),c(0.2,0.3),xaxt="n")
> > par(xaxp=c(0,1,4))
> > axis(1)
> 
> does draw an axis with four intervals, though.
> 
> On R-Help, in response to my question about this, Paul Murrell
> <p.murrell@auckland.ac.nz> wrote:
> 
> > This appears to be a bug.  axis() should respond to an "in-line" xaxp
> > setting.
> >
> > I can see a place in the C code where the problem appears to be, but an
> > attempted quick fix failed.


For the record, the place in the C code is in plot.c in do_axis where
there appear to be two problems:  (i)  the code sets a local variable
from the dpptr(dd)->xaxp rather than the gpptr(dd)->xaxp, and (ii) the
code sets this local variable BEFORE calling ProcessInlinePars().  So
there are two obstacles to fix before do_axis will respond to an in-line
xaxp setting.  NOTE also that several other local variables are set from
dpptr(dd)-><something> in the same place, so these should be fixed as
well.

Paul

==> 1654.audit <==
Wed Jun 12 17:36:35 2002	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1659 *
Subject:  mtext() alignment of perpendicular text 
From: p.murrell@auckland.ac.nz
Date: Wed, 12 Jun 2002 13:29:45 +1200 (NZST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1659 <==
From postmaster@franz.stat.wisc.edu  Wed Jun 12 03:30:31 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id DAA06869
	for <r-bugs@biostat.ku.dk>; Wed, 12 Jun 2002 03:30:30 +0200 (MET DST)
Received: from mailhost2.auckland.ac.nz (really [130.216.191.4]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m17HwxI-000IXcC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Tue, 11 Jun 2002 20:29:48 -0500 (CDT) 
Received: from stat1.stat.auckland.ac.nz (stat1.stat.auckland.ac.nz [130.216.93.1])
	by mailhost2.auckland.ac.nz (8.9.2/8.9.2/8.9.2-ua) with ESMTP id NAA27667
	for <r-bugs@r-project.org>; Wed, 12 Jun 2002 13:29:46 +1200 (NZST)
Received: (from paul@localhost)
	by stat1.stat.auckland.ac.nz (8.11.6+Sun/8.8.8) id g5C1TjS23236;
	Wed, 12 Jun 2002 13:29:45 +1200 (NZST)
Date: Wed, 12 Jun 2002 13:29:45 +1200 (NZST)
Message-Id: <200206120129.g5C1TjS23236@stat1.stat.auckland.ac.nz>
From: p.murrell@auckland.ac.nz
To: r-bugs@r-project.org
Cc: paul@stat1.stat.auckland.ac.nz
Subject:  mtext() alignment of perpendicular text 


mtext() does a poor job of placing text when it is perpendicular (e.g.,
side=1, las=3) and the font size is not the default.

The following code snippet demonstrates the problem ...

plot(1:10)
abline(v=1:10, col="grey")
axis(3, at=1:10, las=3, labels=FALSE)
mtext(1:10, at=1:10, side=3, line=1, las=3)
axis(3, line=-2, at=1:10, las=3, labels=FALSE)
mtext(1:10, at=1:10, side=3, line=-1, las=3, cex=.5)
axis(3, line=-5, at=1:10, las=3, labels=FALSE)
mtext(1:10, at=1:10, side=3, line=-4, las=3, cex=2)

The ugliness varies a bit across devices.

In GMtext() in graphics.c there is a hardcoded adjustment of 0.3 which
is described as "purely visual tuning".  I think this needs to be
replaced with a more general solution.

Paul


--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = Under development (unstable)
 major = 1
 minor = 6.0
 year = 2002
 month = 06
 day = 10
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

==> 1659.audit <==
Wed Jun 12 17:36:35 2002	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1878 *
Subject: close.screen
From: Martin.Schlather@uni-bayreuth.de
Date: Mon, 5 Aug 2002 22:35:02 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1878 <==
From Martin.Schlather@uni-bayreuth.de  Mon Aug  5 22:35:03 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA18778
	for <R-bugs@biostat.ku.dk>; Mon, 5 Aug 2002 22:35:02 +0200 (MET DST)
Date: Mon, 5 Aug 2002 22:35:02 +0200 (MET DST)
From: Martin.Schlather@uni-bayreuth.de
Message-Id: <200208052035.WAA18778@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: close.screen

Full_Name: Martin Schlather
Version: 1.5.1
OS: Linux
Submission from: (NULL) (132.180.72.150)


Hi,

As a user it is not obvious to me why
"close.screen" should return a warning message in 

split.screen(figs=c(1,2))
i <- 2  
screen(i)
close.screen(i)

whereas no warning message appears for i <- 1.


In fact, the warning message appears since the condition
   .split.valid.screens >  temp
in close.screen is not satisfied by any element of .split.valid.screens

Replacing 

   if (temp %in% n) 
       temp <- min(.split.valid.screens[.split.valid.screens > 
           temp])
   if (temp > max(.split.valid.screens)) 
       temp <- min(.split.valid.screens)

by

   if (temp > max(.split.valid.screens)) 
      temp <- min(.split.valid.screens)
   else
      if (temp %in% n) 
         temp <- min(.split.valid.screens[.split.valid.screens > 
             temp])

should avoid the warning message without any other changings in the
functionality of close.screen.

Cheers,
Martin




==> 1878.audit <==
Thu Aug  8 09:04:26 2002	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1933 *
Subject: dev2eps() prints ticks with wrong length!
From: Timur Elzhov <Timur.Elzhov@jinr.ru>
Date: Fri, 23 Aug 2002 17:22:15 +0400
--dev.copy problem
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1933 <==
From postmaster@franz.stat.wisc.edu  Fri Aug 23 15:15:27 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA23911
	for <r-bugs@biostat.ku.dk>; Fri, 23 Aug 2002 15:15:26 +0200 (MET DST)
Received: from nfsun5.jinr.ru (really [159.93.21.8]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m17iEH0-000IWqC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Fri, 23 Aug 2002 08:14:46 -0500 (CDT) 
Received: from pcf004.jinr.ru (pcf004.jinr.ru [159.93.29.4])
	by nfsun5.jinr.ru (8.11.2/8.11.6) with ESMTP id g7NDEZX20985
	for <r-bugs@r-project.org>; Fri, 23 Aug 2002 17:14:36 +0400 (MSK-DST)
Received: from etv by pcf004.jinr.ru with local (Exim 3.32 #1 (Debian))
	id 17iEOH-0003OH-00
	for <r-bugs@r-project.org>; Fri, 23 Aug 2002 17:22:17 +0400
Date: Fri, 23 Aug 2002 17:22:15 +0400
From: Timur Elzhov <Timur.Elzhov@jinr.ru>
To: r-bugs@r-project.org
Subject: dev2eps() prints ticks with wrong length!
Message-ID: <20020823132214.GA13023@pcf004.jinr.ru>
Mime-Version: 1.0
Content-Type: text/plain; charset=koi8-r
Content-Disposition: inline
User-Agent: Mutt/1.4i
Sender: Timur Elzhov <etv@pcf004.jinr.ru>

Hello R experts!

I've tried to make single plot, but with changed ticks length,
and then copy them to file by dev.copy2eps(). Here is the code:

   x11 ( , 5, 5)
   par (tcl = +5) 
   plot (0)        # that's ugly plot with great ticks
                   # on the graph viewport.  cool :)
   dev.copy2eps (file = "out.eps")

Hm.. I had a look at "out.ps" and wondered that ticks
look like as they would being set to there *default* value,
"tcl" = -0.5!  =-O

Ok, I tried then to make same thing by slightly different way:

    postscript (file = "out1.eps", onefile = FALSE)
    par (tcl = +5)
    plot (0)
    dev.off ()

Beautiful -- all the ticks have an appropriate length, tcl == +5!

Why?


-------------- == --------------
    R> version
    _
    platform i386-pc-linux-gnu
    arch     i386
    os       linux-gnu
    system   i386, linux-gnu
    status
    major    1
    minor    5.1

-------------- == --------------


With best regards,
Timur V. Elzhov



==> 1933.audit <==
Sun Aug 25 11:54:31 2002	ripley	changed notes
Sun Aug 25 11:54:31 2002	ripley	foobar
Sun Aug 25 11:54:31 2002	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2069 *
Subject: split.screen problem
From: cbodily@att.net
Date: Thu, 26 Sep 2002 19:37:40 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2069 <==
From cbodily@att.net  Thu Sep 26 19:37:41 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id TAA21297
	for <R-bugs@biostat.ku.dk>; Thu, 26 Sep 2002 19:37:40 +0200 (MET DST)
Date: Thu, 26 Sep 2002 19:37:40 +0200 (MET DST)
From: cbodily@att.net
Message-Id: <200209261737.TAA21297@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: split.screen problem

Full_Name: Chris Bodily
Version: 1.5.1
OS: W2K
Submission from: (NULL) (63.106.106.2)


I took the following code directly from the 'split.screen' help page in R and
modified one line to highlight the problem I encountered.  Basically, it appears
that when plotting in split screens and attempting to return to a particular
screen to add or update points, the axes from the original plot are not
remembered, causing the new points to plot incorrectly.
 
A workaround seem to be storing the original plot range and issuing
'plot(x,y,type="n")' where x and y are data vectors with ranges that match the
original plot in the screen of interest.  Then a 'points' command draws in the
correct locations.
 
I found this by moving working code from S-Plus 2000 into R v1.5.1 and noticed
that a particular interactive plot I use began drawing incorrectly.
 
Thanks,
 
Chris Bodily
 
#--------------------------------------------------------------------------------------
 
 
   if (interactive()) {
     par(bg = "white")           # default is likely to be transparent
 
     split.screen(c(2,1))        # split display into two screens
     split.screen(c(1,2),2)      # split bottom half in two
 
     plot(1:10)                  # screen 3 is active, draw plot
     erase.screen()              # forgot label, erase and redraw
     plot(1:10, ylab= "ylab 3")
 
     screen(1)                   # prepare screen 1 for output
     plot(1:10)
 
     screen(4)                   # prepare screen 4 for output
     plot(1:10, ylab="ylab 4")
 
     screen(1, FALSE)            # return to screen 1, but do not clear
#     plot(10:1,axes=FALSE, pch=2,col=5, lty=2, ylab="")  # overlay second plot

## Problem here as the following points get plotted incorrectly ##
## it seems that the axes are reset                             ##
     points(rep(3,10),1:10,col=2,pch=2)  # add a few more points for a test
 
     axis(4)                     # add tic marks to right-hand axis
     title("Plot 1")
     close.screen(all = TRUE)    # exit split-screen mode
     }


==> 2069.audit <==
Tue Oct  1 00:20:40 2002	thomas	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2283 *
Subject: Wandering usr values in par(no.readonly=TRUW)
From: Jari Oksanen <jarioksa@sun3.oulu.fi>
Date: Tue, 12 Nov 2002 13:50:44 +0200
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2283 <==
From jarioksa@pc112145.oulu.fi  Tue Nov 12 12:51:40 2002
Received: from franz.stat.wisc.edu (mail@www.omegahat.org [128.105.174.32])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id MAA07314
	for <r-bugs@biostat.ku.dk>; Tue, 12 Nov 2002 12:51:39 +0100 (MET)
Received: from pc112145.oulu.fi ([130.231.112.145] ident=[s96AW+1Zs9cPBqGskCg5J6XRkFQbLqG1])
	by franz.stat.wisc.edu with esmtp (Exim 3.35 #1 (Debian))
	id 18BZZG-0003mQ-00
	for <r-bugs@r-project.org>; Tue, 12 Nov 2002 05:50:54 -0600
Received: from pc112145.oulu.fi (jarioksa@localhost)
	by pc112145.oulu.fi (8.11.6/8.11.6) with ESMTP id gACBojB14813
	for <r-bugs@r-project.org>; Tue, 12 Nov 2002 13:50:45 +0200
Message-Id: <200211121150.gACBojB14813@pc112145.oulu.fi>
X-Mailer: exmh version 2.5 07/13/2001 with nmh-1.0.4
To: r-bugs@r-project.org
X-Face: #1;E;(IH&rRlD$\T&b}/by1WC%wv7r>$1u@~pvXzPr(bZ,*,8?599t;]Ue=S@~'(F$Ah{m;
 BM$8X.TeSEUi_~Qi(O?JlUI$0q"}Vt#6j*0I'**nSd+QtbA:I>U-%j0?%E=WxEA~!41E".)PPt:%*X
 U/exl1Z5QF(f65[(R+V/QccPRZgw1sracNQTeLL=j2?fYdu-z<E
Subject: Wandering usr values in par(no.readonly=TRUW)
Mime-Version: 1.0
Content-Type: multipart/signed; boundary="==_Exmh_1801894504P";
	 micalg=pgp-md5; protocol="application/pgp-signature"
Content-Transfer-Encoding: 7bit
Date: Tue, 12 Nov 2002 13:50:44 +0200
From: Jari Oksanen <jarioksa@sun3.oulu.fi>

--==_Exmh_1801894504P
Content-Type: text/plain; charset=us-ascii

Dear R folks,

Initially I had a plotting routine using logarithmic y-axes that failed after
repeated calls if I tried to restore the graphical parameters (which I wanted to
do because I used `layout' within the routine. I tried to isolate the problem
and found out that the following code with logarithmic axis is sufficient for
reproducing the failure:

> plot2.log
function (x=1:2,y=1:2) 
{
   op <- par(no.readonly=TRUE)
   on.exit(par(op))
   cat(op$usr, "\n")
   plot(x, y, log="y")
   #par(op)
   invisible(op)
}

Here is a session with the typical error message (Infinite axis extents):

> op <- par(no.readonly=TRUE)
> op$usr
[1] 0 1 0 1
> plot2.log()$usr
0 1 0 1 
[1] 0 1 0 1
> plot2.log()$usr
0 1 1 10 
[1]  0  1  1 10
> plot2.log()$usr
0 1 10 1e+10 
Error in par(op) : Infinite axis extents [GPretty(1e+10,inf,5)]

So this happens only with a repeated call to logarithmic axes.

I found out this feature sometimes back in R-1.5*, but I regarded that as my 
own bug. It started to disturb me yesterday when I had a live R session in my 
lectures, and got to edit away the par-restoring code to continue.

Best wishes, Jari Oksanen


--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 6.1
 year = 2002
 month = 11
 day = 01
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-- 
Jari Oksanen -- Dept Biology, Univ Oulu, 90014 Oulu, Finland
Ph. +358 8 5531526, cell +358 40 5136529, fax +358 8 5531061
email jari.oksanen@oulu.fi, homepage http://cc.oulu.fi/~jarioksa/



--==_Exmh_1801894504P
Content-Type: application/pgp-signature

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (GNU/Linux)
Comment: Exmh version 2.1.1 10/15/1999

iD8DBQE90OsUWnxFzE9NjaURAcwSAJwJdXXP/qgUyCFahR4GsWbBxVl0YACeKBPe
AFIwTfrg/l7H0fr0HJONcaI=
=mkza
-----END PGP SIGNATURE-----

--==_Exmh_1801894504P--

==> 2283.audit <==
Wed Nov 13 00:07:23 2002	thomas	moved from incoming to Graphics

==> 2283.reply.1 <==
From maechler@stat.math.ethz.ch  Wed Nov 13 18:48:25 2002
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA23631
	for <R-bugs@biostat.ku.dk>; Wed, 13 Nov 2002 18:48:24 +0100 (MET)
Received: from lynne.ethz.ch (IDENT:root@lynne [129.132.58.30])
	by hypatia.math.ethz.ch (8.12.6/8.12.6) with ESMTP id gADHldL9004377;
	Wed, 13 Nov 2002 18:47:39 +0100 (MET)
Received: (from maechler@localhost)
	by lynne.ethz.ch (8.11.6/8.11.2) id gADHlcO21499;
	Wed, 13 Nov 2002 18:47:38 +0100
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15826.36921.839490.28287@gargle.gargle.HOWL>
Date: Wed, 13 Nov 2002 18:47:37 +0100
To: R-bugs@stat.math.ethz.ch
Cc: <mschwartz@medanalytics.com>, <jarioksa@sun3.oulu.fi>
Subject: RE: Wandering usr values in par(no.readonly=TRUE) (PR#2283)
In-Reply-To: <008f01c28b36$5ccf75b0$0201a8c0@MARC>
References: <008f01c28b36$5ccf75b0$0201a8c0@MARC>
X-Mailer: VM 7.07 under Emacs 21.2.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>

>>>>> "Marc" == Marc Schwartz <mschwartz@medanalytics.com>
>>>>>     on Wed, 13 Nov 2002 11:01:49 -0600 writes:

    Marc> Marc Schwartz wrote:
    >>  SNIP
    >> 
    >> I am guessing that this may be the result of par("ylog")
    >> and par("xlog") being read only and perhaps impacting the
    >> restoration of the par("usr") values when the plotting
    >> device is still open, but that may be incorrect.

    Marc> In follow up to my own note from last evening on this
    Marc> and now that I have had a couple of cups of coffee
    Marc> this morning, I need to partially correct my above
    Marc> statement and point to a presumed typo in the ?par
    Marc> help file.  For confirmation, this is R 1.6.1 under
    Marc> WinXP Pro.

    Marc> par("xlog") and par("ylog") are not Read Only
    Marc> parameters as listed in the help file and can be set
    Marc> by the user.  Indeed this is confirmed in the comments
    Marc> in par.r:

    Marc> #.Pars.readonly <- c("cin","cra","csi","cxy","din")

    Marc> I noted this today as I was comparing the output of
    Marc> par() with par(no.readonly = TRUE) and noted that the
    Marc> latter returns '$xlog' and $ylog' as being
    Marc> settable. The other 5 par values listed in ?par as
    Marc> "R.O." (cin, cra, csi, cxy and din) return errors when
    Marc> one attempts to set them with par(args), however xlog
    Marc> and ylog do not.

Yes, indeed, and I -- as an R-core member -- am astonished:.
I didn't know it really worked, but it does, e.g., 

  > plot(1:10); par("usr")
  [1]  0.64 10.36  0.64 10.36
  > par(xlog = TRUE); par(c("xlog","usr"))
  $xlog
  [1] TRUE

  $usr
  [1] -0.1938200  1.0153598  0.6400000 10.3600000

  > points(10^(1:9), 1 + 1:9, col = "red") # draws red points above 


I'm now re-directing this back to R-bugs to make sure that 
the only (right?) remaining bug, documentation in par.Rd, 
will be fixed -- and hope to close this as a bug report.

    Marc>   ..........
    Marc>   <more good analysis>

Thank you Marc!

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

==> 2283.followup.1 <==
From mschwartz@medanalytics.com  Wed Nov 13 20:09:33 2002
Received: from mail7.atl.registeredsite.com (nobody@mail7.atl.registeredsite.com [64.224.219.81])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA23868
	for <R-bugs@biostat.ku.dk>; Wed, 13 Nov 2002 20:09:32 +0100 (MET)
Received: from mail.medanalytics.com (mail.medanalytics.com [64.225.164.192])
	by mail7.atl.registeredsite.com (8.12.2/8.12.5) with ESMTP id gADJ8jjx025585;
	Wed, 13 Nov 2002 14:08:45 -0500
Received: from MARC [64.225.164.192] by mail.medanalytics.com with ESMTP
  (SMTPD32-6.06) id A33BDAD400F0; Wed, 13 Nov 2002 14:08:43 -0500
Reply-To: <mschwartz@medanalytics.com>
From: "Marc Schwartz" <mschwartz@medanalytics.com>
To: <maechler@stat.math.ethz.ch>, <r-devel@stat.math.ethz.ch>
Cc: <R-bugs@biostat.ku.dk>
Subject: RE: Wandering usr values in par(no.readonly=TRUE) (PR#2283)
Date: Wed, 13 Nov 2002 13:08:42 -0600
Organization: MedAnalytics, Inc.
Message-ID: <000201c28b48$15c93810$0201a8c0@MARC>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
In-Reply-To: <200211131748.SAA23636@pubhealth.ku.dk>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by pubhealth.ku.dk id UAA23868

Martin wrote:
> SNIP
> 
> Thank you Marc!

Glad to be of help Martin.  

For the sake of completeness, I ran the same examples on my Linux (RH 8)
install of R 1.6.1 and observed the same behavior.

Best regards,

Marc Schwartz


==> 2283.followup.2 <==
From mschwartz@medanalytics.com  Thu Nov 14 00:06:53 2002
Received: from mail11.atl.registeredsite.com (nobody@mail11.atl.registeredsite.com [64.224.219.85])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id AAA24689
	for <R-bugs@biostat.ku.dk>; Thu, 14 Nov 2002 00:06:52 +0100 (MET)
Received: from mail.medanalytics.com (mail.medanalytics.com [64.225.164.192])
	by mail11.atl.registeredsite.com (8.12.2/8.12.5) with ESMTP id gADN64ii008429;
	Wed, 13 Nov 2002 18:06:05 -0500
Received: from MARC [64.225.164.192] by mail.medanalytics.com with ESMTP
  (SMTPD32-6.06) id AADAF334002C; Wed, 13 Nov 2002 18:06:02 -0500
Reply-To: <mschwartz@medanalytics.com>
From: "Marc Schwartz" <mschwartz@medanalytics.com>
To: <maechler@stat.math.ethz.ch>, <r-devel@stat.math.ethz.ch>
Cc: <R-bugs@biostat.ku.dk>
Subject: RE: Wandering usr values in par(no.readonly=TRUE) (PR#2283)
Date: Wed, 13 Nov 2002 17:06:00 -0600
Organization: MedAnalytics, Inc.
Message-ID: <001901c28b69$3cbef650$0201a8c0@MARC>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
In-Reply-To: <200211131748.SAA23636@pubhealth.ku.dk>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by pubhealth.ku.dk id AAA24689

Martin wrote:
> I'm now re-directing this back to R-bugs to make sure that
> the only (right?) remaining bug, documentation in par.Rd,
> will be fixed -- and hope to close this as a bug report.

Martin,

My apologies, as I may have missed this in my first reading of your
reply, but I wanted to be sure that it was clear that there are two
separate bugs here. The first, which I found this morning in the process
of tracking down Jari's issue and the second which Jari observed in his
initial post, which started this thread yesterday.

Bug 1. The documentation in par.Rd needs to be corrected in that
par("xlog") and par("ylog") are not R.O. I presume that this is what you
are referring to above.


Bug 2. The improper restoration of par("usr") from saved values after
using log scaled axes. This is a result of the sequence of the code in
the par.c Specify() function (ie. par("usr") being set before
par("xlog") and par("ylog") are being set back to FALSE).

Possible solutions:

A. The code in par.c needs to be changed (possibly as I suggested
earlier) to enable the proper restoration of par("usr") after log scaled
axes are used

OR

B. If this is not possible due to causing other problems, par.Rd needs
to have a warning note added to inform users that par("usr") will not be
properly restored after log scales are used and that a possible solution
would be to explicitly set par(xlog = FALSE) and par(ylog = FALSE)
before restoring 'par' from saved values.  This solution of course falls
short if a function using this approach exits prematurely. One could
include code in the on.exit() function to reset 'xlog' and 'ylog' before
restoring 'par'. For example, using Jari's initial function plot2.log():

plot2.log <- function(x=1:2,y=1:2) 
{
  op <- par(no.readonly = TRUE)

  exit.restore <- function()
  {
    par(xlog =FALSE)
    par(ylog = FALSE)
    par(op)
  }

  on.exit(exit.restore())

  plot(x, y, log = "y")
}


Again, my apologies if I am mis-reading the section from your reply
above.

Regards,

Marc Schwartz


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2578 *
Subject: "trace" argument in legend()
From: jerome@hivnet.ubc.ca
Date: Mon, 24 Feb 2003 18:53:29 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2578 <==
From jerome@hivnet.ubc.ca Mon Feb 24 18:53:30 2003
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.7/8.12.7) with ESMTP id h1OHrT35023579
	for <R-bugs@biostat.ku.dk>; Mon, 24 Feb 2003 18:53:29 +0100 (MET)
Date: Mon, 24 Feb 2003 18:53:29 +0100 (MET)
Message-Id: <200302241753.h1OHrT35023579@pubhealth.ku.dk>
From: jerome@hivnet.ubc.ca
To: R-bugs@biostat.ku.dk
Subject: "trace" argument in legend()

Full_Name: Jerome Asselin
Version: 1.6.2
OS: RedHat Linux 7.2
Submission from: (NULL) (142.103.173.179)



Should be an easy fix...

Consider the examble below:

plot(0,0)
legend(0,0,c("Hello!","Hi!"),pch=1:2,lty=1:2,trace=T)

It gives the following trace:

> plot(0,0)
> legend(0,0,c("Hello!","Hi!"),pch=1:2,lty=1:2,trace=T)
  xchar= 0.05178 ; (yextra,ychar)= 0 0.07941
  rect2(0,0, w=0.3474, h=0.2382...)
  segments2(0.015540.01554,-0.07941-0.1588, dx=0.1036, dy=0, ...)
  points2( 0.06732 0.06732 , -0.07941 -0.1588 , pch= 1 2 ...)

On the line starting by "segment2", the coordinates are not separated
by a space like on the line starting by "points2".

My recommendation is to remove the option `sep = ""' in this part of
code in legend().

[...]
        if (trace)
            catn("  segments2(", xt[ok.l] + x.off * xchar, ",",
                yt[ok.l], ", dx=", seg.len * xchar, ", dy=0, ...)",
                sep = "")
[...]

Sincerely,
Jerome Asselin


==> 2578.reply.1 <==
From maechler@stat.math.ethz.ch Tue Feb 25 10:21:32 2003
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.12.7/8.12.7) with ESMTP id h1P9LW35027153
	for <R-bugs@biostat.ku.dk>; Tue, 25 Feb 2003 10:21:32 +0100 (MET)
Received: from lynne.ethz.ch (IDENT:root@lynne [129.132.58.30])
	by hypatia.math.ethz.ch (8.12.6/8.12.6) with ESMTP id h1P9KhGF008168;
	Tue, 25 Feb 2003 10:20:43 +0100 (MET)
Received: (from maechler@localhost)
	by lynne.ethz.ch (8.11.6/8.11.2) id h1P9KhM29485;
	Tue, 25 Feb 2003 10:20:43 +0100
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15963.13674.922243.390379@gargle.gargle.HOWL>
Date: Tue, 25 Feb 2003 10:20:42 +0100
To: jerome@hivnet.ubc.ca
Cc: R-bugs@biostat.ku.dk
Subject: Re: [Rd] "trace" argument in legend() (PR#2578)
In-Reply-To: <200302241753.h1OHrU35023583@pubhealth.ku.dk>
References: <200302241753.h1OHrU35023583@pubhealth.ku.dk>
X-Mailer: VM 7.07 under Emacs 21.2.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)

>>>>> "Jerome" == Jerome Asselin <jerome@hivnet.ubc.ca>
>>>>>     on Mon, 24 Feb 2003 18:53:30 +0100 (MET) writes:

	  ....

    Jerome> Should be an easy fix...

    Jerome> Consider the examble below:

    Jerome> plot(0,0)
    Jerome> legend(0,0,c("Hello!","Hi!"),pch=1:2,lty=1:2,trace=T)

    Jerome> It gives the following trace:

    >> plot(0,0)
    >> legend(0,0,c("Hello!","Hi!"),pch=1:2,lty=1:2,trace=T)
      > xchar= 0.05178 ; (yextra,ychar)= 0 0.07941
      > rect2(0,0, w=0.3474, h=0.2382...)
      > segments2(0.015540.01554,-0.07941-0.1588, dx=0.1036, dy=0, ...)
      > points2( 0.06732 0.06732 , -0.07941 -0.1588 , pch= 1 2 ...)

    Jerome> On the line starting by "segment2", the coordinates
    Jerome> are not separated by a space like on the line
    Jerome> starting by "points2".

    Jerome> My recommendation is to remove the option `sep = ""'
    Jerome> in this part of code in legend().

    Jerome> [...]
    Jerome> if (trace)
    Jerome> catn("  segments2(", xt[ok.l] + x.off * xchar, ",",
    Jerome> yt[ok.l], ", dx=", seg.len * xchar, ", dy=0, ...)",
    Jerome> sep = "")
    Jerome> [...]

Thank you, Jerome.
Yes, it's a buglet and your suggestion is fine.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

==> 2578.audit <==
Wed Feb 26 06:41:05 2003	ripley	moved from incoming to Graphics

==> 2578.followup.1 <==
From jerome@hivnet.ubc.ca Thu Feb 27 19:56:28 2003
Received: from hivnet.ubc.ca (hivnet.ubc.ca [142.103.173.1])
	by pubhealth.ku.dk (8.12.7/8.12.7) with ESMTP id h1RIuR35026604
	for <R-bugs@biostat.ku.dk>; Thu, 27 Feb 2003 19:56:28 +0100 (MET)
Received: from there (jeromePC [142.103.173.179])
	by hivnet.ubc.ca (8.9.0/8.9.0) with SMTP id LAA17721;
	Thu, 27 Feb 2003 11:00:07 -0800 (PST)
Message-Id: <200302271900.LAA17721@hivnet.ubc.ca>
Content-Type: text/plain;
  charset="iso-8859-1"
From: Jerome Asselin <jerome@hivnet.ubc.ca>
Organization: BC Centre for Excellence in HIV/AIDS
To: Martin Maechler <maechler@stat.math.ethz.ch>
Subject: Re: [Rd] "trace" argument in legend() (PR#2578)
Date: Thu, 27 Feb 2003 10:55:58 -0800
X-Mailer: KMail [version 1.3.2]
Cc: R-bugs@biostat.ku.dk
References: <200302241753.h1OHrU35023583@pubhealth.ku.dk> <15963.13674.922243.390379@gargle.gargle.HOWL>
In-Reply-To: <15963.13674.922243.390379@gargle.gargle.HOWL>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit


Oops. I forgot this one. We should also replace "...)" by ", ...)" in this 
part of the code.

[...]
        if (trace)
            catn("  points2(", x1, ",", y1, ", pch=", pch[ok],
                "...)")
[...]

Jerome

On Tuesday 25 February 2003 01:20, Martin Maechler wrote:
> >>>>> "Jerome" == Jerome Asselin <jerome@hivnet.ubc.ca>
> >>>>>     on Mon, 24 Feb 2003 18:53:30 +0100 (MET) writes:
>
> 	  ....
>
>     Jerome> Should be an easy fix...
>
>     Jerome> Consider the examble below:
>
>     Jerome> plot(0,0)
>     Jerome> legend(0,0,c("Hello!","Hi!"),pch=1:2,lty=1:2,trace=T)
>
>     Jerome> It gives the following trace:
>     >> plot(0,0)
>     >> legend(0,0,c("Hello!","Hi!"),pch=1:2,lty=1:2,trace=T)
>     >>
>       > xchar= 0.05178 ; (yextra,ychar)= 0 0.07941
>       > rect2(0,0, w=0.3474, h=0.2382...)
>       > segments2(0.015540.01554,-0.07941-0.1588, dx=0.1036, dy=0, ...)
>       > points2( 0.06732 0.06732 , -0.07941 -0.1588 , pch= 1 2 ...)
>
>     Jerome> On the line starting by "segment2", the coordinates
>     Jerome> are not separated by a space like on the line
>     Jerome> starting by "points2".
>
>     Jerome> My recommendation is to remove the option `sep = ""'
>     Jerome> in this part of code in legend().
>
>     Jerome> [...]
>     Jerome> if (trace)
>     Jerome> catn("  segments2(", xt[ok.l] + x.off * xchar, ",",
>     Jerome> yt[ok.l], ", dx=", seg.len * xchar, ", dy=0, ...)",
>     Jerome> sep = "")
>     Jerome> [...]
>
> Thank you, Jerome.
> Yes, it's a buglet and your suggestion is fine.
>
> Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
> Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
> ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
> phone: x-41-1-632-3408		fax: ...-1228			<><

-- 

Jerome Asselin (Jérôme)
Statistical Analyst
British Columbia Centre for Excellence in HIV/AIDS
St. Paul's Hospital
608 - 1081 Burrard Street
Vancouver, British Columbia
CANADA V6Z 1Y6

Email: jerome@hivnet.ubc.ca
Phone: 604 806-9112   Fax: 604 806-9044
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2628 *
Subject: cex.axis in boxplot
From: Torsten Hothorn <Torsten.Hothorn@rzmail.uni-erlangen.de>
Date: Wed, 12 Mar 2003 17:27:34 +0100 (CET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2628 <==
From mailnull@stat.math.ethz.ch Wed Mar 12 17:28:02 2003
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.12.8/8.12.8) with ESMTP id h2CGS1n9019153
	for <R-bugs@biostat.ku.dk>; Wed, 12 Mar 2003 17:28:01 +0100 (MET)
Received: from hypatia.math.ethz.ch (mailnull@localhost [127.0.0.1])
	by hypatia.math.ethz.ch (8.12.8/8.12.6) with ESMTP id h2CGRwfW022763
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <R-bugs@biostat.ku.dk>; Wed, 12 Mar 2003 17:27:58 +0100 (MET)
Received: (from mailnull@localhost)
	by hypatia.math.ethz.ch (8.12.8/8.12.6/Submit) id h2CGRwe0022762
	for R-bugs@biostat.ku.dk; Wed, 12 Mar 2003 17:27:58 +0100 (MET)
Received: from franz.stat.wisc.edu (mail@www.omegahat.org [128.105.174.32])
	by hypatia.math.ethz.ch (8.12.8/8.12.6) with ESMTP id h2CGRrfV022745
	for <r-bugs@lists.r-project.org>; Wed, 12 Mar 2003 17:27:54 +0100 (MET)
Received: from max5.rrze.uni-erlangen.de ([131.188.3.50] ident=root)
	by franz.stat.wisc.edu with esmtp (Exim 3.35 #1 (Debian))
	id 18t957-0004nB-00
	for <r-bugs@r-project.org>; Wed, 12 Mar 2003 10:27:53 -0600
Received: from medmax.ivmed.med.uni-erlangen.de by max5.rrze.uni-erlangen.de with ESMTP for r-bugs@r-project.org; Wed, 12 Mar 2003 17:27:35 +0100
Received: from imbe68.imbe.med.uni-erlangen.de by medmax.ivmed.med.uni-erlangen.de with ESMTP for r-bugs@r-project.org; Wed, 12 Mar 2003 17:27:35 +0100
Date: Wed, 12 Mar 2003 17:27:34 +0100 (CET)
From: Torsten Hothorn <Torsten.Hothorn@rzmail.uni-erlangen.de>
X-X-Sender: hothorn@artemis.imbe.med.uni-erlangen.de
To: r-bugs@r-project.org
Subject: cex.axis in boxplot
Message-Id: <Pine.LNX.4.51.0303121726570.3228@artemis.imbe.med.uni-erlangen.de>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Spam-Status: No, hits=0.2 required=5.0
	tests=SPAM_PHRASE_00_01,USER_AGENT_PINE
	version=2.43
X-Spam-Level: 


Hi,

the graphical parameter "cex.axis" does not have any affect for "boxplot":

data(iris)
boxplot(iris[,1:4], ylab="y", cex.lab=2, cex.axis=2)


The patch is simply adding "cex.axis" to the search for axis relevant
parameters in "bxp":

ax.pars <- pars[names(pars) %in% c("xaxt", "yaxt", "las", "cex.axis")]

Best,

Torsten


--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = Under development (unstable)
 major = 1
 minor = 7.0
 year = 2003
 month = 03
 day = 11
 language = R

Search Path:
 .GlobalEnv, package:methods, package:ctest, package:mva, package:modreg,
package:nls, package:ts, Autoloads, package:base


==> 2628.audit <==
Tue Apr 15 09:27:15 2003	maechler	foobar
Tue Apr 15 09:27:15 2003	maechler	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2630 *
Subject: plot() with type="s" and lty=2
From: jerome@hivnet.ubc.ca
Date: Wed, 12 Mar 2003 23:35:59 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2630 <==
From jerome@hivnet.ubc.ca Wed Mar 12 23:35:59 2003
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.8/8.12.8) with ESMTP id h2CMZxn9021097
	for <R-bugs@biostat.ku.dk>; Wed, 12 Mar 2003 23:35:59 +0100 (MET)
Date: Wed, 12 Mar 2003 23:35:59 +0100 (MET)
Message-Id: <200303122235.h2CMZxn9021097@pubhealth.ku.dk>
From: jerome@hivnet.ubc.ca
To: R-bugs@biostat.ku.dk
Subject: plot() with type="s" and lty=2

Full_Name: Jerome Asselin
Version: 1.6.2
OS: RedHat Linux 7.2
Submission from: (NULL) (142.103.173.179)



In the following example, the line type lty=2 does not show properly
across the entire line.

x <- c(seq(0,.5,.001),seq(.6,1,.1))
y <- rep(1,length(x))
plot(x,y,type="s",lty=2)

Sincerely,
Jerome Asselin

==> 2630.followup.1 <==
From gb@stat.umu.se Thu Mar 13 08:33:26 2003
Received: from tal.stat.umu.se (tal.stat.umu.se [130.239.56.32])
	by pubhealth.ku.dk (8.12.8/8.12.8) with ESMTP id h2D7XQn9023441
	for <R-bugs@biostat.ku.dk>; Thu, 13 Mar 2003 08:33:26 +0100 (MET)
Received: from tal.stat.umu.se (localhost.localdomain [127.0.0.1])
	by tal.stat.umu.se (8.12.8/8.12.8) with ESMTP id h2D7ZhJd002147;
	Thu, 13 Mar 2003 08:35:43 +0100
Received: from localhost (gb@localhost)
	by tal.stat.umu.se (8.12.8/8.12.8/Submit) with ESMTP id h2D7Zgbg002143;
	Thu, 13 Mar 2003 08:35:43 +0100
X-Authentication-Warning: tal.stat.umu.se: gb owned process doing -bs
Date: Thu, 13 Mar 2003 08:35:42 +0100 (CET)
From: =?ISO-8859-1?Q?G=C3=B6ran_Brostr=C3=B6m?= <gb@stat.umu.se>
To: jerome@hivnet.ubc.ca
cc: r-devel@stat.math.ethz.ch, <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] plot() with type="s" and lty=2 (PR#2630)
In-Reply-To: <200303122236.h2CMa0n9021101@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.44.0303130830020.2139-100000@tal.stat.umu.se>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=ISO-8859-1
Content-Transfer-Encoding: 8BIT

On Wed, 12 Mar 2003 jerome@hivnet.ubc.ca wrote:

> Full_Name: Jerome Asselin
> Version: 1.6.2
> OS: RedHat Linux 7.2
> Submission from: (NULL) (142.103.173.179)
> 
> 
> 
> In the following example, the line type lty=2 does not show properly
> across the entire line.
> 
> x <- c(seq(0,.5,.001),seq(.6,1,.1))
> y <- rep(1,length(x))
> plot(x,y,type="s",lty=2)
> 
> Sincerely,
> Jerome Asselin

Right. I reported this two days ago on 'r-help' (maybe the wrong place).
In the copy of my report below you also see the (a?) solution.

Göran
-------------------------------------------------------------------
Consider the following two ways of stair steps plotting:

plo <- function(ty = 2, steps = 200){
  old.par <- par(mfrow = c(2, 1))
  x <- seq(1, 100, length = steps)
  y <- seq(1, 10, length = steps)
  plot(x, y, type = "s", lty = ty, main = "Stair steps")

  x <- rep(x, each = 2)[-1]
  y <- rep(y, each = 2)[-2*steps]
  plot(x, y, type = "l", lty = ty, main = "Line steps")
  par(old.par)
}
[...]
---------------------------------------------------------------------
---
 Göran Broström                    tel: +46 90 786 5223
 Department of Statistics          fax: +46 90 786 6614
 Umeå University                   http://www.stat.umu.se/egna/gb/
 SE-90187 Umeå, Sweden             e-mail: gb@stat.umu.se

______________________________________________
R-help@stat.math.ethz.ch mailing list
https://www.stat.math.ethz.ch/mailman/listinfo/r-help

> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 

-- 
---
 Göran Broström                    tel: +46 90 786 5223
 Department of Statistics          fax: +46 90 786 6614
 Umeå University                   http://www.stat.umu.se/egna/gb/
 SE-90187 Umeå, Sweden             e-mail: gb@stat.umu.se


==> 2630.audit <==
Fri Mar 14 19:37:16 2003	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  In-Out

* PR# 1688 *
Subject: Maybe a problem in binary read/write
From: accot@free.fr
Date: Tue, 18 Jun 2002 22:51:17 +0200 (MET DST)
--I don't think file() is said to work with devices!
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1688 <==
From accot@free.fr  Tue Jun 18 22:51:17 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA26479
	for <R-bugs@biostat.ku.dk>; Tue, 18 Jun 2002 22:51:17 +0200 (MET DST)
Date: Tue, 18 Jun 2002 22:51:17 +0200 (MET DST)
From: accot@free.fr
Message-Id: <200206182051.WAA26479@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: Maybe a problem in binary read/write

Full_Name: Johnny Accot
Version: 1.5.1
OS: Linux
Submission from: (NULL) (198.4.83.52)


Hi.

I'm having a problem with the binary read/write functions.  I'm writing a device
driver in R (why not?) and of course I have to send a couple commands to the
device.  Typically, I send one byte, receive one acknowledgement byte, send
another byte, receive an ACK, and so on.  At least this is what I would like to
do.  Instead, after writing one byte, reading its acknowledgement byte, and
writing a second byte, R hangs on the next read for an unknown reason.  I guess
this is a bug in the read/write functions.  If you have a PS/2 device you may
try to run the following code:

ascii <- sapply(1:255, function(i)
parse(text=paste("\"\\",structure(i,class="octmode"),"\"",sep=""))[[1]])
dev <- file("/dev/psaux")
open(dev, "w+b")
writeChar(ascii[246], dev, eos=NULL)
readBin(dev, what=integer(), n=1, size=1, signed=FALSE)
writeChar(ascii[246], dev, eos=NULL)
readBin(dev, what=integer(), n=1, size=1, signed=FALSE)
close(dev)

which gives:

> ascii <- sapply(1:255, function(i)
parse(text=paste("\"\\",structure(i,class="octmode"),"\"",sep=""))[[1]])
> dev <- file("/dev/psaux")
> open(dev, "w+b")
> writeChar(ascii[246], dev, eos=NULL)
> readBin(dev, what=integer(), n=1, size=1, signed=FALSE)
[1] 250
> writeChar(ascii[246], dev, eos=NULL)
> readBin(dev, what=integer(), n=1, size=1, signed=FALSE)
[...R hangs here...]

It first creates an ascii table, opens the PS/2 device for binary read&write,
writes the byte 0xF6 (246 in decimal, which means: set default; it is harmless),
reads the acknowledgement byte 0xFA (250 in decimal), writes another 0xF6, and
then hangs when reading the second acknowledgement byte.  If, instead, you close
the device between the two writes, it's fine:

> ascii <- sapply(1:255, function(i)
parse(text=paste("\"\\",structure(i,class="octmode"),"\"",sep=""))[[1]])
> 
> dev <- file("/dev/psaux", "w+b")
> writeChar(ascii[246], dev, eos=NULL)
> readBin(dev, what=integer(), n=1, size=1, signed=FALSE)
[1] 250
> close(dev)
> 
> dev <- file("/dev/psaux", "w+b")
> writeChar(ascii[246], dev, eos=NULL)
> readBin(dev, what=integer(), n=1, size=1, signed=FALSE)
[1] 250
> close(dev)

This is not a feature, is it? :-)  The behavior is the same in versions 1.4.1,
1.5.0 and 1.5.1 on my computer.  I don't have to send bytes very often, so I'll
stick with the open-each-time strategy, but it is not very clean.

I also tried to write bytes using the writeBin command, but it says the "size=1"
is not available on my computer.  This is why I'm using the writeChar function.

Please let me know if I'm doing something wrong.  I hope not.

And thanks for the great software! :-)

Johnny

PS: if you try to run the code and don't get 250 as acknowledgement byte, it
means the PS/2 controller is not in idle state.  Very unlikely though.  Try
again as the set-default command should bring it back to its idle state.

==> 1688.audit <==
Wed Jun 19 11:08:36 2002	ripley	changed notes
Wed Jun 19 11:08:36 2002	ripley	foobar
Wed Jun 19 11:08:36 2002	ripley	moved from incoming to In-Out

==> 1688.followup.1 <==
From ripley@stats.ox.ac.uk  Wed Jun 19 11:15:35 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA29635
	for <R-bugs@biostat.ku.dk>; Wed, 19 Jun 2002 11:15:34 +0200 (MET DST)
Received: from auk.stats (pc1-oxfd1-4-cust16.oxf.cable.ntl.com [62.254.131.16])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id KAA04893;
	Wed, 19 Jun 2002 10:14:51 +0100 (BST)
Date: Wed, 19 Jun 2002 10:13:45 +0100 (BST)
From: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
Sender: ripley@auk.stats
To: accot@free.fr
cc: R-bugs@biostat.ku.dk
Subject: Re: Maybe a problem in binary read/write (PR#1688)
In-Reply-To: <200206182051.WAA26484@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.44.0206191008210.21134-100000@auk.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

Not a bug: check the documentation of file(), which is documented to work
for files but not for devices.  No attempt is made to cope with e.g.
blocking on non-files.

It's a pretty extreme view of the world to consider /dev/psaux to be a
file, and R is just using standard C <stdio.h> I/O.

However, this is a great opportunity for you to contribute a device()
function to R.

On Tue, 18 Jun 2002 accot@free.fr wrote:

> Full_Name: Johnny Accot
> Version: 1.5.1
> OS: Linux
> Submission from: (NULL) (198.4.83.52)
>
>
> Hi.
>
> I'm having a problem with the binary read/write functions.  I'm writing a device
> driver in R (why not?) and of course I have to send a couple commands to the
> device.  Typically, I send one byte, receive one acknowledgement byte, send
> another byte, receive an ACK, and so on.  At least this is what I would like to
> do.  Instead, after writing one byte, reading its acknowledgement byte, and
> writing a second byte, R hangs on the next read for an unknown reason.  I guess
> this is a bug in the read/write functions.  If you have a PS/2 device you may
> try to run the following code:
>
> ascii <- sapply(1:255, function(i)
> parse(text=paste("\"\\",structure(i,class="octmode"),"\"",sep=""))[[1]])
> dev <- file("/dev/psaux")
> open(dev, "w+b")
> writeChar(ascii[246], dev, eos=NULL)
> readBin(dev, what=integer(), n=1, size=1, signed=FALSE)
> writeChar(ascii[246], dev, eos=NULL)
> readBin(dev, what=integer(), n=1, size=1, signed=FALSE)
> close(dev)
>
> which gives:
>
> > ascii <- sapply(1:255, function(i)
> parse(text=paste("\"\\",structure(i,class="octmode"),"\"",sep=""))[[1]])
> > dev <- file("/dev/psaux")
> > open(dev, "w+b")
> > writeChar(ascii[246], dev, eos=NULL)
> > readBin(dev, what=integer(), n=1, size=1, signed=FALSE)
> [1] 250
> > writeChar(ascii[246], dev, eos=NULL)
> > readBin(dev, what=integer(), n=1, size=1, signed=FALSE)
> [...R hangs here...]
>
> It first creates an ascii table, opens the PS/2 device for binary read&write,
> writes the byte 0xF6 (246 in decimal, which means: set default; it is harmless),
> reads the acknowledgement byte 0xFA (250 in decimal), writes another 0xF6, and
> then hangs when reading the second acknowledgement byte.  If, instead, you close
> the device between the two writes, it's fine:
>
> > ascii <- sapply(1:255, function(i)
> parse(text=paste("\"\\",structure(i,class="octmode"),"\"",sep=""))[[1]])
> >
> > dev <- file("/dev/psaux", "w+b")
> > writeChar(ascii[246], dev, eos=NULL)
> > readBin(dev, what=integer(), n=1, size=1, signed=FALSE)
> [1] 250
> > close(dev)
> >
> > dev <- file("/dev/psaux", "w+b")
> > writeChar(ascii[246], dev, eos=NULL)
> > readBin(dev, what=integer(), n=1, size=1, signed=FALSE)
> [1] 250
> > close(dev)
>
> This is not a feature, is it? :-)  The behavior is the same in versions 1.4.1,
> 1.5.0 and 1.5.1 on my computer.  I don't have to send bytes very often, so I'll
> stick with the open-each-time strategy, but it is not very clean.
>
> I also tried to write bytes using the writeBin command, but it says the "size=1"
> is not available on my computer.  This is why I'm using the writeChar function.
>
> Please let me know if I'm doing something wrong.  I hope not.
>
> And thanks for the great software! :-)
>
> Johnny
>
> PS: if you try to run the code and don't get 250 as acknowledgement byte, it
> means the PS/2 controller is not in idle state.  Very unlikely though.  Try
> again as the set-default command should bring it back to its idle state.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1688.followup.2 <==
From accot@free.fr  Thu Jun 20 20:07:49 2002
Received: from mailhub2.almaden.ibm.com (p1.almaden.ibm.com [198.4.83.52])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA15261
	for <R-bugs@biostat.ku.dk>; Thu, 20 Jun 2002 20:07:47 +0200 (MET DST)
Received: from free.fr (dhcp10136.almaden.ibm.com [9.1.10.136])
	by mailhub2.almaden.ibm.com (AIX4.3/8.9.3/8.9.3) with ESMTP id LAA22084;
	Thu, 20 Jun 2002 11:06:01 -0700
Message-ID: <3D121989.509@free.fr>
Date: Thu, 20 Jun 2002 11:06:01 -0700
From: Johnny Accot <accot@free.fr>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.1a) Gecko/20020610
X-Accept-Language: en-us, fr, en
MIME-Version: 1.0
To: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
CC: R-bugs@biostat.ku.dk
Subject: Re: Maybe a problem in binary read/write (PR#1688)
References: <Pine.GSO.4.44.0206191008210.21134-100000@auk.stats>
Content-Type: multipart/mixed;
 boundary="------------010901020707080002040305"

This is a multi-part message in MIME format.
--------------010901020707080002040305
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Hello,

Prof Brian D Ripley wrote:
> Not a bug: check the documentation of file(), which is documented to work
> for files but not for devices.  No attempt is made to cope with e.g.
> blocking on non-files.
> 
> It's a pretty extreme view of the world to consider /dev/psaux to be a
> file, and R is just using standard C <stdio.h> I/O.
> 
> However, this is a great opportunity for you to contribute a device()
> function to R.

I finally checked the code and "wrote" the functions to "handle devices".
Well, in fact I more or less duplicated the code for FIFOs, removed the
option for encoding, added an option for synchronous I/O, and added a
test to check that the file is indeed a character or block special file.
This works great for me but I'm afraid it is a bit simple and does not
cover much of device handling in general.  Especially I don't know if
anybody would want to use it for block devices, and what they would need.
The psaux device is one of the simplest device one could think of, that's
why it works so well.  For other devices one would need at least an
ioctl function, which I didn't write.  But still I have no idea whether
anybody would use it and what for.  Anyway.  Please let me know if you
think this is useful.  If yes, I will try to familiarize myself with
the structure of the R code and make the device handling more general.

Thanks,
Johnny

--------------010901020707080002040305
Content-Type: text/plain;
 name="R-1.5.1-device.patch"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="R-1.5.1-device.patch"

diff -ur R-1.5.1.orig/configure R-1.5.1/configure
--- R-1.5.1.orig/configure	2002-06-17 04:20:30.000000000 -0700
+++ R-1.5.1/configure	2002-06-19 19:33:22.000000000 -0700
@@ -17238,8 +17238,9 @@
 
 
 
+
 for ac_func in access chdir expm1 fcntl finite ftruncate getcwd \
-  getgrgid getpwuid getuid hypot isascii isnan log1p matherr mkfifo \
+  getgrgid getpwuid getuid hypot isascii isnan log1p matherr mkfifo mknod \
   popen putenv rint setenv strcoll stat strptime system times unsetenv
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
diff -ur R-1.5.1.orig/configure.ac R-1.5.1/configure.ac
--- R-1.5.1.orig/configure.ac	2002-04-30 11:04:05.000000000 -0700
+++ R-1.5.1/configure.ac	2002-06-19 19:25:04.000000000 -0700
@@ -982,7 +982,7 @@
 
 AC_FUNC_ALLOCA
 AC_CHECK_FUNCS(access chdir expm1 fcntl finite ftruncate getcwd \
-  getgrgid getpwuid getuid hypot isascii isnan log1p matherr mkfifo \
+  getgrgid getpwuid getuid hypot isascii isnan log1p matherr mkfifo mknod \
   popen putenv rint setenv strcoll stat strptime system times unsetenv)
 ## <NOTE>
 ## No need checking for bcopy bzero memcpy mempcpy even though ifnames
diff -ur R-1.5.1.orig/src/include/config.h.in R-1.5.1/src/include/config.h.in
--- R-1.5.1.orig/src/include/config.h.in	2002-04-24 02:54:05.000000000 -0700
+++ R-1.5.1/src/include/config.h.in	2002-06-19 19:35:10.000000000 -0700
@@ -216,6 +216,9 @@
 /* Define to 1 if you have the `mkfifo' function. */
 #undef HAVE_MKFIFO
 
+/* Define to 1 if you have the `mknod' function. */
+#undef HAVE_MKNOD
+
 /* Define to 1 if you have the <ndir.h> header file, and it defines `DIR'. */
 #undef HAVE_NDIR_H
 
diff -ur R-1.5.1.orig/src/include/Internal.h R-1.5.1/src/include/Internal.h
--- R-1.5.1.orig/src/include/Internal.h	2002-04-03 22:51:04.000000000 -0800
+++ R-1.5.1/src/include/Internal.h	2002-06-19 19:25:06.000000000 -0700
@@ -439,6 +439,7 @@
 SEXP do_isseekable(SEXP, SEXP, SEXP, SEXP);
 SEXP do_close(SEXP, SEXP, SEXP, SEXP);
 SEXP do_fifo(SEXP, SEXP, SEXP, SEXP);
+SEXP do_device(SEXP, SEXP, SEXP, SEXP);
 SEXP do_pipe(SEXP, SEXP, SEXP, SEXP);
 SEXP do_url(SEXP, SEXP, SEXP, SEXP);
 SEXP do_gzfile(SEXP, SEXP, SEXP, SEXP);
diff -ur R-1.5.1.orig/src/include/Rconnections.h R-1.5.1/src/include/Rconnections.h
--- R-1.5.1.orig/src/include/Rconnections.h	2002-03-10 05:20:42.000000000 -0800
+++ R-1.5.1/src/include/Rconnections.h	2002-06-19 20:09:26.000000000 -0700
@@ -28,7 +28,7 @@
     char* class;
     char* description;
     char mode[5];
-    Rboolean text, isopen, incomplete, canread, canwrite, canseek, blocking;
+    Rboolean text, isopen, incomplete, canread, canwrite, canseek, blocking, sync;
     Rboolean (*open)(struct Rconn *);
     void (*close)(struct Rconn *); /* routine closing after auto open */
     void (*destroy)(struct Rconn *); /* when closing connection */
@@ -58,6 +58,10 @@
     int fd;
 } *Rfifoconn;
 
+typedef struct deviceconn {
+    int fd;
+} *Rdeviceconn;
+
 typedef struct gzfileconn {
     void *fp;
     int cp;
diff -ur R-1.5.1.orig/src/library/base/man/connections.Rd R-1.5.1/src/library/base/man/connections.Rd
--- R-1.5.1.orig/src/library/base/man/connections.Rd	2002-03-10 05:20:42.000000000 -0800
+++ R-1.5.1/src/library/base/man/connections.Rd	2002-06-20 10:48:13.000000000 -0700
@@ -4,6 +4,7 @@
 \alias{file}
 \alias{pipe}
 \alias{fifo}
+\alias{device}
 \alias{gzfile}
 \alias{unz}
 \alias{bzfile}
@@ -31,6 +32,7 @@
 pipe(description, open = "", encoding = getOption("encoding"))
 fifo(description = "", open = "", blocking = FALSE,
      encoding = getOption("encoding"))
+device(description = "", open = "", blocking = TRUE, sync = TRUE)
 gzfile(description, open = "", encoding = getOption("encoding"),
        compression = 6)
 unz(description, filename, open = "", encoding = getOption("encoding"))
@@ -62,6 +64,7 @@
   \item{open}{character.  A description of how to open the connection
     (if at all). See Details for possible values.}
   \item{blocking}{logical.  See `Blocking' section below.}
+  \item{sync}{logical.  Should the device be opened for synchronous I/O?}
   \item{encoding}{An integer vector of length 256.}
   \item{compression}{integer in 0--9.  The amount of compression to be
     applied when writing, from none to maximal.  The default is a good
@@ -74,7 +77,7 @@
   \item{\dots}{arguments passed to or from other methods.}
 }
 \details{
-  The first eight functions create connections.  By default the
+  The first nine functions create connections.  By default the
   connection is not opened (except for \code{socketConnection}), but may
   be opened by setting a non-empty value of argument \code{open}.
 
@@ -135,8 +138,8 @@
   characters are mapped to a space in these encodings.
 }
 \value{
-  \code{file}, \code{pipe}, \code{fifo}, \code{url}, \code{gzfile} and
-  \code{socketConnection} return a connection object
+  \code{file}, \code{pipe}, \code{fifo}, \code{device}, \code{url},
+  \code{gzfile} and \code{socketConnection} return a connection object
   which inherits from class \code{"connection"} and has a first more
   specific class.
 
diff -ur R-1.5.1.orig/src/main/connections.c R-1.5.1/src/main/connections.c
--- R-1.5.1.orig/src/main/connections.c	2002-04-30 04:04:02.000000000 -0700
+++ R-1.5.1/src/main/connections.c	2002-06-19 20:12:34.000000000 -0700
@@ -640,6 +640,181 @@
 #endif
 }
 
+/* ------------------- device connections --------------------- */
+
+#if defined(HAVE_MKNOD) && defined(HAVE_FCNTL_H)
+
+#ifdef HAVE_STAT
+# ifndef Macintosh
+#  ifdef HAVE_SYS_TYPES_H
+#   include <sys/types.h>
+#  endif
+#  ifdef HAVE_SYS_STAT_H
+#   include <sys/stat.h>
+#  endif
+# else /* Macintosh */
+#  include <types.h>
+#  ifndef __MRC__
+#   include <stat.h>
+#  else
+#   include <mpw_stat.h>
+#  endif
+# endif /* Macintosh */
+#endif /* HAVE_STAT */
+
+#ifdef HAVE_ERRNO_H
+# include <errno.h>
+#endif
+
+static Rboolean device_open(Rconnection con)
+{
+    char *name;
+    Rdeviceconn this = con->private;
+    int fd, flags, res;
+    int mlen = strlen(con->mode);
+    struct stat sb;
+
+    name = R_ExpandFileName(con->description);
+    con->canwrite = (con->mode[0] == 'w' || con->mode[0] == 'a');
+    con->canread = !con->canwrite;
+    if(mlen >= 2 && con->mode[1] == '+') con->canread = TRUE;
+
+    /* check if the device exists and if it is a character or block device */
+    if(con->canwrite) {
+	res = stat(name, &sb);
+	if(res) { /* error, does not exist? */
+	    if(errno == ENOENT) warning("device `%s' does not exist", name);
+	    else warning("cannot find device `%s'", name);
+	    return FALSE;
+	} else {
+	    if(!(sb.st_mode & S_IFCHR) && !(sb.st_mode & S_IFBLK)) {
+		warning("`%s' exists but is neither a character special file nor a block special file", name);
+		return FALSE;
+	    }
+	}
+    }
+
+    if(con->canread && con->canwrite) flags = O_RDWR;
+    else if(con->canread) flags = O_RDONLY;
+    else flags = O_WRONLY;
+    if(!con->blocking) flags |= O_NONBLOCK;
+    if(con->sync) flags |= O_SYNC;
+    if(con->mode[0] == 'a') flags |= O_APPEND;
+    fd = open(name, flags);
+    if(fd < 0) {
+	if(errno == ENXIO) warning("device `%s' is not ready", name);
+	else warning("cannot open device `%s'", name);
+	return FALSE;
+    }
+    
+    this->fd = fd;
+    con->isopen = TRUE;
+
+    if(mlen >= 2 && con->mode[mlen-1] == 'b') con->text = FALSE;
+    else con->text = TRUE;
+    con->save = -1000;
+    return TRUE;
+}
+
+static int device_fgetc(Rconnection con)
+{
+    Rdeviceconn this = (Rdeviceconn)con->private;
+    unsigned char c;
+    int n;
+  
+    n = read(this->fd, (char *)&c, 1);
+    return (n == 1) ? c : R_EOF;
+}
+
+static Rconnection newdevice(char *description, char *mode)
+{
+    Rconnection new;
+    new = (Rconnection) malloc(sizeof(struct Rconn));
+    if(!new) error("allocation of device connection failed");
+    new->class = (char *) malloc(strlen("device") + 1);
+    if(!new->class) {
+	free(new);
+	error("allocation of device connection failed");
+    }
+    strcpy(new->class, "device");
+    new->description = (char *) malloc(strlen(description) + 1);
+    if(!new->description) {
+	free(new->class); free(new);
+	error("allocation of device connection failed");
+    }
+    init_con(new, description, mode);
+    new->open = &device_open;
+    new->close = &fifo_close;
+    new->vfprintf = &dummy_vfprintf;
+    new->fgetc = &device_fgetc;
+    new->seek = &null_seek;
+    new->truncate = &null_truncate;
+    new->fflush = &null_fflush;
+    new->read = &fifo_read;
+    new->write = &fifo_write;
+    new->private = (void *) malloc(sizeof(struct deviceconn));
+    if(!new->private) {
+	free(new->description); free(new->class); free(new);
+	error("allocation of device connection failed");
+    }
+    return new;
+}
+#endif
+
+SEXP do_device(SEXP call, SEXP op, SEXP args, SEXP env)
+{
+#if defined(HAVE_MKNOD) && defined(HAVE_FCNTL_H)
+    SEXP sfile, sopen, ans, class;
+    char *file, *open;
+    int i, ncon, block, sync;
+    Rconnection con = NULL;
+
+    checkArity(op, args);
+    sfile = CAR(args);
+    if(!isString(sfile) || length(sfile) < 1)
+	errorcall(call, "invalid `description' argument");
+    if(length(sfile) > 1)
+	warning("only first element of `description' argument used");
+    file = CHAR(STRING_ELT(sfile, 0));
+    sopen = CADR(args);
+    if(!isString(sopen) || length(sopen) != 1)
+	error("invalid `open' argument");
+    block = asLogical(CADDR(args));
+    if(block == NA_LOGICAL)
+	error("invalid `block' argument");
+    sync = asLogical(CADDDR(args));
+    if(sync == NA_LOGICAL)
+	error("invalid `sync' argument");
+    open = CHAR(STRING_ELT(sopen, 0));
+    ncon = NextConnection();
+    con = Connections[ncon] = newdevice(file, strlen(open) ? open : "r");
+    con->blocking = block;
+    con->sync = sync;
+
+    /* open it if desired */
+    if(strlen(open)) {
+	Rboolean success = con->open(con);
+	if(!success) {
+	    con_close(ncon);
+	    error("unable to open connection");
+	}
+    }
+
+    PROTECT(ans = allocVector(INTSXP, 1));
+    INTEGER(ans)[0] = ncon;
+    PROTECT(class = allocVector(STRSXP, 2));
+    SET_STRING_ELT(class, 0, mkChar("device"));
+    SET_STRING_ELT(class, 1, mkChar("connection"));
+    classgets(ans, class);
+    UNPROTECT(2);
+
+    return ans;
+#else
+    error("device connections are not available on this system");
+    return R_NilValue;		/* -Wall */
+#endif
+}
+
 /* ------------------- pipe connections --------------------- */
 
 #ifdef HAVE_POPEN
diff -ur R-1.5.1.orig/src/main/names.c R-1.5.1/src/main/names.c
--- R-1.5.1.orig/src/main/names.c	2002-04-04 14:11:31.000000000 -0800
+++ R-1.5.1/src/main/names.c	2002-06-20 10:38:39.000000000 -0700
@@ -692,9 +692,6 @@
 {"dev.control",	do_devcontrol,	0,	111,	0,	PP_FUNCALL},
 {"dev.copy",	do_devcopy,	0,	111,	1,	PP_FUNCALL},
 {"dev.cur",	do_devcur,	0,	111,	0,	PP_FUNCALL},
-/*
-{"device",	do_device,	0,	111,	3,	PP_FUNCALL},
-*/
 {"dev.next",	do_devnext,	0,	111,	1,	PP_FUNCALL},
 {"dev.off",	do_devoff,	0,	111,	1,	PP_FUNCALL},
 {"dev.prev",	do_devprev,	0,	111,	1,	PP_FUNCALL},
@@ -793,6 +790,7 @@
 {"url", 	do_url,		0,      11,     4,      PP_FUNCALL},
 {"pipe", 	do_pipe,	0,      11,     3,      PP_FUNCALL},
 {"fifo", 	do_fifo,	0,      11,     4,      PP_FUNCALL},
+{"device", 	do_device,	0,      11,     4,      PP_FUNCALL},
 {"gzfile", 	do_gzfile,	0,      11,     4,      PP_FUNCALL},
 {"unz", 	do_unz,		0,      11,     3,      PP_FUNCALL},
 {"bzfile", 	do_bzfile,	0,      11,     3,      PP_FUNCALL},

--------------010901020707080002040305--


==> 1688.followup.3 <==
From ripley@stats.ox.ac.uk  Thu Jun 20 20:44:01 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA15376
	for <R-bugs@biostat.ku.dk>; Thu, 20 Jun 2002 20:44:01 +0200 (MET DST)
From: ripley@stats.ox.ac.uk
Received: from gannet.stats (gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id TAA10803;
	Thu, 20 Jun 2002 19:43:18 +0100 (BST)
Date: Thu, 20 Jun 2002 19:43:18 +0100 (BST)
X-X-Sender:  <ripley@gannet.stats>
To: Johnny Accot <accot@free.fr>
cc: <R-bugs@biostat.ku.dk>
Subject: Re: Maybe a problem in binary read/write (PR#1688)
In-Reply-To: <3D121989.509@free.fr>
Message-ID: <Pine.LNX.4.31.0206201942270.9210-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Thu, 20 Jun 2002, Johnny Accot wrote:

> Hello,
>
> Prof Brian D Ripley wrote:
> > Not a bug: check the documentation of file(), which is documented to work
> > for files but not for devices.  No attempt is made to cope with e.g.
> > blocking on non-files.
> >
> > It's a pretty extreme view of the world to consider /dev/psaux to be a
> > file, and R is just using standard C <stdio.h> I/O.
> >
> > However, this is a great opportunity for you to contribute a device()
> > function to R.
>
> I finally checked the code and "wrote" the functions to "handle devices".
> Well, in fact I more or less duplicated the code for FIFOs, removed the
> option for encoding, added an option for synchronous I/O, and added a
> test to check that the file is indeed a character or block special file.
> This works great for me but I'm afraid it is a bit simple and does not
> cover much of device handling in general.  Especially I don't know if
> anybody would want to use it for block devices, and what they would need.
> The psaux device is one of the simplest device one could think of, that's
> why it works so well.  For other devices one would need at least an
> ioctl function, which I didn't write.  But still I have no idea whether
> anybody would use it and what for.  Anyway.  Please let me know if you
> think this is useful.  If yes, I will try to familiarize myself with
> the structure of the R code and make the device handling more general.

Yes, I do think it would be useful, but I know little about it,
Thank you for the offer.

>
> Thanks,
> Johnny
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Installation

* PR# 1222 *
Subject: configure: sed: Function s%@PDFLATEX@%/usr/local/bin/pdflatex%g
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Thu, 20 Dec 2001 14:09:42 +0100 (CET)
--problem is on hppa2.0-hp-hpux10.20: may be HP-UX specific
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1222 <==
From postmaster@franz.stat.wisc.edu  Thu Dec 20 14:10:13 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA13749
	for <r-bugs@biostat.ku.dk>; Thu, 20 Dec 2001 14:10:12 +0100 (MET)
Received: from kleigh.nl (really [213.84.55.218]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m16H2xF-000IXfC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Thu, 20 Dec 2001 07:09:45 -0600 (CST) 
Received: from kleigh.nl (kleigh [127.0.0.1])
	by kleigh.nl (8.12.0/8.12.0) with ESMTP id fBKD9goQ007981
	for <r-bugs@r-project.org>; Thu, 20 Dec 2001 14:09:43 +0100
Received: from localhost (peter@localhost)
	by kleigh.nl (8.12.0/8.12.0/Submit) with ESMTP id fBKD9gPQ007978
	for <r-bugs@r-project.org>; Thu, 20 Dec 2001 14:09:42 +0100
X-Authentication-Warning: kleigh.nl: peter owned process doing -bs
Date: Thu, 20 Dec 2001 14:09:42 +0100 (CET)
From: Peter Kleiweg <kleiweg@let.rug.nl>
X-X-Sender:  <kleiweg@kleigh.nl>
To: <r-bugs@r-project.org>
Subject: configure: sed: Function s%@PDFLATEX@%/usr/local/bin/pdflatex%g
 cannot be parsed.
Message-ID: <Pine.LNX.4.33.0112201304160.476-100000@kleigh.nl>
Organization: Alfa-Informatica, Rijksuniversiteit Groningen
X-Accept-Language: nl,en,ia,af,de,da,no,sv,fr,it
X-Alert: http://www.opensource.org/halloween/
X-Face: "K~X:~!ydgSdjNy;]_+BCb\OM^pqyg_q*Le84$l46M\-mL=.^,L4B}bDK>`o#r4_>O*
X-Mailer: Pine 4.33, Linux 2.0.36, i586
X-Reason: http://www.interlingua.com/
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII


Sometimes, configure isn't able to create the makefiles. It
produces errors like:

sed: Function s%@PDFLATEX@%/usr/local/bin/pdflatex%g cannot be parsed.

This happens when I use a combination of arguments to configure like:

    --prefix=$HOME/R-tst
    --with-tcl-config=/opt_local/opt/tcl/lib/tclConfig.sh
    --with-tk-config=/opt_local/opt/tk/lib/tkConfig.sh

If I leave out the last two arguments, the problem does not
occur.

If I change the first argument to --prefix=$HOME/Rtst, the
problem does not occur.

--please do not edit the information below--

Version:
 platform = hppa2.0-hp-hpux10.20
 arch = hppa2.0
 os = hpux10.20
 system = hppa2.0, hpux10.20
 status =
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


==> 1222.audit <==
Fri Dec 21 06:19:29 2001	ripley	changed notes
Fri Dec 21 06:19:29 2001	ripley	foobar
Fri Dec 21 06:19:29 2001	ripley	moved from incoming to Installation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1268 *
Subject: Solaris 2.6 Compile
From: gm81640@development.nssmb.com
Date: Thu, 17 Jan 2002 06:28:26 +0100 (MET)
--Most likely a compiler installation problem
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1268 <==
From gm81640@development.nssmb.com  Thu Jan 17 06:28:36 2002
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id GAA21618
	for <R-bugs@biostat.ku.dk>; Thu, 17 Jan 2002 06:28:26 +0100 (MET)
Date: Thu, 17 Jan 2002 06:28:26 +0100 (MET)
From: gm81640@development.nssmb.com
Message-Id: <200201170528.GAA21618@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: Solaris 2.6 Compile

Full_Name: Geordon Marchak
Version: R-1.3.1
OS: Solaris 2.6
Submission from: (NULL) (199.67.239.91)


Got the following error when compiling on Solaris 2.6 with the standard GNU
gcc package (from the Sun site).   BTW - linux compiles no problem (and fast
too :-)

# make
`Makedeps' is up to date.
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H   -g -O2 -c lbfgsb.c -o lbfgsb.o
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: unknown opcode
".subsection"
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: statement syntax
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: unknown opcode
".previous"
/usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: statement syntax
*** Error code 1
make: Fatal error: Command failed for target `lbfgsb.o'
Current working directory /home/gm81640/R-1.3.1/src/appl
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /home/gm81640/R-1.3.1/src/appl
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /home/gm81640/R-1.3.1/src
*** Error code 1
make: Fatal error: Command failed for target `R'


==> 1268.followup.1 <==
From ripley@stats.ox.ac.uk  Thu Jan 17 09:37:45 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id JAA23207
	for <R-bugs@biostat.ku.dk>; Thu, 17 Jan 2002 09:37:45 +0100 (MET)
Received: from gannet.stats (IDENT:root@gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id IAA21901;
	Thu, 17 Jan 2002 08:37:15 GMT
Received: from localhost (ripley@localhost)
	by gannet.stats (8.11.3/8.11.3) with ESMTP id g0H8bFj02561;
	Thu, 17 Jan 2002 08:37:15 GMT
X-Authentication-Warning: gannet.stats: ripley owned process doing -bs
Date: Thu, 17 Jan 2002 08:37:15 +0000 (GMT)
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
X-X-Sender:  <ripley@gannet.stats>
To: <gm81640@development.nssmb.com>
cc: <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] Solaris 2.6 Compile (PR#1268)
In-Reply-To: <200201170528.GAA21628@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0201170827260.2465-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Thu, 17 Jan 2002 gm81640@development.nssmb.com wrote:

> Full_Name: Geordon Marchak
> Version: R-1.3.1
> OS: Solaris 2.6
> Submission from: (NULL) (199.67.239.91)
>
>
> Got the following error when compiling on Solaris 2.6 with the standard GNU
> gcc package (from the Sun site).   BTW - linux compiles no problem (and fast
> too :-)

You sent this twice, for some reason.

It's hard to tell what `the standard GNU gcc package (from the Sun site)'
actually is.  However, R 1.3.1 did compile under Solaris 2.6 with gcc
2.95.3 compiled under Solaris 2.6.  The error appears to be a mismatch
between your compiler and your assembler.  I don't think that qualifies as
a bug in R, and definitely is one we can do nothing about.  lbfgsb.c does
seem to be valid C that is accepted by a wide range of compilers on
Solaris and elsewhere.


> # make
> `Makedeps' is up to date.
> gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H   -g -O2 -c lbfgsb.c -o lbfgsb.o
> /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: unknown opcode
> ".subsection"
> /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: statement syntax
> /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: unknown opcode
> ".previous"
> /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: statement syntax
> *** Error code 1
> make: Fatal error: Command failed for target `lbfgsb.o'
> Current working directory /home/gm81640/R-1.3.1/src/appl
> *** Error code 1
> make: Fatal error: Command failed for target `R'
> Current working directory /home/gm81640/R-1.3.1/src/appl
> *** Error code 1
> make: Fatal error: Command failed for target `R'
> Current working directory /home/gm81640/R-1.3.1/src
> *** Error code 1
> make: Fatal error: Command failed for target `R'
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1268.reply.1 <==
From p.dalgaard@biostat.ku.dk  Thu Jan 17 11:46:44 2002
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA25668;
	Thu, 17 Jan 2002 11:46:44 +0100 (MET)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.2/8.11.2) id g0HAjXh15735;
	Thu, 17 Jan 2002 11:45:33 +0100
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
Sender: pd@pubhealth.ku.dk
To: ripley@stats.ox.ac.uk
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] Solaris 2.6 Compile (PR#1268)
References: <200201170837.JAA23228@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 17 Jan 2002 11:45:33 +0100
In-Reply-To: <200201170837.JAA23228@pubhealth.ku.dk>
Message-ID: <x2g055cl2q.fsf@blueberry.kubism.ku.dk>
Lines: 24
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

ripley@stats.ox.ac.uk writes:

> > Got the following error when compiling on Solaris 2.6 with the standard GNU
> > gcc package (from the Sun site).   BTW - linux compiles no problem (and fast
> > too :-)
> 
> You sent this twice, for some reason.
> 
> It's hard to tell what `the standard GNU gcc package (from the Sun site)'
> actually is.  However, R 1.3.1 did compile under Solaris 2.6 with gcc
> 2.95.3 compiled under Solaris 2.6.  The error appears to be a mismatch
> between your compiler and your assembler.  I don't think that qualifies as
> a bug in R, and definitely is one we can do nothing about.  lbfgsb.c does
> seem to be valid C that is accepted by a wide range of compilers on
> Solaris and elsewhere.

Assuming that the "Sun site" means www.sunfreeware.com, I seem to
recall that you get in trouble if you use gcc3 without GNU binutils.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1268.followup.2 <==
From geordon.marchak@nssmb.com  Mon Jan 21 09:27:58 2002
Received: from issaspam-ny01.ssmb.com (mail1.ssmb.COM [199.67.139.25])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id JAA26346
	for <R-bugs@biostat.ku.dk>; Mon, 21 Jan 2002 09:27:56 +0100 (MET)
Received: from issny6.ny.ssmb.com (issny6.ny.ssmb.com [162.124.150.21])
	by issaspam-ny01.ssmb.com (8.12.0/8.12.0/SSMB_EXT/1.4) with ESMTP id g0L8QXbE027462;
	Mon, 21 Jan 2002 03:26:50 -0500 (EST)
Received: from mailhub.nssmb.com (mailhubb.nssmb.com [169.180.188.120])
	by issny6.ny.ssmb.com (8.11.0/8.11.0/SSMB_QQQ_IN/1.1) with ESMTP id g0L8PFT01212;
	Mon, 21 Jan 2002 03:25:15 -0500 (EST)
Received: from lx22z001.nssmb.com (lx22z001.nssmb.com [169.180.162.41])
	by mailhub.nssmb.com (8.9.3/8.9.3/SSMB-HUB) with ESMTP id RAA08319;
	Mon, 21 Jan 2002 17:25:14 +0900 (JST)
Received: by lx22z001.nssmb.com (Postfix, from userid 81640)
	id 3B1E9BFE83; Mon, 21 Jan 2002 17:25:14 +0900 (JST)
Received: from localhost (localhost [127.0.0.1])
	by lx22z001.nssmb.com (Postfix) with ESMTP
	id 0A901BFE82; Mon, 21 Jan 2002 17:25:14 +0900 (JST)
Date: Mon, 21 Jan 2002 17:25:13 +0900 (JST)
From: Joe Marchak <geordon.marchak@nssmb.com>
X-X-Sender:  <gm81640@lx22z001.nssmb.com>
To: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Cc: <geordon.marchak@nssmb.com>, <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] Solaris 2.6 Compile (PR#1268)
In-Reply-To: <Pine.LNX.4.31.0201170827260.2465-100000@gannet.stats>
Message-ID: <Pine.LNX.4.33.0201211721260.8617-100000@lx22z001.nssmb.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII


As you mentioned below, R 1.3.1 does compile on Solaris with gcc 2.95.  I've tried 
both Solaris 2.5.1 and Solaris 2.6 with this, and they are fine.  Moving to gcc 
3.03 however causes the problem.  

Thanks for you help earlier.

-Joe.



> Date: Thu, 17 Jan 2002 08:37:15 +0000 (GMT)
> From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
> To: geordon.marchak@nssmb.com
> Subject: Re: [Rd] Solaris 2.6 Compile (PR#1268)
> 
> On Thu, 17 Jan 2002 gm81640@development.nssmb.com wrote:
> 
> > Full_Name: Geordon Marchak
> > Version: R-1.3.1
> > OS: Solaris 2.6
> > Submission from: (NULL) (199.67.239.91)
> >
> >
> > Got the following error when compiling on Solaris 2.6 with the standard GNU
> > gcc package (from the Sun site).   BTW - linux compiles no problem (and fast
> > too :-)
> 
> You sent this twice, for some reason.
> 
> It's hard to tell what `the standard GNU gcc package (from the Sun site)'
> actually is.  However, R 1.3.1 did compile under Solaris 2.6 with gcc
> 2.95.3 compiled under Solaris 2.6.  The error appears to be a mismatch
> between your compiler and your assembler.  I don't think that qualifies as
> a bug in R, and definitely is one we can do nothing about.  lbfgsb.c does
> seem to be valid C that is accepted by a wide range of compilers on
> Solaris and elsewhere.
> 
> 
> > # make
> > `Makedeps' is up to date.
> > gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> > -DHAVE_CONFIG_H   -g -O2 -c lbfgsb.c -o lbfgsb.o
> > /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: unknown opcode
> > ".subsection"
> > /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12959: error: statement syntax
> > /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: unknown opcode
> > ".previous"
> > /usr/ccs/bin/as: "/var/tmp/cccbNfee.s", line 12971: error: statement syntax
> > *** Error code 1
> > make: Fatal error: Command failed for target `lbfgsb.o'
> > Current working directory /home/gm81640/R-1.3.1/src/appl
> > *** Error code 1
> > make: Fatal error: Command failed for target `R'
> > Current working directory /home/gm81640/R-1.3.1/src/appl
> > *** Error code 1
> > make: Fatal error: Command failed for target `R'
> > Current working directory /home/gm81640/R-1.3.1/src
> > *** Error code 1
> > make: Fatal error: Command failed for target `R'
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> 


==> 1268.audit <==
Fri Jan 18 09:06:39 2002	ripley	changed notes
Fri Jan 18 09:06:39 2002	ripley	foobar
Fri Jan 18 09:06:39 2002	ripley	moved from incoming to System-specific
Sun Apr 21 09:41:09 2002	ripley	moved from System-specific to Installation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1291 *
Subject: Installation problem : SunOS
From: brendan_mcmahon@prusec.com
Date: Thu, 31 Jan 2002 18:00:55 +0100 (MET)
--looks like gcc compiled under different OS version.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1291 <==
From brendan_mcmahon@prusec.com  Thu Jan 31 18:00:56 2002
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA07547
	for <R-bugs@biostat.ku.dk>; Thu, 31 Jan 2002 18:00:55 +0100 (MET)
Date: Thu, 31 Jan 2002 18:00:55 +0100 (MET)
From: brendan_mcmahon@prusec.com
Message-Id: <200201311700.SAA07547@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: Installation problem : SunOS

Full_Name: Brendan McMahon
Version: 1.3
OS: SunOS
Submission from: (NULL) (12.42.50.51)



Probably just a configuration problem but ... fails to compile.
configure completed without a problem.
Any help appreciated!!

SunOS flexdev1 5.7 Generic_106541-11 sun4u sparc SUNW,Ultra-5_10

`Makedeps' is up to date.
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H   -g -O2 -c arithmetic.c -o arithmetic.o
arithmetic.c:58: warning: `struct exception' declared inside parameter list
arithmetic.c:58: warning: its scope is only this definition or declaration,
arithmetic.c:58: warning: which is probably not what you want.
arithmetic.c: In function `matherr':
arithmetic.c:60: dereferencing pointer to incomplete type
arithmetic.c:61: `DOMAIN' undeclared (first use this function)
arithmetic.c:61: (Each undeclared identifier is reported only once
arithmetic.c:61: for each function it appears in.)
arithmetic.c:62: `SING' undeclared (first use this function)
arithmetic.c:65: `OVERFLOW' undeclared (first use this function)
arithmetic.c:68: `UNDERFLOW' undeclared (first use this function)
arithmetic.c:69: dereferencing pointer to incomplete type
arithmetic.c: In function `do_math1':
arithmetic.c:984: `acosh' undeclared (first use this function)
arithmetic.c:985: `asinh' undeclared (first use this function)
arithmetic.c:986: `atanh' undeclared (first use this function)
*** Error code 1
make: Fatal error: Command failed for target `arithmetic.o'
Current working directory /export/home/flexapp/R/R-1.3.0/src/main
*** Error code 1
make: Fatal error: Command failed for target `R'

==> 1291.followup.1 <==
From ripley@stats.ox.ac.uk  Thu Jan 31 18:46:28 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA07809
	for <R-bugs@biostat.ku.dk>; Thu, 31 Jan 2002 18:46:28 +0100 (MET)
Received: from gannet.stats (IDENT:root@gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id RAA10317;
	Thu, 31 Jan 2002 17:45:57 GMT
Received: from localhost (ripley@localhost)
	by gannet.stats (8.11.3/8.11.3) with ESMTP id g0VHjv312467;
	Thu, 31 Jan 2002 17:45:57 GMT
X-Authentication-Warning: gannet.stats: ripley owned process doing -bs
Date: Thu, 31 Jan 2002 17:45:57 +0000 (GMT)
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
X-X-Sender:  <ripley@gannet.stats>
To: <brendan_mcmahon@prusec.com>
cc: <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] Installation problem : SunOS (PR#1291)
In-Reply-To: <200201311700.SAA07558@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0201311742120.12426-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Thu, 31 Jan 2002 brendan_mcmahon@prusec.com wrote:

> Full_Name: Brendan McMahon
> Version: 1.3
> OS: SunOS
> Submission from: (NULL) (12.42.50.51)
>
>
>
> Probably just a configuration problem but ... fails to compile.
> configure completed without a problem.

We need to know your compiler system. This is I seem to remember a symptom
of using gcc made on SunOS 5.5 under 5.6/7, so if this is gcc, was it
built under 5.7?

BTW, R is now at 1.4.1, not 1.3.0.

> Any help appreciated!!
>
> SunOS flexdev1 5.7 Generic_106541-11 sun4u sparc SUNW,Ultra-5_10
>
> `Makedeps' is up to date.
> gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H   -g -O2 -c arithmetic.c -o arithmetic.o
> arithmetic.c:58: warning: `struct exception' declared inside parameter list
> arithmetic.c:58: warning: its scope is only this definition or declaration,
> arithmetic.c:58: warning: which is probably not what you want.
> arithmetic.c: In function `matherr':
> arithmetic.c:60: dereferencing pointer to incomplete type
> arithmetic.c:61: `DOMAIN' undeclared (first use this function)
> arithmetic.c:61: (Each undeclared identifier is reported only once
> arithmetic.c:61: for each function it appears in.)
> arithmetic.c:62: `SING' undeclared (first use this function)
> arithmetic.c:65: `OVERFLOW' undeclared (first use this function)
> arithmetic.c:68: `UNDERFLOW' undeclared (first use this function)
> arithmetic.c:69: dereferencing pointer to incomplete type
> arithmetic.c: In function `do_math1':
> arithmetic.c:984: `acosh' undeclared (first use this function)
> arithmetic.c:985: `asinh' undeclared (first use this function)
> arithmetic.c:986: `atanh' undeclared (first use this function)
> *** Error code 1
> make: Fatal error: Command failed for target `arithmetic.o'
> Current working directory /export/home/flexapp/R/R-1.3.0/src/main
> *** Error code 1
> make: Fatal error: Command failed for target `R'
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1291.audit <==
Fri Feb  1 21:53:20 2002	ripley	changed notes
Fri Feb  1 21:53:20 2002	ripley	foobar
Fri Feb  1 21:53:20 2002	ripley	moved from incoming to System-specific
Sun Apr 21 09:41:20 2002	ripley	moved from System-specific to Installation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1500 *
Subject: configure script fails on comment in tkConfig.sh
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Tue, 30 Apr 2002 16:41:51 +0200 (CEST)
--Looks like a conspiracy between a shell problem and an oddity in Tk 8.0 rather
--than an R problem. Good to know for the workaround though. The comment in
--TK_XINCLUDES has since disappeared, at least in Tk 8.3.3.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1500 <==
From postmaster@franz.stat.wisc.edu  Tue Apr 30 16:42:34 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA22070
	for <r-bugs@biostat.ku.dk>; Tue, 30 Apr 2002 16:42:33 +0200 (MET DST)
Received: from kleigh.nl (really [213.84.55.218]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m172YpF-000IYIC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Tue, 30 Apr 2002 09:41:53 -0500 (CDT) 
Received: from kleigh.nl (kleigh [127.0.0.1])
	by kleigh.nl (8.12.0/8.12.0) with ESMTP id g3UEfpS7030242
	for <r-bugs@r-project.org>; Tue, 30 Apr 2002 16:41:51 +0200
Received: from localhost (peter@localhost)
	by kleigh.nl (8.12.0/8.12.0/Submit) with ESMTP id g3UEfpgv030239
	for <r-bugs@r-project.org>; Tue, 30 Apr 2002 16:41:51 +0200
X-Authentication-Warning: kleigh.nl: peter owned process doing -bs
Date: Tue, 30 Apr 2002 16:41:51 +0200 (CEST)
From: Peter Kleiweg <kleiweg@let.rug.nl>
X-X-Sender:  <kleiweg@kleigh.nl>
To: <r-bugs@r-project.org>
Subject: configure script fails on comment in tkConfig.sh
Message-ID: <Pine.LNX.4.33.0204301632320.29798-100000@kleigh.nl>
Organization: Alfa-Informatica, Rijksuniversiteit Groningen
X-Accept-Language: nl,en,ia,af,de,da,no,sv,fr,it
X-Alert: http://www.opensource.org/halloween/
X-Face: "K~X:~!ydgSdjNy;]_+BCb\OM^pqyg_q*Le84$l46M\-mL=.^,L4B}bDK>`o#r4_>O*
X-Mailer: Pine 4.33, Linux 2.0.36, i586
X-Reason: http://www.interlingua.com/
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII


The configure script failed on tk on several platforms. One is
given below. This did not happen on versions of R older than 1.5.0.

Message from configure:

configure: WARNING: /opt_local/opt/tk-8.0/include/tk.h: accepted by the compiler, rejected by the preprocessor!
configure: WARNING: /opt_local/opt/tk-8.0/include/tk.h: proceeding with the preprocessor's result

This was in config.log, the command on a single line:

configure:21361: cc -E -I/opt_local/opt/readline/include
  -I/opt_local/opt/tk/include -I/opt_local/opt/tcl/include
  -I/opt_local/opt/jpeg6/inclu de -I/opt_local/opt/png/include
  -I/opt_local/opt/ncurses/include -I/opt_local/opt/zlib/include
  -I/opt_local/opt/R/include # no special path needed
  -I/opt_local/opt/tcl-8.0/include conftest.c
cc: warning 485: Can't open "#".
cc: warning 485: Can't open "no".
cc: warning 485: Can't open "special".
cc: warning 485: Can't open "path".
cc: warning 485: Can't open "needed".

I had to edit tkConfig.sh to solve this problem. This line:

TK_XINCLUDES='# no special path needed'

changed to this:

TK_XINCLUDES=


After this fix, R was configured for tcl/tk, and the package
tcltk seems to work OK (at least on this platform).



# Tk's version number.
TK_VERSION='8.3'
TK_MAJOR_VERSION='8'
TK_MINOR_VERSION='3'
TK_PATCH_LEVEL='.3'

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status =
 major = 1
 minor = 5.0
 year = 2002
 month = 04
 day = 29
 language = R

Search Path:
 .GlobalEnv, package:tcltk, package:ctest, Autoloads, package:base



==> 1500.audit <==
Tue May  7 09:05:09 2002	ripley	moved from incoming to Installation
Mon Sep 16 12:45:53 2002	pd	changed notes
Mon Sep 16 12:45:53 2002	pd	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1658 *
Subject: make install fails - index.html not found
From: dhouston@bio.ri.ccf.org
Date: Tue, 11 Jun 2002 22:14:07 +0200 (MET DST)
--Missing perl??
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1658 <==
From dhouston@bio.ri.ccf.org  Tue Jun 11 22:14:08 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA06194
	for <R-bugs@biostat.ku.dk>; Tue, 11 Jun 2002 22:14:07 +0200 (MET DST)
Date: Tue, 11 Jun 2002 22:14:07 +0200 (MET DST)
From: dhouston@bio.ri.ccf.org
Message-Id: <200206112014.WAA06194@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: make install fails - index.html not found

Full_Name: Dale Houston
Version: 1.5.0
OS: Solaris 8
Submission from: (NULL) (192.35.79.70)


I am trying to get RT-1.5.0 installed on Solaris 8.

The programs compile fine and 'make check' seems to work.

But when I do a 'make install' I see this:

/home/dhouston/R-1.5.0 grieg> make install
installing afm ...
installing doc ...
installing doc/html ...
install:  index.html does not exist
*** Error code 1
make: Fatal error: Command failed for target `install'
Current working directory /home/dhouston/R-1.5.0/doc/html
*** Error code 1
make: Fatal error: Command failed for target `install'
Current working directory /home/dhouston/R-1.5.0/doc
*** Error code 1
make: Fatal error: Command failed for target `install'

I do not see index.html in doc/html. I made a fake one for testing purposes, but
when I do a make install it now fails trying to find SearchEngine.html.

I did a 'make html' but to no avail.

dale


==> 1658.followup.1 <==
From ripley@stats.ox.ac.uk  Tue Jun 11 22:50:13 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA06330
	for <R-bugs@biostat.ku.dk>; Tue, 11 Jun 2002 22:50:13 +0200 (MET DST)
From: ripley@stats.ox.ac.uk
Received: from gannet.stats (gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id VAA09492;
	Tue, 11 Jun 2002 21:40:27 +0100 (BST)
Date: Tue, 11 Jun 2002 21:40:26 +0100 (BST)
X-X-Sender:  <ripley@gannet.stats>
To: <dhouston@bio.ri.ccf.org>
cc: <r-devel@stat.math.ethz.ch>, <R-bugs@biostat.ku.dk>
Subject: Re: make install fails - index.html not found (PR#1658)
In-Reply-To: <200206112014.WAA06199@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0206112136170.23760-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Tue, 11 Jun 2002 dhouston@bio.ri.ccf.org wrote:

> Full_Name: Dale Houston
> Version: 1.5.0
> OS: Solaris 8
> Submission from: (NULL) (192.35.79.70)
>
>
> I am trying to get RT-1.5.0 installed on Solaris 8.
>
> The programs compile fine and 'make check' seems to work.
>
> But when I do a 'make install' I see this:
>
> /home/dhouston/R-1.5.0 grieg> make install
> installing afm ...
> installing doc ...
> installing doc/html ...
> install:  index.html does not exist
> *** Error code 1
> make: Fatal error: Command failed for target `install'
> Current working directory /home/dhouston/R-1.5.0/doc/html
> *** Error code 1
> make: Fatal error: Command failed for target `install'
> Current working directory /home/dhouston/R-1.5.0/doc
> *** Error code 1
> make: Fatal error: Command failed for target `install'
>
> I do not see index.html in doc/html. I made a fake one for testing purposes, but
> when I do a make install it now fails trying to find SearchEngine.html.

Those should have been generated during the build, by the Makefile's in
doc/html and doc/html/search.

Do you perchance not have Perl installed?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1658.audit <==
Wed Jun 12 17:37:16 2002	ripley	moved from incoming to Installation
Mon Sep 16 13:27:14 2002	pd	changed notes
Mon Sep 16 13:27:14 2002	pd	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1676 *
Subject: R configure.in makes bad alpha assumptions
From: mcmahill@mtl.mit.edu
Date: Sat, 15 Jun 2002 19:21:09 -0400 (EDT)
--Probably fixed in 1.5.1
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1676 <==
From postmaster@franz.stat.wisc.edu  Sun Jun 16 01:21:52 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id BAA07423
	for <r-bugs@biostat.ku.dk>; Sun, 16 Jun 2002 01:21:51 +0200 (MET DST)
Received: from mtl.mit.edu (really [18.62.0.45]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m17JMr0-000IWsC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Sat, 15 Jun 2002 18:21:10 -0500 (CDT) 
Received: from bitter.mit.edu (BITTER.MIT.EDU [18.62.6.13])
	by mtl.mit.edu (8.9.3/8.9.3) with SMTP id TAA27047
	for <r-bugs@r-project.org>; Sat, 15 Jun 2002 19:21:09 -0400 (EDT)
Date: Sat, 15 Jun 2002 19:21:09 -0400 (EDT)
From: mcmahill@mtl.mit.edu
X-Sender: mcmahill@bitter.mit.edu
Reply-To: mcmahill@mtl.mit.edu
To: r-bugs@r-project.org
Subject: R configure.in makes bad alpha assumptions
Message-ID: <Pine.SOL.3.96.1020615185530.24629A-100000@bitter.mit.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII


Hi,

I was looking at configure.in for R-1.4.1 and in the
  case "${host_cpu}" in
part under alpha CPU's, the switch of -mieee for g77 and -fpe3 otherwise
is an OSF specific, not alpha specific issue.  In particular, if someone
used f2c-f77 (shell script which emulates a fortran compiler with f2c and
the c compiler), they'd get the broken -fpe3.  I'd probably either test
for OSF before adding -fpe3


-dan




==> 1676.followup.1 <==
From hornik@ci.tuwien.ac.at  Mon Jun 17 12:07:32 2002
Received: from isis.wu-wien.ac.at (isis.wu-wien.ac.at [137.208.3.42])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id MAA12993
	for <R-bugs@biostat.ku.dk>; Mon, 17 Jun 2002 12:07:31 +0200 (MET DST)
Received: from mithrandir.hornik.net (mail@wu057056.wu-wien.ac.at [137.208.57.56])
	by isis.wu-wien.ac.at (8.8.7/8.8.7) with ESMTP id MAA58780emf hornik@ci.tuwien.ac.at; Mon, 17 Jun 2002 12:06:48 +0200
Received: from hornik by mithrandir.hornik.net with local (Exim 3.35 #1 (Debian))
	id 17JtNQ-0002x1-00; Mon, 17 Jun 2002 12:04:48 +0200
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15629.46143.876111.705355@mithrandir.hornik.net>
Date: Mon, 17 Jun 2002 12:04:47 +0200
To: mcmahill@mtl.mit.edu
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: R configure.in makes bad alpha assumptions (PR#1676)
In-Reply-To: <200206152321.BAA07428@pubhealth.ku.dk>
References: <200206152321.BAA07428@pubhealth.ku.dk>
X-Mailer: VM 7.03 under Emacs 21.2.1
Reply-To: Kurt.Hornik@wu-wien.ac.at
From: Kurt Hornik <hornik@ci.tuwien.ac.at>

>>>>> mcmahill  writes:

> Hi,

> I was looking at configure.in for R-1.4.1 and in the
>   case "${host_cpu}" in
> part under alpha CPU's, the switch of -mieee for g77 and -fpe3 otherwise
> is an OSF specific, not alpha specific issue.  In particular, if someone
> used f2c-f77 (shell script which emulates a fortran compiler with f2c and
> the c compiler), they'd get the broken -fpe3.  I'd probably either test
> for OSF before adding -fpe3

This was changed for R 1.5.0, can you pls try with this?  (Or with 1.5.1
which will be released in a few moments ...)

-k

==> 1676.audit <==
Mon Jun 17 08:59:57 2002	ripley	moved from incoming to Installation
Mon Sep 16 13:28:22 2002	pd	changed notes
Mon Sep 16 13:28:22 2002	pd	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1825 *
Subject: bug in R-1.5.1 for Mac OS X installer
From: Kow Kuroda <kkuroda@crl.ucsd.edu>
Date: Mon, 22 Jul 2002 16:40:26 -0700
--Darwin port
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1825 <==
From kkuroda@crl.ucsd.edu  Tue Jul 23 01:41:08 2002
Received: from crl.ucsd.edu (IDENT:aiWcq1mpuPqEcBBe3VcCOXyB0AbCmN04@crl.ucsd.edu [132.239.63.11])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id BAA05210
	for <r-bugs@biostat.ku.dk>; Tue, 23 Jul 2002 01:41:07 +0200 (MET DST)
Received: from crl-25.ucsd.edu (crl-25.ucsd.edu [132.239.63.25])
	by crl.ucsd.edu (8.11.6/8.11.6) with ESMTP id g6MNePr09771
	for <r-bugs@biostat.ku.dk>; Mon, 22 Jul 2002 16:40:25 -0700
Date: Mon, 22 Jul 2002 16:40:26 -0700
Mime-Version: 1.0 (Apple Message framework v482)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: bug in R-1.5.1 for Mac OS X installer
From: Kow Kuroda <kkuroda@crl.ucsd.edu>
To: r-bugs@biostat.ku.dk
Content-Transfer-Encoding: 7bit
Message-Id: <6612E904-9DCC-11D6-8F01-00050287C0A6@crl.ucsd.edu>
X-Mailer: Apple Mail (2.482)

Hi,

Thanks for developing an outstanding software for free. I admire all your 
effort greatly. I would like to submit a bug report on the R-1.5.1 
installer (in .mpkg, .pkg format) for Mac OS X.

I'm using fink in conjunction with Darwin. In my environment, /usr/local is 
symbolically linked to /sw which is fink's main directory. This is to 
conform the directory structure on my machine to the standard UNIX/Linux 
one.

It turned out that R-1.5.1 installer ignores the symbolic link and creates 
new /usr/local/bin and /usr/local/lib directories on their own, thereby 
installing all its stuff into them. This is really annoying. (Actually, 
after installing R, bash stopped running. At first, I couldn't figure out 
at all what happened. It turned out that bash failed to runs because it 
lost access dynamic libraries in /usr/local/lib directory.)

I hope the installer properly follows symbolic links during installation.

Cheers,
Kow


==> 1825.audit <==
Wed Jul 24 08:41:23 2002	ripley	changed notes
Wed Jul 24 08:41:23 2002	ripley	foobar
Wed Jul 24 08:41:23 2002	ripley	moved from incoming to Installation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1829 *
Subject: R config failure on solaris
From: "Siva Ginjupalli" <gsivrao@hotmail.com>
Date: Wed, 24 Jul 2002 20:08:49 +0000
--Missing info on R version and compilers.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1829 <==
From postmaster@franz.stat.wisc.edu  Wed Jul 24 22:09:46 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA15079
	for <r-bugs@biostat.ku.dk>; Wed, 24 Jul 2002 22:09:45 +0200 (MET DST)
Received: from hotmail.com (really [216.33.237.9]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m17XSRV-000IWqC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Wed, 24 Jul 2002 15:09:05 -0500 (CDT) 
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 24 Jul 2002 13:08:49 -0700
Received: from 66.12.38.242 by lw7fd.law7.hotmail.msn.com with HTTP;
	Wed, 24 Jul 2002 20:08:49 GMT
X-Originating-IP: [66.12.38.242]
From: "Siva Ginjupalli" <gsivrao@hotmail.com>
To: r-bugs@r-project.org
Subject: R config failure on solaris
Date: Wed, 24 Jul 2002 20:08:49 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <F9NUyKhy7uQP5F1iVbC00014ae6@hotmail.com>
X-OriginalArrivalTime: 24 Jul 2002 20:08:49.0356 (UTC) FILETIME=[EC86F0C0:01C2334D]

Dear sir,

This is siva Ginjupalli.

I am getting following error while configuring my Solaris for "R" software.

checking size of int... configure: error: cannot compute sizeof (int), 77.

My solaris information as follows:

uname -m = sun4u
uname -r = 5.8
uname -s = SunOS
uname -v = Generic_108528-01

/usr/bin/uname -p = sparc
/bin/uname -X     = System = SunOS
Release = 5.8
KernelID = Generic_108528-01
Machine = sun4u
BusType = <unknown>
Serial = <unknown>
Users = <unknown>
OEM# = 0
Origin# = 1
NumCPU = 2

I really appreciate if you could guide me to resolve this problem.

Please let me know, if you need config.log file to debug

Thanks
Siva

_________________________________________________________________
MSN Photos is the easiest way to share and print your photos: 
http://photos.msn.com/support/worldwide.aspx


==> 1829.audit <==
Tue Jul 30 11:53:41 2002	ripley	foobar
Tue Jul 30 11:53:41 2002	ripley	moved from incoming to Installation
Mon Sep 16 13:28:55 2002	pd	changed notes
Mon Sep 16 13:28:55 2002	pd	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Language

* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 408 <==
From wsimpson@gcal.ac.uk  Fri Jan 28 11:17:36 2000
Received: from localhost (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA11325
	for <R-bugs@biostat.ku.dk>; Fri, 28 Jan 2000 11:17:36 +0100 (MET)
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
From: wsimpson@gcal.ac.uk
Message-Id: <200001281017.LAA11325@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: convolution bug

Full_Name: Bill Simpson
Version: 65.1 , 0.90.1
OS: Linux
Submission from: (NULL) (193.62.250.209)


I reported this on r-help, but here is official bug report.

The present convolve() does not do convolution by default. Its default behaviour
is
correlation. This is a bug.

The default argument conj should be set to FALSE.

The zero-padding should be on the right for linear convolution (don't ask me
why you call this type="open"; I suggest type="linear").

Here is what I expect linear convolution to do:
myconvolve<-function (x,h) 
{
    nx <- length(x)
    nh <- length(h)
    #zero pad
    if(nx>nh)
       {
       x <- c(x,rep(0, nh-1))
       h<-c(h,rep(0,nx-1))
       }
    else
       {
       h <- c(h,rep(0, nx-1))
       x<-c(x,rep(0,nh-1))
       }
    x <- fft(fft(x) * fft(h), inv = TRUE)
    Re(x)/length(x)
#I am not sure about this, the R IFFT is weird
}

What "circular" convolution should do is just
eliminate the zero-padding:

myconvolve2<-function (x,h)
{
#no padding, circular convolution
    nx <- length(x)
    nh <- length(h)
    x <- fft(fft(x) * fft(h), inv = TRUE)
    Re(x)/(nx)
}


I suggest that you create two functions, convolve() and correlate(), and get
rid
of the conj argument in convolve().

==> 408.audit <==
Wed Feb 16 19:28:42 2000	ripley	moved from incoming to Language
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 412 <==
From postmaster@franz.stat.wisc.edu  Sun Feb  6 01:16:33 2000
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id BAA26868
	for <R-bugs@biostat.ku.dk>; Sun, 6 Feb 2000 01:16:31 +0100 (MET)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id BAA18080
	for <r-bugs@hypatia.math.ethz.ch>; Sun, 6 Feb 2000 01:16:38 +0100 (MET)
Received: from franz.stat.wisc.edu(128.105.174.95)
 via SMTP by hypatia, id smtpdAAAa004QS; Sun Feb  6 01:16:33 2000
Received: from pubhealth.ku.dk (really [130.225.108.10]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m12HFNP-000ZSxC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Sat, 5 Feb 2000 18:16:31 -0600 (CST) 
Received: from biostat.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id BAA26864
	for <r-bugs@r-project.org>; Sun, 6 Feb 2000 01:16:18 +0100 (MET)
Received: (from pd@localhost)
	by biostat.ku.dk (8.9.3/8.9.3) id BAA12311;
	Sun, 6 Feb 2000 01:18:51 +0100
Sender: pd@blueberry.kubism.ku.dk
To: r-bugs@r-project.org
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
Message-ID: <x2900zyyhh.fsf@blueberry.kubism.ku.dk>
Lines: 51
X-Mailer: Gnus v5.7/Emacs 20.4
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit


Call objects don't always behave as you'd expect. They're mostly
list-like, but with exceptions:

> f<-function(x,y,...)match.call(expand.dots=FALSE)
> xx <- f(y=1,2,z=3,4)
> dd <- xx$...
> xx$... <- NULL
> c(xx,dd)
[[1]]
f(x = 2, y = 1)

$z
[1] 3

[[3]]
[1] 4

> as.call(c(as.list(xx),dd))
f(x = 2, y = 1, z = 3, 4)

(Splus has this rather differently, since dd becomes a call to list()
rather than a list of promises:

S> c(xx,dd)
f(x = 2, y = 1, list, z = 3, 4)
S> as.call(c(as.list(xx),dd))
f(x = 2, y = 1, list, z = 3, 4)

...but at least gives the same in both cases)

Also, the names of arguments added with [[<- is getting dropped if a
new element is required:

> xx[["abc"]]<-123
> xx
f(x = 2, y = 1, 123)

S has what I'd expect there:

S> xx[["abc"]]<-123
S> xx
f(x = 2, y = 1, abc = 123)

[R-0.99.0 prerelease on RedHat6.1, but this is likely not a new thing.]

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 412.audit <==
Wed Feb 16 19:26:57 2000	ripley	moved from incoming to Language
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 669 <==
From maechler@stat.math.ethz.ch  Mon Sep 25 10:17:01 2000
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA01907
	for <R-bugs@biostat.ku.dk>; Mon, 25 Sep 2000 10:17:01 +0200 (MET DST)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id KAA07627
	for <R-bugs@stat.math.ethz.ch>; Mon, 25 Sep 2000 10:17:19 +0200 (MET DST)
Received: from lynne(129.132.58.30), claiming to be "lynne.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa001r9; Mon Sep 25 10:17:15 2000
Received: (maechler@localhost) by lynne.ethz.ch (8.9.3/D-MATH-client) id KAA01475; Mon, 25 Sep 2000 10:17:15 +0200
X-Authentication-Warning: lynne.ethz.ch: maechler set sender to maechler@stat.math.ethz.ch using -f
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <14799.2571.494467.836722@gargle.gargle.HOWL>
Date: Mon, 25 Sep 2000 10:17:15 +0200
To: R-bugs@stat.math.ethz.ch
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
X-Mailer: VM 6.76 under Emacs 20.7.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>

This is not only bug report, but also a RFC (request for comments):

The basic problem is that there are (at least) two ways of easily getting
non-factor character columns in data.frames.
The first is  
    read.table(*, as.is = TRUE) 
and the second is
    data.frame(.., I(...), ..)	      

which differ in their result. Whereas the first produces `pure' character
columns in the data.frame, the second approach gives `AsIs' classed
columns (character, or, e.g. logical).

Now, as the following shows,  rbind.data.frame()  *is* buggy anyway,
I wonder if we shouldn't change read.table(*, as.is = TRUE)
such that the non-numeric columns of its result become "AsIs" classed as
well:

-----------

str(d1 <- data.frame(a=1:3, b = I(letters[1:3])))
## d1 is `alright'
## d0: The same but a `character' *not* protected by AsIs:
d0 <- d1
d0$b <- unclass(d0$b)
str(d0)
## Note that this is *really* the same as a what you get from
##  read.table(*, as.is = TRUE)
##  ----------
##  R's read.table() is S+ compatible; however I wonder if
##  we shouldn't add  "AsIs" classes to all non-numeric components...
##  the classes, shouldn't harm, but ensure consistency of treatment..

str(d11 <- rbind(d1, new = c(7, "N"))) ## alright
str(d01 <- rbind(d0, new = c(7, "N"))) ## all wrong :
## Both columns were coerced to factors !!
##-- S-PLUS 5 coerces both to "character" -- which is better,
##  since the new row *is* all character

## R makes nonsense with 'b' [factor w/ 1 level "N": NA NA NA 1]
## S+ 5.1 does exactly the right thing [both a & b still look like in d0,d1 :
str(d12 <- rbind(d1, new = data.frame(a= 7, b="N")))##
str(d02 <- rbind(d0, new = data.frame(a= 7, b="N")))##

---------

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

==> 669.audit <==
Wed Oct 25 20:31:21 2000	ripley	changed notes
Wed Oct 25 20:31:21 2000	ripley	foobar
Wed Oct 25 20:31:21 2000	ripley	moved from incoming to Language
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1073 *
Subject: Wierd problem comparing numeric values and list using ==
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Fri, 24 Aug 2001 22:07:41 -0400
--see also PR#1075
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1073 <==
From postmaster@franz.stat.wisc.edu  Sat Aug 25 04:08:02 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id EAA03646
	for <r-bugs@biostat.ku.dk>; Sat, 25 Aug 2001 04:08:01 +0200 (MET DST)
Received: from mailrelay1.pfizer.com (really [192.77.198.2]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m15aSrf-000JIlC@franz.stat.wisc.edu> (Debian Smail3.2.0.111)
	for <r-bugs@r-project.org>; Fri, 24 Aug 2001 21:07:59 -0500 (CDT) 
Received: from gsun56.pfizer.com (localhost [127.0.0.1])
	by mailrelay1.pfizer.com (8.9.3/Pro-8.9.3) with ESMTP id WAA09177
	for <r-bugs@r-project.org>; Fri, 24 Aug 2001 22:07:43 -0400 (EDT)
Received: from groexms01.pfizer.com (localhost [127.0.0.1])
	by gsun56.pfizer.com (Pro-8.9.3/Pro-8.9.3) with ESMTP id WAA24921
	for <r-bugs@r-project.org>; Fri, 24 Aug 2001 22:08:07 -0400 (EDT)
Received: from groexcncr05.pfizer.com (unverified) by groexms01.pfizer.com
 (Content Technologies SMTPRS 4.2.1) with ESMTP id <T559305f66fac1e08e203f@groexms01.pfizer.com> for <r-bugs@r-project.org>;
 Fri, 24 Aug 2001 22:07:41 -0400
Received: by groexcncr05.pfizer.com with Internet Mail Service (5.5.2650.21)
	id <R3ZPXZDF>; Fri, 24 Aug 2001 22:07:41 -0400
Message-ID: <5429125E11E4D411AF7300805FE603A8014CED55@groexmbcr02.pfizer.com>
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
To: "'r-bugs@r-project.org'" <r-bugs@r-project.org>
Subject: Wierd problem comparing numeric values and list using ==
Date: Fri, 24 Aug 2001 22:07:41 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain; charset="ISO-8859-1"


Under R 1.3.0 on Solaris and Windows NT  there seems to be a bug in == when
applied to elements of a list, particularly when one of the elements is of
mode integer:

	> list(1) == list(1)
	[1] FALSE
	> 1 == list(1)
	[1] TRUE
	> as.integer(1)==list(as.integer(1))
	[1] FALSE
	> as.integer(1)==list(as.double(1))
	[1] FALSE
	> list(as.integer(1))==list(as.integer(1))
	[1] FALSE
	> list(as.integer(1))==as.integer(1)
	[1] FALSE
	> list(as.double(1))==list(as.double(1))
	[1] FALSE

However, these cases work:

	> as.double(1)==list(as.integer(1))
	[1] TRUE
	> list(as.integer(1))==as.double(1)
	[1] TRUE

Replacing the bare integer/double with a vector constructed with c() doesn't
change the results, and comparing between vectors created with c() appears
correct.

-Greg

--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 3.0
 year = 2001
 month = 06
 day = 22
 language = R

Windows NT 4.0 (build 1381) Service Pack 5

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.

==> 1073.reply.1 <==
From p.dalgaard@biostat.ku.dk  Sat Aug 25 15:58:26 2001
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA04833;
	Sat, 25 Aug 2001 15:58:25 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.2/8.11.2) id f7PDv9r21975;
	Sat, 25 Aug 2001 15:57:09 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
Sender: pd@pubhealth.ku.dk
To: gregory_r_warnes@groton.pfizer.com
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == (PR#1073)
References: <200108250208.EAA03656@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 25 Aug 2001 15:57:09 +0200
In-Reply-To: <200108250208.EAA03656@pubhealth.ku.dk>
Message-ID: <x23d6gmedm.fsf@blueberry.kubism.ku.dk>
Lines: 57
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

gregory_r_warnes@groton.pfizer.com writes:

> Under R 1.3.0 on Solaris and Windows NT  there seems to be a bug in == when
> applied to elements of a list, particularly when one of the elements is of
> mode integer:
> 
> 	> list(1) == list(1)
> 	[1] FALSE
> 	> 1 == list(1)
> 	[1] TRUE
> 	> as.integer(1)==list(as.integer(1))
> 	[1] FALSE
> 	> as.integer(1)==list(as.double(1))
> 	[1] FALSE
> 	> list(as.integer(1))==list(as.integer(1))
> 	[1] FALSE
> 	> list(as.integer(1))==as.integer(1)
> 	[1] FALSE
> 	> list(as.double(1))==list(as.double(1))
> 	[1] FALSE
> 
> However, these cases work:
> 
> 	> as.double(1)==list(as.integer(1))
> 	[1] TRUE
> 	> list(as.integer(1))==as.double(1)
> 	[1] TRUE
> 
> Replacing the bare integer/double with a vector constructed with c() doesn't
> change the results, and comparing between vectors created with c() appears
> correct.

It is not entirely clear what we *should* be doing here. S (-PLUS 3.4)
is at least consistent:

> list(1) == list(1)
Error in list(1) == list(1): == operation on mode "list" undefined
Dumped
>  1 == list(1)
Error in 1 == list(1): == operation on mode "list" undefined
Dumped
> as.integer(1)==list(as.integer(1))
Error in as.integer(1) == list(as.integer(1)): == operation on mode "list"
        undefined
Dumped
...

so one might argue that you shouldn't do that in the first place...
(or that the bug is that we do not expressly forbid doing this.)

        -p

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1073.audit <==
Tue Aug 28 10:14:14 2001	ripley	moved from incoming to Language
Tue Aug 28 10:16:19 2001	ripley	changed notes
Tue Aug 28 10:16:19 2001	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1076 *
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
From: John Chambers <jmc@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
--part of PR#1073
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1076 <==
From jmc@research.bell-labs.com  Mon Aug 27 14:45:38 2001
Received: from crufty.research.bell-labs.com (crufty.research.bell-labs.com [204.178.16.49])
	by pubhealth.ku.dk (8.9.3/8.9.1) with SMTP id OAA16860;
	Mon, 27 Aug 2001 14:45:37 +0200 (MET DST)
Received: from scummy.research.bell-labs.com ([135.104.2.10]) by crufty; Mon Aug 27 08:40:52 EDT 2001
Received: from jessie.research.bell-labs.com (jessie.research.bell-labs.com [135.104.13.5])
	by scummy.research.bell-labs.com (8.11.4/8.11.4) with ESMTP id f7RCiOl07715;
	Mon, 27 Aug 2001 08:44:24 -0400 (EDT)
Received: from research.bell-labs.com (IDENT:jmc@newton.research.bell-labs.com [135.104.13.158])
	by jessie.research.bell-labs.com (8.9.1/8.9.1) with ESMTP id IAA18247;
	Mon, 27 Aug 2001 08:44:23 -0400 (EDT)
Sender: jmc@research.bell-labs.com
Message-ID: <3B8A40A6.15AF96C2@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
From: John Chambers <jmc@research.bell-labs.com>
Organization: Bell Labs, Lucent Technologies
X-Mailer: Mozilla 4.72 [en] (X11; U; Linux 2.2.14-5.0 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
CC: gregory_r_warnes@groton.pfizer.com, r-devel@stat.math.ethz.ch,
        R-bugs@biostat.ku.dk
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
 (PR#1073)
References: <200108250208.EAA03656@pubhealth.ku.dk> <x23d6gmedm.fsf@blueberry.kubism.ku.dk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Peter Dalgaard BSA wrote:
> 
> gregory_r_warnes@groton.pfizer.com writes:
> 
> > Under R 1.3.0 on Solaris and Windows NT  there seems to be a bug in == when
> > applied to elements of a list, particularly when one of the elements is of
> > mode integer:
> >
> >       > list(1) == list(1)
> >       [1] FALSE
> >       > 1 == list(1)
> >       [1] TRUE
> >       > as.integer(1)==list(as.integer(1))
> >       [1] FALSE
> >       > as.integer(1)==list(as.double(1))
> >       [1] FALSE
> >       > list(as.integer(1))==list(as.integer(1))
> >       [1] FALSE
> >       > list(as.integer(1))==as.integer(1)
> >       [1] FALSE
> >       > list(as.double(1))==list(as.double(1))
> >       [1] FALSE
> >
> > However, these cases work:
> >
> >       > as.double(1)==list(as.integer(1))
> >       [1] TRUE
> >       > list(as.integer(1))==as.double(1)
> >       [1] TRUE
> >
> > Replacing the bare integer/double with a vector constructed with c() doesn't
> > change the results, and comparing between vectors created with c() appears
> > correct.
> 
> It is not entirely clear what we *should* be doing here. S (-PLUS 3.4)
> is at least consistent:
> 
> > list(1) == list(1)
> Error in list(1) == list(1): == operation on mode "list" undefined
> Dumped
> >  1 == list(1)
> Error in 1 == list(1): == operation on mode "list" undefined
> Dumped
> > as.integer(1)==list(as.integer(1))
> Error in as.integer(1) == list(as.integer(1)): == operation on mode "list"
>         undefined
> Dumped
> ...
> 
> so one might argue that you shouldn't do that in the first place...
> (or that the bug is that we do not expressly forbid doing this.)
> 
>         -p
> 
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

As of 1.4, we will have the `identical' function, which is the right way
to do such comparisons in any case.

So I'd vote for making a use of the comparison operators an error unless
the type is correct (or there is a method defined).  There is even code
in relop.c (commented out) that looks like the right test.  Any
objections?

John

-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc

==> 1076.reply.1 <==
From p.dalgaard@biostat.ku.dk  Mon Aug 27 15:36:50 2001
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA17663;
	Mon, 27 Aug 2001 15:36:49 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.2/8.11.2) id f7RDZHZ03790;
	Mon, 27 Aug 2001 15:35:17 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
Sender: pd@pubhealth.ku.dk
To: jmc@research.bell-labs.com
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == (PR#1076)
References: <200108271245.OAA16874@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 27 Aug 2001 15:35:17 +0200
In-Reply-To: <200108271245.OAA16874@pubhealth.ku.dk>
Message-ID: <x27kvpwrqi.fsf@blueberry.kubism.ku.dk>
Lines: 56
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

jmc@research.bell-labs.com writes:

> > >       > list(1) == list(1)
> > >       [1] FALSE
> > >       > 1 == list(1)
> > >       [1] TRUE
> > >       > as.integer(1)==list(as.integer(1))
> > >       [1] FALSE
> > >       > as.integer(1)==list(as.double(1))
> > >       [1] FALSE
> > >       > list(as.integer(1))==list(as.integer(1))
> > >       [1] FALSE
> > >       > list(as.integer(1))==as.integer(1)
> > >       [1] FALSE
> > >       > list(as.double(1))==list(as.double(1))
> > >       [1] FALSE
> > >
> > > However, these cases work:
> > >
> > >       > as.double(1)==list(as.integer(1))
> > >       [1] TRUE
> > >       > list(as.integer(1))==as.double(1)
> > >       [1] TRUE
....
> As of 1.4, we will have the `identical' function, which is the right way
> to do such comparisons in any case.
> 
> So I'd vote for making a use of the comparison operators an error unless
> the type is correct (or there is a method defined).  There is even code
> in relop.c (commented out) that looks like the right test.  Any
> objections?

Not really, except that I get the usual nagging suspicion that someone
(who?) meant something by doing it this way...

The current logic seems to be that if either side of the == is a
vector of atomic type, try to coerce the list on the other side to a
similar object and then test. However this has a clear bug in that the
coercion is to double even when the atomic vector is integer. If there
are lists on both sides, a pointer comparison is done:

> x<-2
> list(x)==list(x)
[1] FALSE
> list(.Alias(x))==list(.Alias(x))
[1] TRUE

The latter seems highly dubious to me. I'd rather have a recursive
pairwise application of "==" there. However, none of this is what
identical does, is it?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1076.audit <==
Tue Aug 28 10:14:14 2001	ripley	moved from incoming to Language
Tue Aug 28 10:15:49 2001	ripley	changed notes
Tue Aug 28 10:15:49 2001	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1186 *
Subject: a patch to tapply
From: Vadim Ogranovich <vograno@arbitrade.com>
Date: Thu, 29 Nov 2001 14:48:35 -0600
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1186 <==
From postmaster@franz.stat.wisc.edu  Thu Nov 29 21:48:55 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id VAA14928
	for <r-bugs@biostat.ku.dk>; Thu, 29 Nov 2001 21:48:54 +0100 (MET)
Received: from syn.arbitrade.com (really [208.47.220.70]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m169Y6y-000IWoC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Thu, 29 Nov 2001 14:48:48 -0600 (CST) 
Received: from urg.arbitrade.com (urg.arbitrade.com [10.0.9.25])
	by syn.arbitrade.com (8.11.1/8.11.1) with ESMTP id fATKlSE29652
	for <r-bugs@r-project.org>; Thu, 29 Nov 2001 14:47:28 -0600 (CST)
Received: from mnmail.arbitrade.com (mnmail.arbitrade.com [38.156.36.157])
	by urg.arbitrade.com (8.11.1/8.11.1) with ESMTP id fATKmf519971
	for <r-bugs@r-project.org>; Thu, 29 Nov 2001 14:48:41 -0600 (CST)
Received: by mnmail.arbitrade.com with Internet Mail Service (5.5.2653.19)
	id <XXDQF55J>; Thu, 29 Nov 2001 14:48:41 -0600
Message-ID: <AFD78192EC49D311BFAE00902798AB8F23D65A@jupiter.sc.arbitrade.com>
From: Vadim Ogranovich <vograno@arbitrade.com>
To: "'r-bugs@r-project.org'" <r-bugs@r-project.org>
Subject: a patch to tapply
Date: Thu, 29 Nov 2001 14:48:35 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"

Though tapply(x, factor, fun, simplify =TRUE) should be equivalent to
sapply(split(x, factor), fun, simplify=TRUE), note simplify=TRUE, it is not
so if fun() returns a vector rather than a scalar, e.g.

> tapply(1:6, c(0,0,0,1,1,1), function(x) c(min=min(x), max=max(x)),
simplify=TRUE)
$"0"
min max 
  1   3 

$"1"
min max 
  4   6 

> sapply(split(1:6, c(0,0,0,1,1,1)), function(x) c(min=min(x), max=max(x)),
simplify=TRUE)
    0 1
min 1 4
max 3 6

The patch submitted below fixes this problem
> tapply.new(1:6, c(0,0,0,1,1,1), function(x) c(min=min(x), max=max(x)),
simplify=TRUE)
    0 1
min 1 4
max 3 6

Another potential problem, which I am not able to verify at the moment, is
that whenever simplification is possible S-Plus returns a TRANSPOSE of that
of R, i.e.
  min max
0   1   3
1   4   6

Fixing this would require small changes to both tapply and sapply and I'll
be happy to provide the patches if requested.


R Version
> sapply(R.Version(), I)
           platform                arch                  os
system 
"i686-pc-linux-gnu"              "i686"         "linux-gnu"   "i686,
linux-gnu" 
             status               major               minor
year 
                 ""                 "1"               "3.1"
"2001" 
              month                 day            language 
               "08"                "31"                 "R"

 **************
The patch:
"tapply.new" <-
  function (X, INDEX, FUN = NULL, ..., simplify = TRUE) 
{
  FUN <- if (!is.null(FUN)) 
    match.fun(FUN)
  if (!is.list(INDEX)) 
    INDEX <- list(INDEX)
  nI <- length(INDEX)
  namelist <- vector("list", nI)
  names(namelist) <- names(INDEX)
  extent <- integer(nI)
  nx <- length(X)
  one <- as.integer(1)
  group <- rep(one, nx)
  ngroup <- one
  for (i in seq(INDEX)) {
    index <- as.factor(INDEX[[i]])
    if (length(index) != nx) 
      stop("arguments must have same length")
    namelist[[i]] <- levels(index)
    extent[i] <- nlevels(index)
    group <- group + ngroup * (as.integer(index) - one)
    ngroup <- ngroup * nlevels(index)
  }
  if (is.null(FUN)) 
    return(group)
  ans <- lapply(split(X, group), FUN, ...)
  if (simplify && length(common.len <- unique(unlist(lapply(ans, length))))
== 1) {
    if (common.len > 1) {
      extent <- c(common.len, extent)
      namelist <- c(list(names(ans[[1]])), namelist)
    }
    ansmat <- array(unlist(ans, recursive = FALSE), dim = extent, dimnames =
namelist)
    return(ansmat)
  }
  index <- as.numeric(names(ans))
  ansmat <- array(vector("list", prod(extent)), dim = extent, 
                  dimnames = namelist)
  names(ans) <- NULL
  ansmat[index] <- ans
  ansmat
}

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE REGARDING PRIVACY AND CONFIDENTIALITY 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 


==> 1186.audit <==
Fri Dec 28 20:08:08 2001	thomas	moved from incoming to Language
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1214 *
Subject: syntax questtion, maybe a bug
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Thu, 13 Dec 2001 13:46:54 -0500 (EST)
--Is .2logl meant to be a valid name in R? It is S
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1214 <==
From rmh@surfer.sbm.temple.edu  Thu Dec 13 19:44:55 2001
Received: from surfer.sbm.temple.edu (surfer.sbm.temple.edu [155.247.185.2])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id TAA09950
	for <R-bugs@biostat.ku.dk>; Thu, 13 Dec 2001 19:44:55 +0100 (MET)
Received: (from rmh@localhost)
	by surfer.sbm.temple.edu (8.11.1/8.11.1) id fBDIksf2527242
	for R-bugs@biostat.ku.dk; Thu, 13 Dec 2001 13:46:54 -0500 (EST)
Date: Thu, 13 Dec 2001 13:46:54 -0500 (EST)
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Message-Id: <200112131846.fBDIksf2527242@surfer.sbm.temple.edu>
To: R-bugs@biostat.ku.dk
Subject: syntax questtion, maybe a bug


S-Plus takes names of the form ".2logl" since it sees a single set of
letters beginning with "." and continuing with alphanumerics.
> .2logl <- function(x) 2*log(x)
> .2logl(3)
[1] 2.197225
>

The same name is rejected by R, my guess is that the ".2" is recognized as
a number and then there is no operator symbol between the "2" and the
following alphabet symbols.
> .2logl <- function(x) 2*log(x)
Error: syntax error

Is this an intentional syntax difference between R and S?  Or is it a bug?


(continue)
I am using rw1031 Version 1.3.1  (2001-08-31) on windows.

Rich

==> 1214.audit <==
Sat Dec 15 10:55:43 2001	ripley	changed notes
Sat Dec 15 10:55:43 2001	ripley	foobar
Sat Dec 15 10:55:43 2001	ripley	moved from incoming to Language
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1241 *
Subject:  Problem with "missing" in "local" 
From: J.C.Rougier@durham.ac.uk
Date: Fri, 4 Jan 2002 13:34:34 GMT
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1241 <==
From postmaster@franz.stat.wisc.edu  Fri Jan  4 14:41:56 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA07662
	for <r-bugs@biostat.ku.dk>; Fri, 4 Jan 2002 14:41:55 +0100 (MET)
Received: from hermes.dur.ac.uk (really [129.234.4.9]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m16MUb9-000IZ3C@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Fri, 4 Jan 2002 07:41:27 -0600 (CST) 
Received: from euclid (euclid.dur.ac.uk [129.234.21.53])
	by hermes.dur.ac.uk (8.11.1/8.11.1) with ESMTP id g04DYZr02195
	for <r-bugs@r-project.org>; Fri, 4 Jan 2002 13:34:35 GMT
Received: from arrow.dur.ac.uk by euclid id <g04DYYG10013@euclid>; Fri, 4 Jan 2002 13:34:34 GMT
From: J.C.Rougier@durham.ac.uk
Date: Fri, 4 Jan 2002 13:34:34 GMT
Message-Id: <28125.200201041334@arrow.dur.ac.uk>
To: r-bugs@r-project.org
Subject:  Problem with "missing" in "local" 
Cc: dma0jcr@arrow.dur.ac.uk
X-ECS-MailScanner: Found to be clean

Hi everyone,

I encountered unexpected behaviour when calling "missing" within a
"local" environment, namely

fred <- function(x, y)
{
  x <- as.vector(x)
  local({
    dontwantme <- 1:100
    if (missing(y)) print("No \"y\" today")
  })
  x
}

whereupon I get

> fred(1:10)
Error in eval(expr, envir, enclos) : "missing" illegal use of missing

I think it is reasonable to expect missing to work in this context (I
suspect the problem relates to lazy evaluation): if not, it might be
helpful to amend the help file.

Cheers, Jonathan.

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

==> 1241.followup.1 <==
From ripley@stats.ox.ac.uk  Fri Jan  4 14:51:24 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA07830
	for <R-bugs@biostat.ku.dk>; Fri, 4 Jan 2002 14:51:23 +0100 (MET)
Received: from gannet.stats (IDENT:root@gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id NAA03055;
	Fri, 4 Jan 2002 13:50:56 GMT
Received: from localhost (ripley@localhost)
	by gannet.stats (8.11.3/8.11.3) with ESMTP id g04Doui08194;
	Fri, 4 Jan 2002 13:50:56 GMT
X-Authentication-Warning: gannet.stats: ripley owned process doing -bs
Date: Fri, 4 Jan 2002 13:50:56 +0000 (GMT)
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
X-X-Sender:  <ripley@gannet.stats>
To: <J.C.Rougier@durham.ac.uk>
cc: <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] Problem with "missing" in "local" (PR#1241)
In-Reply-To: <200201041341.OAA07672@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0201041347390.8133-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Fri, 4 Jan 2002 J.C.Rougier@durham.ac.uk wrote:

> Hi everyone,
>
> I encountered unexpected behaviour when calling "missing" within a
> "local" environment, namely
>
> fred <- function(x, y)
> {
>   x <- as.vector(x)
>   local({
>     dontwantme <- 1:100
>     if (missing(y)) print("No \"y\" today")
>   })
>   x
> }
>
> whereupon I get
>
> > fred(1:10)
> Error in eval(expr, envir, enclos) : "missing" illegal use of missing
>
> I think it is reasonable to expect missing to work in this context (I
> suspect the problem relates to lazy evaluation): if not, it might be
> helpful to amend the help file.

Why do you think it reasonable?  You've take a function from

     Evaluate an R expression in a specified environment.

and evaluated it somewhere where missing() is not defined.  If you had
used eval() explicitly, would you think it reasonable?  I doubt it.

Which help file did you have in mind?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1241.followup.2 <==
From J.C.Rougier@durham.ac.uk  Fri Jan  4 15:48:01 2002
Received: from hermes.dur.ac.uk (hermes.dur.ac.uk [129.234.4.9])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA09042
	for <R-bugs@biostat.ku.dk>; Fri, 4 Jan 2002 15:48:01 +0100 (MET)
Received: from euclid (euclid.dur.ac.uk [129.234.21.53])
	by hermes.dur.ac.uk (8.11.1/8.11.1) with ESMTP id g04EbSr02994;
	Fri, 4 Jan 2002 14:37:29 GMT
Received: from durham.ac.uk by euclid id <g04EbSG15752@euclid>; Fri, 4 Jan 2002 14:37:28 GMT
Sender: dma0jcr@durham.ac.uk
Message-ID: <3C35BE28.DFA1C500@durham.ac.uk>
Date: Fri, 04 Jan 2002 14:37:28 +0000
From: Jonathan Rougier <J.C.Rougier@durham.ac.uk>
Organization: Maths Dept., Univ. of Durham
X-Mailer: Mozilla 4.77 [en] (X11; U; Linux 2.4.9-12 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Prof Brian Ripley <ripley@stats.ox.ac.uk>
CC: R-bugs@biostat.ku.dk
Subject: Re: [Rd] Problem with "missing" in "local" (PR#1241)
References: <Pine.LNX.4.31.0201041347390.8133-100000@gannet.stats>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-ECS-MailScanner: Found to be clean

Hi Brian,

Prof Brian Ripley wrote:
> 
> On Fri, 4 Jan 2002 J.C.Rougier@durham.ac.uk wrote:
> 
> > Hi everyone,
> >
> > I encountered unexpected behaviour when calling "missing" within a
> > "local" environment, namely
> >
> > fred <- function(x, y)
> > {
> >   x <- as.vector(x)
> >   local({
> >     dontwantme <- 1:100
> >     if (missing(y)) print("No \"y\" today")
> >   })
> >   x
> > }
> >
> > whereupon I get
> >
> > > fred(1:10)
> > Error in eval(expr, envir, enclos) : "missing" illegal use of missing
> >
> > I think it is reasonable to expect missing to work in this context (I
> > suspect the problem relates to lazy evaluation): if not, it might be
> > helpful to amend the help file.
> 
> Why do you think it reasonable?  You've take a function from
> 
>      Evaluate an R expression in a specified environment.
> 
> and evaluated it somewhere where missing() is not defined.  If you had
> used eval() explicitly, would you think it reasonable?  I doubt it.

By "reasonable" in this context I mean that the operation would appear
to be well-defined and useful.  I can access x within the local()
environment, ie it is found in the enclosing environment, and I do not
think that y should be treated any differently.  If I modify my function
to read

fred <- function(x, y)
{
  x <- as.vector(x)
  local({
    print(x)
    print(y)
    if (missing(y)) print("No \"y\" today")
  })
  x
}

then I get the error message

> fred(1:10)
 [1]  1  2  3  4  5  6  7  8  9 10
Error in print(y) : Argument "y" is missing, with no default

This error message suggests to me that "missing(y)" would evaluate
correctly.

> 
> Which help file did you have in mind?
> 

The help file for "missing".  This points out that "missing" is not
always reliable, eg after "x <- match.arg(x)".  Perhaps this could be
another example of "unreliability".

Cheers, Jonathan.

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

==> 1241.audit <==
Mon Jan  7 10:33:01 2002	ripley	moved from incoming to Language
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1556 *
Subject: lib.fixup, .GlobalEnv, and R1.5.0
From: mark.bravington@csiro.au
Date: Wed, 15 May 2002 08:30:50 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1556 <==
From mark.bravington@csiro.au  Wed May 15 08:30:50 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id IAA24614
	for <R-bugs@biostat.ku.dk>; Wed, 15 May 2002 08:30:50 +0200 (MET DST)
Date: Wed, 15 May 2002 08:30:50 +0200 (MET DST)
From: mark.bravington@csiro.au
Message-Id: <200205150630.IAA24614@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: lib.fixup, .GlobalEnv, and R1.5.0

Full_Name: Mark Bravington
Version: 1.5.0
OS: Windows 2000
Submission from: (NULL) (140.79.2.3)


In R1.3.1, I used the following code inside a function to set a "path" attribute
to .GlobalEnv:

  env_ pos.to.env( 1)
  attr( env, 'path')_ .Path # .Path is a named char vector of length 1
  .Internal( lib.fixup( env, .GlobalEnv)) # adds the attribute

And this works fine. But in R1.5.0, the same code (executed e.g. within a call
to "local" from the command line) removes all the objects in .GlobalEnv (note,
though, that the 'path' attribute does get set OK). For various reasons, this
feature is crucial to me, so I can't actually use R1.5.0 without it!

Oddly, my code used to explicitly set a path attribute for newly-attached things
using this mechanism, and this has now been incorporated into R1.5.0 "library"
command. So I'm clearly not doing anything naughty here!

A suggestion: wouldn't it be easier if we could use

attr( env, <<whatever>>) # where env is an environment

and

attr( env, <<whatever>>)_ 45

instead of having to go via "lib.fixup"?

cheers
Mark


  

==> 1556.followup.1 <==
From Mark.Bravington@csiro.au  Thu May 16 08:48:23 2002
Received: from bastion.tas.csiro.au (bastion.tas.csiro.au [140.79.2.8])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id IAA04149
	for <r-bugs@biostat.ku.dk>; Thu, 16 May 2002 08:48:21 +0200 (MET DST)
From: Mark.Bravington@csiro.au
Received: from bastion.tas.csiro.au (localhost [127.0.0.1])
	by bastion.tas.csiro.au (8.11.4/8.11.4) with ESMTP id g4G6le813565
	for <r-bugs@biostat.ku.dk>; Thu, 16 May 2002 16:47:41 +1000 (EST)
Received: from molly.tas.csiro.au (molly.tas.csiro.au [140.79.3.40])
	by bastion.tas.csiro.au (8.11.4/8.11.4) with ESMTP id g4G6leO13554
	for <r-bugs@biostat.ku.dk>; Thu, 16 May 2002 16:47:40 +1000 (EST)
Received: by molly.tas.csiro.au with Internet Mail Service (5.5.2655.55)
	id <KSPS0LFF>; Thu, 16 May 2002 16:47:30 +1000
Message-ID: <A8877251964B294BAB5BA1FC58B43FED26DC18@molly.tas.csiro.au>
To: r-bugs@biostat.ku.dk
Subject: (PR#1556)
Date: Thu, 16 May 2002 16:47:26 +1000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"

lib.fixup

My previous post mentions a problem encountered when calling ".Internal(
lib.fixup..." in R1.5.0. I have since found a workaround. It's possible in
R1.5.0 to set attributes of search path environments directly, like so:

> env_ pos.to.env( 3)
> attr( env, 'any.attr')_ 'any.value'
> pos.to.env( 3)
<environment: package:tcltk>
attr(,"name")
[1] "package:tcltk"
attr(,"path")
[1] "C:/R/rw1050/library/tcltk"
attr(,"any.attr")
[1] "any.value"

In R1.3.1, it used to be necessary to use lib.fixup to achieve this. It's
still not possible to call

> attr( pos.to.env( 3), 'any.attr')_ 'any.value'

directly, but this doesn't matter. My (mis-typed) wish-lish-suggestion in
the last post, is therefore irrelevant, and personally I no longer need
lib.fixup. NB that it can still cause problems if it is used-- but as it's
undocumented, I don't suppose this will be a major issue.

Nevertheless, calls to ".Internal( lib.fixup..." are not things of beauty,
and I wonder whether the current usage in "library" is actually necessary?
The code currently reads

            loadenv <- new.env(hash = TRUE, parent = .GlobalEnv)
            <<...>>
                sys.source(codeFile, loadenv, keep.source = keep.source)
            <<...>>
            env <- attach(NULL, name = pkgname)
            on.exit(do.call("detach", list(name = pkgname)))
            attr(env, "path") <- file.path(which.lib.loc, package)
            .Internal(lib.fixup(loadenv, env))
            
but I seem to get satisfactory results with

      env_ attach( NULL, name = pkgname)
      on.exit(do.call("detach", list(name = pkgname)))            
      attr( env, "path") <- file.path(which.lib.loc, package)
      <<...>>
          sys.source(codeFile, env, keep.source = keep.source) # i.e.
straight into "env" not into "loadenv"
      <<...>>
      
which does away with the calls to "new.env" and "lib.fixup". As far as I can
see, the "parent=.GlobalEnv" argument to "new.env" doesn't have any effect
after "lib.fixup"; I'm not sure about the "hash=TRUE".

cheers
Mark

*******************************

Mark Bravington
CSIRO (CMIS)
PO Box 1538
Castray Esplanade
Hobart
TAS 7001

phone (61) 3 6232 5118
fax (61) 3 6232 5012
Mark.Bravington@csiro.au 

==> 1556.audit <==
Thu Jan 16 10:19:58 2003	ripley	moved from incoming to Language
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Low-level

* PR# 989 *
Subject: "[.data.frame" allows un-named 3rd subscript
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 989 <==
From cberry@tajo.ucsd.edu  Mon Jun 18 22:10:28 2001
Received: from mailbox4.ucsd.edu (mailbox4.ucsd.edu [132.239.1.56])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA14900
	for <r-bugs@biostat.ku.dk>; Mon, 18 Jun 2001 22:10:27 +0200 (MET DST)
Received: from smtp.ucsd.edu (smtp.ucsd.edu [132.239.1.49])
	by mailbox4.ucsd.edu (8.11.3/8.11.0) with ESMTP id f5IKAKq28590
	for <r-bugs@biostat.ku.dk>; Mon, 18 Jun 2001 13:10:20 -0700 (PDT)
Received: from tajo.ucsd.edu (tajo.ucsd.edu [132.239.99.2])
	by smtp.ucsd.edu (8.9.3/8.9.3) with ESMTP id NAA24075
	for <r-bugs@biostat.ku.dk>; Mon, 18 Jun 2001 13:10:20 -0700 (PDT)
Received: by tajo.ucsd.edu (8.9.3+Sun/SMI-SVR4-UCSD.1)
	id NAA15110; Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
Message-Id: <200106182013.NAA15110@tajo.ucsd.edu>
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
To: r-bugs@biostat.ku.dk
Subject: "[.data.frame" allows un-named 3rd subscript


Since the Extract page has usage as:

     x[i, j, ... , drop=TRUE]

I would expect that 'drop=' would need to be given to the third 'subscript'

> diag(4)[ , 4 , 4 ] # Forgot 'drop=' or added extra ','
Error in diag(4)[, 4, 4] : incorrect number of dimensions
> 
> as.data.frame( diag(4) )[ , 4 , 4 ] # should return error, right?
[1] 0 0 0 1


Also note:

> diag(4)[ ,  , drop=TRUE ]
     [,1] [,2] [,3] [,4]
[1,]    1    0    0    0
[2,]    0    1    0    0
[3,]    0    0    1    0
[4,]    0    0    0    1
> 
> as.data.frame( diag(4) )[ ,  , drop=TRUE ]
Error in [.data.frame(as.data.frame(diag(4)), , , drop = 4) : 
	Argument "j" is missing, with no default
> 

--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = 
 major = 1
 minor = 2.3
 year = 2001
 month = 04
 day = 26
 language = R

Search Path:
 .GlobalEnv, package:nls, package:nlme, package:ctest, Autoloads, package:base



Chuck

-- 
Charles C. Berry                        (858) 534-2098 
                                         Dept of Family/Preventive Medicine
E mailto:cberry@tajo.ucsd.edu	         UC San Diego
http://hacuna.ucsd.edu/members/ccb.html  La Jolla, San Diego 92093-0645

 

==> 989.reply.1 <==
From pd@blueberry.kubism.ku.dk  Mon Jun 18 22:35:29 2001
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA15008;
	Mon, 18 Jun 2001 22:35:28 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.9.3/8.9.3) id WAA31163;
	Mon, 18 Jun 2001 22:38:38 +0200
Sender: pd@pubhealth.ku.dk
To: cberry@tajo.ucsd.edu
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] "[.data.frame" allows un-named 3rd subscript (PR#989)
References: <200106182010.WAA14911@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 18 Jun 2001 22:38:38 +0200
In-Reply-To: cberry@tajo.ucsd.edu's message of "Mon, 18 Jun 2001 22:10:29 +0200 (MET DST)"
Message-ID: <x27ky9o75d.fsf@blueberry.kubism.ku.dk>
Lines: 34
X-Mailer: Gnus v5.7/Emacs 20.7
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

cberry@tajo.ucsd.edu writes:

> Since the Extract page has usage as:
> 
>      x[i, j, ... , drop=TRUE]
> 
> I would expect that 'drop=' would need to be given to the third 'subscript'
> 
> > diag(4)[ , 4 , 4 ] # Forgot 'drop=' or added extra ','
> Error in diag(4)[, 4, 4] : incorrect number of dimensions
> > 
> > as.data.frame( diag(4) )[ , 4 , 4 ] # should return error, right?
> [1] 0 0 0 1
> 

And the bug is?

The generic indexing should really be x[...,drop=T].  Methods for
specific classes can specialize to a particular number of indices if
they want to, which is what is happening here

> get ("[.data.frame")
function (x, i, j, drop = if (missing(i)) TRUE else length(cols) == 
    1) 

one could fairly easily slip in a "..." argument after "j", and then
inside the function give an error if "..." is not empty, but what
would the point be?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 989.followup.1 <==
From cberry@tajo.ucsd.edu  Mon Jun 18 23:06:32 2001
Received: from mailbox3.ucsd.edu (mailbox3.ucsd.edu [132.239.1.55])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id XAA15201;
	Mon, 18 Jun 2001 23:06:31 +0200 (MET DST)
Received: from smtp.ucsd.edu (smtp.ucsd.edu [132.239.1.49])
	by mailbox3.ucsd.edu (8.10.1/8.11.0) with ESMTP id f5IL6PR16820;
	Mon, 18 Jun 2001 14:06:25 -0700 (PDT)
Received: from tajo.ucsd.edu (tajo.ucsd.edu [132.239.99.2])
	by smtp.ucsd.edu (8.9.3/8.9.3) with ESMTP id OAA06469;
	Mon, 18 Jun 2001 14:06:24 -0700 (PDT)
Received: from localhost by tajo.ucsd.edu (8.9.3+Sun/SMI-SVR4-UCSD.1)
	id OAA15733; Mon, 18 Jun 2001 14:09:49 -0700 (PDT)
Date: Mon, 18 Jun 2001 14:09:49 -0700 (PDT)
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
To: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] "[.data.frame" allows un-named 3rd subscript (PR#989)
In-Reply-To: <x27ky9o75d.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.05.10106181348090.12737-100000@tajo.ucsd.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII


See below.

On 18 Jun 2001, Peter Dalgaard BSA wrote:

> cberry@tajo.ucsd.edu writes:
> 
> > Since the Extract page has usage as:
> > 
> >      x[i, j, ... , drop=TRUE]
> > 
> > I would expect that 'drop=' would need to be given to the third 'subscript'
> > 
> > > diag(4)[ , 4 , 4 ] # Forgot 'drop=' or added extra ','
> > Error in diag(4)[, 4, 4] : incorrect number of dimensions
> > > 
> > > as.data.frame( diag(4) )[ , 4 , 4 ] # should return error, right?
> > [1] 0 0 0 1
> > 
> 
> And the bug is?
> 
> The generic indexing should really be x[...,drop=T].  Methods for
> specific classes can specialize to a particular number of indices if
> they want to, which is what is happening here
> 
> > get ("[.data.frame")
> function (x, i, j, drop = if (missing(i)) TRUE else length(cols) == 
>     1) 
> 
> one could fairly easily slip in a "..." argument after "j", and then
> inside the function give an error if "..." is not empty, but what
> would the point be?
> 

The point would be to catch errors like this

for ( i in 1:2 ) foo[i,2] <- my.fun( bar[,i,2] , another.arg )

that might otherwise pass unnoticed when 'bar' is a data.frame.


Charles C. Berry                        (858) 534-2098 
                                         Dept of Family/Preventive Medicine
E mailto:cberry@tajo.ucsd.edu	         UC San Diego
http://hacuna.ucsd.edu/members/ccb.html  La Jolla, San Diego 92093-0645

 


==> 989.audit <==
Tue Jun 19 09:07:09 2001	ripley	moved from incoming to Low-level
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1068 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: Luke Tierney <luke@nokomis.stat.umn.edu>
Date: Wed, 22 Aug 2001 19:32:51 -0500
--see also followup in PR#1069
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1068 <==
From luke@nokomis.stat.umn.edu  Thu Aug 23 02:32:58 2001
Received: from nokomis.stat.umn.edu (root@nokomis.stat.umn.edu [134.84.86.39])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id CAA09952
	for <R-bugs@biostat.ku.dk>; Thu, 23 Aug 2001 02:32:57 +0200 (MET DST)
Received: (from luke@localhost)
	by nokomis.stat.umn.edu (8.11.3/8.10.2/SuSE Linux 8.10.0-0.3) id f7N0Wpq10715;
	Wed, 22 Aug 2001 19:32:51 -0500
Date: Wed, 22 Aug 2001 19:32:51 -0500
From: Luke Tierney <luke@nokomis.stat.umn.edu>
To: maechler@stat.math.ethz.ch
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
Message-ID: <20010822193251.A10682@nokomis.stat.umn.edu>
References: <200108221235.OAA05855@pubhealth.ku.dk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <200108221235.OAA05855@pubhealth.ku.dk>; from maechler@stat.math.ethz.ch on Wed, Aug 22, 2001 at 02:35:24PM +0200

Martin wrote:

> Just this morning,
> I found (again!, we had something close to this before) 
> the following related bugous behavior :
> After interrupting a plot (which would have taken a few minutes and was
> "wrong" anyway), starting another plot, interrupting again [with C-c],
> and maybe the same once more,
> R started just giving a ">" prompt
> but did not react any further at all.
> (C-c would return the prompt, but no other reaction was possible)
> Only killing the R process helped.
> 
> I may try to reproduce more exactly later today.

I'm surprised we don't get more of these sorts of things on UNIX.  Our
current UNIX interrupt handling approach takes an immediate LONGJMP
out of the signal handler no matter where the signal occurs (except
for two places where signals are suspended).  Any place where an
invariant is temporarily broken, any place where an assignment is not
yet complete, is a potential trouble spot.

I've been meaning to raise this issue at some point: I think we will
need to eventually spend some time re-examining how we want to handle
interrupts.  Right now on Windows/Mac interrupts are only processed at
special points in the evaluation process, which is a bit restrictive
(but perhaps unavoidable due to OS limitations).  On UNIX on the other
hand we LONGJUMP out of the signal handler except for the very few
places where the signal gets masked temporarily (GC and one place in
graphics I believe).  The UNIX approach is much too loose even now,
and it becomes even more untenable if we add any kind of threading
support.

We will I think have to come up with a cleaner model for very
selectively enabling interrupt processing, perhaps with some
integration with the external function registration mechanism Duncan
added recently (e.g. marking a function as one where LONGJMP's are
safe).  We will also need some means of controlling interrupt
behaviour from R, such as having some sort of without.interrupts and
with.interrupts functions to be able to program reliable interaction
with interrupts at the R level. (Another sort of thing we might
consider is suspending interrupts during on.exit processing.)

It's a farily big can of worms, and probably not urgent for now, but
we will need to look at it eventually.

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu

==> 1068.audit <==
Tue Aug 28 10:16:46 2001	ripley	moved from incoming to Low-level
Tue Aug 28 10:23:54 2001	ripley	changed notes
Tue Aug 28 10:23:54 2001	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1069 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
--part of PR#1068
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1069 <==
From jwe@ricotta.che.wisc.edu  Thu Aug 23 04:57:11 2001
Received: from ricotta.che.wisc.edu (ricotta.che.wisc.edu [128.104.179.160])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id EAA10175
	for <R-bugs@biostat.ku.dk>; Thu, 23 Aug 2001 04:57:10 +0200 (MET DST)
Received: from ricotta.che.wisc.edu (jwe@localhost [127.0.0.1])
        by localhost (8.12.0.Beta7/8.12.0.Beta7/Debian 8.12.0.Beta7-1) with ESMTP id f7N2uZqU003270;
	Wed, 22 Aug 2001 21:56:35 -0500
Received: (from jwe@localhost)
        by ricotta.che.wisc.edu (8.12.0.Beta7/8.12.0.Beta7/Debian 8.12.0.Beta7-1) id f7N2uXNS003266;
	Wed, 22 Aug 2001 21:56:33 -0500
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15236.28897.468790.842201@ricotta.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
To: Luke Tierney <luke@nokomis.stat.umn.edu>
Cc: maechler@stat.math.ethz.ch, r-devel@stat.math.ethz.ch,
        R-bugs@biostat.ku.dk
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
In-Reply-To: <20010822193251.A10682@nokomis.stat.umn.edu>
References: <200108221235.OAA05855@pubhealth.ku.dk>
	<20010822193251.A10682@nokomis.stat.umn.edu>
X-Mailer: VM 6.95 under Emacs 20.7.2

On 22-Aug-2001, Luke Tierney <luke@nokomis.stat.umn.edu> wrote:

| We will I think have to come up with a cleaner model for very
| selectively enabling interrupt processing, perhaps with some
| integration with the external function registration mechanism Duncan
| added recently (e.g. marking a function as one where LONGJMP's are
| safe).

FWIW, Octave doesn't do this correctly either, it just does a longjmp,
same as R, which can result in leaking memory, and possibly other bad
things.

The way Bash handles this is to only set a flag in the handler for
SIGINT, then at safe places in the code, there are

  QUIT;

statements.  These are macros that expand to some code that may
longjump somewhere depending on the interrupt state.  This method
avoids the problems of jumping out of the signal handler, which may
result in memory leaks or inconsistencies in global state.  The hard
part is inserting the (many!) QUIT statements, though it is probably
somewhat easier if this type of choice is made early on in the life of
the program instead of late.

I only mention Bash because it is a program that is expected to
handle a lot of interrupts without leaking memory or crashing, and
seems to do so reasonably well.

Packages like R and Octave also have to be able to handle interrupts
in calls Fortran or C code that may run for a long time, and which
cannot be modified (at least not easily) to add the equivalent QUIT
calls.  I'm not sure what the right solution is for cases like that.

jwe

-- 
www.octave.org        | Unfortunately we were hoplessly optimistic in 1954
www.che.wisc.edu/~jwe | about the problems of debugging FORTRAN programs.
                      |                                       -- J. Backus

==> 1069.audit <==
Tue Aug 28 10:16:46 2001	ripley	moved from incoming to Low-level
Tue Aug 28 10:23:24 2001	ripley	changed notes
Tue Aug 28 10:23:24 2001	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1880 *
Subject:  You requested this report 
From: Berwin Turlach <berwin@maths.uwa.edu.au>
Date: Tue, 6 Aug 2002 16:57:54 +0800
--The bug is that we get as far as mkCLOSXP before an error is reported
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1880 <==
From postmaster@franz.stat.wisc.edu  Tue Aug  6 10:58:39 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA21842
	for <r-bugs@biostat.ku.dk>; Tue, 6 Aug 2002 10:58:38 +0200 (MET DST)
Received: from asclepius.uwa.edu.au (really [130.95.128.56]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m17c0A8-000IX5C@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Tue, 6 Aug 2002 03:57:56 -0500 (CDT) 
Received: from 127.0.0.1 (localhost [127.0.0.1])
	by dummy.domain.name (Postfix) with SMTP id DE5CB2F8B7F
	for <r-bugs@r-project.org>; Tue,  6 Aug 2002 16:56:24 +0800 (WST)
Received: from bossiaea.maths.uwa.edu.au (bossiaea.maths.uwa.edu.au [130.95.16.247])
	by asclepius.uwa.edu.au (Postfix) with ESMTP id C3D5C2F8B56
	for <r-bugs@r-project.org>; Tue,  6 Aug 2002 16:56:24 +0800 (WST)
Received: (from berwin@localhost)
	by bossiaea.maths.uwa.edu.au (8.9.3/8.9.3) id QAA23639;
	Tue, 6 Aug 2002 16:57:54 +0800
Date: Tue, 6 Aug 2002 16:57:54 +0800
From: Berwin Turlach <berwin@maths.uwa.edu.au>
Message-Id: <200208060857.QAA23639@bossiaea.maths.uwa.edu.au>
To: r-bugs@r-project.org
Subject:  You requested this report 
Cc: berwin@bossiaea.maths.uwa.edu.au

Hi guys,

I am planning to let my students do some simulations regarding the
bias of the sample standard deviation.  The following function is
pretty standard (so I hope :) ):

> sim <- function(nrng, replic, true.s, random, ...){
+   res <- NULL
+   for(n in nrng){
+     data <- matrix(random(n*replic,...), ncol=replic)
+     val <- sqrt(apply(data, 2, var))
+     res <- rbind(res,
+                  cbind(bias=val-true.s, n=n))
+   }
+   res
+ }

It takes a vector of sample sizes, a number (the number of
replications we want to simulate), the true value of the standard
deviation and a function that generates the random number (which may
depend on additional paramters).  So let's try this:

> nrng <- c(2,4,8,16,32,64)
> replic <- 500
> true.s <- 2
> tmp <- sim(nrng, replic, true.s, rnorm, sd = 2)

Yes, seems to work.  Now I thought of perhaps creating a list of
several scenarios (random numbers) and loop over it.  So I tried:

> dist <- list(list(rnorm, true.s = 2, sd=2),
+              list(rexp, true.s = 1)
+              )

Followed by

> res <- sim(nrng, replic, dist[[1]][2], dist[[1]][1], dist[[1]][-c(1,2)])
Error in as.vector(data) : couldn't find function "random"

O.k., this doesn't work.  So let us try:

> res <- sim(nrng, replic, dist[[1]][2], as.function(dist[[1]][1]), dist[[1]][-c(1,2)])
Error in as.function.default(dist[[1]][1]) : 
        invalid body argument for "function"
Should NEVER happen; please bug.report() [mkCLOSXP]

No idea why you consider this a bug. :)  I would have been willing to
put it down to my misuse of R.  But since you requested a bug report,
here it is.

Cheers,

        Berwin

BTW:  How can I actually do what I want to do?  I realise that I am
probably on a completely wrong track regarding the passing of the
... parameters.

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 5.1
 year = 2002
 month = 06
 day = 17
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


==> 1880.audit <==
Mon Aug 19 22:35:34 2002	thomas	changed notes
Mon Aug 19 22:35:34 2002	thomas	foobar
Mon Aug 19 22:35:34 2002	thomas	moved from incoming to Low-level
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2253 *
Subject: [R] CTRL-C suspends echo of shell (R versions 1.6.0 and 1.6.1)
From: Wolfram Fischer - Z/I/M <wolfram@fischer-zim.ch>
Date: Mon, 4 Nov 2002 10:18:48 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2253 <==
From wolfram@fischer-zim.ch  Mon Nov  4 10:19:44 2002
Received: from franz.stat.wisc.edu (mail@www.omegahat.org [128.105.174.32])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA18585
	for <r-bugs@biostat.ku.dk>; Mon, 4 Nov 2002 10:19:43 +0100 (MET)
Received: from ecslin02.ecs.ch ([193.134.251.17])
	by franz.stat.wisc.edu with esmtp (Exim 3.35 #1 (Debian))
	id 188dNq-0001QS-00
	for <r-bugs@r-project.org>; Mon, 04 Nov 2002 03:18:58 -0600
Received: from s1x.zimnet.ch (dialin-d-15.ecs.ch [194.69.197.15])
	by ecslin02.ecs.ch (8.9.3/8.9.3) with ESMTP id KAA32376
	for <r-bugs@r-project.org>; Mon, 4 Nov 2002 10:18:55 +0100
Received: (from wf@localhost)
	by s1x.zimnet.ch (8.11.6/8.11.6/SuSE Linux 0.5) id gA49Im017451
	for r-bugs@r-project.org; Mon, 4 Nov 2002 10:18:48 +0100
Date: Mon, 4 Nov 2002 10:18:48 +0100
From: Wolfram Fischer - Z/I/M <wolfram@fischer-zim.ch>
To: r-bugs@r-project.org
Subject: [R] CTRL-C suspends echo of shell (R versions 1.6.0 and 1.6.1)
Message-ID: <20021104101848.A17333@s1x.zimnet.ch>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.3.22.1i

Problem:
- Shell does not echo anymore 
  after using CTRL-C (to interrupt calculations)
  once during a R session.

Procedure:
- [start session]  R
- [input]          CTRL-C
- [end session]    q()


Some details:
- `stty` before: speed 38400 baud; line = 0; lnext = <undef>;

- `stty` after: speed 38400 baud; line = 0; lnext = <undef>; min = 1; time = 0;
    -icrnl
    -icanon -echo

I have seen the problem in versions 1.6.0 and 1.6.1, but not in 1.5.1
which I am running on SuSE Linux 7.3. The shell used is bash-2.05.0(1).


Wolfram Fischer

==> 2253.reply.1 <==
From p.dalgaard@biostat.ku.dk  Mon Nov  4 10:58:57 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA19354;
	Mon, 4 Nov 2002 10:58:56 +0100 (MET)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.6/8.11.6) id gA49wsH01807;
	Mon, 4 Nov 2002 10:58:54 +0100
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: wolfram@fischer-zim.ch
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [R] CTRL-C suspends echo of shell (R versions 1.6.0 and 1.6.1) (PR#2253)
References: <200211040919.KAA18590@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 04 Nov 2002 10:58:53 +0100
In-Reply-To: <200211040919.KAA18590@pubhealth.ku.dk>
Message-ID: <x2y989bqqq.fsf@biostat.ku.dk>
Lines: 33
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

wolfram@fischer-zim.ch writes:

> Problem:
> - Shell does not echo anymore 
>   after using CTRL-C (to interrupt calculations)
>   once during a R session.
> 
> Procedure:
> - [start session]  R
> - [input]          CTRL-C
> - [end session]    q()
> 
> 
> Some details:
> - `stty` before: speed 38400 baud; line = 0; lnext = <undef>;
> 
> - `stty` after: speed 38400 baud; line = 0; lnext = <undef>; min = 1; time = 0;
>     -icrnl
>     -icanon -echo
> 
> I have seen the problem in versions 1.6.0 and 1.6.1, but not in 1.5.1
> which I am running on SuSE Linux 7.3. The shell used is bash-2.05.0(1).

Seen here too, but I actually thought it took more to provoke it.
Blind-enter "stty sane" to revert.

(Might this be related to the readline stack issue?)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 2253.audit <==
Mon Nov  4 15:22:27 2002	maechler	foobar
Mon Nov  4 15:22:27 2002	maechler	moved from incoming to Low-level
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2846 *
Subject: Kinderman-Ramage
From: Josef Leydold <leydold@statistik.wu-wien.ac.at>
Date: Fri, 25 Apr 2003 13:18:53 +0200 (CEST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2846 <==
From mailnull@stat.math.ethz.ch Fri Apr 25 13:19:04 2003
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3PBJ3pD015868
	for <R-bugs@biostat.ku.dk>; Fri, 25 Apr 2003 13:19:03 +0200 (MET DST)
Received: from hypatia.math.ethz.ch (localhost [127.0.0.1])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h3PBJ1bj006789
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <R-bugs@biostat.ku.dk>; Fri, 25 Apr 2003 13:19:01 +0200 (MEST)
Received: (from mailnull@localhost)
	by hypatia.math.ethz.ch (8.12.9/8.12.6/Submit) id h3PBJ07m006774
	for R-bugs@biostat.ku.dk; Fri, 25 Apr 2003 13:19:00 +0200 (MEST)
Received: from franz.stat.wisc.edu (www.omegahat.org [128.105.174.32])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h3PBIsbi006599
	for <r-bugs@lists.r-project.org>; Fri, 25 Apr 2003 13:18:55 +0200 (MEST)
Received: from coredump.wu-wien.ac.at ([137.208.6.81])
	by franz.stat.wisc.edu with smtp (Exim 3.35 #1 (Debian))
	id 1991EE-0007qS-00
	for <r-bugs@r-project.org>; Fri, 25 Apr 2003 06:18:54 -0500
Received: (qmail 25811 invoked by uid 6013); 25 Apr 2003 11:18:53 -0000
From: Josef Leydold <leydold@statistik.wu-wien.ac.at>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16041.6557.232614.457578@coredump.wu-wien.ac.at>
Date: Fri, 25 Apr 2003 13:18:53 +0200 (CEST)
To: r-bugs@r-project.org
Subject: Kinderman-Ramage
X-Mailer: VM 6.56 under Emacs 20.4.2
Reply-To: leydold@statistik.wu-wien.ac.at
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Spam-Status: No, hits=-11.7 required=5.0 tests=PATCH_UNIFIED_DIFF,USER_AGENT_VM version=2.53
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.53 (1.174.2.15-2003-03-30-exp)

Hi,

Our department has detected a bug in the implementation of the
Kinderman-Ramage generator for normal random variates in version
1.7.0, which can be seen from the below R session.
(Consecutive calls for chisq.test(...) always gives p-values very
close to 0.)
We have already encountered this bug in version 1.6.2

The error is in file 
R-1.7.0/src/nmath/snorm.c

Here is a patch for this file to correct the error
(the added two lines are crucial):

--- R-1.7.0/src/nmath/snorm.c	Wed Feb 26 16:51:17 2003
+++ snorm.c	Fri Apr 25 09:22:28 2003
@@ -197,7 +197,9 @@
 	u1 = unif_rand();
 	if(u1 < 0.884070402298758) {
 	    u2 = unif_rand();
-	    return A*(1.13113163544180*u1+u2-1);
+	    /** <modified constant> **/
+	    return A*(1.131131635444180*u1+u2-1);
+	    /** </modified> **/
 	}
 	
 	if(u1 >= 0.973310954173898) { /* tail: */
@@ -241,6 +243,10 @@
 	    tt = 0.479727404222441-0.595507138015940*fmin2(u2,u3);
 	    if(fmax2(u2,u3) <= 0.805577924423817)
 		return (u2<u3) ? tt : -tt;
+	    /** <added> **/
+	    if(0.053377549506886*fabs(u2-u3) <= g(tt))
+	      return (u2<u3) ? tt : -tt;
+	    /** </added> **/
 	}
     case BOX_MULLER:
 	if(BM_norm_keep != 0.0) { /* An exact test is intentional */



----------------------------------------------------------

$ uname -a
Linux 2.4.18-3 #1 Thu Apr 18 07:37:53 EDT 2002 i686 unknown

$ R
R : Copyright 2003, The R Development Core Team
Version 1.7.0  (2003-04-16)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

> RNGkind(normal.kind="Kinderman-Ramage")
> chisq.test(table(trunc(100*pnorm(rnorm(1e6)))))

        Chi-squared test for given probabilities

data:  table(trunc(100 * pnorm(rnorm(1e+06)))) 
X-squared = 204.1378, df = 99, p-value = 2.746e-09


Josef

--

-----------------------------------------------------------------------------
Josef Leydold     |     University of Economics and Business Administration
                  |     Department for Applied Statistics and Data Processing
-----------------------------------------------------------------------------
Augasse 2-6       |     Tel.   *43/1/31336-4695
A-1090 Vienna     |     FAX    *43/1/31336-738
European Union    |     email  Josef.Leydold@statistik.wu-wien.ac.at
-----------------------------------------------------------------------------
Alles Unglueck kam daher, dass die Denkenden nicht mehr handeln konnten,
und die Handelnden keine Zeit mehr fanden zu denken.       (Marlen Haushofer)


==> 2846.reply.1 <==
From p.dalgaard@biostat.ku.dk Fri Apr 25 14:03:19 2003
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3PC3IpD016524;
	Fri, 25 Apr 2003 14:03:18 +0200 (MET DST)
Received: from blueberry.kubism.ku.dk (localhost.localdomain [127.0.0.1])
	by blueberry.kubism.ku.dk (8.12.8/8.12.8) with ESMTP id h3PC6O8e010190;
	Fri, 25 Apr 2003 14:06:24 +0200
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.12.8/8.12.8/Submit) id h3PC6OlI010186;
	Fri, 25 Apr 2003 14:06:24 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: leydold@statistik.wu-wien.ac.at
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] Kinderman-Ramage (PR#2846)
References: <200304251119.h3PBJ4pD015872@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 25 Apr 2003 14:06:23 +0200
In-Reply-To: <200304251119.h3PBJ4pD015872@pubhealth.ku.dk>
Message-ID: <x23ck6u6gw.fsf@biostat.ku.dk>
Lines: 35
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

leydold@statistik.wu-wien.ac.at writes:

> Hi,
> 
> Our department has detected a bug in the implementation of the
> Kinderman-Ramage generator for normal random variates in version
> 1.7.0, which can be seen from the below R session.
> (Consecutive calls for chisq.test(...) always gives p-values very
> close to 0.)
> We have already encountered this bug in version 1.6.2
> 
> The error is in file 
> R-1.7.0/src/nmath/snorm.c
> 
> Here is a patch for this file to correct the error
> (the added two lines are crucial):

Thanks. Both look like transcription errors. What was the source of
the corrected constants? The JASA paper cited in snorm.c? 

(Another way of seeing the effect is

 m <- sapply(1:50,function(i)table(trunc(100*pnorm(rnorm(1e6)))))
 matplot(m,type="l")

Two small, but clear, spikes at around 30 and 70 can be seen. The
effect is not seen with the Inversion method, which is the default in
R-1.7.0.) 


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 2846.followup.1 <==
From ripley@stats.ox.ac.uk Fri Apr 25 14:15:32 2003
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3PCFWpD016740;
	Fri, 25 Apr 2003 14:15:32 +0200 (MET DST)
Received: from gannet.stats (gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.12.9/8.12.9) with ESMTP id h3PCFWUK017591;
	Fri, 25 Apr 2003 13:15:32 +0100 (BST)
Date: Fri, 25 Apr 2003 13:15:31 +0100 (BST)
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
X-X-Sender: ripley@gannet.stats
To: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
cc: leydold@statistik.wu-wien.ac.at, <r-devel@stat.math.ethz.ch>,
   <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] Kinderman-Ramage (PR#2846)
In-Reply-To: <x23ck6u6gw.fsf@biostat.ku.dk>
Message-ID: <Pine.LNX.4.44.0304251310530.10094-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

Unfortunately it was the default prior to 1.7.0, so for reproducibility I
think we can't change this.  We could add a new option, a corrected 
version, but is it worth it?  I would definitely add a warning if the 
buggy version was selected, and perhaps make it an error to select it via 
RNGkind (rather than RNGversion or a saved .Random.seed).

On 25 Apr 2003, Peter Dalgaard BSA wrote:

> leydold@statistik.wu-wien.ac.at writes:
> 
> > Hi,
> > 
> > Our department has detected a bug in the implementation of the
> > Kinderman-Ramage generator for normal random variates in version
> > 1.7.0, which can be seen from the below R session.
> > (Consecutive calls for chisq.test(...) always gives p-values very
> > close to 0.)
> > We have already encountered this bug in version 1.6.2
> > 
> > The error is in file 
> > R-1.7.0/src/nmath/snorm.c
> > 
> > Here is a patch for this file to correct the error
> > (the added two lines are crucial):
> 
> Thanks. Both look like transcription errors. What was the source of
> the corrected constants? The JASA paper cited in snorm.c? 
> 
> (Another way of seeing the effect is
> 
>  m <- sapply(1:50,function(i)table(trunc(100*pnorm(rnorm(1e6)))))
>  matplot(m,type="l")
> 
> Two small, but clear, spikes at around 30 and 70 can be seen. The
> effect is not seen with the Inversion method, which is the default in
> R-1.7.0.) 
> 
> 
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 2846.reply.2 <==
From p.dalgaard@biostat.ku.dk Fri Apr 25 14:34:53 2003
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3PCYrpD017077;
	Fri, 25 Apr 2003 14:34:53 +0200 (MET DST)
Received: from blueberry.kubism.ku.dk (localhost.localdomain [127.0.0.1])
	by blueberry.kubism.ku.dk (8.12.8/8.12.8) with ESMTP id h3PCbw8e010258;
	Fri, 25 Apr 2003 14:37:59 +0200
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.12.8/8.12.8/Submit) id h3PCbwHB010254;
	Fri, 25 Apr 2003 14:37:58 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Cc: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>,
   leydold@statistik.wu-wien.ac.at, <r-devel@stat.math.ethz.ch>,
   <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] Kinderman-Ramage (PR#2846)
References: <Pine.LNX.4.44.0304251310530.10094-100000@gannet.stats>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 25 Apr 2003 14:37:58 +0200
In-Reply-To: <Pine.LNX.4.44.0304251310530.10094-100000@gannet.stats>
Message-ID: <x2y91ysqft.fsf@biostat.ku.dk>
Lines: 23
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

> Unfortunately it was the default prior to 1.7.0, so for reproducibility I
> think we can't change this.  We could add a new option, a corrected 
> version, but is it worth it?  I would definitely add a warning if the 
> buggy version was selected, and perhaps make it an error to select it via 
> RNGkind (rather than RNGversion or a saved .Random.seed).

Argh...

We do normally correct errors leading to incorrect values. I mean, if
we found a bug in qnorm() we wouldn't hesitate to fix it even if
though it affects the Inversion RNG, would we? 

How about this: Keep the old generator, but call it "K-R-bug" or so.
Fix the real K-R. Make K-R-bug the version set by RNGversion. One or
more of the methods to set it will generate warnings.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 2846.audit <==
Fri Apr 25 20:02:17 2003	ripley	moved from incoming to Low-level

==> 2846.reply.3 <==
From maechler@stat.math.ethz.ch Sat Apr 26 17:53:11 2003
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3QFrApD028116;
	Sat, 26 Apr 2003 17:53:11 +0200 (MET DST)
Received: from lynne.ethz.ch (lynne [129.132.58.30])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h3QFr6bi013078;
	Sat, 26 Apr 2003 17:53:06 +0200 (MEST)
Received: (from maechler@localhost)
	by lynne.ethz.ch (8.11.6/8.11.2) id h3QFr6E08973;
	Sat, 26 Apr 2003 17:53:06 +0200
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16042.43874.69575.629156@gargle.gargle.HOWL>
Date: Sat, 26 Apr 2003 17:53:06 +0200
To: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Cc: Prof Brian Ripley <ripley@stats.ox.ac.uk>, r-devel@stat.math.ethz.ch,
   leydold@statistik.wu-wien.ac.at, R-bugs@biostat.ku.dk
Subject: Re: [Rd] Kinderman-Ramage (PR#2846)
In-Reply-To: <x2y91ysqft.fsf@biostat.ku.dk>
References: <Pine.LNX.4.44.0304251310530.10094-100000@gannet.stats>
	<x2y91ysqft.fsf@biostat.ku.dk>
X-Mailer: VM 7.07 under Emacs 21.2.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)

>>>>> "PD" == Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
>>>>>     on 25 Apr 2003 14:37:58 +0200 writes:

    PD> Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:
    >> Unfortunately it was the default prior to 1.7.0, so for
    >> reproducibility I think we can't change this.  We could
    >> add a new option, a corrected version, but is it worth
    >> it?  I would definitely add a warning if the buggy
    >> version was selected, and perhaps make it an error to
    >> select it via RNGkind (rather than RNGversion or a saved
    >> .Random.seed).

    PD> Argh...

    PD> We do normally correct errors leading to incorrect
    PD> values. I mean, if we found a bug in qnorm() we wouldn't
    PD> hesitate to fix it even if though it affects the
    PD> Inversion RNG, would we?

    PD> How about this: Keep the old generator, but call it
    PD> "K-R-bug" or so.  Fix the real K-R. Make K-R-bug the
    PD> version set by RNGversion. One or more of the methods to
    PD> set it will generate warnings.

This proposal sounds good to my ears.  Since we haven't heard
other comments -- this should go into R-patched, right?
{and who from R-core does it?}

Martin

==> 2846.reply.4 <==
From p.dalgaard@biostat.ku.dk Sat Apr 26 18:06:52 2003
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3QG6ppD028190;
	Sat, 26 Apr 2003 18:06:51 +0200 (MET DST)
Received: from blueberry.kubism.ku.dk (localhost.localdomain [127.0.0.1])
	by blueberry.kubism.ku.dk (8.12.8/8.12.8) with ESMTP id h3QGA58e014090;
	Sat, 26 Apr 2003 18:10:05 +0200
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.12.8/8.12.8/Submit) id h3QGA57i014086;
	Sat, 26 Apr 2003 18:10:05 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: Martin Maechler <maechler@stat.math.ethz.ch>
Cc: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>,
   Prof Brian Ripley <ripley@stats.ox.ac.uk>, r-devel@stat.math.ethz.ch,
   leydold@statistik.wu-wien.ac.at, R-bugs@biostat.ku.dk
Subject: Re: [Rd] Kinderman-Ramage (PR#2846)
References: <Pine.LNX.4.44.0304251310530.10094-100000@gannet.stats>
	<x2y91ysqft.fsf@biostat.ku.dk>
	<16042.43874.69575.629156@gargle.gargle.HOWL>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 26 Apr 2003 18:10:05 +0200
In-Reply-To: <16042.43874.69575.629156@gargle.gargle.HOWL>
Message-ID: <x24r4ls0iq.fsf@biostat.ku.dk>
Lines: 20
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Martin Maechler <maechler@stat.math.ethz.ch> writes:

>     PD> How about this: Keep the old generator, but call it
>     PD> "K-R-bug" or so.  Fix the real K-R. Make K-R-bug the
>     PD> version set by RNGversion. One or more of the methods to
>     PD> set it will generate warnings.
> 
> This proposal sounds good to my ears.  Since we haven't heard
> other comments -- this should go into R-patched, right?
> {and who from R-core does it?}

I intend to, but not just now. The consequences of not being prepared
for my course on Tuesday are worse than leaving a buggy K-R generator
in 1.7.0 for a while (especially since it is no longer the default)...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 2846.reply.5 <==
From p.dalgaard@biostat.ku.dk Wed May  7 21:16:34 2003
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h47JGY2b011170;
	Wed, 7 May 2003 21:16:34 +0200 (MET DST)
Received: from blueberry.kubism.ku.dk (localhost.localdomain [127.0.0.1])
	by blueberry.kubism.ku.dk (8.12.8/8.12.8) with ESMTP id h47JLD8e027505;
	Wed, 7 May 2003 21:21:13 +0200
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.12.8/8.12.8/Submit) id h47JLDNX027501;
	Wed, 7 May 2003 21:21:13 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: leydold@statistik.wu-wien.ac.at
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] Kinderman-Ramage (PR#2846)
References: <200304251119.h3PBJ4pD015872@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 07 May 2003 21:21:13 +0200
In-Reply-To: <200304251119.h3PBJ4pD015872@pubhealth.ku.dk>
Message-ID: <x2fznqwok6.fsf@biostat.ku.dk>
Lines: 112
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

leydold@statistik.wu-wien.ac.at writes:

> Hi,
> 
> Our department has detected a bug in the implementation of the
> Kinderman-Ramage generator for normal random variates in version
> 1.7.0, which can be seen from the below R session.
> (Consecutive calls for chisq.test(...) always gives p-values very
> close to 0.)
> We have already encountered this bug in version 1.6.2

Josef, I'm in the process of implementing your fixes, but while they
certainly improve things, I'm still seeing anomalies. Could you try
this (it takes a while, even on a fast machine)

m <- sapply(1:200,function(i)table(trunc(100*pnorm(rnorm(1e6)))))
plot(rowMeans(m), type="l")

and tell me if you see a double peak in the middle? It's only about
1.3% off-target, but given the accuracy of the constants in the
routine, it does seem a bit more than you should expect. I see the
same effect both with the Mersenne-Twister and with the Wichmann-Hill
uniform generators.

 
> The error is in file 
> R-1.7.0/src/nmath/snorm.c
> 
> Here is a patch for this file to correct the error
> (the added two lines are crucial):
> 
> --- R-1.7.0/src/nmath/snorm.c	Wed Feb 26 16:51:17 2003
> +++ snorm.c	Fri Apr 25 09:22:28 2003
> @@ -197,7 +197,9 @@
>  	u1 = unif_rand();
>  	if(u1 < 0.884070402298758) {
>  	    u2 = unif_rand();
> -	    return A*(1.13113163544180*u1+u2-1);
> +	    /** <modified constant> **/
> +	    return A*(1.131131635444180*u1+u2-1);
> +	    /** </modified> **/
>  	}
>  	
>  	if(u1 >= 0.973310954173898) { /* tail: */
> @@ -241,6 +243,10 @@
>  	    tt = 0.479727404222441-0.595507138015940*fmin2(u2,u3);
>  	    if(fmax2(u2,u3) <= 0.805577924423817)
>  		return (u2<u3) ? tt : -tt;
> +	    /** <added> **/
> +	    if(0.053377549506886*fabs(u2-u3) <= g(tt))
> +	      return (u2<u3) ? tt : -tt;
> +	    /** </added> **/
>  	}
>      case BOX_MULLER:
>  	if(BM_norm_keep != 0.0) { /* An exact test is intentional */
> 
> 
> 
> ----------------------------------------------------------
> 
> $ uname -a
> Linux 2.4.18-3 #1 Thu Apr 18 07:37:53 EDT 2002 i686 unknown
> 
> $ R
> R : Copyright 2003, The R Development Core Team
> Version 1.7.0  (2003-04-16)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type `license()' or `licence()' for distribution details.
> 
> R is a collaborative project with many contributors.
> Type `contributors()' for more information.
> 
> Type `demo()' for some demos, `help()' for on-line help, or
> `help.start()' for a HTML browser interface to help.
> Type `q()' to quit R.
> 
> > RNGkind(normal.kind="Kinderman-Ramage")
> > chisq.test(table(trunc(100*pnorm(rnorm(1e6)))))
> 
>         Chi-squared test for given probabilities
> 
> data:  table(trunc(100 * pnorm(rnorm(1e+06)))) 
> X-squared = 204.1378, df = 99, p-value = 2.746e-09
> 
> 
> Josef
> 
> --
> 
> -----------------------------------------------------------------------------
> Josef Leydold     |     University of Economics and Business Administration
>                   |     Department for Applied Statistics and Data Processing
> -----------------------------------------------------------------------------
> Augasse 2-6       |     Tel.   *43/1/31336-4695
> A-1090 Vienna     |     FAX    *43/1/31336-738
> European Union    |     email  Josef.Leydold@statistik.wu-wien.ac.at
> -----------------------------------------------------------------------------
> Alles Unglueck kam daher, dass die Denkenden nicht mehr handeln konnten,
> und die Handelnden keine Zeit mehr fanden zu denken.       (Marlen Haushofer)
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2991 *
Subject: qt(p,df) discontinuous in p for df in 1.01->1.7
From: jens.lund@nordea.com
Date: Tue, 13 May 2003 13:29:14 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2991 <==
From jens.lund@nordea.com Tue May 13 13:29:15 2003
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h4DBTE2b027267
	for <R-bugs@biostat.ku.dk>; Tue, 13 May 2003 13:29:14 +0200 (MET DST)
Date: Tue, 13 May 2003 13:29:14 +0200 (MET DST)
Message-Id: <200305131129.h4DBTE2b027267@pubhealth.ku.dk>
From: jens.lund@nordea.com
To: R-bugs@biostat.ku.dk
Subject: qt(p,df) discontinuous in p for df in 1.01->1.7

Full_Name: Jens Lund
Version: Version 1.7.0  (2003-04-16)
OS: Win NT 4.0 SP 6
Submission from: (NULL) (193.3.225.210)



As the T distribution is symmetrical around 0 qt(0.5,df) should return 0 for any
df.

However for df close to 1 it seems to have problems as seen by:
qt(0.5,seq(1,1.1,by=0.0001))

For example:
> qt(0.5,1.01)
[1] -0.2300470

Higher df as df=1.1 (and up to approx df=1.7) seem to have problems as it also
gives discontinuities (the plural form!):
plot(seq(0.1,0.9,by=0.001),qt(seq(0.1,0.9,by=0.001),1.1),pch=".")

When df is close to 1 it appears as one discontinuity at p=0.5, and as df
increases there are two discountinuities symmetrical around 0.5 and moving away
from 0.5.

Keep up your outstanding work on R ;-)

Jens


==> 2991.audit <==
Tue May 13 15:12:14 2003	ripley	moved from incoming to Low-level

==> 2991.reply.1 <==
From maechler@stat.math.ethz.ch Tue May 13 18:22:06 2003
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h4DGM52b001009
	for <R-bugs@biostat.ku.dk>; Tue, 13 May 2003 18:22:05 +0200 (MET DST)
Received: from lynne.ethz.ch (lynne [129.132.58.30])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h4DGM36r014785;
	Tue, 13 May 2003 18:22:03 +0200 (MEST)
Received: (from maechler@localhost)
	by lynne.ethz.ch (8.11.6/8.11.2) id h4DGM2n22929;
	Tue, 13 May 2003 18:22:02 +0200
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16065.7082.178824.603807@gargle.gargle.HOWL>
Date: Tue, 13 May 2003 18:22:02 +0200
To: jens.lund@nordea.com
Cc: R-bugs@biostat.ku.dk
Subject: Re: [Rd] qt(p,df) discontinuous in p for df in 1.01->1.7 (PR#2991)
In-Reply-To: <200305131129.h4DBTF2b027271@pubhealth.ku.dk>
References: <200305131129.h4DBTF2b027271@pubhealth.ku.dk>
X-Mailer: VM 7.15 under Emacs 21.2.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)

>>>>> "jens" == jens lund <jens.lund@nordea.com>
>>>>>     on Tue, 13 May 2003 13:29:15 +0200 (MET DST) writes:

    jens> Full_Name: Jens Lund Version: Version 1.7.0
    jens> (2003-04-16) OS: Win NT 4.0 SP 6 Submission from:
    jens> (NULL) (193.3.225.210)



    jens> As the T distribution is symmetrical around 0
    jens> qt(0.5,df) should return 0 for any df.

    jens> However for df close to 1 it seems to have problems as
    jens> seen by: qt(0.5,seq(1,1.1,by=0.0001))

    jens> For example:
    >> qt(0.5,1.01)
    jens> [1] -0.2300470

    jens> Higher df as df=1.1 (and up to approx df=1.7) seem to
    jens> have problems as it also gives discontinuities (the
    jens> plural form!):
    jens> plot(seq(0.1,0.9,by=0.001),qt(seq(0.1,0.9,by=0.001),1.1),pch=".")

    jens> When df is close to 1 it appears as one discontinuity
    jens> at p=0.5, and as df increases there are two
    jens> discountinuities symmetrical around 0.5 and moving
    jens> away from 0.5.

    jens> Keep up your outstanding work on R ;-)

thanks!

Bug confirmed.  qt() uses an algorithm based on

  *  Reference:
  *  Algorithm 396: Student's t-quantiles by G.W. Hill
  *  Comm. A.C.M., vol.13(10), 619-620, October 1970

and the basic C code in R has been in place for about 6 years
now, and it does work piecewisely on the range of "p" (depending
on df). --> look at <Rsrc>/nmath/qt.c  if you're interested.

As a first guess:
   It may be that G.W.Hill  did not think of using df between
   1 and 2 (only thought of integer df).

I need to get my hands on that paper.

Thanks a lot for reporting the bug so clearly!]

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Macintosh

* PR# 1819 *
Subject: Date arithmetic fails
From: RML27@cornell.edu
Date: Sun, 21 Jul 2002 20:26:12 +0200 (MET DST)
--In fact, as.POSIXct is off by 66 years. See
--   http://developer.apple.com/qa/ops/ops23.html
--This is semifixed, but timezones still don't work
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1819 <==
From RML27@cornell.edu  Sun Jul 21 20:26:12 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA29488
	for <R-bugs@biostat.ku.dk>; Sun, 21 Jul 2002 20:26:12 +0200 (MET DST)
Date: Sun, 21 Jul 2002 20:26:12 +0200 (MET DST)
From: RML27@cornell.edu
Message-Id: <200207211826.UAA29488@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: Date arithmetic fails

Full_Name: Ronnen Levinson
Version: 1.5.1
OS: Mac OS 10.1 
Submission from: (NULL) (12.232.201.92)


The value returned by strptime behaves badly after arithmetic operation and/or
combination.

> a=strptime("2002-06-01 12:15:01","%Y-%m-%d %H:%M:%S")
> a
[1] "2002-06-01 12:15:01"
> a+0
[1] "1932-04-25 21:46:45"
> a+3600
[1] "1932-04-25 22:46:45"
b=c(a)
> b
[1] "1932-04-25 21:46:45"

==> 1819.followup.1 <==
From tlumley@u.washington.edu  Mon Jul 22 17:58:29 2002
Received: from mxout3.cac.washington.edu (mxout3.cac.washington.edu [140.142.32.19])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id RAA04051
	for <R-bugs@biostat.ku.dk>; Mon, 22 Jul 2002 17:58:28 +0200 (MET DST)
Received: from mailscan-out2.cac.washington.edu (mailscan-out2.cac.washington.edu [140.142.33.17])
	by mxout3.cac.washington.edu (8.12.1+UW01.12/8.12.1+UW02.06) with SMTP id g6MFvkYu014347
	for <R-bugs@biostat.ku.dk>; Mon, 22 Jul 2002 08:57:46 -0700
Received: FROM homer41.u.washington.edu BY mailscan-out2.cac.washington.edu ; Mon Jul 22 08:57:44 2002 -0700
Received: from localhost (tlumley@localhost)
	by homer41.u.washington.edu (8.12.1+UW01.12/8.12.1+UW02.01) with ESMTP id g6MFviE5101740;
	Mon, 22 Jul 2002 08:57:44 -0700
Date: Mon, 22 Jul 2002 08:57:43 -0700 (PDT)
From: Thomas Lumley <tlumley@u.washington.edu>
To: RML27@cornell.edu
cc: r-devel@stat.math.ethz.ch, <R-bugs@biostat.ku.dk>
Subject: Re: Date arithmetic fails (PR#1819)
In-Reply-To: <200207211826.UAA29493@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.44.0207220855460.93146-100000@homer41.u.washington.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Sun, 21 Jul 2002 RML27@cornell.edu wrote:

> Full_Name: Ronnen Levinson
> Version: 1.5.1
> OS: Mac OS 10.1
> Submission from: (NULL) (12.232.201.92)
>
>
> The value returned by strptime behaves badly after arithmetic operation and/or
> combination.
>
> > a=strptime("2002-06-01 12:15:01","%Y-%m-%d %H:%M:%S")
> > a
> [1] "2002-06-01 12:15:01"
> > a+0
> [1] "1932-04-25 21:46:45"
> > a+3600
> [1] "1932-04-25 22:46:45"
> b=c(a)
> > b
> [1] "1932-04-25 21:46:45"

The problem appears to be with as.POSIXct on the Mac.  Operations that
don't coerce to POSIXct work, those that do, don't.

	-thomas



==> 1819.followup.2 <==
From tlumley@u.washington.edu  Mon Jul 22 18:58:10 2002
Received: from mxout4.cac.washington.edu (mxout4.cac.washington.edu [140.142.33.19])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA04223
	for <R-bugs@biostat.ku.dk>; Mon, 22 Jul 2002 18:58:09 +0200 (MET DST)
Received: from mailscan-out1.cac.washington.edu (mailscan-out1.cac.washington.edu [140.142.32.17])
	by mxout4.cac.washington.edu (8.12.1+UW01.12/8.12.1+UW02.06) with SMTP id g6MGvRS4020128
	for <R-bugs@biostat.ku.dk>; Mon, 22 Jul 2002 09:57:27 -0700
Received: FROM homer41.u.washington.edu BY mailscan-out1.cac.washington.edu ; Mon Jul 22 09:57:25 2002 -0700
Received: from localhost (tlumley@localhost)
	by homer41.u.washington.edu (8.12.1+UW01.12/8.12.1+UW02.01) with ESMTP id g6MGvOqn168250;
	Mon, 22 Jul 2002 09:57:24 -0700
Date: Mon, 22 Jul 2002 09:57:24 -0700 (PDT)
From: Thomas Lumley <tlumley@u.washington.edu>
To: RML27@cornell.edu
cc: r-devel@stat.math.ethz.ch, <R-bugs@biostat.ku.dk>
Subject: Re: Date arithmetic fails (PR#1819)
In-Reply-To: <Pine.A41.4.44.0207220855460.93146-100000@homer41.u.washington.edu>
Message-ID: <Pine.A41.4.44.0207220944440.93146-100000@homer41.u.washington.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

>
> The problem appears to be with as.POSIXct on the Mac.  Operations that
> don't coerce to POSIXct work, those that do, don't.
>

I think I've found why.

The epoch date on the Mac is 1904-1-1 not 1970-1-1.

This has two effects. First, everything's off by 66 years. Second, it's
important to treat the time as unsigned long, not long, since it's already
greater than 2^31 some time in 1997.

Aren't standards wonderful?

	-thomas


==> 1819.audit <==
Mon Jul 22 17:49:01 2002	thomas	foobar
Mon Jul 22 17:49:01 2002	thomas	moved from incoming to not-reproducible
Mon Jul 22 17:52:41 2002	thomas	moved from not-reproducible to Macintosh
Mon Jul 22 18:21:41 2002	thomas	changed notes
Mon Jul 22 18:21:41 2002	thomas	foobar
Mon Jul 22 19:05:40 2002	thomas	changed notes
Mon Jul 22 19:05:40 2002	thomas	foobar
Fri Sep 27 17:49:20 2002	thomas	changed notes
Fri Sep 27 17:49:20 2002	thomas	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1991 *
Subject: Mac Save As... bug
From: Tim Cole <tjc1@cam.ac.uk>
Date: Sun, 8 Sep 2002 13:47:00 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1991 <==
From postmaster@franz.stat.wisc.edu  Sun Sep  8 15:14:48 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA17766
	for <r-bugs@biostat.ku.dk>; Sun, 8 Sep 2002 15:14:43 +0200 (MET DST)
Received: from libra.cus.cam.ac.uk (really [131.111.8.19]) by franz.stat.wisc.edu
	via smail with esmtp (ident cusexim using rfc1413)
	id <m17o1aN-000IXYC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Sun, 8 Sep 2002 07:54:43 -0500 (CDT) 
Received: from line55.slip.csx.cam.ac.uk ([131.111.99.155])
	by libra.cus.cam.ac.uk with esmtp (Exim 4.10)
	id 17o1ZK-0007bt-00
	for r-bugs@r-project.org; Sun, 08 Sep 2002 13:53:38 +0100
Mime-Version: 1.0
X-Sender: tcole@stella.ich.ucl.ac.uk
Message-Id: <p05111b03b9a0ed6293f0@[131.111.99.150]>
Date: Sun, 8 Sep 2002 13:47:00 +0100
To: r-bugs@r-project.org
From: Tim Cole <tjc1@cam.ac.uk>
Subject: Mac Save As... bug
Content-Type: multipart/mixed; boundary="============_-1180632878==_============"

--============_-1180632878==_============
Content-Type: text/plain; charset="us-ascii" ; format="flowed"

# Your mailer is set to "none" (default on Windows),
# hence we cannot send the bug report directly from R.
# Please copy the bug report (after finishing it) to
# your favorite email program and send it to
#
#       r-bugs@r-project.org
#
######################################################

The history is as follows:

# set wd using <cmd>D dialog

# load Jim Ramsay's fda package, the splines package, and .Rdata
# the attachment fda.sit is Jim Ramsay's fda functions Stuffed
# the attachment .Rdata is the data file

attach("fda")
library(splines)
attach(".Rdata")

# attach data file
attach(colldata)

# run function plotfda which plots a graph
plotfda()

# select and save the graph to a new file using File>Save As...

# (incidentally the file save dialog does not open in the working
# directory - is this a bug in itself?)

# repeat the process - run plotfda
plotfda()
# and save the graph as Save As... using a different filename

# repeat the process a second time
plotfda()
# and R crashes when Save As... is selected.


--please do not edit the information below--

Version:
  platform = ppc-apple-macos
  arch = ppc
  os = MacOS
  system = ppc, MacOS
  status =
  major = 1
  minor = 5.1
  year = 2002
  month = 06
  day = 17
  language = R

Search Path:
  .GlobalEnv, colldata, file:Hard Disk:Documents:People:Jim 
Ramsay:functions:.Rdata, package:splines, package:ctest, Autoloads, 
package:base


-- 
Tim.Cole@ich.ucl.ac.uk   Phone +44(0)20 7905 2666  Fax +44(0)20 7242 2723
Paed Epidemiology & Biostats, Institute of Child Health, London WC1N 1EH, UK
--============_-1180632878==_============
Content-Id: <p05111b03b9a0ed6293f0@[131.111.99.150].0.0>
Content-Type: multipart/appledouble; boundary="============_-1180632878==_D============"

--============_-1180632878==_D============
Content-Transfer-Encoding: base64
Content-Type: application/applefile; name="%_RData"
Content-Disposition: attachment; filename="%_RData"
 ; modification-date="Sun, 1 Sep 2002 23:15:31 +0100"

AAUWBwACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAADAAAAPgAAAAYAAAAJAAAARAAAACAA
AAAIAAAAZAAAABAuUkRhdGEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUF
XBMFBVwTS20MAAUOEuI=
--============_-1180632878==_D============
Content-Type: application/octet-stream; name="_RData"
 ; x-mac-type="00000000"
 ; x-mac-creator="00000000"
Content-Disposition: attachment; filename="_RData"
Content-Transfer-Encoding: base64

UkRYMgpYCgAAAAIAAQUBAAEEAAAABAIAAAABAAAUCQAAAAouVHJhY2ViYWNrAAAA/gAA
BAIAAAABAAAUCQAAAAVDVi5NUgAABg4AAAAWQDbSmV7mXXJARyJBmZZpkkBKue/YpxEd
QEwIAS+3gkVATJatNjILYEBLg+qlaeKqQEtJOZpftMZASWaplZuTRkBIzauK/OywQElE
1SaBccdASYMAazIvrUBJqGD/blFKQEeD9KXDhaJARrJVYE0FxUBG8+FqjW0GQEeqOxrd
cZhASghYiD6HHUBMxNOCIdgIQFDDf7fYyRdAUv4oTa4OckBUiOj9XCwrQFTP5uC5s3gA
AAQCAAAAAQAAFAkAAAAFbmFtZXMAAAQQAAAAFgAABAkAAAACWDAAAAQJAAAAAlgxAAAE
CQAAAAJYMgAABAkAAAACWDMAAAQJAAAAAlg0AAAECQAAAAJYNQAABAkAAAACWDYAAAQJ
AAAAAlg3AAAECQAAAAJYOAAABAkAAAACWDkAAAQJAAAAA1gxMAAABAkAAAADWDExAAAE
CQAAAANYMTIAAAQJAAAAA1gxMwAABAkAAAADWDE0AAAECQAAAANYMTUAAAQJAAAAA1gx
NgAABAkAAAADWDE3AAAECQAAAANYMTgAAAQJAAAAA1gxOQAABAkAAAADWDIwAAAECQAA
AANYMjEAAAD+AAAEAgAAAAEAABQJAAAAB01lYW4uTVIAAAYOAAAAFkBguuTjnFt5QEip
ST9XV6FAOHp/hxonPEArCgNvhEXhQCHuZPhVHOpAGSJvj530cUAT54ouYWZRQA0XsJAe
Is1AB2B1kjI/AEAEc2q+OgYYQALRj7O0ngJAANiSsYo/1UAAQcfRVnVdP/6JBcEAoERA
AVuAPk1U10ABJf50tFJhQAM6r2JuTqVAB0mXi3iPp0ANmhcgc6w2QA2z3WBWHCFAEAcD
zwHr0kAPsXeQkardAAAEAgAAA/8AAAQQAAAAFgAABAkAAAACWDAAAAQJAAAAAlgxAAAE
CQAAAAJYMgAABAkAAAACWDMAAAQJAAAAAlg0AAAECQAAAAJYNQAABAkAAAACWDYAAAQJ
AAAAAlg3AAAECQAAAAJYOAAABAkAAAACWDkAAAQJAAAAA1gxMAAABAkAAAADWDExAAAE
CQAAAANYMTIAAAQJAAAAA1gxMwAABAkAAAADWDE0AAAECQAAAANYMTUAAAQJAAAAA1gx
NgAABAkAAAADWDE3AAAECQAAAANYMTgAAAQJAAAAA1gxOQAABAkAAAADWDIwAAAECQAA
AANYMjEAAAD+AAAEAgAAAAEAABQJAAAABVNELk1SAAAGDgAAABZAPovCqF681kA20gPt
ine+QCorN2X8ugBAHlFQA+1uL0AUgVB9J1cgQAup0Sh393lABbl7rI9HoT/9jyh7iSK6
P/cxZa3bOsk/9Ku5cQTvXj/zNCwJ4AOeP/FKCIuPcVA/7pVKvhenyj/ruMxNgl/AP+/f
NnVboJ8/8DuP4XEDBT/0BgMJDsCQP/rMU40NkAlAA9l2p2K1+UAGkL+AYYTuQApUXm7m
97NACmJWP+EBFQAABAIAAAP/AAAEEAAAABYAAAQJAAAAAlgwAAAECQAAAAJYMQAABAkA
AAACWDIAAAQJAAAAAlgzAAAECQAAAAJYNAAABAkAAAACWDUAAAQJAAAAAlg2AAAECQAA
AAJYNwAABAkAAAACWDgAAAQJAAAAAlg5AAAECQAAAANYMTAAAAQJAAAAA1gxMQAABAkA
AAADWDEyAAAECQAAAANYMTMAAAQJAAAAA1gxNAAABAkAAAADWDE1AAAECQAAAANYMTYA
AAQJAAAAA1gxNwAABAkAAAADWDE4AAAECQAAAANYMTkAAAQJAAAAA1gyMAAABAkAAAAD
WDIxAAAA/gAABAIAAAABAAAUCQAAAAhjb2xsZGF0YQAABxMAAAAZAAAEDQAAACwAAAdz
AAAHdAAAB3UAAAd2AAAHdwAAB3gAAAd5AAAHegAAB3sAAAd8AAAHfQAAB34AAAd/AAAH
gAAAB4EAAAeCAAAHgwAAB4QAAAeFAAAHhgAAB4cAAAeIAAAHiQAAB4oAAAeLAAAHjAAA
B40AAAeOAAAHjwAAB5AAAAeRAAAHkgAAB5MAAAeUAAAHlQAAB5YAAAeXAAAHmAAAB5kA
AAeaAAAHmwAAB5wAAAedAAAHngAABA0AAAAsAAUsFwAFQpAABTIJAAUrpgAFAwsABRn9
AATtNwAE2RcABOi/AATLLAAEzfQABOOTAAStuAAE+rUABS5xAAU6jAAFRk0ABTEJAAUd
cgAFRKwABQa9AAVGWwAFKTIABTmCAAUeTwAFSXkABT/kAAT/8QAE9ckABM73AARvzAAD
/IUAA09FAATyFAAD/4QABCh1AAS9vQAEsT4ABNb0AASGKQAEjv0ABPhnAASnAAAEYFYA
AAQOAAAALECZmx64UeuFQJmX9cKPXClAmbz1wo9cKUCZtI9cKPXDQJnRwo9cKPZAmdSP
XCj1w0CZ6Sj1wo9cQJnFo9cKPXFAmcKPXCj1w0CZ18KPXCj2QJnKPXCj1wpAmaX1wo9c
KUCZwnrhR64UQJm0wo9cKPZAmbiZmZmZmkCZydcKPXCkQJnDcKPXCj1AmbrhR64Ue0CZ
uxR64UeuQJnDXCj1wo9AmccAAAAAAECZxh64UeuFQJnSKPXCj1xAmdIAAAAAAECZ3rhR
64UfQJneFHrhR65AmeKFHrhR7ECZ3lwo9cKPQJnm9cKPXClAme2uFHrhSECZ78zMzMzN
QJnwo9cKPXFAmfMKPXCj10CZ++uFHrhSQJoDUeuFHrhAmg+PXCj1w0CaFVHrhR64QJoV
Cj1wo9dAmiaZmZmZmkCaK7hR64UfQJo1j1wo9cNAmjYUeuFHrkCaOj1wo9cKQJpWUeuF
HrgAAAQNAAAALAAA3o4AAOL+AADX+wAA0EkAANsEAAC/FgAAzrgAAMbRAADQSgAAvaYA
AMkhAADwsAAAxC4AANtdAADL0gAAx8EAANE9AADE9wAAvocAALT1AACtQgAAsbkAAKz0
AACl/AAAorYAAKFXAACf1wAAml8AAJTQAACOwwAAnLMAAIEtAAB3nQAAkYwAAJpfAABz
8gAAgD8AAHdHAABwygAAa2AAAFgbAABYHAAAWF0AAEyJAAAEDQAAACwAAFpAAABW+AAA
UqkAAFwJAABErgAAUEgAAE0XAABLuAAASJ8AAEosAABmvQAAR+IAAEzmAABL/wAARHkA
AEd1AABBTQAAQQkAAD3CAAA5mQAAPsYAADigAAA4jAAAMs4AADCBAAAtuAAALxMAACq/
AAAmhQAAMNAAACgxAAAk3AAAG50AACEmAAAanQAAFz4AABdnAAAVNgAAE28AABGDAAAO
agAAEGMAAA7JAAANEAAABA0AAAAsAAAqhgAAKiUAACyjAAAkqwAAJn4AACXQAAAlMgAA
I9gAACVEAAA4bwAAJBUAACmqAAAkEwAAInkAACFSAAAfDAAAHyUAAB5GAAAaKAAAHNwA
ABldAAAYfwAAFeQAABTRAAAUIAAAErQAABMLAAAQmAAAFSMAABG6AAATfQAAD5wAAAtq
AAAN4QAACyUAAAkXAAAKJQAACasAAAmiAAAIRQAAB9oAAAi0AAAHpQAABXIAAAQNAAAA
LAAAFogAABexAAAU8wAAFfgAABU2AAAVKAAAFCIAABSlAAAiNQAAFA0AABd0AAASYwAA
EbMAABDKAAAQ2gAAD7UAAA9UAAAObQAADlgAAA1MAAAMwwAADAUAAArAAAAK6gAAChUA
AAp/AAAJbwAADC8AAArRAAALpAAAChgAAAeDAAAGTgAABx0AAAVzAAAFYQAABfMAAAX4
AAAFsgAABNsAAASxAAAE9wAAA5cAAAK+AAAEDQAAACwAAA8QAAAOMQAADmIAAA5KAAAN
jQAADVEAAA4EAAAW7wAADh4AABFRAAAMUQAACvsAAAn5AAAKRwAACcwAAAmrAAAI+gAA
CaUAAAj2AAAIlQAAB+oAAAdMAAAHZwAABwsAAAc3AAAGfgAACFYAAAf4AAAIQgAAB/IA
AAYrAAAE6wAABBMAAAR/AAAEAAAAA5AAAAR1AAAEBQAAA60AAANrAAADFgAAAsoAAAI8
AAABxAAABA0AAAAsAAAJwQAACiAAAAmhAAAJMwAACVoAAAn+AAAQdQAACaMAAAqxAAAJ
BAAACGMAAAa4AAAGmQAABpoAAAbUAAAGsgAABqIAAAYyAAAGHgAABbQAAAVPAAAFfwAA
BTkAAAUbAAAE2QAABmAAAAafAAAGmQAABekAAATzAAAEYwAAA4sAAALtAAADbgAAAuUA
AALZAAAC9wAAAtgAAAKaAAAChAAAAhMAAAHpAAABjwAAAXwAAAQNAAAALAAAB34AAAey
AAAHlwAAB0wAAAfYAAANFQAAB5UAAAiDAAAHrgAABsIAAAWhAAAFyQAABSYAAAWKAAAF
bwAABYQAAAT5AAAE6QAABO8AAARyAAAEdwAABDAAAAR2AAAD9AAABRMAAAU5AAAFvgAA
BLsAAARZAAADqwAAAzYAAAKXAAACQQAAAk8AAAKKAAACAQAAAl4AAAJDAAACRwAAAeIA
AAFuAAABUAAAAUoAAAEdAAAEDQAAACwAAAUoAAAFHAAABWgAAAVPAAAJdwAABbgAAAXJ
AAAFKgAABNYAAAQOAAAD3AAAA38AAAOMAAADrgAAA7sAAAOCAAADmgAAA3wAAANYAAAD
gQAAA0kAAANoAAADIgAABAoAAARLAAAEwQAABCMAAAOYAAADFQAAAxUAAALsAAACPQAA
AcUAAAIuAAAB8wAAAdAAAAG4AAAB5wAAAZkAAAE1AAABGAAAATYAAADeAAAA7AAABA0A
AAAsAAAD+wAABCkAAAQdAAAHiAAABI8AAASRAAAENwAAA8QAAANmAAADIQAAAxkAAALg
AAAC2gAAAwoAAAMLAAAC8AAAAwMAAALMAAAC8QAAAtUAAALiAAACwQAAA5AAAAONAAAE
GgAAA08AAAM5AAAC2gAAAl8AAAJwAAACKAAAAaYAAAFyAAABpwAAAZ4AAAFYAAABZgAA
AVsAAAEdAAAA4wAAANIAAADkAAAA4wAAAMwAAAQNAAAALAAAA1QAAAONAAAG2AAABAcA
AAPoAAAD3AAAA4oAAAMfAAACwgAAAoIAAAKeAAACPgAAAogAAAKDAAACiwAAAt4AAAJd
AAACewAAApkAAAJwAAACcwAAA1QAAANpAAADsAAAAxgAAAL0AAACfgAAAnAAAAI6AAAC
BwAAAfIAAAGvAAABPgAAAWsAAAFNAAABQgAAARkAAAD/AAAA8wAAANIAAACyAAAA6gAA
AL4AAACoAAAEDQAAACwAAANGAAAGcAAAA70AAAOsAAADYgAAAzUAAALrAAACmwAAApEA
AAKbAAACPgAAAlIAAAICAAACTgAAAnUAAAJVAAACXgAAAn4AAAJKAAACLwAAAxwAAAMZ
AAADTgAAAs8AAALBAAACeQAAAkQAAAITAAACIAAAAc4AAAG7AAABjQAAAR4AAAFVAAAB
TQAAAPkAAAEXAAAA3QAAAMkAAADhAAAAxgAAAMkAAADDAAAAfwAABA0AAAAsAAAFhgAA
AzsAAANAAAAC/gAAAuYAAALIAAACgQAAAmMAAAJJAAACHgAAAkMAAAH6AAACAQAAAlUA
AAILAAACJAAAAj4AAAIgAAACLAAAAsQAAALLAAADJgAAAnYAAAKfAAACQwAAAkYAAAHf
AAACPAAAAcQAAAG4AAABdQAAAUAAAAEOAAABIQAAAOcAAADNAAAAvgAAAMUAAADQAAAA
ugAAAJkAAACjAAAAmwAAAIcAAAQNAAAALAAAA2MAAAPBAAADEAAAAuAAAAKPAAACdQAA
AkgAAAJsAAACLQAAAiUAAAItAAAB/wAAAhsAAAIZAAACUAAAAlsAAAJsAAACMAAAAscA
AAL2AAADVgAAAooAAAKbAAACbQAAAjkAAAInAAACEgAAAbMAAAHRAAABlQAAAWsAAAEQ
AAAA5gAAAP8AAADUAAAAmQAAAMgAAADeAAAAxAAAAJsAAACwAAAAlAAAAJgAAACJAAAE
DQAAACwAAAMtAAAC7gAAArwAAAKmAAACeAAAAlEAAAJtAAACUwAAAgoAAAIeAAAB7AAA
AegAAAHXAAACFAAAAhsAAAImAAACXgAAAp4AAAK+AAADAgAAAlwAAAKfAAACTQAAAhMA
AAIZAAAB9AAAAgIAAAHHAAABjQAAAYcAAAFgAAABBQAAANYAAADcAAAAtgAAAK4AAACz
AAAAxQAAAM4AAACkAAAAjgAAAKEAAACXAAAAigAABA0AAAAsAAADWQAAAuQAAAL3AAAC
0QAAAq8AAALZAAAC1gAAAnIAAAKGAAACVgAAAnAAAAI4AAACPQAAAncAAAKDAAAC1AAA
Ay8AAANJAAADnQAAAvcAAALsAAACggAAAnQAAAJzAAACRAAAAiAAAAIiAAAB+AAAAbUA
AAGkAAABZgAAAPgAAADiAAAA5AAAAPEAAADBAAAA2QAAAMcAAADTAAAAwQAAAKcAAADd
AAAAlwAAALUAAAQNAAAALAAAAsoAAAL0AAAC7QAAAsEAAALAAAACjwAAAo4AAAJ3AAAC
pQAAAp0AAAI3AAACSAAAAkYAAAJoAAAChgAAA3sAAAO0AAADqAAAAy4AAALlAAACngAA
AjwAAAJyAAACWQAAAkcAAAJEAAACAwAAAcIAAAHiAAABjgAAATIAAADsAAAAqwAAAPAA
AADcAAAAxQAAALoAAADDAAAA1QAAALYAAAClAAAAwQAAALIAAADOAAAEDQAAACwAAANU
AAADVQAAAyYAAANaAAADIQAAAxgAAAL1AAAC+QAAAuoAAAKLAAACrgAAAmcAAAKOAAAD
TgAABB0AAAR1AAAElQAAA2cAAANSAAAC3QAAArEAAAKpAAAC2AAAAoYAAAKpAAACRgAA
AhMAAAHdAAABkgAAAUUAAAEmAAAA2wAAAKwAAAD/AAAA5gAAAMcAAADpAAAA3AAAAM8A
AADbAAAAxQAAAL0AAAC+AAAAuQAABA0AAAAsAAAEKgAAA9EAAAQPAAAD/AAAA+MAAAO0
AAADlwAAA8gAAAOYAAADTgAAAzUAAAMwAAAEKQAABToAAAXtAAAFoAAABCMAAARYAAAD
ugAAA2gAAAM9AAADJAAAAwYAAAL6AAAC1QAAAmoAAAI7AAACAAAAAXAAAAFeAAABHAAA
ASIAAADcAAABFQAAANsAAADbAAAA6gAAAOQAAAECAAAA8wAAANcAAADNAAAA5gAAAMMA
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
ZWRmID0gMCkAAAQJAAAAAXsAAAQJAAAAAAAABAkAAAA1IyAgVGhpcyBmdW5jdGlvbiBv
bmUgb2YgdGhyZWUgdHlwZXMgb2YgbGluZWFyIG1vZGVsLCAAAAQJAAAAKyMgIGVhY2gg
bW9kZWwgY29uc2lzdGluZyBvZiBhIGNvbnN0YW50IHRlcm0AAAQJAAAARSMgIHBsdXMg
ZWl0aGVyIGEgY29udmVudGlvbmFsIGluZGVwZW5kZW50IHZhcmlhYmxlIG1hdHJpeCBv
ciBhIHNpbmdsZQAABAkAAAA9IyAgZnVuY3Rpb25hbCBpbmRlcGVuZGVudCB2YXJpYWJs
ZS4gIFRoZSBtb2RlbGluZyBwcm9ibGVtIG1heQAABAkAAABCIyAgYmUgZnVuY3Rpb25h
bCBlaXRoZXIgaW4gdGVybXMgb2YgdGhlIGluZGVwZW5kZW50IHZhcmlhYmxlIG9yIGlu
AAAECQAAAEIjICB0ZXJtcyBvZiB0aGUgZGVwZW5kZW50IHZhcmlhYmxlLCBidXQgYXQg
bGVhc3Qgb25lIHZhcmlhYmxlIG11c3QAAAQJAAAAESMgIGJlIGZ1bmN0aW9uYWwuAAAE
CQAAAEIjICBTbW9vdGhpbmcgaXMgY29udHJvbGxlZCBieSB0d28gcGFyYW1ldGVycyBY
TEFNQkRBIGFuZCBZTEFNQkRBLCAAAAQJAAAAPCMgIGNvcnJlc3BvbmRpbmcgdG8gdGhl
IGluZGVwZW5kZW50IGFuZCBkZXBlbmRlbnQgZnVuY3Rpb25hbAAABAkAAAAbIyAgdmFy
aWFibGVzLCByZXNwZWN0aXZlbHkuAAAECQAAAAwjICBBcmd1bWVudDoAAAQJAAAATCMg
IFhGRCAgICAgLi4uIElmIHRoZSBpbmRlcGVuZGVudCB2YXJpYWJsZSBpcyBtdWx0aXZh
cmlhdGUsIGEgZGVzaWduIG1hdHJpeC4AAAQJAAAASCMgICAgICAgICAgICAgIElmIHRo
ZSBpbmRlcGVuZGVudCB2YXJpYWJsZSBpcyBmdW5jdGlvbmFsLCBhICdmZCcgb2JqZWN0
LgAABAkAAABKIyAgWUZEICAgICAuLi4gSWYgdGhlIGRlcGVuZGVudCB2YXJpYWJsZSBp
cyBtdWx0aXZhcmlhdGUsIGEgZGVzaWduIG1hdHJpeC4AAAQJAAAARiMgICAgICAgICAg
ICAgIElmIHRoZSBkZXBlbmRlbnQgdmFyaWFibGUgaXMgZnVuY3Rpb25hbCwgYSAnZmQn
IG9iamVjdC4AAAQJAAAAIiMgIFdUVkVDICAgLi4uIGEgdmVjdG9yIG9mIHdlaWdodHMA
AAQJAAAARyMgIFhMRkQgICAgLi4uIEZvciB0aGUgaW5kZXBlbmRlbnQgdmFyaWFibGUs
IHRoZSBvcmRlciBkZXJpdmF0aXZlIHRvIGJlAAAECQAAACojICAgICAgICAgICAgICBw
ZW5hbGl6ZWQgaWYgYW4gaW50ZWdlciwgb3IAAAQJAAAASiMgICAgICAgICAgICAgIGEg
bGluZWFyIGRpZmZlcmVudGlhbCBvcGVyYXRvciBpZiBhIGZ1bmN0aW9uYWwgZGF0YSBv
YmplY3QuAAAECQAAAEUjICBZTEZEICAgIC4uLiBGb3IgdGhlIGRlcGVuZGVudCB2YXJp
YWJsZSwgdGhlIG9yZGVyIGRlcml2YXRpdmUgdG8gYmUAAAQJAAAAKiMgICAgICAgICAg
ICAgIHBlbmFsaXplZCBpZiBhbiBpbnRlZ2VyLCBvcgAABAkAAABKIyAgICAgICAgICAg
ICAgYSBsaW5lYXIgZGlmZmVyZW50aWFsIG9wZXJhdG9yIGlmIGEgZnVuY3Rpb25hbCBk
YXRhIG9iamVjdC4AAAQJAAAAQSMgIFhMQU1CREEgLi4uIGEgc21vb3RoaW5nIHBhcmFt
ZXRlciBmb3IgdGhlIGluZGVwZW5kZW50IHZhcmlhYmxlAAAECQAAAEEjICBZTEFNQkRB
IC4uLiBhIHNtb290aGluZyBwYXJhbWV0ZXIgZm9yIHRoZSAgIGRlcGVuZGVudCB2YXJp
YWJsZQAABAkAAABBIyAgWk1BVFJOSyAuLi4gYWN0dWFsIHJhbmsgb2YgaW5kZXBlbmRl
bnQgdmFyaWFibGUgbWF0cml4IGZvciB0aGUAAAQJAAAAMSMgICAgICAgICAgICAgIGZ1
bmN0aW9uYWwgRFYvbXVsdGl2YXJpYXRlIElWIGNhc2UAAAQJAAAAHiMgIFJldHVybnM6
ICBhIGxpc3QgY29udGFpbmluZwAABAkAAAAqIyAgQUxQSEEgIC4uLiBhIHZlY3RvciBv
ZiBpbnRlcmNlcHQgdmFsdWVzAAAECQAAAEIjICBSRUdGRCAgLi4uIGEgZnVuY3Rpb25h
bCBkYXRhIG9iamVjdCBmb3IgdGhlIHJlZ3Jlc3Npb24gZnVuY3Rpb24AAAQJAAAAHyMg
IExhc3QgbW9kaWZpZWQ6ICAgNCBKdWx5IDIwMDEAAAQJAAAARSMgICsrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKwAABAkAAAA5IyAgICAgICAgICAgICAgVGhlIG11bHRpdmFyaWF0ZSBJViBhbmQg
ZnVuY3Rpb25hbCBEViBjYXNlAAAECQAAAEUjICArKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysAAAQJAAAA
CAlDViA8LSAwAAAECQAAADQJaWYoaW5oZXJpdHMoeWZkLCAiZmQiKSAmJiAhKGluaGVy
aXRzKHhmZCwgImZkIikpKSB7AAAECQAAABYJCWlmKGlzLm1hdHJpeCh4ZmQpKSB7AAAE
CQAAABkJCQl6bWF0IDwtIGFzLm1hdHJpeCh4ZmQpAAAECQAAAAwJCQlmZCA8LSB5ZmQA
AAQJAAAAAwkJfQAABAkAAAAICQllbHNlIHsAAAQJAAAAMwkJCXN0b3AoIkZpcnN0IGFy
Z3VtZW50IG5vdCBhIHZlY3RvciBvciBhIG1hdHJpeC4iKQAABAkAAAADCQl9AAAECQAA
ABUJCWNvZWYgPC0gZ2V0Y29lZihmZCkAAAQJAAAAFAkJY29lZmQgPC0gZGltKGNvZWYp
AAAECQAAABcJCW5kaW0gPC0gbGVuZ3RoKGNvZWZkKQAABAkAAAAOCQlpZihuZGltIDwg
MikAAAQJAAAANwkJCXN0b3AoIkxpbmVhciBtb2RlbGluZyBpbXBvc3NpYmxlIHdpdGgg
MSByZXBsaWNhdGlvbiIAAAQJAAAABQkJCQkpAAAECQAAABQJCW5yZXAgPC0gbnJvdyh6
bWF0KQAABAkAAAAPCQlpZihuZGltID09IDMpAAAECQAAABMJCQludmFyIDwtIGNvZWZk
WzNdAAAECQAAABAJCWVsc2UgbnZhciA8LSAxAAAECQAAABkJCWJhc2lzZmQgPC0gZ2V0
YmFzaXMoZmQpAAAECQAAABoJCW5iYXNpcyA8LSBiYXNpc2ZkJG5iYXNpcwAABAkAAAAZ
CQlyYW5nZXd0IDwtIHJhbmdlKHd0dmVjKQAABAkAAAAUCQlpZihyYW5nZXd0WzFdIDwg
MCkAAAQJAAAAMgkJCXN0b3AoIldUVkVDIG11c3Qgbm90IGNvbnRhaW4gbmVnYXRpdmUg
dmFsdWVzLiIpAAAECQAAAB4JCWlmKHJhbmdld3RbMV0gPT0gcmFuZ2V3dFsyXSkAAAQJ
AAAADQkJCXd0dmFyIDwtIEYAAAQJAAAAEQkJZWxzZSB3dHZhciA8LSBUAAAECQAAABsJ
CWlmKGxlbmd0aCh3dHZlYykgIT0gbnJlcCkAAAQJAAAAIAkJCXN0b3AoIldUVkVDIG9m
IHdyb25nIGxlbmd0aCIpAAAECQAAABUJCWlmKG1pbih3dHZlYykgPD0gMCkAAAQJAAAA
MAkJCXN0b3AoIkFsbCB2YWx1ZXMgb2YgV1RWRUMgbXVzdCBiZSBwb3NpdGl2ZS4iKQAA
BAkAAAARCQlpZih5bGFtYmRhIDwgMCkAAAQJAAAAPgkJCXdhcm5pbmcoIlZhbHVlIG9m
IExBTUJEQSB3YXMgbmVnYXRpdmUsIGFuZCAwIHVzZWQgaW5zdGVhZC4iAAAECQAAAAUJ
CQkJKQAABAkAAAAdCQlpZih5bGFtYmRhID4gMCAmJiB5TGZkIDwgMCkAAAQJAAAAMwkJ
CXN0b3AoIk9yZGVyIG9mIGRlcml2YXRpdmUgbXVzdCBiZSBub25uZWdhdGl2ZS4iKQAA
BAkAAAAaCQlpZihkaW0oY29lZilbMl0gIT0gbnJlcCkAAAQJAAAAQgkJCXN0b3AoIk51
bWJlciBvZiByb3dzIG9mIFpNQVQgbXVzdCBlcXVhbCBudW1iZXIgb2YgcmVwbGljYXRp
b25zIgAABAkAAAAFCQkJCSkAAAQJAAAAEQkJcCA8LSBuY29sKHptYXQpAAAECQAAABAJ
CWlmKG52YXIgPiAxKSB7AAAECQAAACgJCQliY29lZiA8LSBhcnJheSgwLCBjKG5iYXNp
cywgcCwgbnZhcikpAAAECQAAAAMJCX0AAAQJAAAACAkJZWxzZSB7AAAECQAAACAJCQli
Y29lZiA8LSBtYXRyaXgoMCwgbmJhc2lzLCBwKQAABAkAAAADCQl9AAAECQAAABEJCWlm
KHptYXRybmsgPiBwKQAABAkAAABGCQkJc3RvcCgiU3BlY2lmaWVkIHJhbmsgb2YgWk1B
VCBtdXN0IG5vdCBiZSBncmVhdGVyIHRoYW4gbm8uIGNvbHVtbnMuIgAABAkAAAAFCQkJ
CSkAAAQJAAAAEwkJaWYoem1hdHJuayA8IHApIHsAAAQJAAAAFwkJCXJvb3R3IDwtIHNx
cnQod3R2ZWMpAAAECQAAAC0JCQl6bWF0c3ZkIDwtIHN2ZChzd2VlcCh6bWF0LCAyLCBy
b290dywgIioiKSkAAAQJAAAAFQkJCXptYXRkIDwtIHptYXRzdmQkZAAABAkAAAAaCQkJ
aWYoem1hdGRbem1hdHJua10gPD0gMCkAAAQJAAAACQkJCQlzdG9wKAAABAkAAAAsCQkJ
CSAgIlpNQVQgaXMgbm90IG9mIHNwZWNpZmllZCBjb2x1bW4gcmFuayIAAAQJAAAABwkJ
CQkgICkAAAQJAAAAFQkJCWluZGV4IDwtIDE6em1hdHJuawAABAkAAAAwCQkJemdpbnZ0
IDwtIHN3ZWVwKHptYXRzdmQkdVssIGluZGV4XSwgMSwgem1hdGRbAAAECQAAACoJCQkJ
aW5kZXhdLCAiLyIpICUqJSB0KHptYXRzdmQkdlssIGluZGV4XSkAAAQJAAAAEgkJCWlm
KG52YXIgPT0gMSkgewAABAkAAAAsCQkJCWJjb2VmIDwtIHN3ZWVwKGNvZWYsIDEsIHJv
b3R3LCAiKiIpICUqJSAAAAQJAAAADAkJCQkgIHpnaW52dAAABAkAAAAECQkJfQAABAkA
AAAJCQkJZWxzZSB7AAAECQAAABYJCQkJZm9yKGogaW4gMTpudmFyKSB7AAAECQAAAC0J
CQkJICBiY29lZlssICAsIGpdIDwtIHN3ZWVwKGNvZWZbLCAgLCBqXSwgMSwAAAQJAAAA
HgkJCQkgICAgcm9vdHcsICIqIikgJSolIHpnaW52dAAABAkAAAAFCQkJCX0AAAQJAAAA
BAkJCX0AAAQJAAAAAwkJfQAABAkAAAAICQllbHNlIHsAAAQJAAAAEgkJCWlmKG52YXIg
PT0gMSkgewAABAkAAAArCQkJCWJjb2VmIDwtIHQobHNmaXQoem1hdCwgdChjb2VmKSwg
d3R2ZWMsIAAABAkAAAAUCQkJCSAgaW50ID0gRikkY29lZikAAAQJAAAABAkJCX0AAAQJ
AAAACQkJCWVsc2UgewAABAkAAAAWCQkJCWZvcihqIGluIDE6bnZhcikgewAABAkAAAAt
CQkJCSAgYmNvZWZbLCAgLCBqXSA8LSB0KGxzZml0KHptYXQsIHQoY29lZlssAAAECQAA
ACQJCQkJICAgICwgal0pLCB3dHZlYywgaW50ID0gRikkY29lZikAAAQJAAAABQkJCQl9
AAAECQAAAAQJCQl9AAAECQAAAAMJCX0AAAQJAAAAHwkJeWhhdGNvZWYgPC0gYmNvZWYg
JSolIHQoem1hdCkAAAQJAAAAEAkJaWYobnZhciA+IDEpIHsAAAQJAAAAMgkJCWRpbW5h
bWVzKGJjb2VmKSA8LSBsaXN0KE5VTEwsIGRpbW5hbWVzKHptYXQpW1syAAAECQAAACAJ
CQkJXV0sIGRpbW5hbWVzKHlmZFtbMV1dKVtbM11dKQAABAkAAAADCQl9AAAECQAAAAgJ
CWVsc2UgewAABAkAAAAyCQkJZGltbmFtZXMoYmNvZWYpIDwtIGxpc3QoTlVMTCwgZGlt
bmFtZXMoem1hdClbWzIAAAQJAAAABwkJCQldXSkAAAQJAAAAAwkJfQAABAkAAAAZCQlm
ZG5hbWVzIDwtIGdldG5hbWVzKGZkKQAABAkAAAAXCQlyZWdmZG5hbWVzIDwtIGZkbmFt
ZXMAAAQJAAAALQkJcmVnZmRuYW1lc1tbMl1dIDwtIHBhc3RlKCJSZWcuIENvZWYuIiwg
MTpwKQAABAkAAAAhCQlyZWdmZG5hbWVzW1szXV0gPC0gIlJlZy4gQ29lZi4iAAAECQAA
AC0JCW5hbWVzKHJlZ2ZkbmFtZXMpWzJdIDwtICJSZWcuIENvZWZmaWNpZW50cyIAAAQJ
AAAAMAkJcmVnZmQgPC0gY3JlYXRlLmZkKGJjb2VmLCBiYXNpc2ZkLCByZWdmZG5hbWVz
KQAABAkAAAAxCQl5aGF0ZmQgPC0gY3JlYXRlLmZkKHloYXRjb2VmLCBiYXNpc2ZkLCBm
ZG5hbWVzKQAABAkAAAAmCQlsaW5tb2RsaXN0IDwtIGxpc3QoMCwgcmVnZmQsIHloYXRm
ZCkAAAQJAAAANAkJbmFtZXMobGlubW9kbGlzdCkgPC0gYygiYWxwaGEiLCAicmVnZmQi
LCAieWhhdGZkIikAAAQJAAAAFAkJcmV0dXJuKGxpbm1vZGxpc3QpAAAECQAAAAIJfQAA
BAkAAABFIyAgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrAAAECQAAADgjICAgICAgICAgICAgIFRoZSBm
dW5jdGlvbmFsIElWIGFuZCBtdWx0aXZhcmlhdGUgRFYgY2FzZQAABAkAAABFIyAgKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrAAAECQAAAEUjdGhpcyBpcyB0aGUgY2FzZSBvZiBpbnRlcmVzdCAt
IG9idGFpbiB0aGUgQ1YobGFtYmRhKSBzY29yZSBzdGF0aXN0aWMAAAQJAAAAKiNhcyBp
biBzZWN0aW9uIDEwLjggb2YgUmFtc2F5ICAmIFNpbHZlcm1hbgAABAkAAAABIwAABAkA
AAA0CWlmKGluaGVyaXRzKHhmZCwgImZkIikgJiYgIShpbmhlcml0cyh5ZmQsICJmZCIp
KSkgewAABAkAAAAXCQlpZihpcy5udW1lcmljKHlmZCkpIHsAAAQJAAAAGQkJCXltYXQg
PC0gYXMubWF0cml4KHlmZCkAAAQJAAAADAkJCWZkIDwtIHhmZAAABAkAAAADCQl9AAAE
CQAAAAgJCWVsc2UgewAABAkAAAAOCQkJc3RvcChwYXN0ZSgAAAQJAAAAMwkJCQkiU2Vj
b25kIGFyZ3VtZW50IG5vdCBhIGZ1bmN0aW9uYWwgZGF0YSBvYmplY3QiLAAABAkAAAAb
CQkJCSIgYW5kIGlzIG5vdCBudW1lcmljIiwgAAAECQAAACoJCQkJIndoZW4gZmlyc3Qg
YXJndW1lbnQgaXMgZnVuY3Rpb25hbC4iKSkAAAQJAAAAAwkJfQAABAkAAAAVCQljb2Vm
IDwtIGdldGNvZWYoZmQpAAAECQAAABQJCWNvZWZkIDwtIGRpbShjb2VmKQAABAkAAAAX
CQluZGltIDwtIGxlbmd0aChjb2VmZCkAAAQJAAAADgkJaWYobmRpbSA8IDIpAAAECQAA
ADcJCQlzdG9wKCJMaW5lYXIgbW9kZWxpbmcgaW1wb3NzaWJsZSB3aXRoIDEgcmVwbGlj
YXRpb24iAAAECQAAAAUJCQkJKQAABAkAAAAcCQlpZihsZW5ndGgoZGltKGNvZWYpKSA9
PSAzKQAABAkAAABBCQkJc3RvcCgiVGhpcyB2ZXJzaW9uIGNhbm5vdCBhY2NvbW1vZGF0
ZSBtdWx0aXBsZSBmdW5jdGlvbmFsIElWcyIAAAQJAAAABQkJCQkpAAAECQAAABIJCW5y
ZXAgPC0gY29lZmRbMl0AAAQJAAAAFAkJbnZhciA8LSBuY29sKHltYXQpAAAECQAAABkJ
CXJhbmdld3QgPC0gcmFuZ2Uod3R2ZWMpAAAECQAAABQJCWlmKHJhbmdld3RbMV0gPCAw
KQAABAkAAAAyCQkJc3RvcCgiV1RWRUMgbXVzdCBub3QgY29udGFpbiBuZWdhdGl2ZSB2
YWx1ZXMuIikAAAQJAAAAHgkJaWYocmFuZ2V3dFsxXSA9PSByYW5nZXd0WzJdKQAABAkA
AAANCQkJd3R2YXIgPC0gRgAABAkAAAARCQllbHNlIHd0dmFyIDwtIFQAAAQJAAAAGQkJ
YmFzaXNmZCA8LSBnZXRiYXNpcyhmZCkAAAQJAAAAGgkJbmJhc2lzIDwtIGJhc2lzZmQk
bmJhc2lzAAAECQAAAB8JCXR5cGUgPC0gZ2V0YmFzaXN0eXBlKGJhc2lzZmQpAAAECQAA
ABgJCWlmKG5yb3coeW1hdCkgIT0gbnJlcCkAAAQJAAAAQgkJCXN0b3AoIk51bWJlciBv
ZiByb3dzIG9mIFlNQVQgbXVzdCBlcXVhbCBudW1iZXIgb2YgcmVwbGljYXRpb25zIgAA
BAkAAAAFCQkJCSkAAAQJAAAAFQkJb25lIDwtIHJlcCgxLCBucmVwKQAABAkAAAAbCQlp
ZihsZW5ndGgod3R2ZWMpICE9IG5yZXApAAAECQAAACAJCQlzdG9wKCJXVFZFQyBvZiB3
cm9uZyBsZW5ndGgiKQAABAkAAAARCQlpZih4bGFtYmRhIDwgMCkAAAQJAAAAPwkJCXdh
cm5pbmcoIlZhbHVlIG9mIFhMQU1CREEgd2FzIG5lZ2F0aXZlLCBhbmQgMCB1c2VkIGlu
c3RlYWQuIgAABAkAAAAFCQkJCSkAAAQJAAAAIgkJam1hdCA8LSBpbnByb2QoYmFzaXNm
ZCwgYmFzaXNmZCkAAAQJAAAAJgkJem1hdCA8LSB0KHJiaW5kKG9uZSwgam1hdCAlKiUg
Y29lZikpAAAECQAAACIJCWJjb2VmIDwtIG1hdHJpeCgwLCBuYmFzaXMsIG52YXIpAAAE
CQAAABcJCWFscGhhIDwtIHJlcCgwLCBudmFyKQAABAkAAAAZCQlpbmRleCA8LSAyOihu
YmFzaXMgKyAxKQAABAkAAAAgCQlpZih4bGFtYmRhIDw9IDAgJiYgeGVkZiA8IDIpIHsA
AAQJAAAAMyMgIG5vIHNtb290aGluZyByZXF1aXJlZCwgZG8gb3JkaW5hcnkgbGVhc3Qg
c3F1YXJlcwAABAkAAAAqCQkJaWYobmNvbCh6bWF0KSA+IG5yb3coem1hdCkpIHN0b3Ao
cGFzdGUoAAAECQAAADgJCQkJICAiRm9yIFhMQU1CREEgPSAwLCBuby4gb2YgYmFzaXMg
ZnVuY3Rpb25zIGV4Y2VlZHMiLAAABAkAAAAwCQkJCSAgIm51bWJlciBvZiByZXBsaWNh
dGlvbnMuIE5vIGZpdCBwb3NzaWJsZS4iAAAECQAAAAgJCQkJICApKQAABAkAAAADCQl9
AAAECQAAAA0JCWlmKHd0dmFyKSB7AAAECQAAACUJCQl0ZW1wIDwtIHN3ZWVwKHptYXQs
IDIsIHd0dmVjLCAiKiIpAAAECQAAACAJCQlDbWF0IDwtIGNyb3NzcHJvZCh0ZW1wLCB6
bWF0KQAABAkAAAAgCQkJRG1hdCA8LSBjcm9zc3Byb2QodGVtcCwgeW1hdCkAAAQJAAAA
AwkJfQAABAkAAAAICQllbHNlIHsAAAQJAAAAGgkJCUNtYXQgPC0gY3Jvc3Nwcm9kKHpt
YXQpAAAECQAAACAJCQlEbWF0IDwtIGNyb3NzcHJvZCh6bWF0LCB5bWF0KQAABAkAAAAD
CQl9AAAECQAAACAJCWlmKHhsYW1iZGEgPiAwIHx8IHhlZGYgPj0gMikgewAABAkAAAAV
IyAgc21vb3RoaW5nIHJlcXVpcmVkAAAECQAAACwJCQlrbWF0IDwtIG1hdHJpeCgwLCBu
YmFzaXMgKyAxLCBuYmFzaXMgKyAxKQAABAkAAAAyCQkJa21hdFtpbmRleCwgaW5kZXhd
IDwtIGlucHJvZChiYXNpc2ZkLCBiYXNpc2ZkLCAAAAQJAAAADgkJCXhMZmQsIHhMZmQp
AAAECQAAACAJCQlDbWF0IDwtIENtYXQgKyB4bGFtYmRhICoga21hdAAABAkAAAAAAAAE
CQAAADIJCQlTPC0gem1hdCAlKiUgc29sdmUoQ21hdCkgJSolIHQoem1hdCkjaGF0IG1h
dHJpeAAABAkAAAAiCQlFREYxIDwtIHN1bShkaWFnKFMpKQkjIHRyYWNlIChTKQAABAkA
AAAuCQlFREYyIDwtIHN1bShkaWFnKGNyb3NzcHJvZChTKSkpICN0cmFjZSAoU1MnKQAA
BAkAAAA8CQlFREYzIDwtIHN1bShkaWFnKDIgKiBTIC0gY3Jvc3Nwcm9kKFMpKSkgIyB0
cmFjZSAoMlMgLSBTJ1MpAAAECQAAACgJCXByaW50KCBwYXN0ZShwYXN0ZSgnRURGJywx
OjMsc2VwPScnKSwgAAAECQAAADUJCXJvdW5kKGMoRURGMSxFREYyLEVERjMpLDIpLHNl
cD0nPScsY29sbGFwc2U9JyAgICcpLAAABAkAAAALCQkJcXVvdGU9RikAAAQJAAAAAwkJ
fQAABAkAAAA0CQl0ZW1wIDwtIHN5bXNvbHZlKENtYXQsIERtYXQpCSMgY3NpIGluIGVx
IDEwLjE1IFImUwAABAkAAAACCQkAAAQJAAAAAAAABAkAAAAVI1MgaXMgdGhlIGhhdCBt
YXRyaXggAAAECQAAABsjdXNlIEJ1amEgZXQgYWwuJ3Mgbm90YXRpb24AAAQJAAAAASMA
AAQJAAAAAAAABAkAAAAQCQlTaWkgPC0gZGlhZyhTKQAABAkAAAAYCQl5aGF0IDwtIHpt
YXQgJSolIHRlbXAJAAAECQAAAAIJIwAABAkAAAAqCSN0aGlzIHdpbGwgb25seSB3b3Jr
IGlmIHlmZCBpcyBhIHZlY3RvcjsgAAAECQAAAAIJIwAABAkAAAAnCQlDViA8LSBzdW0o
KCh5ZmQgLSB5aGF0KS8oMSAtIFNpaSkpXjIpAAAECQAAACQJCWJjb2VmIDwtIGFzLm1h
dHJpeCh0ZW1wW2luZGV4LCAgXSkAAAQJAAAAFQkJYWxwaGEgPC0gdGVtcFsxLCAgXQAA
BAkAAAAaCQlmZG5hbWVzIDwtIGdldG5hbWVzKHhmZCkAAAQJAAAAFwkJcmVnZmRuYW1l
cyA8LSBmZG5hbWVzAAAECQAAADAJCXJlZ2ZkbmFtZXNbWzJdXSA8LSBwYXN0ZSgiUmVn
LiBDb2VmLiIsIDE6bnZhcikAAAQJAAAAIQkJcmVnZmRuYW1lc1tbM11dIDwtICJSZWcu
IENvZWYuIgAABAkAAAAtCQluYW1lcyhyZWdmZG5hbWVzKVsyXSA8LSAiUmVnLiBDb2Vm
ZmljaWVudHMiAAAECQAAADAJCXJlZ2ZkIDwtIGNyZWF0ZS5mZChiY29lZiwgYmFzaXNm
ZCwgcmVnZmRuYW1lcykAAAQJAAAAOQkJbGlubW9kbGlzdCA8LSBsaXN0KGFscGhhLCBy
ZWdmZCwgeWhhdCwgQ1YsIEVERjEsIEVERjIsIAAABAkAAAAICQkJRURGMykAAAQJAAAA
OQkJbmFtZXMobGlubW9kbGlzdCkgPC0gYygiYWxwaGEiLCAicmVnZmQiLCAieWhhdCIs
ICJDViIsIAAABAkAAAAaCQkJIkVERjEiLCAiRURGMiIsICJFREYzIikAAAQJAAAAFAkJ
cmV0dXJuKGxpbm1vZGxpc3QpAAAECQAAAAIJfQAABAkAAABFIyAgKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrAAAECQAAADYjICAgICAgICAgICAgIFRoZSBmdW5jdGlvbmFsIElWIGFuZCBmdW5j
dGlvbmFsIERWIGNhc2UAAAQJAAAARSMgICsrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKwAABAkAAAAxCWlm
KGluaGVyaXRzKHhmZCwgImZkIikgJiYgaW5oZXJpdHMoeWZkLCAiZmQiKSkgewAABAkA
AAAXCQljb2VmeCA8LSBnZXRjb2VmKHhmZCkAAAQJAAAAFwkJY29lZnkgPC0gZ2V0Y29l
Zih5ZmQpAAAECQAAABYJCWNvZWZkeCA8LSBkaW0oY29lZngpAAAECQAAABYJCWNvZWZk
eSA8LSBkaW0oY29lZnkpAAAECQAAABkJCW5kaW14IDwtIGxlbmd0aChjb2VmZHgpAAAE
CQAAABkJCW5kaW15IDwtIGxlbmd0aChjb2VmZHkpAAAECQAAAA8JCWlmKG5kaW14IDwg
MikAAAQJAAAANwkJCXN0b3AoIkxpbmVhciBtb2RlbGluZyBpbXBvc3NpYmxlIHdpdGgg
MSByZXBsaWNhdGlvbiIAAAQJAAAABQkJCQkpAAAECQAAABAJCWlmKG5kaW14ID09IDMp
AAAECQAAAEEJCQlzdG9wKCJUaGlzIHZlcnNpb24gY2Fubm90IGFjY29tbW9kYXRlIG11
bHRpcGxlIGZ1bmN0aW9uYWwgSVZzIgAABAkAAAAFCQkJCSkAAAQJAAAAEwkJbnJlcCA8
LSBjb2VmZHhbMl0AAAQJAAAAFwkJaWYoY29lZmR5WzJdICE9IG5yZXApAAAECQAAAEoJ
CQlzdG9wKCJOdW1iZXJzIG9mIG9ic2VydmF0aW9ucyBpbiB0aGUgZmlyc3QgdHdvIGFy
Z3VtZW50cyBkbyBub3QgbWF0Y2guIgAABAkAAAAFCQkJCSkAAAQJAAAAGQkJcmFuZ2V3
dCA8LSByYW5nZSh3dHZlYykAAAQJAAAAFAkJaWYocmFuZ2V3dFsxXSA8IDApAAAECQAA
ADIJCQlzdG9wKCJXVFZFQyBtdXN0IG5vdCBjb250YWluIG5lZ2F0aXZlIHZhbHVlcy4i
KQAABAkAAAAeCQlpZihyYW5nZXd0WzFdID09IHJhbmdld3RbMl0pAAAECQAAAA0JCQl3
dHZhciA8LSBGAAAECQAAABEJCWVsc2Ugd3R2YXIgPC0gVAAABAkAAAAbCQliYXNpc3hm
ZCA8LSBnZXRiYXNpcyh4ZmQpAAAECQAAABwJCW5iYXNpc3ggPC0gYmFzaXN4ZmQkbmJh
c2lzAAAECQAAABgJCXR5cGV4IDwtIGJhc2lzeGZkJHR5cGUAAAQJAAAAHgkJcmFuZ2V2
eCA8LSBiYXNpc3hmZCRyYW5nZXZhbAAABAkAAAAbCQliYXNpc3lmZCA8LSBnZXRiYXNp
cyh5ZmQpAAAECQAAABwJCW5iYXNpc3kgPC0gYmFzaXN5ZmQkbmJhc2lzAAAECQAAABgJ
CXR5cGV5IDwtIGJhc2lzeWZkJHR5cGUAAAQJAAAAHgkJcmFuZ2V2eSA8LSBiYXNpc3lm
ZCRyYW5nZXZhbAAABAkAAAAbCQlpZihsZW5ndGgod3R2ZWMpICE9IG5yZXApAAAECQAA
ACAJCQlzdG9wKCJXVFZFQyBvZiB3cm9uZyBsZW5ndGgiKQAABAkAAAAVCQlpZihtaW4o
d3R2ZWMpIDw9IDApAAAECQAAADAJCQlzdG9wKCJBbGwgdmFsdWVzIG9mIFdUVkVDIG11
c3QgYmUgcG9zaXRpdmUuIikAAAQJAAAAEQkJaWYoeGxhbWJkYSA8IDApAAAECQAAAD4J
CQl3YXJuaW5nKCJWYWx1ZSBvZiBMQU1CREEgd2FzIG5lZ2F0aXZlLCBhbmQgMCB1c2Vk
IGluc3RlYWQuIgAABAkAAAAFCQkJCSkAAAQJAAAAJQkJam1hdHggPC0gaW5wcm9kKGJh
c2lzeGZkLCBiYXNpc3hmZCkAAAQJAAAAMwkJcGVubWF0eCA8LSBpbnByb2QoYmFzaXN4
ZmQsIGJhc2lzeGZkLCB4TGZkLCB4TGZkKQAABAkAAAASCQlpZihuZGlteCA9PSAyKSB7
AAAECQAAADIJCQl6bWF0eCA8LSB0KHJiaW5kKG1hdHJpeCgxLCAxLCBucmVwKSwgam1h
dHggJSolIAAABAkAAAALCQkJCWNvZWZ4KSkAAAQJAAAAAwkJfQAABAkAAAAICQllbHNl
IHsAAAQJAAAAMgkJCXptYXR4IDwtIHQocmJpbmQobWF0cml4KDEsIDEsIG5yZXApLCBq
bWF0eCAlKiUgAAAECQAAABMJCQkJY29lZnhbLCAgLCAxXSkpAAAECQAAAAMJCX0AAAQJ
AAAAJQkJam1hdHkgPC0gaW5wcm9kKGJhc2lzeWZkLCBiYXNpc3lmZCkAAAQJAAAAMwkJ
cGVubWF0eSA8LSBpbnByb2QoYmFzaXN5ZmQsIGJhc2lzeWZkLCB5TGZkLCB5TGZkKQAA
BAkAAAAaCQlhbHBoYSA8LSByZXAoMCwgbmJhc2lzeSkAAAQJAAAAGgkJaW5kZXggPC0g
MjoobmJhc2lzeCArIDEpAAAECQAAAC4JCWttYXR4IDwtIG1hdHJpeCgwLCBuYmFzaXN4
ICsgMSwgbmJhc2lzeCArIDEpAAAECQAAACAJCWttYXR4W2luZGV4LCBpbmRleF0gPC0g
cGVubWF0eAAABAkAAAANCQlpZih3dHZhcikgewAABAkAAAAnCQkJem1hdHcgPC0gc3dl
ZXAoem1hdHgsIDIsIHd0bWF0LCAiKiIpAAAECQAAADUJCQl0ZW1weCA8LSBzb2x2ZShj
cm9zc3Byb2Qoem1hdHcsIHptYXR4KSArIHhsYW1iZGEgKgAABAkAAAAKCQkJCWttYXR4
KQAABAkAAAAsCQkJdGVtcHkgPC0gc29sdmUoam1hdHkgKyB5bGFtYmRhICogcGVubWF0
eSkAAAQJAAAAMwkJCWdtYXQgPC0gdGVtcHggJSolIGNyb3NzcHJvZCh6bWF0dywgdChj
b2VmeVssICAsIAAABAkAAAAcCQkJCTFdKSkgJSolIGptYXR5ICUqJSB0ZW1weQAABAkA
AAADCQl9AAAECQAAAAgJCWVsc2UgewAABAkAAAAvCQkJdGVtcHggPC0gc29sdmUoY3Jv
c3Nwcm9kKHptYXR4KSArIHhsYW1iZGEgKiAAAAQJAAAACgkJCQlrbWF0eCkAAAQJAAAA
LAkJCXRlbXB5IDwtIHNvbHZlKGptYXR5ICsgeWxhbWJkYSAqIHBlbm1hdHkpAAAECQAA
ABMJCQlpZihuZGlteSA9PSAyKSB7AAAECQAAACkJCQkJZ21hdCA8LSB0ZW1weCAlKiUg
Y3Jvc3Nwcm9kKHptYXR4LCB0KAAABAkAAAAhCQkJCSAgY29lZnkpKSAlKiUgam1hdHkg
JSolIHRlbXB5AAAECQAAAAQJCQl9AAAECQAAAAkJCQllbHNlIHsAAAQJAAAAKQkJCQln
bWF0IDwtIHRlbXB4ICUqJSBjcm9zc3Byb2Qoem1hdHgsIHQoAAAECQAAACkJCQkJICBj
b2VmeVssICAsIDFdKSkgJSolIGptYXR5ICUqJSB0ZW1weQAABAkAAAAECQkJfQAABAkA
AAADCQl9AAAECQAAAB8JCXloYXRjb2VmIDwtIHQoem1hdHggJSolIGdtYXQpAAAECQAA
ACYJCWJjb2VmIDwtIG1hdHJpeCgwLCBuYmFzaXN4LCBuYmFzaXN5KQAABAkAAAAZCQli
Y29lZiA8LSBnbWF0W2luZGV4LCAgXQAABAkAAAAgCQlhbHBoYSA8LSBhcy5tYXRyaXgo
Z21hdFsxLCAgXSkAAAQJAAAAGgkJZmRuYW1lcyA8LSBnZXRuYW1lcyh5ZmQpAAAECQAA
ABkJCWFscGhhZmRuYW1lcyA8LSBmZG5hbWVzAAAECQAAACIJCWFscGhhZmRuYW1lc1tb
Ml1dIDwtICJJbnRlcmNlcHQiAAAECQAAACcJCW5hbWVzKGFscGhhZmRuYW1lcylbMl0g

==> 1991.audit <==
Tue Sep 17 11:21:40 2002	maechler	foobar
Tue Sep 17 11:21:40 2002	maechler	moved from incoming to Macintosh
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2276 *
Subject: Mac specific - quartz leads to crash
From: h95mr@mun.ca
Date: Fri, 8 Nov 2002 16:28:50 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2276 <==
From h95mr@mun.ca  Fri Nov  8 16:28:51 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA09422
	for <R-bugs@biostat.ku.dk>; Fri, 8 Nov 2002 16:28:50 +0100 (MET)
Date: Fri, 8 Nov 2002 16:28:50 +0100 (MET)
From: h95mr@mun.ca
Message-Id: <200211081528.QAA09422@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: Mac specific - quartz leads to crash

Full_Name: Martin Renner
Version: 1.6.0
OS: MacOS X 10.2.1
Submission from: (NULL) (134.153.109.176)


Opening a new graphics device with quartz () produces a quartz window but it
cannot be resized, there's no red close-button and R usually crashes within the
next 20 seconds (unexpectedly quit). Also, I can't copy this window (copy does
not do anything, old clipboard is not replaced). 

Thank you,

Martin

==> 2276.audit <==
Sat Nov  9 10:43:53 2002	ripley	moved from incoming to Macintosh
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2550 *
Subject: eigen() error: R Version 1.6.1 on Mac OS X
From: "Daniel E. Weeks" <dweeks@watson.hgen.pitt.edu>
Date: Fri, 14 Feb 2003 15:36:15 -0500
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2550 <==
From dweeks@watson.hgen.pitt.edu Fri Feb 14 21:37:02 2003
Received: from mb2i0.ns.pitt.edu (mb2i0.ns.pitt.edu [136.142.186.36])
	by pubhealth.ku.dk (8.12.7/8.12.7) with ESMTP id h1EKb135007461
	for <r-bugs@biostat.ku.dk>; Fri, 14 Feb 2003 21:37:01 +0100 (MET)
Received: from [136.142.114.28] by pitt.edu (PMDF V5.2-32 #41462)
 with ESMTP id <01KSFLSIBTTC005CFU@mb2i0.ns.pitt.edu> for r-bugs@biostat.ku.dk;
 Fri, 14 Feb 2003 15:36:11 EST
Date: Fri, 14 Feb 2003 15:36:15 -0500
From: "Daniel E. Weeks" <dweeks@watson.hgen.pitt.edu>
Subject: eigen() error: R Version 1.6.1 on Mac OS X
To: r-bugs@biostat.ku.dk
Cc: jsw@cdc.noaa.gov
Message-id: <BA72BD6F.4A42%dweeks@watson.hgen.pitt.edu>
MIME-version: 1.0
Content-type: text/plain; charset="US-ASCII"
Content-transfer-encoding: 7bit
User-Agent: Microsoft-Entourage/10.1.1.2418

Consider this matrix:

> sg
     X1    X2    X3    X4    X5
1 3.240 2.592 2.592 2.592 2.592
2 2.592 3.240 2.592 2.592 2.592
3 2.592 2.592 3.240 2.592 2.592
4 2.592 2.592 2.592 3.240 2.592
5 2.592 2.592 2.592 2.592 3.240

If I compute the eigenvalues of the 'sg' matrix using R Version 1.5.0
(2002-04-29) under Linux (or using Version 1.4.0  (2001-12-19) under
Solaris), I obtain:

> eigen(sg)
$values
[1] 13.608  0.648  0.648  0.648  0.648

I also obtain the same eigenvalues under R Version 1.5.1  (2002-06-17) under
Mac OS X 10.2.3.

However, if I compute the eigenvalues of the 'sg' matrix using R Version
1.6.1  (2002-11-01) under Mac OS X 10.2.3, I obtain a different answer:

> eigen(sg)
$values
[1] 13.123930  0.648000  0.648000  0.648000 -1.732930
> det(sg)
[1] 2.399354
> det(sg,method="eigenvalues")
[1] -7.312317


Thanks,
 -- Dan --


==> 2550.audit <==
Fri Feb 21 13:17:34 2003	ripley	foobar
Fri Feb 21 13:17:34 2003	ripley	moved from incoming to Macintosh
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2725 *
Subject: Default broswer for OS X
From: james@freelancepropaganda.com
Date: Fri, 4 Apr 2003 06:04:48 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2725 <==
From james@freelancepropaganda.com Fri Apr  4 06:04:49 2003
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3444mpD003411
	for <R-bugs@biostat.ku.dk>; Fri, 4 Apr 2003 06:04:49 +0200 (MET DST)
Date: Fri, 4 Apr 2003 06:04:48 +0200 (MET DST)
Message-Id: <200304040404.h3444mpD003411@pubhealth.ku.dk>
From: james@freelancepropaganda.com
To: R-bugs@biostat.ku.dk
Subject: Default broswer for OS X

Full_Name: James Howison
Version: 1.6.2
OS: OS X (fink install)
Submission from: (NULL) (66.67.80.30)


The default browser for the html help system is not set correctly for OS X.

This makes the html help work great on OS X:

> options(browser = "open")
> help.start()

"open" is an OS X launcher app that inspects a file and launches it with the
appropriate application (it is the same as double clicking).  It launches in the
system preferred browser - which is great - integration with the OS for free :)

Perhaps this could be added to the darwin.hints file (if such a thing is used
for R) or otherwise added in so that it is the default.

The user-experience is definately increased by being able to read the help at
the same time one uses it :)

I've promoted the packager for the OS X fink package to set this as the default
in the build if that is possible.

==> 2725.audit <==
Wed Apr  9 12:57:32 2003	ripley	moved from incoming to Macintosh
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2813 *
Subject: Search Engine
From: leroy@ucsd.edu
Date: Tue, 22 Apr 2003 06:21:19 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2813 <==
From leroy@ucsd.edu Tue Apr 22 06:21:19 2003
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3M4LJpD005032
	for <R-bugs@biostat.ku.dk>; Tue, 22 Apr 2003 06:21:19 +0200 (MET DST)
Date: Tue, 22 Apr 2003 06:21:19 +0200 (MET DST)
Message-Id: <200304220421.h3M4LJpD005032@pubhealth.ku.dk>
From: leroy@ucsd.edu
To: R-bugs@biostat.ku.dk
Subject: Search Engine

Full_Name: Anthony Westerling
Version: 1.7.0
OS: Mac OS X 10.2.5
Submission from: (NULL) (64.203.9.4)


R includes a very nice search engine web page which installs at
/usr/local/lib/R/doc/html/search/SearchEngine.html.  The search engine and
keywords links do not work on my Mac G4s running OS X 10.2.5, and this appears
to be independent of choice of browser.  This appears to be a Mac-specific
problem with the Java applet.  

I have tried this on three different G4s using IE, Safari, and Mozilla.  Neither
the local file /usr/local/lib/R/doc/html/search/ nor the latest patched version
documentation at http://stat.ethz.ch/R-alpha/R-patched/doc/html/search/SearchEngine.html
works on the Mac, although the latter URL functions perfectly when accessed from
a browser on a windows PC.

This search function is a very nice feature.  Is there a way to use it on a
Macintosh?

Thank you

Anthony Westerling


==> 2813.audit <==
Sat Apr 26 16:46:51 2003	maechler	foobar
Sat Apr 26 16:46:52 2003	maechler	moved from incoming to Macintosh
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2875 *
Subject: configure succeeds without dlfcn.h, but fails to compile (OS X)
From: buerkla@uwec.edu
Date: Tue, 29 Apr 2003 20:24:12 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2875 <==
From buerkla@uwec.edu Tue Apr 29 20:24:13 2003
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3TIOC2b027860
	for <R-bugs@biostat.ku.dk>; Tue, 29 Apr 2003 20:24:12 +0200 (MET DST)
Date: Tue, 29 Apr 2003 20:24:12 +0200 (MET DST)
Message-Id: <200304291824.h3TIOC2b027860@pubhealth.ku.dk>
From: buerkla@uwec.edu
To: R-bugs@biostat.ku.dk
Subject: configure succeeds without dlfcn.h, but fails to compile (OS X)

Full_Name: Alex Buerkle
Version: 1.7.0
OS: OS X 
Submission from: (NULL) (137.28.112.199)


The configure of R-1.7.0 completed, but the build fails with error
below.  This failure appears to be because dlfcn.h was missing (installing it
fixed the problem).  

The possible bug:  my limited ability to read ./configure suggests that it tests
for dlfcn.h, but does not fail if it doesn't find it on Darwin/OS X.  Given that
it is required to compile, it seems like configure should fail.  
 

This error was reported in June 2002
(http://maths.newcastle.edu.au/~rking/R/help/02a/4783.html) and discussed
briefly in a thread I started on R-SIG-Mac, which contains a few more details
(https://www.stat.math.ethz.ch/pipermail/r-sig-mac/2003-April/000832.html).

The error:

./configure --enable-R-shlib --with-x \
--with-blas='-framework vecLib' \
--with-lapack

...

./make 

...

making strdup.d from strdup.c
making strncasecmp.d from strncasecmp.c
making vsnprintf.d from vsnprintf.c
gcc   -I../../src/extra/pcre -no-cpp-precomp -I. -I../../src/include
-I../../src/include -I/sw/include -DHAVE_CONFIG_H   -g -O2 -c
CConverters.c -o CConverters.o
gcc   -I../../src/extra/pcre -no-cpp-precomp -I. -I../../src/include
-I../../src/include -I/sw/include -DHAVE_CONFIG_H   -g -O2 -c
Rdynload.c -o Rdynload.o
Rdynload.c: In function `R_FindSymbol':
Rdynload.c:1036: `CFunTab' undeclared (first use in this function)
Rdynload.c:1036: (Each undeclared identifier is reported only once
Rdynload.c:1036: for each function it appears in.)
make[3]: *** [Rdynload.o] Error 1
make[2]: *** [R] Error 2
make[1]: *** [R] Error 1
make: *** [R] Error 1



Fix for the user:
The fink package dlcompat-dev is required, as it contains /sw/include/dlfcn.h.



==> 2875.audit <==
Sat May  3 11:24:24 2003	maechler	moved from incoming to Macintosh
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Misc

* PR# 1126 *
Subject: R-bug report www page whishlist
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1126 <==
From jens.lund@nordea.com  Wed Oct 10 18:24:29 2001
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA01798
	for <R-bugs@biostat.ku.dk>; Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)
From: jens.lund@nordea.com
Message-Id: <200110101624.SAA01798@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: R-bug report www page whishlist

Full_Name: Jens Lund
Version: --
OS: --
Submission from: (NULL) (194.239.194.210)


On http://r-bugs.biostat.ku.dk/cgi-bin/R pressing "new bug report" returns a new
form. It would, IMHO, be natural to place the "submit bug report" button on this
form *below* the input area for the actual bug report :-)

Cheers, Jens

==> 1126.audit <==
Wed Oct 10 19:08:54 2001	ripley	moved from incoming to Misc
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1158 *
Subject: bug.report()sends empty message
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1158 <==
From pgilbert@bank-banque-canada.ca  Mon Nov  5 16:07:41 2001
Received: from mail1.bank-banque-canada.ca (mail1.bank-banque-canada.ca [140.80.193.130])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA03956
	for <r-bugs@biostat.ku.dk>; Mon, 5 Nov 2001 16:07:39 +0100 (MET)
Received: from fwx-t1 ([140.80.193.132])
	by mail1.bank-banque-canada.ca (8.9.3/8.9.3) with SMTP id KAA05318;
	Mon, 5 Nov 2001 10:01:04 -0500 (EST)
Message-ID: <3BE6AAB6.E0962CD5@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
X-Mailer: Mozilla 4.7 [en] (Win95; U)
X-Accept-Language: en
MIME-Version: 1.0
To: R-bugs <r-bugs@biostat.ku.dk>
CC: brahm@alum.mit.edu
Subject: bug.report()sends empty message
Content-Type: multipart/mixed;
 boundary="------------FAC78F7B6BFECAD9BD873458"

This is a multi-part message in MIME format.
--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

On Mon, 22 Oct 2001, David Brahm wrote:
>    I swear, bug.report() ate my message!  Apologies to all, esp. Peter
who
> will once again have to clean up after my mess...

With some editors on Unix bug.report() does this. The problem is that
some editors (like Nedit) fork a separate process and return. The Unix
version of bug.report sends an empty message in this case. The fix is to
make the Unix version the same as the Windows version, with an optional
argument "wait".

Attached are four small files bug.report.R, bug.report.Rd, Sys.mail.R,
and Sys.mail.Rd, which attempt to fix the problem and the documentation.
They also separate out the mail mechanism as a utility that can be used
elsewhere. Unfortunately, I have only been able to test these on a
limited number of platforms.

Paul Gilbert

--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii;
 name="bug.report.R"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="bug.report.R"

bug.report <- function(subject = "", ccaddress = Sys.getenv("USER"),
                       method = getOption("mailer"),
                       address = "gilp",  #"r-bugs@r-project.org",
                       file = "R.bug.report",
		       wait=TRUE)
{
    methods <- c("mailx", "gnudoit", "none", "ess")

    method <-
	if(is.null(method)) "none"
	else methods[pmatch(method, methods)]

    body <- paste("\\n<<insert bug report here>>\\n\\n\\n\\n",
		  "--please do not edit the information below--\\n\\n",
		  "Version:\\n ",
		  paste(names(R.version),R.version, sep=" = ",collapse="\\n "),
		  "\\n\\n",
		  "Search Path:\\n ",
		  paste(search(), collapse=", "),
		  "\\n", sep="", collapse="")

    if(method == "gnudoit") {
	cmd <- paste("gnudoit -q '",
		     "(mail nil \"", address, "\")",
		     "(insert \"", body, "\")",
		     "(search-backward \"Subject:\")",
		     "(end-of-line)'",
		     sep="")
	system(cmd)
        if (wait) {
	  cat("Hit Return to continue in R. ")
	  answer <- readline()
        }
    }
    else if(method=="none"){

        disclaimer <-
            paste("# Your mailer is set to \"none\" (default on Windows),\n",
                  "# hence we cannot send the bug report directly from R.\n",
                  "# Please copy the bug report (after finishing it) to\n",
                  "# your favorite email program and send it to\n#\n",
                  "#       ", address, "\n#\n",
                  "######################################################\n",
                  "\n\n", sep = "")

        cat(disclaimer, file=file)
	body <- gsub("\\\\n", "\n", body)
	cat(body, file=file, append=TRUE)
	system(paste(getOption("editor"), file))
        cat("The unsent bug report can be found in file", file, "\n")
        if (wait) {
	  cat("Hit Return to continue in R. ")
	  answer <- readline()
        }
    }
    else if(method == "mailx"){

        if(missing(subject)) stop("Subject missing")

	body <- gsub("\\\\n", "\n", body)
	cat(body, file=file, append=FALSE)
	system(paste(getOption("editor"), file))
	
	if (wait) {
	  cat("Submit the bug report? (finish editing and save the file before responding) ")
	  answer <- readline()
	  answer <- grep("y", answer, ignore.case=TRUE)
	  if(length(answer)>0){
 	     body <- scan(file, what="char", sep="\n")
             cat("Sending email ...\n")
             status <- Sys.mail(address=address, ccaddress=ccaddress,
	                       subject=subject, body=body, method="mailx")
             if(!status) status <- Sys.mail(address=address, ccaddress=ccaddress,
	                       subject=subject, body=body, method="mail")
             if(!status) status <- Sys.mail(address=address, ccaddress=ccaddress,
	                       subject=subject, body=body, method="Mail")
             if(!status) {
                cat("Sending email failed!\n")
                cat("The unsent bug report can be found in file", file, "\n")
            }
	  }
        }
        else cat("The unsent bug report can be found in file", file, "\n")
    }
    else if(method=="ess"){
	body <- gsub("\\\\n", "\n", body)
	cat(body)
        if (wait) {
	  cat("Hit Return to continue in R. ")
	  answer <- readline()
        }
    }
}

--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii;
 name="bug.report.Rd"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="bug.report.Rd"

\name{bug.report}
\alias{bug.report}
\title{Send a Bug Report}
\usage{
bug.report(subject = "", ccaddress = Sys.getenv("USER"),
           method = getOption("mailer"), 
	   address = "r-bugs@r-project.org",
           file = "R.bug.report",
	   wait = TRUE)

}
\arguments{
  \item{subject}{Subject of the email. Please do not use single quotes
    (\code{'}) in the subject!}
  \item{ccaddress}{Optional email address for copies (default is current
    user).  Use \code{ccaddress = NULL} for no copies.}
  \item{method}{Submission method, one of \code{"mailx"},
    \code{"gnuclient"}, \code{"none"}, or \code{"ess"}.}
  \item{address}{Recipient's email address.}
  \item{file}{File to use for setting up the email (or storing it when
    method is \code{"none"} or sending mail fails).}
  \item{wait}{logical. Should \R wait for the editor to return?}
}
\description{
  Invokes an editor to write a bug report and optionally mail it to the
  r-bugs list at \email{r-bugs@r-project.org}.  Some standard
  information on the current version and configuration of \R are 
  included automatically.
}
\details{
  Currently direct submission of bug reports works only on Unix systems.
  If the submission method is \code{"mailx"}, then the default editor is
  used to write the bug report. Which editor is used can be controlled
  using \code{\link{options}}, type \code{getOption("editor")} to see what
  editor is currently defined. Please use the help pages of the
  respective editor for details of usage. After saving the bug report
  (in the temporary file opened) and exiting the editor
  the report is mailed using a Unix command line mail utility such as
  \code{mailx}.  A copy of the mail is sent to the current user.

  If method is \code{"gnuclient"}, then an emacs mail buffer is opened
  and used for sending the email.

  If method is \code{"none"} or \code{NULL} (which is the default on
  Windows systems), then only an editor is opened to help writing the
  bug report.  The report can then be copied to your favorite email
  program and be sent to the r-bugs list.

  If method is \code{"ess"} the body of the mail is simply sent to
  stdout.
  
  If wait is \code{"TRUE"} then \R issues a prompt after the editor is started
  and waits for input. If \R is sending the mail (e.g. with method
  code{"mailx"}) then wait should be \code{"TRUE"}. In this case the edited file
  must be saved before responding to the question.
}
\value{Nothing useful.}
\section{When is there a bug?}{
  If \R executes an illegal instruction, or dies with an operating
  system error message that indicates a problem in the program (as
  opposed to something like ``disk full''), then it is certainly a bug.

  Taking forever to complete a command can be a bug, but you must make
  certain that it was really \R's fault.  Some commands simply take a
  long time.  If the input was such that you KNOW it should have been
  processed quickly, report a bug.  If you don't know whether the
  command should take a long time, find out by looking in the manual or
  by asking for assistance.

  If a command you are familiar with causes an \R error message in a
  case where its usual definition ought to be reasonable, it is probably
  a bug.  If a command does the wrong thing, that is a bug.  But be sure
  you know for certain what it ought to have done.  If you aren't
  familiar with the command, or don't know for certain how the command
  is supposed to work, then it might actually be working right.  Rather
  than jumping to conclusions, show the problem to someone who knows for
  certain.

   Finally, a command's intended definition may not be best for
   statistical analysis.  This is a very important sort of problem, but
   it is also a matter of judgment.  Also, it is easy to come to such a
   conclusion out of ignorance of some of the existing features.  It is
   probably best not to complain about such a problem until you have
   checked the documentation in the usual ways, feel confident that you
   understand it, and know for certain that what you want is not
   available.  If you are not sure what the command is supposed to do
   after a careful reading of the manual this indicates a bug in the
   manual.  The manual's job is to make everything clear.  It is just as
   important to report documentation bugs as program bugs.

   If the online argument list of a function disagrees with the manual,
   one of them must be wrong, so report the bug.
}
\section{How to report a bug}{
  When you decide that there is a bug, it is important to report it and
  to report it in a way which is useful.  What is most useful is an
  exact description of what commands you type, from when you start \R
  until the problem happens.  Always include the version of \R, machine,
  and operating system that you are using; type `version' in \R to print
  this. 

  The most important principle in reporting a bug is to report FACTS,
  not hypotheses or categorizations.  It is always easier to report the
  facts, but people seem to prefer to strain to posit explanations and
  report them instead.  If the explanations are based on guesses about
  how \R is implemented, they will be useless; we will have to try to 
  figure out what the facts must have been to lead to such
  speculations.  Sometimes this is impossible.  But in any case, it is
  unnecessary work for us.

  For example, suppose that on a data set which you know to be quite
  large the command \code{data.frame(x, y, z, monday, tuesday)} never
  returns.  Do not report that \code{data.frame()} fails for large data
  sets.  Perhaps it fails when a variable name is a day of the week.  If
  this is so then when we got your report we would try out the
  \code{data.frame()} command on a large data set, probably with no day
  of the week variable name, and not see any problem. There is no way in
  the world that we could guess that we should try a day of the week
  variable name.

  Or perhaps the command fails because the last command you used was a
  \code{[} method that had a bug causing \R's internal data structures
  to be corrupted and making the \code{data.frame()} command fail from
  then on.  This is why we need to know what other commands you have
  typed (or read from your startup file).

  It is very useful to try and find simple examples that produce
  apparently the same bug, and somewhat useful to find simple examples
  that might be expected to produce the bug but actually do not.  If you
  want to debug the problem and find exactly what caused it, that is
  wonderful.  You should still report the facts as well as any
  explanations or solutions.

  Invoking \R with the \code{--vanilla} option may help in isolating a
  bug.  This ensures that the site profile and saved data files are not
  read.

  On some systems a bug report can be generated using the
  \code{bug.report()} function.  This automatically includes the version
  information and sends the bug to the correct address.  Alternatively
  the bug report can be emailed to \email{r-bugs@r-project.org} or
  submitted to the Web page at \url{http://bugs.r-project.org}.
}
\seealso{R FAQ, \code{link{Sys.mail}} }
\author{This help page is adapted from the Emacs manual}
\keyword{utilities}
\keyword{error}

--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii;
 name="Sys.mail.R"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="Sys.mail.R"

Sys.mail <- function(address = Sys.info()$user,
                     ccaddress  = NULL,
                     bccaddress = NULL,
		     subject    = NULL,
		     body= "no body",
                     method = getOption("mailer")) {
   if(!(is.character(address) && nchar(address)>0))
      stop("A character string address must be specified.")

   # The arguments to mail, mailx, and Mail are all the same, but a different
   # mailer will require that this first part be re-organized under the
   # specific method.
   file <- tempfile()
   on.exit(unlink(file))
   cat(body, file=file, append=FALSE, sep="\n")
   cmdargs <- paste(address, "<", file, "2>/dev/null")
	
   if(is.character(ccaddress) && nchar(ccaddress)>0) 
            cmdargs <- paste(" -c '", ccaddress, "' ",  cmdargs)

   if(is.character(bccaddress) && nchar(bccaddress)>0) 
            cmdargs <- paste(" -b '", bccaddress, "' ",  cmdargs)

   if(is.character(subject) && nchar(subject)>0) 
            cmdargs <- paste(" -s '", subject, "' ",  cmdargs)

   status <- 1
   if(method == "mailx") status <- system(paste("mailx", cmdargs)) else
   if(method == "mail")  status <- system(paste("mail", cmdargs))  else 
   if(method == "Mail")  status <- system(paste("Mail", cmdargs))  else {
	warning(paste("mail method ", method, " not supported.\n"))
	return(F)
	}
   if(status > 0) {
	warning(paste("sending email with ", method, " failed.\n"))
	return(F)
	}
   T
   }

--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii;
 name="Sys.mail.Rd"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="Sys.mail.Rd"

\name{Sys.mail}
\alias{Sys.mail}
\title{Send Mail}
\usage{
Sys.mail(address= Sys.info()$user, ccaddress = NULL, bccaddress = NULL,
           subject = NULL, body= "no body", method = getOption("mailer"))
}
\arguments{
  \item{address}{Recipient's email address. The default is the user name as
     indicated by \code{Sys.info()$user}, which will correspond to your 
     own email address on many systems.}
  \item{ccaddress}{Optional email address for copies. 
    Use \code{ccaddress = NULL} for no copies.}
  \item{bccaddress}{Optional email address for blind copies.
    Use \code{bccaddress = NULL} for no copies.}
  \item{subject}{Subject of the email. Please do not use single quotes
     in the subject!}
  \item{method}{Submission method, one of \code{"mailx"},
    \code{"mail"}, or \code{"Mail"}.}
  \item{body}{A vector of character, one line per element to place in the body
     of the email.}
}
\description{
  Use a system mail tool to send a message. Multiple recipients can be
  specified in any of the addresses by enclosing them in double (\code{"}) 
  quotes. Please do not use single (\code{'}) quotes.
  
  The body is a vector of character. Each element of body is written 
  as a line of the message body.
}
\details{
  Currently works only on Unix systems using "mailx", "mail" or "Mail". The mail
  tool needs to be found on your Unix search path.
}
\value{TRUE or FALSE indicating success or failure as returned by the operating
    system. (This does not indicate that the message was received at the 
    address.)}

\examples{
    \dontrun{Sys.mail(address="friends", subject="R", body="R is great")}
}
\seealso{\code{link{options}} }
\author{Paul Gilbert}
\keyword{utilities}


--------------FAC78F7B6BFECAD9BD873458--


==> 1158.audit <==
Sat Nov 17 11:59:57 2001	ripley	foobar
Sat Nov 17 11:59:57 2001	ripley	moved from incoming to Misc

==> 1158.followup.1 <==
From postmaster@franz.stat.wisc.edu  Mon Dec 10 19:37:36 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id TAA01758
	for <r-bugs@biostat.ku.dk>; Mon, 10 Dec 2001 19:37:35 +0100 (MET)
Received: from mailmro2.fmr.com (really [192.223.198.254]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m16DVIu-000IheC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Mon, 10 Dec 2001 12:37:28 -0600 (CST) 
Received: from virmro110nts.fmr.com (virmro110nts.fmr.com [172.26.5.98])
	by mailmro2.fmr.com (Switch-2.2.0/Switch-2.2.0) with SMTP id fBAIaqX07055
	for <r-bugs@r-project.org>; Mon, 10 Dec 2001 13:36:52 -0500 (EST)
Received: from arbprod.fmr.com (arbproda.fmr.com [155.1.103.75]) by msgbos102nts.fmr.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2654.89)
	id W0GPQMRB; Mon, 10 Dec 2001 13:36:51 -0500
Received: (from a215020@localhost)
	by arbprod.fmr.com (8.11.1/8.11.1) id fBAIapl09851;
	Mon, 10 Dec 2001 13:36:51 -0500 (EST)
Date: Mon, 10 Dec 2001 13:36:51 -0500 (EST)
From: David Brahm  <a215020@onyx.fmr.com>
Message-Id: <200112101836.fBAIapl09851@arbprod.fmr.com>
Reply-to: brahm@alum.mit.edu
To: r-bugs@r-project.org
Cc: a215020@arbprod.fmr.com
Subject:  Re: bug.report() sends empty message (PR#1158) 

   On Oct 22, I sent an empty bug report (#1138) because bug.report() "ate my
message".  Paul Gilbert opened a new bug report (#1158) for this problem.

   I'm now convinced it's because I had an apostrophe in the subject line
("round() doesn't").  The bug.report documentation specifically warns against
this, but the bug.report() function could also check for it!  I suggest adding
this line to the bug.report code:

  if (regexpr("'", subject) > 0) stop("Please, no apostrophe in the subject.")

                              -- David Brahm (brahm@alum.mit.edu)

R> getOption("mailer")
   [1] "mailx"
Version:
 platform = sparc-sun-solaris2.6
 arch = sparc
 os = solaris2.6
 system = sparc, solaris2.6
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:misc, package:io, package:arrays, package:ls1, package:g.data, package:db, package:ts, package:ctest, Autoloads, package:base

==> 1158.followup.2 <==
From pgilbert@bank-banque-canada.ca  Mon Dec 10 20:09:31 2001
Received: from mail1.bank-banque-canada.ca (mail1.bank-banque-canada.ca [140.80.193.130])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA01969
	for <R-bugs@biostat.ku.dk>; Mon, 10 Dec 2001 20:09:29 +0100 (MET)
Received: from fwx-int (fwx-int.bank-banque-canada.ca [140.80.193.129])
	by mail1.bank-banque-canada.ca (8.9.3/8.9.3) with SMTP id OAA00487;
	Mon, 10 Dec 2001 14:04:01 -0500 (EST)
Received: from mfa99599.boc by mailhost.bank-banque-canada.ca (8.8.8+Sun/SMI-SVR4)
	id NAA05366; Mon, 10 Dec 2001 13:53:57 -0500 (EST)
Received: from mfa01506.boc (mfa01506 [140.80.3.112])
	by mfa99599.boc (8.9.1b+Sun/8.9.1) with ESMTP id NAA29819;
	Mon, 10 Dec 2001 13:53:56 -0500 (EST)
Received: from bank-banque-canada.ca (localhost [127.0.0.1])
	by mfa01506.boc (8.9.3+Sun/8.9.3) with ESMTP id NAA09467;
	Mon, 10 Dec 2001 13:53:53 -0500 (EST)
Sender: pgilbert@bank-banque-canada.ca
Message-ID: <3C1504C0.1ADC7F0D@bank-banque-canada.ca>
Date: Mon, 10 Dec 2001 13:53:52 -0500
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
X-Mailer: Mozilla 4.75 [en] (X11; U; SunOS 5.8 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: brahm@alum.mit.edu
CC: R-bugs@biostat.ku.dk
Subject: Re: [Rd] Re: bug.report() sends empty message (PR#1158)
References: <200112101837.TAA01768@pubhealth.ku.dk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

brahm@alum.mit.edu wrote:
>   On Oct 22, I sent an empty bug report (#1138) because bug.report()
>"ate my
>message".  Paul Gilbert opened a new bug report (#1158) for this
>problem.

>   I'm now convinced it's because I had an apostrophe in the subject
>line

Your problem may have been due to the apostrophe, but it reminded me of another
outstanding problem which I had neglected to report previously: wait=TRUE as in
the windows version seems to be necessary with some Unix editors too (e.g.
Nedit).

Paul Gilbert
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1503 *
Subject: R-GNOME
From: Patrick Gonin <gonin@genethon.fr>
Date: Thu, 2 May 2002 09:29:07 +0200
--1) is not a bug, as jpeg etc work.  capabilities() has been changed for 1.5.1
--2) system() needs a new version for GNOME.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1503 <==
From gonin@genethon.fr  Thu May  2 09:30:07 2002
Received: from diogene.genethon.fr (root@diogene.genethon.fr [193.50.68.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id JAA00984
	for <r-bugs@biostat.ku.dk>; Thu, 2 May 2002 09:30:06 +0200 (MET DST)
Received: (from root@localhost)
	by diogene.genethon.fr (8.11.5/8.11.5) id g427TSs22721
	for r-bugs@biostat.ku.dk; Thu, 2 May 2002 09:29:28 +0200 (MET DST)
Received: from [192.168.100.154] (nat0-154.genethon.fr [192.168.100.154])
	by diogene.genethon.fr (8.11.5/8.11.5) with ESMTP id g427TOA22697
	for <R-bugs@biostat.ku.dk>; Thu, 2 May 2002 09:29:24 +0200 (MET DST)
Mime-Version: 1.0
X-Sender: gonin@diogene.genethon.fr
Message-Id: <a05100300b8f698c569f1@[192.168.100.154]>
Date: Thu, 2 May 2002 09:29:07 +0200
To: R-bugs@biostat.ku.dk
From: Patrick Gonin <gonin@genethon.fr>
Subject: R-GNOME
Content-Type: text/plain; charset="iso-8859-1" ; format="flowed"
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by pubhealth.ku.dk id JAA00984

Hi R colleagues,

I don't know whether this is a bug, but something weird happen with R-GNOME.
Version 1.5.0.
I compiled the stuff under i-686 Linux RH 7.2 using ./configure --with-gnome.
R can be started with or without the Gnome interface: fine.
However, when I start with Gnome interface, jpeg and a few other 
things are unavailable (checked using capabilities()), whereas 
everything is available (except Gnome) when I start R without Gnome.
Also, some calls seem available with Gnome: system("..") returns nothing.
Maybe this is related to the experimental nature of the Gnome interface.
Hope that helps.
Cheers,
-- 
----------------------------
Patrick Gonin, DVM, PhD
Head of in vivo Evaluation Dept
Généthon
1 bis, rue de l'Internationale- BP 60
91002 EVRY CEDEX
FRANCE
Tel: 33-1-69-47-10-21
Fax: 33-1-60-77-86-98
gonin@genethon.fr
----------------------------

==> 1503.followup.1 <==
From ripley@stats.ox.ac.uk  Thu May  2 11:22:18 2002
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA02921
	for <R-bugs@biostat.ku.dk>; Thu, 2 May 2002 11:22:18 +0200 (MET DST)
From: ripley@stats.ox.ac.uk
Received: from gannet.stats (gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id KAA23483;
	Thu, 2 May 2002 10:21:37 +0100 (BST)
Date: Thu, 2 May 2002 10:21:37 +0100 (BST)
X-X-Sender:  <ripley@gannet.stats>
To: <gonin@genethon.fr>
cc: <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] R-GNOME (PR#1503)
In-Reply-To: <200205020730.JAA00989@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0205021016060.3970-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=X-UNKNOWN
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from QUOTED-PRINTABLE to 8bit by pubhealth.ku.dk id LAA02921

On Thu, 2 May 2002 gonin@genethon.fr wrote:

> Hi R colleagues,
>
> I don't know whether this is a bug, but something weird happen with R-GNOME.
> Version 1.5.0.
> I compiled the stuff under i-686 Linux RH 7.2 using ./configure --with-gnome.
> R can be started with or without the Gnome interface: fine.
> However, when I start with Gnome interface, jpeg and a few other
> things are unavailable (checked using capabilities()), whereas
> everything is available (except Gnome) when I start R without Gnome.

Have you actually tried them?  capabilities() can be wrong, as it only
reports what it is sure about.  For me under RH7.2 jpeg(), png() and X11()
do all work under R --gui=gnome.  (Well, actually gnome has problems with
its dialogs as it makes assumptions about the X11 system in use and I am
not using XFree86.)

I will try to work out a more definitive algorithm for capabilities, but
its main use is to test if checks should be run, so it needs to be
conservative.  And as you note, Gnome is experimental and has a separate
maintainer ....

> Also, some calls seem available with Gnome: system("..") returns nothing.
> Maybe this is related to the experimental nature of the Gnome interface.
> Hope that helps.
> Cheers,
> --
> ----------------------------
> Patrick Gonin, DVM, PhD
> Head of in vivo Evaluation Dept
> Généthon
> 1 bis, rue de l'Internationale- BP 60
> 91002 EVRY CEDEX
> FRANCE
> Tel: 33-1-69-47-10-21
> Fax: 33-1-60-77-86-98
> gonin@genethon.fr
> ----------------------------
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1503.followup.2 <==
From plummer@iarc.fr  Thu May  2 12:32:14 2002
Received: from smtp01.iarc.fr (IDENT:root@smtp01-193.iarc.fr [193.51.164.211])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id MAA04003
	for <R-bugs@biostat.ku.dk>; Thu, 2 May 2002 12:32:04 +0200 (MET DST)
Received: from xena.iarc.fr ([10.10.150.201])
	by smtp01.iarc.fr (8.9.3/8.9.3) with ESMTP id MAA17293;
	Thu, 2 May 2002 12:30:44 +0200
Message-ID: <XFMail.20020502123210.plummer@iarc.fr>
X-Mailer: XFMail 1.4.7 on Linux
X-Priority: 3 (Normal)
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 8bit
MIME-Version: 1.0
In-Reply-To: <200205020922.LAA02927@pubhealth.ku.dk>
Date: Thu, 02 May 2002 12:32:10 +0200 (CEST)
Organization: International Agency for Research on Cancer
Sender: martyn@xena.iarc.fr
From: Martyn Plummer <plummer@iarc.fr>
To: ripley@stats.ox.ac.uk
Subject: Re: [Rd] R-GNOME (PR#1503)
Cc: R-bugs@biostat.ku.dk, r-devel@stat.math.ethz.ch

On 02-May-2002 ripley@stats.ox.ac.uk wrote:
> On Thu, 2 May 2002 gonin@genethon.fr wrote:
> 
>> Hi R colleagues,
>>
>> I don't know whether this is a bug, but something weird happen with R-GNOME.
>> Version 1.5.0.
>> I compiled the stuff under i-686 Linux RH 7.2 using ./configure
>> --with-gnome.
>> R can be started with or without the Gnome interface: fine.
>> However, when I start with Gnome interface, jpeg and a few other
>> things are unavailable (checked using capabilities()), whereas
>> everything is available (except Gnome) when I start R without Gnome.
> 
> Have you actually tried them?  capabilities() can be wrong, as it only
> reports what it is sure about.  For me under RH7.2 jpeg(), png() and X11()
> do all work under R --gui=gnome.  (Well, actually gnome has problems with
> its dialogs as it makes assumptions about the X11 system in use and I am
> not using XFree86.)
> 
> I will try to work out a more definitive algorithm for capabilities, but
> its main use is to test if checks should be run, so it needs to be
> conservative.  And as you note, Gnome is experimental and has a separate
> maintainer ....

jpeg() is available under the GNOME interface and works correctly.

>> Also, some calls seem available with Gnome: system("..") returns nothing.
>> Maybe this is related to the experimental nature of the Gnome interface.
>> Hope that helps.

The GNOME port currently uses the same version of do_system as the unix
command line port of R.  This sends the output of the system call to
the standard output.  So, for example, if you R-GNOME from a terminal,
the output will appear in the terminal and not the R GNOME console.
GNOME needs its own version of do_system.  I will fix this for R 1.5.1.

Martyn

==> 1503.audit <==
Tue May  7 09:09:09 2002	ripley	changed notes
Tue May  7 09:09:09 2002	ripley	foobar
Tue May  7 09:09:09 2002	ripley	moved from incoming to Misc
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2644 *
Subject: R CMD SHLIB uses foo.c instead of foo.cc if both are present
From: faheem@email.unc.edu
Date: Sun, 16 Mar 2003 19:47:55 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2644 <==
From faheem@email.unc.edu Sun Mar 16 19:47:56 2003
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.8/8.12.8) with ESMTP id h2GIltn9022825
	for <R-bugs@biostat.ku.dk>; Sun, 16 Mar 2003 19:47:56 +0100 (MET)
Date: Sun, 16 Mar 2003 19:47:55 +0100 (MET)
Message-Id: <200303161847.h2GIltn9022825@pubhealth.ku.dk>
From: faheem@email.unc.edu
To: R-bugs@biostat.ku.dk
Subject: R CMD SHLIB uses foo.c instead of foo.cc if both are present

Full_Name: Faheem Mitha
Version: 1.6.2
OS: Debian GNU/Linux
Submission from: (NULL) (209.42.199.193)


Suppose you are making a shared library using

R CMD SHLIB foo.cc

If there is a file called foo.c in the same directory, then it will be used
instead.

faheem ~/scratch/r-base>R CMD SHLIB foo.cc
gcc-3.0 -I/usr/lib/R/include   -D__NO_MATH_INLINES -mieee-fp  -fPIC  -g -O2
-c foo.c -o foo.o
g++-3.0 -shared  -o foo.so foo.o   -L/usr/lib/R/bin -lR

This has been rather annoying for me, because I sometimes write C and C++
versions of the same program side by side and so the files have the same
name except for the extensions. It should be possible to fix it, though I
don't understand the relevant scripts enough to suggest a patch.

Note this bug has also been reported by me as Debian bug #184969. You can access

this report via the web at
http://bugs.debian.org/cgi-bin/bugreport.cgi?archive=no&bug=184969

                                               Faheem.

==> 2644.followup.1 <==
From duncan@research.bell-labs.com Sun Mar 16 20:10:11 2003
Received: from dirty.research.bell-labs.com (ns1.research.bell-labs.com [204.178.16.6])
	by pubhealth.ku.dk (8.12.8/8.12.8) with ESMTP id h2GJAAn9022924
	for <R-bugs@biostat.ku.dk>; Sun, 16 Mar 2003 20:10:11 +0100 (MET)
Received: from scummy.research.bell-labs.com (H-135-104-2-10.research.bell-labs.com [135.104.2.10])
	by dirty.research.bell-labs.com (8.12.8/8.12.8) with ESMTP id h2GJAAN5042506;
	Sun, 16 Mar 2003 14:10:10 -0500 (EST)
Received: from jessie.research.bell-labs.com (jessie.research.bell-labs.com [135.104.13.5])
	by scummy.research.bell-labs.com (8.12.8/8.12.8) with ESMTP id h2GJA3jt001825;
	Sun, 16 Mar 2003 14:10:03 -0500 (EST)
Received: from jessie.research.bell-labs.com (localhost [127.0.0.1])
	by jessie.research.bell-labs.com (8.12.8/8.12.8) with ESMTP id h2GJA31G027315;
	Sun, 16 Mar 2003 14:10:03 -0500 (EST)
Received: (from duncan@localhost)
	by jessie.research.bell-labs.com (8.12.8/8.12.8/Submit) id h2GJA287027314;
	Sun, 16 Mar 2003 14:10:02 -0500 (EST)
Date: Sun, 16 Mar 2003 14:10:02 -0500
From: Duncan Temple Lang <duncan@research.bell-labs.com>
To: faheem@email.unc.edu
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] R CMD SHLIB uses foo.c instead of foo.cc if both are present (PR#2644)
Message-ID: <20030316141002.A26681@jessie.research.bell-labs.com>
Mail-Followup-To: Duncan Temple Lang <duncan@jessie.research.bell-labs.com>,
	faheem@email.unc.edu, r-devel@stat.math.ethz.ch,
	R-bugs@biostat.ku.dk
References: <200303161847.h2GIlvn9022829@pubhealth.ku.dk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <200303161847.h2GIlvn9022829@pubhealth.ku.dk>; from faheem@email.unc.edu on Sun, Mar 16, 2003 at 07:47:57PM +0100

The "fix" is relatively simple. One can change the order of the
suffixes listed in $R_HOME/etc/Makeconf (i.e. the Makeconf.in version)
to alter the precedence. If one changes the line

 .SUFFIXES: .c .cc .cpp .C .d .f .lo .o

to place the '.c' after the '.cc', your example will work as you want it.

While the behavior is not desirable since you specified foo.cc on the
command line for R CMD SHLIB, I don't think it is a good idea to be
using files named x.c and x.cc in the same directory.  I would think
that this will lead to confusions with other tools and I can't think
of a context in which it is necessary.

 D.


faheem@email.unc.edu wrote:
> Full_Name: Faheem Mitha
> Version: 1.6.2
> OS: Debian GNU/Linux
> Submission from: (NULL) (209.42.199.193)
> 
> 
> Suppose you are making a shared library using
> 
> R CMD SHLIB foo.cc
> 
> If there is a file called foo.c in the same directory, then it will be used
> instead.
> 
> faheem ~/scratch/r-base>R CMD SHLIB foo.cc
> gcc-3.0 -I/usr/lib/R/include   -D__NO_MATH_INLINES -mieee-fp  -fPIC  -g -O2
> -c foo.c -o foo.o
> g++-3.0 -shared  -o foo.so foo.o   -L/usr/lib/R/bin -lR
> 
> This has been rather annoying for me, because I sometimes write C and C++
> versions of the same program side by side and so the files have the same
> name except for the extensions. It should be possible to fix it, though I
> don't understand the relevant scripts enough to suggest a patch.
> 
> Note this bug has also been reported by me as Debian bug #184969. You can access
> 
> this report via the web at
> http://bugs.debian.org/cgi-bin/bugreport.cgi?archive=no&bug=184969
> 
>                                                Faheem.
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel

-- 
_______________________________________________________________

Duncan Temple Lang                duncan@research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan

==> 2644.audit <==
Mon Mar 24 12:48:18 2003	ripley	moved from incoming to Misc
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2645 *
Subject: Re: [Rd] R CMD SHLIB uses foo.c instead of foo.cc if both are present
From: Faheem Mitha <faheem@email.unc.edu>
Date: Sun, 16 Mar 2003 15:44:14 -0500 (EST)
--part of 2644
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2645 <==
From faheem@email.unc.edu Sun Mar 16 21:44:26 2003
Received: from smtp.intrex.net (smtp.intrex.net [209.42.192.250])
	by pubhealth.ku.dk (8.12.8/8.12.8) with ESMTP id h2GKiPn9023335
	for <R-bugs@biostat.ku.dk>; Sun, 16 Mar 2003 21:44:25 +0100 (MET)
Received: from Chrestomanci [209.42.199.243] by smtp.intrex.net with ESMTP
  (SMTPD32-7.13) id A2204A58027A; Sun, 16 Mar 2003 15:44:16 -0500
Received: from faheem (helo=localhost)
	by Chrestomanci with local-esmtp (Exim 3.36 #1 (Debian))
	id 18uezO-0002RM-00; Sun, 16 Mar 2003 15:44:14 -0500
Date: Sun, 16 Mar 2003 15:44:14 -0500 (EST)
From: Faheem Mitha <faheem@email.unc.edu>
X-X-Sender: faheem@Chrestomanci
To: Duncan Temple Lang <duncan@research.bell-labs.com>
cc: r-devel@stat.math.ethz.ch, <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] R CMD SHLIB uses foo.c instead of foo.cc if both are present
 (PR#2644)
In-Reply-To: <20030316141002.A26681@jessie.research.bell-labs.com>
Message-ID: <Pine.LNX.4.44.0303161534570.16046-100000@Chrestomanci>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Sender: Faheem Mitha <faheem@email.unc.edu>
X-Declude-Sender: faheem@email.unc.edu [209.42.199.243]



On Sun, 16 Mar 2003, Duncan Temple Lang wrote:

> The "fix" is relatively simple. One can change the order of the
> suffixes listed in $R_HOME/etc/Makeconf (i.e. the Makeconf.in version)
> to alter the precedence. If one changes the line
>
>  .SUFFIXES: .c .cc .cpp .C .d .f .lo .o
>
> to place the '.c' after the '.cc', your example will work as you want it.

Just to clarify. Is this something that you (ie. R developers) are
planning to change, or are you just recommending that I change it? If so,
it will break on every upgrade. Wonder if I can put this in Makevars as a
local override, though...

Hmm. Perhaps using makefiles would be easier, really.

> While the behavior is not desirable since you specified foo.cc on the
> command line for R CMD SHLIB, I don't think it is a good idea to be
> using files named x.c and x.cc in the same directory.  I would think
> that this will lead to confusions with other tools and I can't think
> of a context in which it is necessary.

Mmm. Certainly not *necessary*. I still think it is a bug, though.

                                              Faheem.



==> 2645.audit <==
Mon Mar 24 12:49:14 2003	ripley	moved from incoming to Misc
Mon Mar 24 12:51:57 2003	ripley	changed notes
Mon Mar 24 12:51:57 2003	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2648 *
Subject: Re: [Rd] R CMD SHLIB uses foo.c instead of foo.cc if both are present
From: Kurt Hornik <hornik@ci.tuwien.ac.at>
Date: Mon, 17 Mar 2003 21:32:55 +0100
--part of 2644
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2648 <==
From hornik@ci.tuwien.ac.at Mon Mar 17 22:35:24 2003
Received: from mr.tuwien.ac.at (mr.tuwien.ac.at [128.130.2.10])
	by pubhealth.ku.dk (8.12.8/8.12.8) with ESMTP id h2HLZOn9006311
	for <R-bugs@biostat.ku.dk>; Mon, 17 Mar 2003 22:35:24 +0100 (MET)
Received: from mithrandir.hornik.net (mail@b206-178.dialin.tuwien.ac.at [128.131.206.178])
	by mr.tuwien.ac.at (8.12.8/8.12.8) with ESMTP id h2HLZBpa023910;
	Mon, 17 Mar 2003 22:35:14 +0100 (MET)
Received: from hornik by mithrandir.hornik.net with local (Exim 3.36 #1 (Debian))
	id 18v1Hz-0002QF-00; Mon, 17 Mar 2003 21:32:55 +0100
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15990.12535.257371.548411@mithrandir.hornik.net>
Date: Mon, 17 Mar 2003 21:32:55 +0100
To: faheem@email.unc.edu
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] R CMD SHLIB uses foo.c instead of foo.cc if both are present
	(PR#2645)
In-Reply-To: <200303162044.h2GKiRn9023340@pubhealth.ku.dk>
References: <200303162044.h2GKiRn9023340@pubhealth.ku.dk>
X-Mailer: VM 7.11 under Emacs 21.2.1
Reply-To: Kurt.Hornik@wu-wien.ac.at
From: Kurt Hornik <hornik@ci.tuwien.ac.at>
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)

>>>>> faheem  writes:

> On Sun, 16 Mar 2003, Duncan Temple Lang wrote:

>> The "fix" is relatively simple. One can change the order of the
>> suffixes listed in $R_HOME/etc/Makeconf (i.e. the Makeconf.in version)
>> to alter the precedence. If one changes the line
>> 
>> .SUFFIXES: .c .cc .cpp .C .d .f .lo .o
>> 
>> to place the '.c' after the '.cc', your example will work as you want it.

> Just to clarify. Is this something that you (ie. R developers) are
> planning to change, or are you just recommending that I change it? If
> so, it will break on every upgrade. Wonder if I can put this in
> Makevars as a local override, though...

> Hmm. Perhaps using makefiles would be easier, really.

It may be possible to work around this from your end using R CMD COMPILE
first and then calling R CMD SHLIB only for the linking part.

>> While the behavior is not desirable since you specified foo.cc on the
>> command line for R CMD SHLIB, I don't think it is a good idea to be
>> using files named x.c and x.cc in the same directory.  I would think
>> that this will lead to confusions with other tools and I can't think
>> of a context in which it is necessary.

> Mmm. Certainly not *necessary*. I still think it is a bug, though.

Actually, if you have foo.c and foo.cc in the same dir and compile these
for linking into a shared library they would both compile into foo.o ...

-k

==> 2648.audit <==
Mon Mar 24 12:49:14 2003	ripley	moved from incoming to Misc
Mon Mar 24 12:51:45 2003	ripley	changed notes
Mon Mar 24 12:51:45 2003	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Models

* PR# 1861 *
Subject: update() can not find objects
From: yzhou@arcturusag.com
Date: Thu, 1 Aug 2002 19:01:59 +0200 (MET DST)
--The problem is actually deeper than this.
--
--Sometime update() wants to evaluate arguments in the environment where the model
--was defined, as here. 
--
--Sometimes it wants to use the current environment, eg this snippet from MASS 
--ph.fun <- function(data, i) {
--  d <- data
--  d$calls <- d$fitted + d$res[i]
--  coef(update(fit, data=d))
--}
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1861 <==
From yzhou@arcturusag.com  Thu Aug  1 19:02:00 2002
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id TAA28213
	for <R-bugs@biostat.ku.dk>; Thu, 1 Aug 2002 19:01:59 +0200 (MET DST)
Date: Thu, 1 Aug 2002 19:01:59 +0200 (MET DST)
From: yzhou@arcturusag.com
Message-Id: <200208011701.TAA28213@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: update() can not find objects

Full_Name: Yi-Xiong Zhou
Version: 1.5.1
OS: win2000pro
Submission from: (NULL) (64.169.249.42)


Update() can not find objects when it is used in a function, which is in turn
being called by another function. Here is a R script to show the problem:

######## begin of the test script ##########
fun1 <- function() {
   x <- matrix(rnorm(500), 20,25)
   y <- rnorm(20)
   oo <- lm(y~x)
   print("step 1")
   update(oo)
   print("first update success.")
   fun2(oo)
}

fun2 <- function(gg) {
   update(gg)
   print("second update success.")
}

fun1()
########### end of the test script #############

Here is the result of running this script:

[1] "step 1"
[1] "first update success."
Error in eval(expr, envir, enclos) : Object "y" not found

Ideally, update should first search the objects in its environment first, then
its parent's, and grand parent's environments ... Right now, it only searchs its
own environment and the global environment, skipping its parents'. 


==> 1861.reply.1 <==
From p.dalgaard@biostat.ku.dk  Thu Aug  1 19:26:45 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id TAA28287;
	Thu, 1 Aug 2002 19:26:44 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.6/8.11.6) id g71HQaE08765;
	Thu, 1 Aug 2002 19:26:36 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: yzhou@arcturusag.com
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: update() can not find objects (PR#1861)
References: <200208011702.TAA28218@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 01 Aug 2002 19:26:34 +0200
In-Reply-To: <200208011702.TAA28218@pubhealth.ku.dk>
Message-ID: <x2ptx232yd.fsf@biostat.ku.dk>
Lines: 67
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

yzhou@arcturusag.com writes:

> Full_Name: Yi-Xiong Zhou
> Version: 1.5.1
> OS: win2000pro
> Submission from: (NULL) (64.169.249.42)
> 
> 
> Update() can not find objects when it is used in a function, which is in turn
> being called by another function. Here is a R script to show the problem:
> 
> ######## begin of the test script ##########
> fun1 <- function() {
>    x <- matrix(rnorm(500), 20,25)
>    y <- rnorm(20)
>    oo <- lm(y~x)
>    print("step 1")
>    update(oo)
>    print("first update success.")
>    fun2(oo)
> }
> 
> fun2 <- function(gg) {
>    update(gg)
>    print("second update success.")
> }
> 
> fun1()
> ########### end of the test script #############
> 
> Here is the result of running this script:
> 
> [1] "step 1"
> [1] "first update success."
> Error in eval(expr, envir, enclos) : Object "y" not found
> 
> Ideally, update should first search the objects in its environment first, then
> its parent's, and grand parent's environments ... Right now, it only searchs its
> own environment and the global environment, skipping its parents'. 

No, that's not what you should expect in a language with lexical scoping. 


However, there might still be a bug, since update with a non-missing
formula argument would extract the formula environment from the
formula stored in the lm object, but that doesn't happen if it is
missing. Modifying fun2 to

function(gg) {
   update(gg,formula(gg))
   print("second update success.")
}

or even

function(gg) {
   update(gg,y~x)
   print("second update success.")
}

does allow your example to run, which is somewhat unexpected...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1861.followup.1 <==
From yzhou@arcturusag.com  Thu Aug  1 19:58:40 2002
Received: from genome.arcturusag.com (mail.arcturusag.com [64.169.249.254])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id TAA28377;
	Thu, 1 Aug 2002 19:58:39 +0200 (MET DST)
Received: by GENOME with Internet Mail Service (5.5.2650.21)
	id <P7TL2JNV>; Thu, 1 Aug 2002 10:53:32 -0700
Message-ID: <BBAF0DEC119BD41193C100B0D0788DFE1D234B@GENOME>
From: Yi-Xiong Zhou <yzhou@arcturusag.com>
To: "'Peter Dalgaard BSA'" <p.dalgaard@biostat.ku.dk>
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: RE: update() can not find objects (PR#1861)
Date: Thu, 1 Aug 2002 10:53:31 -0700 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain

Thanks Peter. This does work for formula. However, it failed to a function
call. Here is another test script:

################# begin test ###############
fun1 <- function() {
   x <- matrix(rnorm(500), 20,25)
   oo <- fun3(x)
   print("step 1")
   update(oo)
   print("first update success.")
   fun2(oo)
}

fun2 <- function(gg) {
   update(gg)
   print("second update success.")
}

fun3 <- function(aa) {
   oo <- list(x=aa, call=match.call())
   oo
}

fun1()
############### end test ############

The error message is 

[1] "step 1"
[1] "first update success."
Error in fun3(aa = x) : Object "x" not found

Yi-Xiong


-----Original Message-----
From: Peter Dalgaard BSA [mailto:p.dalgaard@biostat.ku.dk]
Sent: Thursday, August 01, 2002 10:27 AM
To: Yi-Xiong Zhou
Cc: r-devel@stat.math.ethz.ch; R-bugs@biostat.ku.dk
Subject: Re: update() can not find objects (PR#1861)


yzhou@arcturusag.com writes:

> Full_Name: Yi-Xiong Zhou
> Version: 1.5.1
> OS: win2000pro
> Submission from: (NULL) (64.169.249.42)
> 
> 
> Update() can not find objects when it is used in a function, which is in
turn
> being called by another function. Here is a R script to show the problem:
> 
> ######## begin of the test script ##########
> fun1 <- function() {
>    x <- matrix(rnorm(500), 20,25)
>    y <- rnorm(20)
>    oo <- lm(y~x)
>    print("step 1")
>    update(oo)
>    print("first update success.")
>    fun2(oo)
> }
> 
> fun2 <- function(gg) {
>    update(gg)
>    print("second update success.")
> }
> 
> fun1()
> ########### end of the test script #############
> 
> Here is the result of running this script:
> 
> [1] "step 1"
> [1] "first update success."
> Error in eval(expr, envir, enclos) : Object "y" not found
> 
> Ideally, update should first search the objects in its environment first,
then
> its parent's, and grand parent's environments ... Right now, it only
searchs its
> own environment and the global environment, skipping its parents'. 

No, that's not what you should expect in a language with lexical scoping. 


However, there might still be a bug, since update with a non-missing
formula argument would extract the formula environment from the
formula stored in the lm object, but that doesn't happen if it is
missing. Modifying fun2 to

function(gg) {
   update(gg,formula(gg))
   print("second update success.")
}

or even

function(gg) {
   update(gg,y~x)
   print("second update success.")
}

does allow your example to run, which is somewhat unexpected...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1861.followup.2 <==
From tlumley@u.washington.edu  Thu Aug  1 21:37:37 2002
Received: from mxout2.cac.washington.edu (mxout2.cac.washington.edu [140.142.33.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id VAA28674
	for <R-bugs@biostat.ku.dk>; Thu, 1 Aug 2002 21:37:36 +0200 (MET DST)
Received: from mailscan-out3.cac.washington.edu (mailscan-out3.cac.washington.edu [140.142.32.18])
	by mxout2.cac.washington.edu (8.12.1+UW01.12/8.12.1+UW02.06) with SMTP id g71Jasej008354
	for <R-bugs@biostat.ku.dk>; Thu, 1 Aug 2002 12:36:54 -0700
Received: FROM homer26.u.washington.edu BY mailscan-out3.cac.washington.edu ; Thu Aug 01 12:36:52 2002 -0700
Received: from localhost (tlumley@localhost)
	by homer26.u.washington.edu (8.12.1+UW01.12/8.12.1+UW02.01) with ESMTP id g71Jap8T071380;
	Thu, 1 Aug 2002 12:36:51 -0700
Date: Thu, 1 Aug 2002 12:36:51 -0700 (PDT)
From: Thomas Lumley <tlumley@u.washington.edu>
To: yzhou@arcturusag.com
cc: r-devel@stat.math.ethz.ch, <R-bugs@biostat.ku.dk>
Subject: Re: update() can not find objects (PR#1861)
In-Reply-To: <200208011702.TAA28218@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.44.0208011232100.18384-100000@homer26.u.washington.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Thu, 1 Aug 2002 yzhou@arcturusag.com wrote:
<snip>
> Ideally, update should first search the objects in its environment first, then
> its parent's, and grand parent's environments ... Right now, it only searchs its
> own environment and the global environment, skipping its parents'.
>

No, ideally it should search the objects in the environment where the
model was defined.  There's no guarantee that this is a grandparent, and
grandparents shouldn't be searched otherwise.  It might be tricky to get
this to work.

What isn't clear to me is whether the current environment should be
searched before the environment where the model was defined or afterwards.

	-thomas


==> 1861.followup.3 <==
From tlumley@u.washington.edu  Thu Aug  1 23:14:46 2002
Received: from mxout2.cac.washington.edu (mxout2.cac.washington.edu [140.142.33.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id XAA28971
	for <R-bugs@biostat.ku.dk>; Thu, 1 Aug 2002 23:14:45 +0200 (MET DST)
Received: from mailscan-out2.cac.washington.edu (mailscan-out2.cac.washington.edu [140.142.33.17])
	by mxout2.cac.washington.edu (8.12.1+UW01.12/8.12.1+UW02.06) with SMTP id g71LE4ej008711
	for <R-bugs@biostat.ku.dk>; Thu, 1 Aug 2002 14:14:04 -0700
Received: FROM homer26.u.washington.edu BY mailscan-out2.cac.washington.edu ; Thu Aug 01 14:14:00 2002 -0700
Received: from localhost (tlumley@localhost)
	by homer26.u.washington.edu (8.12.1+UW01.12/8.12.1+UW02.01) with ESMTP id g71LDx4S055014;
	Thu, 1 Aug 2002 14:14:00 -0700
Date: Thu, 1 Aug 2002 14:13:59 -0700 (PDT)
From: Thomas Lumley <tlumley@u.washington.edu>
To: Yi-Xiong Zhou <yzhou@arcturusag.com>
cc: "'Peter Dalgaard BSA'" <p.dalgaard@biostat.ku.dk>,
        <r-devel@stat.math.ethz.ch>, <R-bugs@biostat.ku.dk>
Subject: RE: update() can not find objects (PR#1861)
In-Reply-To: <BBAF0DEC119BD41193C100B0D0788DFE1D234B@GENOME>
Message-ID: <Pine.A41.4.44.0208011405170.18384-100000@homer26.u.washington.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Thu, 1 Aug 2002, Yi-Xiong Zhou wrote:

> Thanks Peter. This does work for formula. However, it failed to a function
> call. Here is another test script:
>
> ################# begin test ###############
> fun1 <- function() {
>    x <- matrix(rnorm(500), 20,25)
>    oo <- fun3(x)
>    print("step 1")
>    update(oo)
>    print("first update success.")
>    fun2(oo)
> }
>
> fun2 <- function(gg) {
>    update(gg)
>    print("second update success.")
> }
>
> fun3 <- function(aa) {
>    oo <- list(x=aa, call=match.call())
>    oo
> }
>
> fun1()
> ############### end test ############
>
> The error message is
>
> [1] "step 1"
> [1] "first update success."
> Error in fun3(aa = x) : Object "x" not found

Yes, but this isn't supposed to work, and can't.

In the first place update() is supposed to work on models, not on
arbitrary objects.

In the second place, the object you are returning contains no information
about where it was created, so it's not possible for update to work out
the correct environment.  In this case the correct environment happens to
be parent.frame(2), but there's no reason why this should be true in
general.


When the object is a model with a formula it does carry information about
where it was defined, so update() can look there.  Your first example
should have worked, and the fact that it didn't is a bug (though arguably
just a wishlist bug).  This new example shouldn't work.


	-thomas



==> 1861.followup.4 <==
From yzhou@arcturusag.com  Thu Aug  1 23:25:31 2002
Received: from genome.arcturusag.com (mail.arcturusag.com [64.169.249.254])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id XAA29028;
	Thu, 1 Aug 2002 23:25:29 +0200 (MET DST)
Received: by GENOME with Internet Mail Service (5.5.2650.21)
	id <P7TL2JPY>; Thu, 1 Aug 2002 14:20:22 -0700
Message-ID: <BBAF0DEC119BD41193C100B0D0788DFE1D234C@GENOME>
From: Yi-Xiong Zhou <yzhou@arcturusag.com>
To: "'Thomas Lumley'" <tlumley@u.washington.edu>
Cc: "'Peter Dalgaard BSA'" <p.dalgaard@biostat.ku.dk>,
        r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: RE: update() can not find objects (PR#1861)
Date: Thu, 1 Aug 2002 14:20:13 -0700 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain

Could an object carry the information about where it was created? Could that
be on the wish list? 

Yi-Xiong

-----Original Message-----
From: Thomas Lumley [mailto:tlumley@u.washington.edu]
Sent: Thursday, August 01, 2002 2:14 PM
To: Yi-Xiong Zhou
Cc: 'Peter Dalgaard BSA'; r-devel@stat.math.ethz.ch;
R-bugs@biostat.ku.dk
Subject: RE: update() can not find objects (PR#1861)


On Thu, 1 Aug 2002, Yi-Xiong Zhou wrote:

> Thanks Peter. This does work for formula. However, it failed to a function
> call. Here is another test script:
>
> ################# begin test ###############
> fun1 <- function() {
>    x <- matrix(rnorm(500), 20,25)
>    oo <- fun3(x)
>    print("step 1")
>    update(oo)
>    print("first update success.")
>    fun2(oo)
> }
>
> fun2 <- function(gg) {
>    update(gg)
>    print("second update success.")
> }
>
> fun3 <- function(aa) {
>    oo <- list(x=aa, call=match.call())
>    oo
> }
>
> fun1()
> ############### end test ############
>
> The error message is
>
> [1] "step 1"
> [1] "first update success."
> Error in fun3(aa = x) : Object "x" not found

Yes, but this isn't supposed to work, and can't.

In the first place update() is supposed to work on models, not on
arbitrary objects.

In the second place, the object you are returning contains no information
about where it was created, so it's not possible for update to work out
the correct environment.  In this case the correct environment happens to
be parent.frame(2), but there's no reason why this should be true in
general.


When the object is a model with a formula it does carry information about
where it was defined, so update() can look there.  Your first example
should have worked, and the fact that it didn't is a bug (though arguably
just a wishlist bug).  This new example shouldn't work.


	-thomas


==> 1861.audit <==
Thu Aug  1 23:00:21 2002	thomas	moved from incoming to Models
Fri Aug  2 00:01:23 2002	thomas	changed notes
Fri Aug  2 00:01:23 2002	thomas	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Startup

none

Directory:  System-specific

* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 848 <==
From postmaster@franz.stat.wisc.edu  Tue Feb 13 23:40:36 2001
Received: from franz.stat.wisc.edu (franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id XAA10552
	for <r-bugs@biostat.ku.dk>; Tue, 13 Feb 2001 23:40:36 +0100 (MET)
Received: from infiniti.ece.cmu.edu (really [128.2.133.84]) by franz.stat.wisc.edu
	via in.smtpd with esmtp
	id <m14So7r-000J2mC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Tue, 13 Feb 2001 16:40:47 -0600 (CST) 
Received: (from tov@localhost) by infiniti.ece.cmu.edu (AIX4.3/UCB 8.8.8/8.8.8) id RAA70658; Tue, 13 Feb 2001 17:40:46 -0500
X-Authentication-Warning: infiniti.ece.cmu.edu: tov set sender to tov@ece.cmu.edu using -f
Sender: tov@infiniti.ece.cmu.edu
To: r-bugs@r-project.org
Cc: Thomas Vogels <tov@ece.cmu.edu>
Subject: X11 device doesn't handle destroy events correcly
Reply-To: Thomas Vogels <tov@ece.cmu.edu>
X-URI: http://www.ece.cmu.edu/~tov
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
Message-ID: <px3ddi6wb5.fsf@infiniti.ece.cmu.edu>
Lines: 258
User-Agent: Gnus/5.0807 (Gnus v5.8.7) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii


Hi, there are two problems in devX11.c.  The one is an undocumented
nuisance and the other isn't a bug until you try to embed an X11
device in another window (think tktoplevel() in tcltk package...).

Let's take a look at locator() first: Assuming you call locator() with
a current X11 device, this call is handled in X11_Locator
(src/unix/X11/devX11.c).  When you have one window open and call
locator, you have three options to quit the locator: click Button 1
(to locate), click Button 2 (to abort), or destroy the window.  The
later results in the error message: "Error in locator(1) : No graphics
device is active". That's OK, sort of.

This gets problematic when you open two windows:
> x11()  # assume that's device 2
> x11()  # assume that's device 3
> plot(1)
> locator(1)  # with device 3 == dev.cur()!

When you now destroy device 3 (where locator expects the click), you have
*no alternative but to close _all_ windows* to abort the locator.  The
locator continues to wait for mouse clicks in device 3 where of course
no further clicks can come from.  That's the nuisance part.

The second problem is that the device may try to plot() into a
non-existant window.  Assume that the window was destroyed by some
other part of the program.  The device (at some point in the future)
will receive a DestroyNotify event that handleEvent ignores.
Blissfully!  *No KillDevice is called* when the window is destroyed by
something other than the WM_DELETE_WINDOW mechanism!  This happens
when you embed the X11 device into another window/application.  For
starters, the device no longer receives WM_DELETE_WINDOW client
messages.  But it does receive a DestroyNotify event when the parent
(the container window) is destroyed.  HandleEvent should, well
_handle_ this _event_.

The patch below is a _suggestion_ how to solve both problems.  It is
against the current r-devel, 1.3, as of 2/13.  I believe this behavior
exists in version 1.2 as well and can be solved there the same way.
The patch is just meant as a convenient and concise way to describe
my suggestion.  I'd greatly appreciate feedback or other ideas!

Implementation:

-- the variable inclose is now in the device specific structure (why
   was it global?)  After the window is mapped, inclose is TRUE until
   the window is destroyed explicitly or a DestroyNotify event has been
   received.
-- the deviceSpecific pointer is set to NULL after the memory has been
   freed. This (side?) effect is used in X11_Locator to detect the
   closing of the current device  which _must_ lead to an error.
-- the if statement to handle events of type DestroyEvent is added to 
   handleEvent
-- when the user closes the device (dev.off()), the window is
   destroyed in X11_Close
-- when the user pushes the close button in the window frame, the
   window is destroyed in handleEvent and X11_Close is initiated
   (the WM_DELETE_WINDOW mechanism already in place.)
-- when the window is destroyed for another reason (e.g. the parent
   being destroyed), it is not destroyed again but X11_Close is still
   initiated.

Regards,
  -tom


--------------------------------------------------
*** devX11.c_orig	Tue Feb 13 15:32:24 2001
--- devX11.c	Tue Feb 13 17:24:04 2001
***************
*** 116,121 ****
--- 116,122 ----
      FILE *fp;				/* file for a bitmap device */
      int quality;			/* JPEG quality */
  
+     Rboolean inclose;                   /* TRUE if window is being closed */
  } x11Desc;
  
  
***************
*** 145,151 ****
  static Atom _XA_WM_PROTOCOLS, protocol;
  
  static Rboolean displayOpen = FALSE;
- static Rboolean inclose = FALSE;
  static int numX11Devices = 0;
  
  	/********************************************************/
--- 146,151 ----
***************
*** 619,632 ****
  	xd->windowHeight = event.xconfigure.height;
  	xd->resize = 1;
      }
      else if ((event.type == ClientMessage) &&
! 	     (event.xclient.message_type == _XA_WM_PROTOCOLS))
! 	if (!inclose && event.xclient.data.l[0] == protocol) {
! 	    XFindContext(display, event.xclient.window,
  			 devPtrContext, &temp);
  	    dd = (DevDesc *) temp;
! 	    KillDevice(dd);
  	}
  }
  
  static void R_ProcessEvents(void *data)
--- 619,652 ----
  	xd->windowHeight = event.xconfigure.height;
  	xd->resize = 1;
      }
+     else if (event.type == DestroyNotify) {
+         /* The window is being destroyed, kill the device, too. */
+         XFindContext(display, event.xdestroywindow.window,
+                      devPtrContext, &temp);
+         dd = (DevDesc *) temp;
+         xd = (x11Desc *) dd->deviceSpecific;
+         if (!xd->inclose) {
+             xd->inclose = TRUE;
+             KillDevice(dd);
+         }
+     }
      else if ((event.type == ClientMessage) &&
! 	     (event.xclient.message_type == _XA_WM_PROTOCOLS)) {
! 	if (event.xclient.data.l[0] == protocol) {
!             XFindContext(display, event.xclient.window,
  			 devPtrContext, &temp);
  	    dd = (DevDesc *) temp;
! 	    xd = (x11Desc *) dd->deviceSpecific;
! 	    if (!xd->inclose) {
! 		/* Dispatch destroy only once */
! 		xd->inclose = TRUE;
! 		XDestroyWindow(display, xd->window);
! 		XSync (display, 0);
! 		KillDevice(dd);
! 	    }
  	}
+     }
+ 
  }
  
  static void R_ProcessEvents(void *data)
***************
*** 1208,1213 ****
--- 1228,1234 ----
  		     ExposureMask | ButtonPressMask | StructureNotifyMask);
  	XMapWindow(display, xd->window);
  	XSync(display, 0);
+         xd->inclose = FALSE;
  
  	/* Gobble expose events */
  
***************
*** 1464,1476 ****
      x11Desc *xd = (x11Desc *) dd->deviceSpecific;
  
      if (xd->type == WINDOW) {
! 	/* process pending events */
! 	/* set block on destroy events */
! 	inclose = TRUE;
  	R_ProcessEvents((void*) NULL);
  
  	XFreeCursor(display, xd->gcursor);
- 	XDestroyWindow(display, xd->window);
  	XSync(display, 0);
      } else {
  	if (xd->npages && xd->type != XIMAGE) {
--- 1485,1506 ----
      x11Desc *xd = (x11Desc *) dd->deviceSpecific;
  
      if (xd->type == WINDOW) {
! 	/* There are three reasons to be here: */
! 	/* 1) The user clicked on a button in the window frame */
! 	/*    and we received a DELETE_WINDOW from the wm, */
! 	/* 2) Somebody destroyed our window directly, or if */
! 	/*    embedded, the parent is being destroyed, and so */
! 	/*    we got a DestroyNotify event, too, */
! 	/* 3) The user used dev.off() to get rid of us. Bye. */
! 
! 	if (!xd->inclose) {
! 	    xd->inclose = TRUE;
! 	    XDestroyWindow(display, xd->window);
! 	}
! 	/* process pending events (esp. reap events for this window) */
  	R_ProcessEvents((void*) NULL);
  
  	XFreeCursor(display, xd->gcursor);
  	XSync(display, 0);
      } else {
  	if (xd->npages && xd->type != XIMAGE) {
***************
*** 1517,1523 ****
      }
  
      free(xd);
!     inclose = FALSE;
  }
  
  	/********************************************************/
--- 1547,1553 ----
      }
  
      free(xd);
!     dd->deviceSpecific = NULL;
  }
  
  	/********************************************************/
***************
*** 1858,1866 ****
  		else
  		    done = 2;
  	    }
! 	}
! 	else
  	    handleEvent(event);
      }
      /* if it was a Button1 succeed, otherwise fail */
      return (done == 1);
--- 1888,1901 ----
  		else
  		    done = 2;
  	    }
! 	} else {
  	    handleEvent(event);
+ 	    if (!dd->deviceSpecific) {
+ 		/* Allow new active window to redraw */
+ 		R_ProcessEvents((void*)NULL);
+ 		error ("Device closed while waiting for input.\n");
+ 	    }
+         }
      }
      /* if it was a Button1 succeed, otherwise fail */
      return (done == 1);
--------------------------------------------------




--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = Under development (unstable)
 major = 1
 minor = 3.0
 year = 2001
 month = 02
 day = 12
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-- 
mailto:tov@ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204


==> 848.followup.1 <==
From pd@biostat.ku.dk  Wed Feb 14 01:10:35 2001
Received: from biostat.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id BAA10968;
	Wed, 14 Feb 2001 01:10:34 +0100 (MET)
Received: (from pd@localhost)
	by biostat.ku.dk (8.9.3/8.9.3) id BAA02066;
	Wed, 14 Feb 2001 01:11:56 +0100
Sender: pd@blueberry.kubism.ku.dk
To: tov@ece.cmu.edu
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] X11 device doesn't handle destroy events correcly (PR#848)
References: <200102132240.XAA10562@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@pubhealth.ku.dk>
Date: 14 Feb 2001 01:11:56 +0100
In-Reply-To: tov@ece.cmu.edu's message of "Tue, 13 Feb 2001 23:40:37 +0100 (MET)"
Message-ID: <x2elx2yvg3.fsf@blueberry.kubism.ku.dk>
Lines: 25
X-Mailer: Gnus v5.7/Emacs 20.7
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

tov@ece.cmu.edu writes:


> Blissfully!  *No KillDevice is called* when the window is destroyed by
> something other than the WM_DELETE_WINDOW mechanism!  This happens
> when you embed the X11 device into another window/application.  For
> starters, the device no longer receives WM_DELETE_WINDOW client
> messages.  But it does receive a DestroyNotify event when the parent
> (the container window) is destroyed.  HandleEvent should, well
> _handle_ this _event_.

Heh. Quite probably, this is also the source of the FVWM trouble
reported earlier although that triggered an infinite loop which should
probably be guarded against by other means as well. 

Thanks for filing this (good to have as bug report so that we don't
forget - it's the sort of thing that often has to wait until someone
has a clear enough mind and sufficient stamina to try and get it
right.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 848.audit <==
Sat Feb 17 11:44:41 2001	ripley	moved from incoming to System-specific
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1020 *
Subject: .Call and Mandrake 8.0
From: lcottret@yahoo.fr
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
--problem with symbol names only on Mandrake 8.0, not 7.2
--needs reply to follow-up
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1020 <==
From lcottret@yahoo.fr  Wed Jul 11 15:34:24 2001
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA16374
	for <R-bugs@biostat.ku.dk>; Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
From: lcottret@yahoo.fr
Message-Id: <200107111334.PAA16374@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: .Call and Mandrake 8.0

Full_Name: Ludovic Cottret
Version: R 1.3.0
OS: Linux
Submission from: (NULL) (157.136.20.138)


I have a R function which call a C function by the instruction ".Call".
The first time I call the R function in a R session, it perfectly runs. But the
next 
times, R returns this error message :

Error in .Call("", bankpath, accn, indexpath, key, beg, end) :
        .Call function name not in load table

The function name has disappeared !!
This function well runs on Mandrake 7.2 but not in Mandrake 8.0. Why ?!?

Thanks for your answers...
PS : Excuse my poor english...




==> 1020.followup.1 <==
From duncan@jessie.research.bell-labs.com  Wed Jul 11 16:15:16 2001
Received: from crufty.research.bell-labs.com (crufty.research.bell-labs.com [204.178.16.49])
	by pubhealth.ku.dk (8.9.3/8.9.1) with SMTP id QAA16686
	for <R-bugs@biostat.ku.dk>; Wed, 11 Jul 2001 16:15:15 +0200 (MET DST)
Received: from scummy.research.bell-labs.com ([135.104.2.10]) by crufty; Wed Jul 11 10:10:04 EDT 2001
Received: from jessie.research.bell-labs.com ([135.104.13.5]) by scummy; Wed Jul 11 10:13:33 EDT 2001
Received: (from duncan@localhost)
	by jessie.research.bell-labs.com (8.9.1/8.9.1) id KAA02731;
	Wed, 11 Jul 2001 10:13:07 -0400 (EDT)
Date: Wed, 11 Jul 2001 10:13:07 -0400
From: Duncan Temple Lang <duncan@research.bell-labs.com>
To: lcottret@yahoo.fr
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] .Call and Mandrake 8.0 (PR#1020)
Message-ID: <20010711101307.E24919@jessie.research.bell-labs.com>
Mail-Followup-To: lcottret@yahoo.fr, r-devel@stat.math.ethz.ch,
	R-bugs@biostat.ku.dk
References: <200107111334.PAA16384@pubhealth.ku.dk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 1.0us
In-Reply-To: <200107111334.PAA16384@pubhealth.ku.dk>; from lcottret@yahoo.fr on Wed, Jul 11, 2001 at 03:34:25PM +0200

Hi Ludovic.

 There are at least two possible explanations for this behaviour.

  1)  There is a bug in the recently changed code in R to find 
     routines in C and Fortran libraries.

  2)  The routine that you are .Call()'ing is doing something
  that has confused the R internals and makes the next R commands
  not work, and potentially this is not reproducible.

If this is not proprietary or confidential code, you can send the C
code and instructions as to how to call it from R (that is, provide
simple values for the bankpath, accn, indexpath, key, beg and end
arguments), then I can see if the computations are potentially
writing over other values in memory.

Also, you can try a invoking a very simple .Call() routine 
many times to see if that displays the same failure. For example,
put the following C code in a file named simpleCall.c

#include "Rinternals.h"

SEXP
simpleCall() 
{
  static int count = 0;
  SEXP ans;

  PROTECT(ans = allocVector(INTSXP, 1));
  INTEGER(ans)[0] = count++;

  UNPROTECT(1);
  return(ans);
}

Then, compile this with 
  R CMD SHLIB simpleCall.c

and call it from R in the following way

 > dyn.load("simpleCall.so")
 > for(i in 1:10) { print(.Call("simpleCall")) }

If this works, it won't determine whether it is 1) or 2) (or any other
possible reason), but if it doesn't work, we will have a lot more
information.

 Thanks,
   Duncan


lcottret@yahoo.fr wrote:
> Full_Name: Ludovic Cottret
> Version: R 1.3.0
> OS: Linux
> Submission from: (NULL) (157.136.20.138)
> 
> 
> I have a R function which call a C function by the instruction ".Call".
> The first time I call the R function in a R session, it perfectly runs. But the
> next 
> times, R returns this error message :
> 
> Error in .Call("", bankpath, accn, indexpath, key, beg, end) :
>         .Call function name not in load table
> 
> The function name has disappeared !!
> This function well runs on Mandrake 7.2 but not in Mandrake 8.0. Why ?!?
> 
> Thanks for your answers...
> PS : Excuse my poor english...
> 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan@research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan

==> 1020.audit <==
Fri Aug  3 11:33:04 2001	ripley	changed notes
Fri Aug  3 11:33:04 2001	ripley	foobar
Fri Aug  3 11:33:04 2001	ripley	moved from incoming to System-specific
Tue Aug  7 08:37:20 2001	ripley	changed notes
Tue Aug  7 08:37:20 2001	ripley	foobar

==> 1020.followup.2 <==
From mikalzet@libero.it  Fri Dec  7 12:44:05 2001
Received: from smtp3.libero.it (smtp3.libero.it [193.70.192.53])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id MAA07110
	for <r-bugs@biostat.ku.dk>; Fri, 7 Dec 2001 12:44:04 +0100 (MET)
From: mikalzet@libero.it
Received: from localhost.localdomain (151.25.109.136) by smtp3.libero.it (6.0.032)
        id 3BD43E2500FA2042 for r-bugs@biostat.ku.dk; Fri, 7 Dec 2001 12:43:26 +0100
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by localhost.localdomain (Postfix) with ESMTP id 477AB1D9C
	for <r-bugs@biostat.ku.dk>; Fri,  7 Dec 2001 12:43:25 +0100 (CET)
Date: Fri, 7 Dec 2001 12:43:25 +0100 (CET)
X-X-Sender:  <mike@localhost.localdomain>
To: <r-bugs@biostat.ku.dk>
Subject: bug PR#1020
Message-ID: <Pine.LNX.4.33L2.0112071238100.3318-100000@localhost.localdomain>
Return-Receipt-To: mikalzet@libero.it
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII


Found it on the site.
I tried duncan's suggestion.

#include "Rinternals.h"

SEXP
simpleCall()
{
  static int count = 0;
  SEXP ans;

  PROTECT(ans = allocVector(INTSXP, 1));
  INTEGER(ans)[0] = count++;

  UNPROTECT(1);
  return(ans);
}


If I had read this before I could have checked on mandrake 8.0

Here is my output on mandrake 8.1:

> dyn.load("simpleCall.so")
> for(i in 1:10) { print(.Call("simpleCall")) }

[1] 0
[1] 1
[1] 2
[1] 3
[1] 4
[1] 5
[1] 6
[1] 7
[1] 8
[1] 9

for(i in 1:10) { print(.Call("simpleCall")) }

[1] 10
[1] 11
[1] 12
[1] 13
[1] 14
[1] 15
[1] 16
[1] 17
[1] 18
[1] 19

> for(i in 1:10) { print(.Call("simpleCall")) }

[1] 20
[1] 21
[1] 22
[1] 23
[1] 24
[1] 25
[1] 26
[1] 27
[1] 28
[1] 29

Seems ok ?

-- 
Michele Alzetta

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1097 *
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
From: Dirk Eddelbuettel <edd@debian.org>
Date: Thu, 20 Sep 2001 23:54:19 -0500
--This platform turned out to have badly broken FPU behaviour. Given up, at 
--least for now .
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1097 <==
From postmaster@franz.stat.wisc.edu  Fri Sep 21 06:54:31 2001
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id GAA13162
	for <r-bugs@biostat.ku.dk>; Fri, 21 Sep 2001 06:54:30 +0200 (MET DST)
Received: from sonny.eddelbuettel.com (really [64.195.36.229]) by franz.stat.wisc.edu
	via smail with esmtp (ident mail using rfc1413)
	id <m15kIKZ-000JJ6C@franz.stat.wisc.edu> (Debian Smail3.2.0.111)
	for <r-bugs@r-project.org>; Thu, 20 Sep 2001 23:54:27 -0500 (CDT) 
Received: from edd by sonny.eddelbuettel.com with local (Exim 3.32 #1 (Debian))
	id 15kIKS-0005EK-00
	for <r-bugs@r-project.org>; Thu, 20 Sep 2001 23:54:20 -0500
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15274.51195.688109.743960@sonny.eddelbuettel.com>
Date: Thu, 20 Sep 2001 23:54:19 -0500
To: r-bugs@r-project.org
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
X-Mailer: VM 6.92 under 21.4 (patch 1) "Copyleft" XEmacs Lucid
From: Dirk Eddelbuettel <edd@debian.org>


Debian tries to build its packages on a variety of platforms.  The arm
platform compiled 0.90.1 (the last Debian release before the Debian package
required an Atlas library, something we no longer require) failed in 'make
check'. The log snippet follows; I traced this to the example(Bessel) code.
 
> matplot(nu, t(outer(xx,nu, besselI)), type = 'l', ylim = c(-50,200),
+         main = expression(paste("Bessel ",I[nu](x)," for fixed ", x,
+                                 ",  as ",f(nu))),
+         xlab = expression(nu))
Error in title(main = main, sub = sub, xlab = xlab, ylab = ylab, ...) :
        Metric information not yet available for this device
        In addition: Warning messages:
        1: Nonfinite axis limits [GScale(nan,nan,1, .); log=0]
        2: relative range of values = 9.0072e+15 * EPS, is small (axis 1).
        3: Nonfinite axis limits [GScale(-inf,inf,2, .); log=0]
        4: relative range of values = 9.0072e+15 * EPS, is small (axis 2).
        Execution halted

Casual inspection suggests that GScale(nan,nan,1, .) is probably
incorrect. Now, src/nmath/bessel* provide the Bessel functions but does this
reflect a potential libc bug in IEEE handling?

I have also asked on the debian-arm mailing list, but no result so far. I
have some access to an arm box and could compile small test cases if that
helped. 

Dirk 
 
--please do not edit the information below--
 
Version:
 platform = i386-pc-linux-gnu
 arch = i386
 os = linux-gnu
 system = i386, linux-gnu
 status =
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R
 
Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey

==> 1097.audit <==
Fri Sep 21 07:46:37 2001	ripley	moved from incoming to System-specific
Fri Jun 14 18:10:49 2002	pd	changed notes
Fri Jun 14 18:10:49 2002	pd	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1140 *
Subject: Possible bug, Rprof() and scan(pipe())
From: Don MacQueen <macq@llnl.gov>
Date: Tue, 23 Oct 2001 13:50:26 -0700
--MacOS X: Doesn't happen on Solaris or Linux
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1140 <==
From macq@llnl.gov  Tue Oct 23 22:51:03 2001
Received: from smtp-2.llnl.gov (smtp-2.llnl.gov [128.115.250.82])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA27064
	for <r-bugs@biostat.ku.dk>; Tue, 23 Oct 2001 22:51:02 +0200 (MET DST)
Received: from [128.115.153.6] (localhost [127.0.0.1])
	by smtp-2.llnl.gov (8.9.3/8.9.3/LLNL-gateway-1.0) with ESMTP id NAA16321
	for <r-bugs@biostat.ku.dk>; Tue, 23 Oct 2001 13:50:23 -0700 (PDT)
Mime-Version: 1.0
X-Sender: e556558@popgun.llnl.gov
Message-Id: <p05101015b7fb820c1d22@[128.115.153.6]>
Date: Tue, 23 Oct 2001 13:50:26 -0700
To: r-bugs@biostat.ku.dk
From: Don MacQueen <macq@llnl.gov>
Subject: Possible bug, Rprof() and scan(pipe())
Content-Type: text/plain; charset="us-ascii" ; format="flowed"

This looks like a bug?
Unable to use scan(pipe()) while profiling.
I have no idea whether this version of R violates the
    "do not use `Rprof' in an executable built for profiling"
warning in ?Rprof.

Thanks
-Don

>  version
          _
platform powerpc-apple-darwin1.4
arch     powerpc
os       darwin1.4
system   powerpc, darwin1.4
status   Patched
major    1
minor    3.1
year     2001
month    10
day      15
language R
>
>  foo <- scan(pipe('ls -1 | head -3'),what='')
Read 3 items
>  foo
[1] "README"      "RMfiles.dat" "RMfiles.tmp"
>  Rprof()
>  foo <- scan(pipe('ls -1 | head -3'),what='')
Read 0 items
>  foo
character(0)
>  Rprof(NULL)
>  foo <- scan(pipe('ls -1 | head -3'),what='')
Read 3 items
>

note, profiling does appear to be functional:
>  Rprof() ; hist(rnorm(10000)) ; Rprof(NULL)
>  system('R CMD Rprof Rprof.out')

Each sample represents 0.02 seconds.
Total run time: 0.1 seconds.

Total seconds: time spent in function and callees.
Self seconds: time spent in function alone.

    %       total       %       self
  total    seconds     self    seconds    name
100.00      0.10      0.00      0.00     "hist"
  60.00      0.06      0.00      0.00     "hist.default"
  40.00      0.04     40.00      0.04     "rnorm"
  40.00      0.04      0.00      0.00     "plot"
  40.00      0.04      0.00      0.00     "plot.histogram"
  20.00      0.02      0.00      0.00     "storage.mode<-"
  20.00      0.02     20.00      0.02     "X11"
  20.00      0.02      0.00      0.00     "paste"
  20.00      0.02      0.00      0.00     "rect"
  20.00      0.02      0.00      0.00     "plot.new"
  20.00      0.02     20.00      0.02     "seq.default"
  20.00      0.02      0.00      0.00     "seq"
  20.00      0.02     20.00      0.02     "par"

    %       self        %       total
  self     seconds    total    seconds    name
  40.00      0.04     40.00      0.04     "rnorm"
  20.00      0.02     20.00      0.02     "X11"
  20.00      0.02     20.00      0.02     "seq.default"
  20.00      0.02     20.00      0.02     "par"

-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------

==> 1140.followup.1 <==
From ripley@stats.ox.ac.uk  Sun Nov  4 14:01:05 2001
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA21765
	for <R-bugs@biostat.ku.dk>; Sun, 4 Nov 2001 14:01:05 +0100 (MET)
Received: from gannet.stats (IDENT:root@gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id NAA06732;
	Sun, 4 Nov 2001 13:01:00 GMT
Received: from localhost (ripley@localhost)
	by gannet.stats (8.11.3/8.11.3) with ESMTP id fA4D0xv19084;
	Sun, 4 Nov 2001 13:00:59 GMT
X-Authentication-Warning: gannet.stats: ripley owned process doing -bs
Date: Sun, 4 Nov 2001 13:00:59 +0000 (GMT)
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
X-X-Sender:  <ripley@gannet.stats>
To: <macq@llnl.gov>
cc: <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] Possible bug, Rprof() and scan(pipe()) (PR#1140)
In-Reply-To: <200110232051.WAA27074@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0111041258370.19068-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

This does not happen on Solaris or Linux, so must be related to the use of
signals on darwin.

It probably means Rprof should be avoided on that platform, but the
porter (Jan de Leeuw) needs to investigate.


On Tue, 23 Oct 2001 macq@llnl.gov wrote:

> This looks like a bug?
> Unable to use scan(pipe()) while profiling.
> I have no idea whether this version of R violates the
>     "do not use `Rprof' in an executable built for profiling"
> warning in ?Rprof.
>
> Thanks
> -Don
>
> >  version
>           _
> platform powerpc-apple-darwin1.4
> arch     powerpc
> os       darwin1.4
> system   powerpc, darwin1.4
> status   Patched
> major    1
> minor    3.1
> year     2001
> month    10
> day      15
> language R
> >
> >  foo <- scan(pipe('ls -1 | head -3'),what='')
> Read 3 items
> >  foo
> [1] "README"      "RMfiles.dat" "RMfiles.tmp"
> >  Rprof()
> >  foo <- scan(pipe('ls -1 | head -3'),what='')
> Read 0 items
> >  foo
> character(0)
> >  Rprof(NULL)
> >  foo <- scan(pipe('ls -1 | head -3'),what='')
> Read 3 items
> >
>
> note, profiling does appear to be functional:
> >  Rprof() ; hist(rnorm(10000)) ; Rprof(NULL)
> >  system('R CMD Rprof Rprof.out')
>
> Each sample represents 0.02 seconds.
> Total run time: 0.1 seconds.
>
> Total seconds: time spent in function and callees.
> Self seconds: time spent in function alone.
>
>     %       total       %       self
>   total    seconds     self    seconds    name
> 100.00      0.10      0.00      0.00     "hist"
>   60.00      0.06      0.00      0.00     "hist.default"
>   40.00      0.04     40.00      0.04     "rnorm"
>   40.00      0.04      0.00      0.00     "plot"
>   40.00      0.04      0.00      0.00     "plot.histogram"
>   20.00      0.02      0.00      0.00     "storage.mode<-"
>   20.00      0.02     20.00      0.02     "X11"
>   20.00      0.02      0.00      0.00     "paste"
>   20.00      0.02      0.00      0.00     "rect"
>   20.00      0.02      0.00      0.00     "plot.new"
>   20.00      0.02     20.00      0.02     "seq.default"
>   20.00      0.02      0.00      0.00     "seq"
>   20.00      0.02     20.00      0.02     "par"
>
>     %       self        %       total
>   self     seconds    total    seconds    name
>   40.00      0.04     40.00      0.04     "rnorm"
>   20.00      0.02     20.00      0.02     "X11"
>   20.00      0.02     20.00      0.02     "seq.default"
>   20.00      0.02     20.00      0.02     "par"
>
> --
> --------------------------------------
> Don MacQueen
> Environmental Protection Department
> Lawrence Livermore National Laboratory
> Livermore, CA, USA
> --------------------------------------
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 1140.followup.2 <==
From luke@nokomis.stat.umn.edu  Sun Nov  4 14:18:34 2001
Received: from nokomis.stat.umn.edu (root@nokomis.stat.umn.edu [134.84.86.39])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA21858
	for <R-bugs@biostat.ku.dk>; Sun, 4 Nov 2001 14:18:33 +0100 (MET)
Received: (from luke@localhost)
	by nokomis.stat.umn.edu (8.11.3/8.10.2/SuSE Linux 8.10.0-0.3) id fA4DIOU10120;
	Sun, 4 Nov 2001 07:18:24 -0600
Date: Sun, 4 Nov 2001 07:18:24 -0600
From: Luke Tierney <luke@nokomis.stat.umn.edu>
To: ripley@stats.ox.ac.uk
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] Possible bug, Rprof() and scan(pipe()) (PR#1140)
Message-ID: <20011104071824.A10053@nokomis.stat.umn.edu>
References: <200111041301.OAA21775@pubhealth.ku.dk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <200111041301.OAA21775@pubhealth.ku.dk>; from ripley@stats.ox.ac.uk on Sun, Nov 04, 2001 at 02:01:10PM +0100

This feels like a system call restarting issue.  Some OS's restart
system calls after signals, others do not. For those that don't, low
level reads need to check for EINTR and such.  Connections use high
level reads, which should be insulated by the stdio library.  Possibly
dawrin's gets this wrong.  If strace is available you might be able to
tell that way.

luke

On Sun, Nov 04, 2001 at 02:01:10PM +0100, ripley@stats.ox.ac.uk wrote:
> This does not happen on Solaris or Linux, so must be related to the use of
> signals on darwin.
> 
> It probably means Rprof should be avoided on that platform, but the
> porter (Jan de Leeuw) needs to investigate.
> 
> 
> On Tue, 23 Oct 2001 macq@llnl.gov wrote:
> 
> > This looks like a bug?
> > Unable to use scan(pipe()) while profiling.
> > I have no idea whether this version of R violates the
> >     "do not use `Rprof' in an executable built for profiling"
> > warning in ?Rprof.
> >
> > Thanks
> > -Don
> >
> > >  version
> >           _
> > platform powerpc-apple-darwin1.4
> > arch     powerpc
> > os       darwin1.4
> > system   powerpc, darwin1.4
> > status   Patched
> > major    1
> > minor    3.1
> > year     2001
> > month    10
> > day      15
> > language R
> > >
> > >  foo <- scan(pipe('ls -1 | head -3'),what='')
> > Read 3 items
> > >  foo
> > [1] "README"      "RMfiles.dat" "RMfiles.tmp"
> > >  Rprof()
> > >  foo <- scan(pipe('ls -1 | head -3'),what='')
> > Read 0 items
> > >  foo
> > character(0)
> > >  Rprof(NULL)
> > >  foo <- scan(pipe('ls -1 | head -3'),what='')
> > Read 3 items
> > >
> >
> > note, profiling does appear to be functional:
> > >  Rprof() ; hist(rnorm(10000)) ; Rprof(NULL)
> > >  system('R CMD Rprof Rprof.out')
> >
> > Each sample represents 0.02 seconds.
> > Total run time: 0.1 seconds.
> >
> > Total seconds: time spent in function and callees.
> > Self seconds: time spent in function alone.
> >
> >     %       total       %       self
> >   total    seconds     self    seconds    name
> > 100.00      0.10      0.00      0.00     "hist"
> >   60.00      0.06      0.00      0.00     "hist.default"
> >   40.00      0.04     40.00      0.04     "rnorm"
> >   40.00      0.04      0.00      0.00     "plot"
> >   40.00      0.04      0.00      0.00     "plot.histogram"
> >   20.00      0.02      0.00      0.00     "storage.mode<-"
> >   20.00      0.02     20.00      0.02     "X11"
> >   20.00      0.02      0.00      0.00     "paste"
> >   20.00      0.02      0.00      0.00     "rect"
> >   20.00      0.02      0.00      0.00     "plot.new"
> >   20.00      0.02     20.00      0.02     "seq.default"
> >   20.00      0.02      0.00      0.00     "seq"
> >   20.00      0.02     20.00      0.02     "par"
> >
> >     %       self        %       total
> >   self     seconds    total    seconds    name
> >   40.00      0.04     40.00      0.04     "rnorm"
> >   20.00      0.02     20.00      0.02     "X11"
> >   20.00      0.02     20.00      0.02     "seq.default"
> >   20.00      0.02     20.00      0.02     "par"
> >
> > --
> > --------------------------------------
> > Don MacQueen
> > Environmental Protection Department
> > Lawrence Livermore National Laboratory
> > Livermore, CA, USA
> > --------------------------------------
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu

==> 1140.followup.3 <==
From macq@llnl.gov  Mon Nov  5 18:47:53 2001
Received: from smtp-1.llnl.gov (smtp-1.llnl.gov [128.115.250.81])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA05624
	for <R-bugs@biostat.ku.dk>; Mon, 5 Nov 2001 18:47:52 +0100 (MET)
Received: from [128.115.153.6] (localhost [127.0.0.1])
	by smtp-1.llnl.gov (8.9.3/8.9.3/LLNL-gateway-1.0) with ESMTP id JAA05930;
	Mon, 5 Nov 2001 09:46:15 -0800 (PST)
Mime-Version: 1.0
X-Sender: e556558@popgun.llnl.gov
Message-Id: <p0510100bb80c7eff076c@[128.115.153.6]>
In-Reply-To: <Pine.LNX.4.31.0111041258370.19068-100000@gannet.stats>
References: <Pine.LNX.4.31.0111041258370.19068-100000@gannet.stats>
Date: Mon, 5 Nov 2001 09:46:10 -0800
To: Jan de Leeuw <deleeuw@stat.ucla.edu>
From: Don MacQueen <macq@llnl.gov>
Subject: Re: [Rd] Possible bug, Rprof() and scan(pipe()) (PR#1140)
Cc: Prof Brian Ripley <ripley@stats.ox.ac.uk>, <R-bugs@biostat.ku.dk>
Content-Type: text/plain; charset="us-ascii" ; format="flowed"

Jan,
Here is information on the problem with Rprof() that I encountered, 
including Brian Ripley's assessment.
This is OS X 10.1 with the 10.1 developer tools installed.
-Don

At 1:00 PM +0000 11/4/01, Prof Brian Ripley wrote:
>This does not happen on Solaris or Linux, so must be related to the use of
>signals on darwin.
>
>It probably means Rprof should be avoided on that platform, but the
>porter (Jan de Leeuw) needs to investigate.
>
>
>On Tue, 23 Oct 2001 macq@llnl.gov wrote:
>
>>  This looks like a bug?
>>  Unable to use scan(pipe()) while profiling.
>>  I have no idea whether this version of R violates the
>>      "do not use `Rprof' in an executable built for profiling"
>>  warning in ?Rprof.
>>
>>  Thanks
>>  -Don
>>
>>  >  version
>>            _
>>  platform powerpc-apple-darwin1.4
>>  arch     powerpc
>>  os       darwin1.4
>>  system   powerpc, darwin1.4
>>  status   Patched
>>  major    1
>>  minor    3.1
>>  year     2001
>>  month    10
>>  day      15
>>  language R
>>  >
>  > >  foo <- scan(pipe('ls -1 | head -3'),what='')
>>  Read 3 items
>>  >  foo
>>  [1] "README"      "RMfiles.dat" "RMfiles.tmp"
>>  >  Rprof()
>>  >  foo <- scan(pipe('ls -1 | head -3'),what='')
>>  Read 0 items
>>  >  foo
>>  character(0)
>>  >  Rprof(NULL)
>  > >  foo <- scan(pipe('ls -1 | head -3'),what='')
>>  Read 3 items
>>  >
>>
>>  note, profiling does appear to be functional:
>>  >  Rprof() ; hist(rnorm(10000)) ; Rprof(NULL)
>>  >  system('R CMD Rprof Rprof.out')
>  >
>>  Each sample represents 0.02 seconds.
>>  Total run time: 0.1 seconds.
>>
>>  Total seconds: time spent in function and callees.
>>  Self seconds: time spent in function alone.
>>
>>      %       total       %       self
>>    total    seconds     self    seconds    name
>>  100.00      0.10      0.00      0.00     "hist"
>>    60.00      0.06      0.00      0.00     "hist.default"
>>    40.00      0.04     40.00      0.04     "rnorm"
>>    40.00      0.04      0.00      0.00     "plot"
>>    40.00      0.04      0.00      0.00     "plot.histogram"
>>    20.00      0.02      0.00      0.00     "storage.mode<-"
>>    20.00      0.02     20.00      0.02     "X11"
>>    20.00      0.02      0.00      0.00     "paste"
>>    20.00      0.02      0.00      0.00     "rect"
>>    20.00      0.02      0.00      0.00     "plot.new"
>>    20.00      0.02     20.00      0.02     "seq.default"
>>    20.00      0.02      0.00      0.00     "seq"
>>    20.00      0.02     20.00      0.02     "par"
>>
>>      %       self        %       total
>>    self     seconds    total    seconds    name
>>    40.00      0.04     40.00      0.04     "rnorm"
>>    20.00      0.02     20.00      0.02     "X11"
>>    20.00      0.02     20.00      0.02     "seq.default"
>>    20.00      0.02     20.00      0.02     "par"
>>
>>  --
>>  --------------------------------------
>>  Don MacQueen
>>  Environmental Protection Department
>>  Lawrence Livermore National Laboratory
>>  Livermore, CA, USA
>>  --------------------------------------
>>
>> 
>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>  r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>  Send "info", "help", or "[un]subscribe"
>>  (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
>> 
>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>>
>
>--
>Brian D. Ripley,                  ripley@stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------

==> 1140.audit <==
Sun Nov  4 13:54:41 2001	ripley	changed notes
Sun Nov  4 13:54:41 2001	ripley	foobar
Sun Nov  4 13:54:41 2001	ripley	moved from incoming to System-specific
Sun Apr 21 09:39:49 2002	ripley	changed notes
Sun Apr 21 09:39:49 2002	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1261 *
Subject: R_140 AND RHL_72 AND Packages
From: Patrick Gonin <gonin@genethon.fr>
Date: Wed, 15 Jan 2003 13:25:17 +0100
--Seems to relate to RH7.2 rpms
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1261 <==
From gonin@genethon.fr  Tue Jan 15 13:25:52 2002
Received: from sansgene.genethon.fr (root@sansgene.genethon.fr [193.50.68.15])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id NAA28694
	for <r-bugs@biostat.ku.dk>; Tue, 15 Jan 2002 13:25:51 +0100 (MET)
Received: from [192.168.100.154] (nat0-154.genethon.fr [192.168.100.154])
	by sansgene.genethon.fr (8.11.5/8.11.5) with ESMTP id g0FCPKT28309
	for <r-bugs@biostat.ku.dk>; Tue, 15 Jan 2002 13:25:20 +0100 (MET)
Mime-Version: 1.0
X-Sender: gonin@sansgene.genethon.fr
Message-Id: <a05100300ba4b0138cb3c@[192.168.100.154]>
Date: Wed, 15 Jan 2003 13:25:17 +0100
To: r-bugs@biostat.ku.dk
From: Patrick Gonin <gonin@genethon.fr>
Subject: R_140 AND RHL_72 AND Packages
Content-Type: text/plain; charset="us-ascii" ; format="flowed"

Dear colleagues,

>I use R under RH Linux 7.2 on a i686 PIII 733 machine.

I have a problem to install packages since R 1.4.0 has been installed.

>I have determined that whenever I install whichever package, the 
>installation (CMD INSTALL command) fail at finding R files, and at 
>finding all html,and other help files.
>However, it ends up with DONE INSTALL, and when you type 
>library(XXX) under R, there is no error. But it is like loading an 
>empty nutshell: no R function available, no help page available 
>(apart from the 00Index.html file).The only functional call is 
>always library(help=search) which displays all functions and 
>datasets of the package (the INDEX file, in fact). When looking at 
>the directories of the package, you find that only one file remains, 
>all other have disappeared (while they were there after tar).

I have also tried R CMD check which runs correctly and finds all files.

>The next test I did was desinstalling R 1.4.0, and reinstalling R 
>1.3.1, which led to no correction whatsoever (while before 
>installing R 1.4.0, there were no problem at all with R 1.3.1).
>Back with R 1.4.0, I am baffled, since it is like if the first 
>installation of R 1.4.0 had changed something to my Linux box.
>Last important element: some while ago, when I installed 15 packages 
>under RH 7.2 with R 1.3.1, everything worked OK. Moreover, for 
>upgrading to RH 7.2, I realised a new installation from scratch 
>after backup of all important data.

>Maybe I should also say that I install and desinstall R-base and 
>R-recommended using rpm files with gno-rpm.
Couldn't it be a general problem with the new binaries of R 1.4.0 and RH 7.2?
Any hint welcome, of course, because I have spend many many hours to 
try to fix that.

Best regards,
-- 
----------------------------
Patrick Gonin, DVM, PhD
Head of in vivo Evaluation Dept
GENETHON III
1 bis, rue de l'Internationale
BP 60
91002 EVRY CEDEX
FRANCE
Tel: 33-1-69-47-10-21
Fax: 33-1-60-77-86-98
gonin@genethon.fr
----------------------------

==> 1261.audit <==
Fri Jan 18 09:14:36 2002	ripley	changed notes
Fri Jan 18 09:14:36 2002	ripley	foobar
Fri Jan 18 09:14:36 2002	ripley	moved from incoming to System-specific
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1272 *
Subject: eigen segfault with GCC 3 on Solaris
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Thu, 17 Jan 2002 15:14:33 -0500
--Seems to be a problem with g77 in gcc 3.0.2 on Solaris only.
--Probably a compiler bug
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1272 <==
From pgilbert@bank-banque-canada.ca  Thu Jan 17 21:26:12 2002
Received: from mail1.bank-banque-canada.ca (mail1.bank-banque-canada.ca [140.80.193.130])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id VAA03042
	for <R-bugs@biostat.ku.dk>; Thu, 17 Jan 2002 21:26:11 +0100 (MET)
Received: from fwx-int (fwx-int.bank-banque-canada.ca [140.80.193.129])
	by mail1.bank-banque-canada.ca (8.9.3/8.9.3) with SMTP id PAA12351
	for <R-bugs@biostat.ku.dk>; Thu, 17 Jan 2002 15:14:51 -0500 (EST)
Received: from mfa99599.boc by mailhost.bank-banque-canada.ca (8.8.8+Sun/SMI-SVR4)
	id PAA12589; Thu, 17 Jan 2002 15:14:36 -0500 (EST)
Received: from mfa01506.boc (mfa01506 [140.80.3.112])
	by mfa99599.boc (8.9.1b+Sun/8.9.1) with ESMTP id PAA22347
	for <R-bugs@biostat.ku.dk>; Thu, 17 Jan 2002 15:14:35 -0500 (EST)
Received: from bank-banque-canada.ca (localhost [127.0.0.1])
	by mfa01506.boc (8.9.3+Sun/8.9.3) with ESMTP id PAA21692
	for <R-bugs@biostat.ku.dk>; Thu, 17 Jan 2002 15:14:33 -0500 (EST)
Sender: pgilbert@bank-banque-canada.ca
Message-ID: <3C4730A9.2F4818FA@bank-banque-canada.ca>
Date: Thu, 17 Jan 2002 15:14:33 -0500
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
X-Mailer: Mozilla 4.75 [en] (X11; U; SunOS 5.8 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: R-bugs <R-bugs@biostat.ku.dk>
Subject: eigen segfault with GCC 3 on Solaris
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

A message this morning reminded me of a previous problem I had which should be
noted in R bugs, but is really a problem with gcc 3 I believe. It may be only a
problem on Solaris, but AFAIK has not been checked on other platforms. I
resolved it by going back to a gcc 2.9x.x (which a few people suggested). Below
is the relevant part of my original post, an example which provokes the
segfault, and some gdb information from Peter Dalgaard.

PG>I have now tested R 1.3.1 compiled with GCC 3.0.2 on Solaris and the example
I
PG>previously posted (repeated below) still gives a segmentation fault, as it
does
PG>with GCC 3.0.1 but not with 2.95.2. The eigen calculation sometimes needs to
be
PG> repeated several times before the segmentation fault occurs. La.eigen does
not
PG> cause a problem. (The problem occurred with R-devel too, but I have not
tested
PG> that with GCC 3.0.2.)

PD>I don't know if it helps, but I see it too... 3.0.1 on Solaris 2.7.
PD>
PD>gdb says that it is happening at l.2144 of eigen.f:
PD>
PD>2142    C
PD>2143                DO 760 J = M, EN
PD>2144                   RA = RA + H(I,J) * H(J,NA)
PD>2145                   SA = SA + H(I,J) * H(J,EN)
PD>2146      760       CONTINUE
PD>2147    C
PD>
PD>J prints as 7289784 for me, which looks a bit weird since M and EN are
PD>17 and 18 respectively. However, optimizers sometimes cause this sort
PD>of thing.

----- example -----


zz <- t(matrix(c(
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.082008166, -0.066322053,
-0.115616348,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.038919428,  0.009703382,
0.115944209,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.007823026, -0.068859673,
0.025264756,
1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.067027108,  0.087934957,
-0.316974768,
0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.024890008,  0.052195412,
-0.015138322,
0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.028192857, -0.004832597,
0.207879665,
0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.078706928, -0.012801413,
0.425960682,
0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.102169750,  0.163238356,
-0.150373125,
0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.002685166,  0.014355904,
0.197912183,
0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,  0.042937314,  0.115719388,
0.679370293,
0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0,  0.032306141,  0.263227910,
0.009171148,
0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0,  0.008238734, -0.031480706,
0.051976566,
0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0,  0.015219148,  0.221345314,
0.020146770,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0,  0.039741608,  0.092955553,
-0.262550823,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,  0.012624418,  0.047810873,
0.201673308,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, -0.114163303,  0.417786916,
0.253110874,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,  0.049894329, -0.155696562,
-0.049735728,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,  0.006112607,  0.074242237,
0.034046467
), 18,18))

eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
Segmentation Fault - core dumped

==> 1272.audit <==
Fri Jan 18 09:10:34 2002	ripley	changed notes
Fri Jan 18 09:10:34 2002	ripley	foobar
Fri Jan 18 09:10:34 2002	ripley	moved from incoming to System-specific
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1275 *
Subject: compile problem with bessel_i.c on IRIX64 flexor 6.5 10100655 IP35 (uname -a)
From: Walter Tautz <wtautz@math.uwaterloo.ca>
Date: Tue, 22 Jan 2002 10:05:20 -0500 (EST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1275 <==
From wtautz@math.uwaterloo.ca  Tue Jan 22 16:05:53 2002
Received: from mfcf.math.uwaterloo.ca (wtautz@mfcf.math.uwaterloo.ca [129.97.216.156])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA20264
	for <r-bugs@biostat.ku.dk>; Tue, 22 Jan 2002 16:05:52 +0100 (MET)
Received: from localhost (wtautz@localhost)
	by mfcf.math.uwaterloo.ca (8.9.3/8.9.3) with SMTP id KAA12752;
	Tue, 22 Jan 2002 10:05:20 -0500 (EST)
X-Authentication-Warning: mfcf.math: wtautz owned process doing -bs
Date: Tue, 22 Jan 2002 10:05:20 -0500 (EST)
From: Walter Tautz <wtautz@math.uwaterloo.ca>
Reply-To: Walter Tautz <wtautz@math.uwaterloo.ca>
To: r-bugs@biostat.ku.dk
cc: Walter Tautz <wtautz@math.uwaterloo.ca>
Subject: compile problem with bessel_i.c on IRIX64 flexor 6.5 10100655 IP35 (uname -a)
Message-ID: <Pine.SOL.3.96.1020122095845.3015H-100000@mfcf.math.uwaterloo.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

I have included the full configure/make output:
(the particular error regarding bessel_i.c is at
the END of the report). 


-walter tautz 




	cd build/R-1.4.0 \
	    && unset noclobber \
	&& CPPFLAGS=" " \
	    LDFLAGS="" \
	       ./configure --prefix=/software/r-1 \
	           --datadir=/software/r-1/data \
	           --libdir=/software/r-1/lib \
	           --includedir=/software/r-1/include \
		   --with-x \
			   \
			 \
	           | tee configure.XHIER.log 2>&1 \
	&& touch XHIER_CONFIGURED
creating cache ./config.cache
checking for a BSD compatible install... tools/install-sh -c
checking whether build environment is sane... yes
checking whether make sets ${MAKE}... yes
checking for working aclocal... found
checking for working autoconf... found
checking for working automake... found
checking for working autoheader... found
checking for working makeinfo... found
checking host system type... mips-sgi-irix6.5
loading site script ./config.site
loading build specific script ./config.site
checking for pwd... /sbin/pwd
checking whether builddir is srcdir... yes
checking for gcc... gcc
checking whether the C compiler (gcc  ) works... yes
checking whether the C compiler (gcc  ) is a cross-compiler... no
checking whether we are using GNU C... yes
checking whether gcc accepts -g... yes
checking how to run the C preprocessor... gcc -E
checking whether gcc needs -traditional... no
checking whether gcc accepts -M for generating dependencies... yes
checking whether gcc supports -c -o FILE.lo... yes
checking for mawk... no
checking for gawk... no
checking for nawk... nawk
checking whether ln -s works... yes
checking for ranlib... :
checking for bison... bison -y
checking for ar... ar
checking whether echo can suppress newlines... yes
configure: warning: redefining INSTALL to be /scratch/usr/source/r-1/build/R-1.4.0/tools/install-sh -c
checking for javac... no
checking for less... /.software/local/.admin/bins/bin/less
checking for perl... /.software/local/.admin/bins/bin/perl
checking whether perl version is at least 5.004... yes
checking for dvips... no
checking for tex... configure: warning: you cannot build DVI versions of the R manuals
configure: warning: you cannot build PDF versions of the R manuals
no
checking for latex... no
checking for makeindex... no
checking for pdftex... no
checking for pdflatex... no
checking for makeinfo... /.software/local/.admin/bins/bin/makeinfo
checking for unzip... no
checking for zip... no
checking for Cygwin environment... no
checking for mingw32 environment... no
checking build system type... mips-sgi-irix6.5
checking for ld used by GCC... /usr/bin/ld
checking if the linker (/usr/bin/ld) is GNU ld... no
checking for /usr/bin/ld option to reload object files... -r
checking for BSD-compatible nm... /usr/bin/nm -B
checking how to recognise dependant libraries... pass_all
checking for object suffix... o
checking for executable suffix... no
checking command to parse /usr/bin/nm -B output... ok
checking for dlfcn.h... yes
checking for ranlib... (cached) :
checking for strip... strip
checking for objdir... .libs
checking for gcc option to produce PIC... none
checking if gcc static flag -static works... no
checking if gcc supports -c -o file.o... yes
checking if gcc supports -c -o file.lo... 
checking if gcc supports -fno-rtti -fno-exceptions... yes
checking whether the linker (/usr/bin/ld -64) supports shared libraries... yes
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... no
checking dynamic linker characteristics... irix6.5 ld.so
checking if libtool supports shared libraries... yes
checking whether -lc should be explicitly linked in... yes
creating libtool
checking whether makeinfo version is at least 4... yes
checking for main in -lm... yes
defining F77 to be g77
checking whether the Fortran 77 compiler (g77  ) works... yes
checking whether the Fortran 77 compiler (g77  ) is a cross-compiler... no
checking whether we are using GNU Fortran 77... yes
checking whether g77 accepts -g... yes
checking for Fortran 77 libraries...  -lg2c -lm -L/.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/mabi=64 -L/.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3 -L/usr/bin -L/.software/arch/gcc-2.95.3/dis

tribution/lib/mabi=64 -L/.software/arch/gcc-2.95.3/distribution/lib -lm -L/usr/lib64/mips3 -L/usr/lib64
checking whether g77 appends underscores... yes
checking whether g77 and gcc agree on int and double... yes
checking whether g77 and gcc agree on double complex... yes
checking whether g77 supports -c -o FILE.lo... yes
checking for c++... g++
checking whether the C++ compiler (g++  ) works... yes
checking whether the C++ compiler (g++  ) is a cross-compiler... no
checking whether we are using GNU C++... yes
checking whether g++ accepts -g... yes
checking how to run the C++ preprocessor... g++ -E
checking whether g++ accepts -M for generating dependencies... yes
checking whether g++ supports -c -o FILE.lo... yes
checking for sin in -lm... yes
checking for sin in -lmoto... no
checking for main in -lncurses... no
checking for main in -ltermcap... yes
checking for dlopen in -ldl... no
checking for ATL_xerbla in -latlas... no
checking for zherk in -lblas... no
checking for dgemm_ in -lblas... yes
checking for rl_callback_read_char in -lreadline... no
checking for working alloca.h... yes
checking for alloca... yes
checking for ANSI C header files... yes
checking for pid_t... yes
checking for vfork.h... no
checking for working vfork... no
checking for vprintf... yes
checking for access... yes
checking for acosh... yes
checking for asinh... yes
checking for atanh... yes
checking for bcopy... yes
checking for bzero... yes
checking for finite... yes
checking for ftruncate... yes
checking for getcwd... yes
checking for getgrgid... yes
checking for getpwuid... yes
checking for getuid... yes
checking for hypot... yes
checking for isascii... yes
checking for isnan... yes
checking for matherr... no
checking for memcpy... yes
checking for memmove... yes
checking for mempcpy... no
checking for mkfifo... yes
checking for popen... yes
checking for putenv... yes
checking for rint... yes
checking for setenv... no
checking for snprintf... yes
checking for strcoll... yes
checking for stat... yes
checking for strptime... yes
checking for system... yes
checking for times... yes
checking for unsetenv... no
checking for vsnprintf... yes
checking for strdup... yes
checking for library containing connect... none required
checking for library containing gethostbyname... none required
checking for library containing xdr_string... none required
checking for __setfpucw... no
checking for working calloc... yes
checking for working finite... yes
checking for working log... yes
checking for working strptime... no
checking for ANSI C header files... (cached) yes
checking whether time.h and sys/time.h may both be included... yes
checking for dirent.h that defines DIR... yes
checking for opendir in -ldir... no
checking for sys/wait.h that is POSIX.1 compatible... yes
checking for arpa/inet.h... yes
checking for dl.h... no
checking for dlfcn.h... (cached) yes
checking for elf.h... yes
checking for errno.h... yes
checking for fcntl.h... yes
checking for floatingpoint.h... no
checking for fpu_control.h... no
checking for grp.h... yes
checking for ieee754.h... no
checking for ieeefp.h... yes
checking for locale.h... yes
checking for netdb.h... yes
checking for netinet/in.h... yes
checking for pwd.h... yes
checking for readline/history.h... yes
checking for readline/readline.h... yes
checking for rpc/xdr.h... yes
checking for string.h... yes
checking for strings.h... yes
checking for sys/param.h... yes
checking for sys/select.h... yes
checking for sys/socket.h... yes
checking for sys/stat.h... yes
checking for sys/time.h... yes
checking for sys/times.h... yes
checking for sys/utsname.h... yes
checking for unistd.h... yes
checking whether setjmp.h is POSIX.1 compatible... yes
checking for GNU C library with version >= 2... no
checking whether math.h defines isfinite... no
checking whether math.h defines isnan... no
checking return type of signal handlers... void
checking for pid_t... (cached) yes
checking for size_t... yes
checking for blkcnt_t... yes
checking for sys/socket.h... (cached) yes
checking for type of socket length... size_t *
checking whether byte ordering is bigendian... yes
checking for working const... yes
checking size of int... 4
checking size of long... 8
checking size of long long... 8
checking size of long double... 8
checking whether C compiler needs -OPT:IEEE_NaN_inf=ON... no
checking for xmkmf... /usr/bin/X11/xmkmf
checking for X... libraries , headers 
checking for dnet_ntoa in -ldnet... no
checking for dnet_ntoa in -ldnet_stub... no
checking for gethostbyname... yes
checking for connect... yes
checking for remove... yes
checking for shmat... yes
checking for IceConnectionNumber in -lICE... yes
checking for tclConfig.sh... no
checking for tkConfig.sh... no
checking for tcl.h... no
checking for finite... (cached) yes
checking for isnan... (cached) yes
checking whether you have IEEE 754 floating-point arithmetic... yes
checking for BSD networking... yes
checking for jpeglib.h... yes
checking if jpeglib version >= 6b... no
checking for main in -lz... yes
checking for png.h... yes
checking if libpng version >= 1.0.5... no
checking for XDR support... yes
checking for gzopen in -lz... yes
checking for zlib.h... yes
checking if zlib version >= 1.1.3... no
checking whether leap seconds are treated according to POSIX... yes
checking for setitimer... yes
checking for lpr... lpr
checking for paperconf... false
updating cache ./config.cache
creating ./config.status
creating Makeconf
creating Makefile
creating afm/Makefile
creating doc/Makefile
creating doc/html/Makefile
creating doc/html/search/Makefile
creating doc/manual/Makefile
creating etc/Makefile
creating etc/Makeconf
creating etc/Renviron
creating m4/Makefile
creating share/Makefile
creating src/Makefile
creating src/appl/Makefile
creating src/include/Makefile
creating src/include/R_ext/Makefile
creating src/library/Makefile
creating src/library/base/DESCRIPTION
creating src/library/base/Makefile
creating src/library/profile/Makefile
creating src/library/ctest/DESCRIPTION
creating src/library/ctest/Makefile
creating src/library/ctest/src/Makefile
creating src/library/eda/DESCRIPTION
creating src/library/eda/Makefile
creating src/library/eda/src/Makefile
creating src/library/lqs/DESCRIPTION
creating src/library/lqs/Makefile
creating src/library/lqs/src/Makefile
creating src/library/methods/DESCRIPTION
creating src/library/methods/Makefile
creating src/library/methods/src/Makefile
creating src/library/modreg/DESCRIPTION
creating src/library/modreg/Makefile
creating src/library/modreg/src/Makefile
creating src/library/mva/DESCRIPTION
creating src/library/mva/Makefile
creating src/library/mva/src/Makefile
creating src/library/nls/DESCRIPTION
creating src/library/nls/Makefile
creating src/library/nls/src/Makefile
creating src/library/stepfun/DESCRIPTION
creating src/library/stepfun/Makefile
creating src/library/splines/DESCRIPTION
creating src/library/splines/Makefile
creating src/library/splines/src/Makefile
creating src/library/tcltk/DESCRIPTION
creating src/library/tcltk/Makefile
creating src/library/tcltk/src/Makefile
creating src/library/tools/DESCRIPTION
creating src/library/tools/Makefile
creating src/library/ts/DESCRIPTION
creating src/library/ts/Makefile
creating src/library/ts/src/Makefile
creating src/main/Makefile
creating src/modules/Makefile
creating src/modules/X11/Makefile
creating src/modules/gnome/Makefile
creating src/modules/internet/Makefile
creating src/modules/lapack/Makefile
creating src/modules/vfonts/Makefile
creating src/nmath/Makefile
creating src/nmath/standalone/Makefile
creating src/scripts/Makefile
creating src/scripts/COMPILE
creating src/scripts/INSTALL
creating src/scripts/REMOVE
creating src/scripts/R.sh
creating src/scripts/Rdconv
creating src/scripts/Rdindex
creating src/scripts/Rprof
creating src/scripts/SHLIB
creating src/scripts/Sd2Rd
creating src/scripts/build
creating src/scripts/check
creating src/unix/Makefile
creating tests/Makefile
creating tests/Embedding/Makefile
creating tests/Examples/Makefile
creating tools/Makefile
creating src/include/config.h
configure: warning: you cannot build DVI versions of the R manuals
configure: warning: you cannot build PDF versions of the R manuals


R is now configured for mips-sgi-irix6.5

  Source directory:          .
  Installation directory:    /software/r-1
  C compiler:                gcc  -g -O2
  C++ compiler:              g++  -g -O2
  FORTRAN compiler:          g77  -g -O2

  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            no

  R profiling support:       yes
  R as a shared library:     no

	cd build/R-1.4.0 \
	&&  make  all \
	&& touch XHIER_BUILT
creating src/scripts/R.fe
mkdir ../../bin
mkdir ../../include
mkdir ../../../include/R_ext
making approx.d from approx.c
making bakslv.d from bakslv.c
making bandwidths.d from bandwidths.c
making binning.d from binning.c
making chull.d from chull.c
making cpoly.d from cpoly.c
making cumsum.d from cumsum.c
making fft.d from fft.c
making fmin.d from fmin.c
making integrate.d from integrate.c
making lbfgsb.d from lbfgsb.c
making loglin.d from loglin.c
making lowess.d from lowess.c
making machar.d from machar.c
making maxcol.d from maxcol.c
making massdist.d from massdist.c
making pretty.d from pretty.c
making rowsum.d from rowsum.c
making splines.d from splines.c
making stem.d from stem.c
making strsignif.d from strsignif.c
making tabulate.d from tabulate.c
making uncmin.d from uncmin.c
making zeroin.d from zeroin.c
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c approx.c -o approx.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c bakslv.c -o bakslv.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c bandwidths.c -o bandwidths.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c binning.c -o binning.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c chull.c -o chull.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c cpoly.c -o cpoly.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c cumsum.c -o cumsum.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fft.c -o fft.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c fmin.c -o fmin.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c integrate.c -o integrate.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c lbfgsb.c -o lbfgsb.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c loglin.c -o loglin.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c lowess.c -o lowess.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c machar.c -o machar.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c maxcol.c -o maxcol.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c massdist.c -o massdist.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c pretty.c -o pretty.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c rowsum.c -o rowsum.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c splines.c -o splines.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c stem.c -o stem.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c strsignif.c -o strsignif.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c tabulate.c -o tabulate.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c uncmin.c -o uncmin.o
	gcc -I. -I../../src/include -I../../src/include  -DHAVE_CONFIG_H   -g -O2 -c zeroin.c -o zeroin.o
	g77   -g -O2 -c ch2inv.f -o ch2inv.o
	g77   -g -O2 -c chol.f -o chol.o
	g77   -g -O2 -c dpbfa.f -o dpbfa.o
	g77   -g -O2 -c dpbsl.f -o dpbsl.o
	g77   -g -O2 -c dpoco.f -o dpoco.o
	g77   -g -O2 -c dpodi.f -o dpodi.o
	g77   -g -O2 -c dpofa.f -o dpofa.o
	g77   -g -O2 -c dposl.f -o dposl.o
	g77   -g -O2 -c dqrdc.f -o dqrdc.o
	g77   -g -O2 -c dqrdc2.f -o dqrdc2.o
	g77   -g -O2 -c dqrls.f -o dqrls.o
	g77   -g -O2 -c dqrsl.f -o dqrsl.o
	g77   -g -O2 -c dqrutl.f -o dqrutl.o
	g77   -g -O2 -c dsvdc.f -o dsvdc.o
	g77   -g -O2 -c dtrco.f -o dtrco.o
	g77   -g -O2 -c dtrsl.f -o dtrsl.o
	g77   -g -O2 -c eigen.f -o eigen.o
	g77   -g -O2 -c lminfl.f -o lminfl.o
	ar cr libappl.a approx.o  bakslv.o bandwidths.o binning.o  chull.o cpoly.o cumsum.o  fft.o fmin.o integrate.o lbfgsb.o loglin.o lowess.o  machar.o maxcol.o massdist.o  pretty.o  rowsum.o  splines.o stem.o strsignif.o  tabulate.o  uncmin.o  zeroin.o ch2in

v.o chol.o  dpbfa.o dpbsl.o dpoco.o dpodi.o dpofa.o dposl.o dqrdc.o  dqrdc2.o dqrls.o dqrsl.o dqrutl.o dsvdc.o dtrco.o dtrsl.o  eigen.o  lminfl.o 
	: libappl.a
making mlutils.d from mlutils.c
making d1mach.d from d1mach.c
making i1mach.d from i1mach.c
making fmax2.d from fmax2.c
making fmin2.d from fmin2.c
making fprec.d from fprec.c
making fround.d from fround.c
making ftrunc.d from ftrunc.c
making sign.d from sign.c
making fsign.d from fsign.c
making imax2.d from imax2.c
making imin2.d from imin2.c
making chebyshev.d from chebyshev.c
making log1p.d from log1p.c
making lgammacor.d from lgammacor.c
making gammalims.d from gammalims.c
making stirlerr.d from stirlerr.c
making bd0.d from bd0.c
making gamma.d from gamma.c
making lgamma.d from lgamma.c
making gamma_cody.d from gamma_cody.c
making beta.d from beta.c
making lbeta.d from lbeta.c
making polygamma.d from polygamma.c
making bessel_i.d from bessel_i.c
making bessel_j.d from bessel_j.c
making bessel_k.d from bessel_k.c
making bessel_y.d from bessel_y.c
making choose.d from choose.c
making snorm.d from snorm.c
making sexp.d from sexp.c
making dgamma.d from dgamma.c
making pgamma.d from pgamma.c
making qgamma.d from qgamma.c
making rgamma.d from rgamma.c
making dbeta.d from dbeta.c
making pbeta.d from pbeta.c
making qbeta.d from qbeta.c
making rbeta.d from rbeta.c
making dunif.d from dunif.c
making punif.d from punif.c
making qunif.d from qunif.c
making runif.d from runif.c
making dnorm.d from dnorm.c
making pnorm.d from pnorm.c
making qnorm.d from qnorm.c
making rnorm.d from rnorm.c
making dlnorm.d from dlnorm.c

==> 1275.reply.1 <==
From p.dalgaard@biostat.ku.dk  Tue Jan 22 16:29:23 2002
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA20580;
	Tue, 22 Jan 2002 16:29:22 +0100 (MET)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.2/8.11.2) id g0MFRjp00671;
	Tue, 22 Jan 2002 16:27:45 +0100
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
Sender: pd@pubhealth.ku.dk
To: wtautz@math.uwaterloo.ca
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] compile problem with bessel_i.c on IRIX64 flexor 6.5 10100655 IP35 (uname -a) (PR#1275)
References: <200201221505.QAA20274@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 22 Jan 2002 16:27:45 +0100
In-Reply-To: <200201221505.QAA20274@pubhealth.ku.dk>
Message-ID: <x2elki4d8u.fsf@blueberry.kubism.ku.dk>
Lines: 37
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

wtautz@math.uwaterloo.ca writes:

> I have included the full configure/make output:
> (the particular error regarding bessel_i.c is at
> the END of the report). 
...
> bessel_i.c: In function `I_bessel':
> bessel_i.c:468: internal error--unrecognizable insn:
> (insn 1418 1417 673 (set:DF (reg/v:DF 101)
>         (if_then_else:DF (ne (reg:DI 416)
>                 (const_int 0 [0x0]))
>             (reg/v:DF 101)
>             (reg:DF 415))) -1 (insn_list 1417 (nil))
>     (expr_list:REG_DEAD (reg:DI 416)
>         (nil)))
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)

That looks like a problem in the gcc compiler suite. You might try
upgrading the compiler. Sometimes changing compiler flags (you would
only need to do it for the offending module) does the trick. 

Another possibility is that gcc is generating code that the system
assembler doesn't understand (this is happening with gcc 3 on
Solaris). If so, then you might install GNU binutils.

If none of this helps, I'm afraid that you need to take it up with the
GCC authors since it is not an R problem.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1275.followup.1 <==
From wtautz@math.uwaterloo.ca  Tue Jan 22 16:48:52 2002
Received: from mfcf.math.uwaterloo.ca (wtautz@mfcf.math.uwaterloo.ca [129.97.216.156])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA20899;
	Tue, 22 Jan 2002 16:48:49 +0100 (MET)
Received: from localhost (wtautz@localhost)
	by mfcf.math.uwaterloo.ca (8.9.3/8.9.3) with SMTP id KAA14370;
	Tue, 22 Jan 2002 10:48:18 -0500 (EST)
X-Authentication-Warning: mfcf.math: wtautz owned process doing -bs
Date: Tue, 22 Jan 2002 10:48:18 -0500 (EST)
From: Walter Tautz <wtautz@math.uwaterloo.ca>
Reply-To: Walter Tautz <wtautz@math.uwaterloo.ca>
To: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk,
        Walter Tautz <wtautz@math.uwaterloo.ca>
Subject: Re: [Rd] compile problem with bessel_i.c on IRIX64 flexor 6.5 10100655 IP35 (uname -a) (PR#1275)
In-Reply-To: <x2elki4d8u.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.SOL.3.96.1020122103116.3015L-100000@mfcf.math.uwaterloo.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII



On 22 Jan 2002, Peter Dalgaard BSA wrote:

> wtautz@math.uwaterloo.ca writes:
> 
> > I have included the full configure/make output:
> > (the particular error regarding bessel_i.c is at
> > the END of the report). 
> ...
> > bessel_i.c: In function `I_bessel':
> > bessel_i.c:468: internal error--unrecognizable insn:
> > (insn 1418 1417 673 (set:DF (reg/v:DF 101)
> >         (if_then_else:DF (ne (reg:DI 416)
> >                 (const_int 0 [0x0]))
> >             (reg/v:DF 101)
> >             (reg:DF 415))) -1 (insn_list 1417 (nil))
> >     (expr_list:REG_DEAD (reg:DI 416)
> >         (nil)))
> > *** Error code 1 (bu21)
> > *** Error code 1 (bu21)
> > *** Error code 1 (bu21)
> > *** Error code 1 (bu21)
> > *** Error code 1 (bu21)
> 
> That looks like a problem in the gcc compiler suite. You might try
> upgrading the compiler. Sometimes changing compiler flags (you would
> only need to do it for the offending module) does the trick. 
> 
> Another possibility is that gcc is generating code that the system
> assembler doesn't understand (this is happening with gcc 3 on
> Solaris). If so, then you might install GNU binutils.
> 

I neglected to mention that 
gcc -v gives:

gcc version 2.95.3 20010315 (release)



Here is a more verbose output if that helps:




Reading specs from /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/specs
gcc version 2.95.3 20010315 (release)
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/cpp0 -lang-c -v -I. -I../../src/include -I../../src/include -D__GNUC__=2 -D__GNUC_MINOR__=95 -Dunix -Dmips -Dsgi -Dhost_mips -DMIPSEB -D_MIPSEB -DSYSTYPE_SVR4 -D_LONGLONG -D_SVR4
_SOURCE -D_MODERN_C -D__DSO__ -D__unix__ -D__mips__ -D__sgi__ -D__host_mips__ -D__MIPSEB__ -D_MIPSEB -D__SYSTYPE_SVR4__ -D_LONGLONG -D_SVR4_SOURCE -D_MODERN_C -D__DSO__ -D__unix -D__mips -D__sgi -D__host_mips -D__MIPSEB -D__SYSTYPE_SVR4 -Asystem(unix) -As
ystem(svr4) -Acpu(mips) -Amachine(sgi) -D__CHAR_UNSIGNED__ -D__OPTIMIZE__ -g -D__LANGUAGE_C -D_LANGUAGE_C -DLANGUAGE_C -D__SIZE_TYPE__=long unsigned int -D__PTRDIFF_TYPE__=long int -D__LONG_MAX__=9223372036854775807L -D__EXTENSIONS__ -D_SGI_SOURCE -D_MIPS
_FPSET=32 -D_MIPS_ISA=_MIPS_ISA_MIPS3 -D_ABI64=3 -D_MIPS_SIM=_ABI64 -D_MIPS_SZINT=32 -D_MIPS_SZLONG=64 -D_MIPS_SZPTR=64 -D_COMPILER_VERSION=601 -U__mips -D__mips=3 -D__mips64 -DHAVE_CONFIG_H bessel_i.c /var/tmp/ccyhjiCa.i
GNU CPP version 2.95.3 20010315 (release) [AL 1.1, MM 40] SGI running IRIX 6.x
#include "..." search starts here:
#include <...> search starts here:
 .
 ../../src/include
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/../../../../mips-sgi-irix6.5/include
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/include
 /usr/include
End of search list.
The following default directories have been omitted from the search path:
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/../../../../include/g++-3
 /usr/local/include
End of omitted list.
 /.software/arch/gcc-2.95.3/distribution/lib/gcc-lib/mips-sgi-irix6.5/2.95.3/cc1 /var/tmp/ccyhjiCa.i -quiet -dumpbase bessel_i.c -mabi=64 -g -O2 -version -o /var/tmp/ccKOSzid.s
GNU C version 2.95.3 20010315 (release) (mips-sgi-irix6.5) compiled by GNU C version 2.95.3 20010315 (release).
bessel_i.c: In function `I_bessel':
bessel_i.c:468: internal error--unrecognizable insn:
(insn 1418 1417 673 (set:DF (reg/v:DF 101)
        (if_then_else:DF (ne (reg:DI 416)
                (const_int 0 [0x0]))
            (reg/v:DF 101)
            (reg:DF 415))) -1 (insn_list 1417 (nil))
    (expr_list:REG_DEAD (reg:DI 416)
        (nil)))


==> 1275.audit <==
Thu Jan 24 15:40:40 2002	ripley	moved from incoming to System-specific
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1289 *
Subject: R 1.4.0 build fails on AIX
From: lio@hpss1.ccs.ornl.gov
Date: Wed, 30 Jan 2002 14:10:30 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1289 <==
From lio@hpss1.ccs.ornl.gov  Wed Jan 30 14:10:31 2002
Received: from blueberry.kubism.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA19022
	for <R-bugs@biostat.ku.dk>; Wed, 30 Jan 2002 14:10:30 +0100 (MET)
Date: Wed, 30 Jan 2002 14:10:30 +0100 (MET)
From: lio@hpss1.ccs.ornl.gov
Message-Id: <200201301310.OAA19022@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: R 1.4.0 build fails on AIX

Full_Name: Daniel L. Million
Version: 1.4.0
OS: AIX 5.1 and 4.3.3
Submission from: (NULL) (160.91.192.125)


Is there any guidance available on building R on AIX?  Specifically, which C 
compiler to use?  We have AIX XL Fortran version 7.1.1.  We also have AIX 
Visual Age C version 5.0.2.  We also have gcc available.

I have tried building with "cc" (the default AIX compiler) and "gcc".  During
the "make", C compilation in src/library/methods/src completes, and then I 
see this:

mkdir ../../../../library/methods/libs
dumping R code in package `methods'
make: 1254-059 The signal code from the last command is 11.

Apparently the make is running R.bin, which coredumps with a segmentation
violation.

Do I need to be using a thread-safe compiler (e.g., "cc_r") for this build?
Any clues at all as to how to get around this?

Thanks.

Dan Million


==> 1289.followup.1 <==
From tlumley@u.washington.edu  Wed Jan 30 17:46:32 2002
Received: from jason04.u.washington.edu (jason04.u.washington.edu [140.142.8.53])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id RAA23476
	for <R-bugs@biostat.ku.dk>; Wed, 30 Jan 2002 17:46:31 +0100 (MET)
Received: from homer40.u.washington.edu (homer40.u.washington.edu [140.142.16.6])
	by jason04.u.washington.edu (8.12.1+UW01.12/8.12.1+UW02.01) with ESMTP id g0UGjs9Y020226;
	Wed, 30 Jan 2002 08:45:54 -0800
Received: from localhost (tlumley@localhost)
	by homer40.u.washington.edu (8.12.1+UW01.12/8.12.1+UW02.01) with ESMTP id g0UGjru1095332;
	Wed, 30 Jan 2002 08:45:53 -0800
Date: Wed, 30 Jan 2002 08:45:53 -0800 (PST)
From: Thomas Lumley <tlumley@u.washington.edu>
To: lio@hpss1.ccs.ornl.gov
cc: r-devel@stat.math.ethz.ch, <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <200201301310.OAA19034@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.44.0201300827470.74956-100000@homer40.u.washington.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Wed, 30 Jan 2002 lio@hpss1.ccs.ornl.gov wrote:

> Full_Name: Daniel L. Million
> Version: 1.4.0
> OS: AIX 5.1 and 4.3.3
> Submission from: (NULL) (160.91.192.125)
>
>
> Is there any guidance available on building R on AIX?  Specifically, which C
> compiler to use?  We have AIX XL Fortran version 7.1.1.  We also have AIX
> Visual Age C version 5.0.2.  We also have gcc available.
>
> I have tried building with "cc" (the default AIX compiler) and "gcc".  During
> the "make", C compilation in src/library/methods/src completes, and then I
> see this:
>
> mkdir ../../../../library/methods/libs
> dumping R code in package `methods'
> make: 1254-059 The signal code from the last command is 11.
>
> Apparently the make is running R.bin, which coredumps with a segmentation
> violation.
>
> Do I need to be using a thread-safe compiler (e.g., "cc_r") for this build?
> Any clues at all as to how to get around this?


I have successfully built most recent versions of R including 1.4.0 with
gcc/g77 and with "C for AIX version 5"/"XL Fortran for AIX" on AIX 4.3. I
haven't been able to mix the GNU and IBM compilers, but I haven't tried
recently.  Last week I compiled R-patched successfully using gcc/g77. I
didn't have to do anything special, but AIX has often been source of
configuration bugs.

You could try not building the methods package: edit  Makeconf in the top
R/ directory and remove methods from R_PKGS.

Also, I think that it's possible to have the methods package build in the
usual source form rather than as a saved image. I don't know how, but John
Chambers or Duncan Temple Lang may be able to help.

These wouldn't actually fix the problem, but would enable you to compile
everything else.

I'll try again with the AIX compilers and the new R 1.4.1. It's possible
that there have been some changes since I last tried, since I usually do
this shortly before a release.

	-thomas



==> 1289.followup.2 <==
From lio@hpss1.ccs.ornl.gov  Wed Jan 30 20:49:57 2002
Received: from hpss1.ccs.ornl.gov (hpss1.ccs.ornl.gov [160.91.192.125])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA24914
	for <R-bugs@biostat.ku.dk>; Wed, 30 Jan 2002 20:49:56 +0100 (MET)
Received: from localhost (lio@localhost)
	by hpss1.ccs.ornl.gov (AIX4.3/8.9.3/8.9.1) with ESMTP id OAA18340;
	Wed, 30 Jan 2002 14:49:04 -0500
Date: Wed, 30 Jan 2002 14:49:04 -0500 (EST)
From: Dan Million <lio@hpss1.ccs.ornl.gov>
To: Thomas Lumley <tlumley@u.washington.edu>
cc: <r-devel@stat.math.ethz.ch>, <R-bugs@biostat.ku.dk>,
        Dan Million <lio@hpss1.ccs.ornl.gov>
Subject: Re: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <Pine.A41.4.44.0201300827470.74956-100000@homer40.u.washington.edu>
Message-ID: <Pine.A41.4.31.0201301446540.16064-100000@hpss1.ccs.ornl.gov>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Wed, 30 Jan 2002, Thomas Lumley wrote:

> On Wed, 30 Jan 2002 lio@hpss1.ccs.ornl.gov wrote:
>
> > Full_Name: Daniel L. Million
> > Version: 1.4.0
> > OS: AIX 5.1 and 4.3.3
> > Submission from: (NULL) (160.91.192.125)
> >
> >
> > Is there any guidance available on building R on AIX?  Specifically, which C
> > compiler to use?  We have AIX XL Fortran version 7.1.1.  We also have AIX
> > Visual Age C version 5.0.2.  We also have gcc available.
> >
> > I have tried building with "cc" (the default AIX compiler) and "gcc".  During
> > the "make", C compilation in src/library/methods/src completes, and then I
> > see this:
> >
> > mkdir ../../../../library/methods/libs
> > dumping R code in package `methods'
> > make: 1254-059 The signal code from the last command is 11.
> >
> > Apparently the make is running R.bin, which coredumps with a segmentation
> > violation.
> >
> > Do I need to be using a thread-safe compiler (e.g., "cc_r") for this build?
> > Any clues at all as to how to get around this?
>
>
> I have successfully built most recent versions of R including 1.4.0 with
> gcc/g77 and with "C for AIX version 5"/"XL Fortran for AIX" on AIX 4.3. I
> haven't been able to mix the GNU and IBM compilers, but I haven't tried
> recently.  Last week I compiled R-patched successfully using gcc/g77. I
> didn't have to do anything special, but AIX has often been source of
> configuration bugs.
>
> You could try not building the methods package: edit  Makeconf in the top
> R/ directory and remove methods from R_PKGS.
>
> Also, I think that it's possible to have the methods package build in the
> usual source form rather than as a saved image. I don't know how, but John
> Chambers or Duncan Temple Lang may be able to help.
>
> These wouldn't actually fix the problem, but would enable you to compile
> everything else.
>
> I'll try again with the AIX compilers and the new R 1.4.1. It's possible
> that there have been some changes since I last tried, since I usually do
> this shortly before a release.
>
> 	-thomas

Thanks for the reply.  I tried building without the modules package, and
got past that point.  Now the build fails trying to link tcltk.so.  Seems
the tclConfig.sh on my host refers to a file that does not exist
(/opt/freeware/src/packages/BUILD/tcltk-8.3.3/tcl8.3.3/unix/lib.exp).

I'll freely admit to being clueless about most of this.  I don't know
anything about R; I'm just a sysadmin trying to build/install it for a
user who needs it.

Dan



==> 1289.followup.3 <==
From tlumley@u.washington.edu  Wed Jan 30 21:18:08 2002
Received: from jason03.u.washington.edu (jason03.u.washington.edu [140.142.8.11])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id VAA25053
	for <R-bugs@biostat.ku.dk>; Wed, 30 Jan 2002 21:18:07 +0100 (MET)
Received: from homer04.u.washington.edu (homer04.u.washington.edu [140.142.15.38])
	by jason03.u.washington.edu (8.12.1+UW01.12/8.12.1+UW02.01) with ESMTP id g0UKHUPE052646;
	Wed, 30 Jan 2002 12:17:30 -0800
Received: from localhost (tlumley@localhost)
	by homer04.u.washington.edu (8.12.1+UW01.12/8.12.1+UW02.01) with ESMTP id g0UKHTUO036174;
	Wed, 30 Jan 2002 12:17:29 -0800
Date: Wed, 30 Jan 2002 12:17:29 -0800 (PST)
From: Thomas Lumley <tlumley@u.washington.edu>
To: Dan Million <lio@hpss1.ccs.ornl.gov>
cc: r-devel@stat.math.ethz.ch, <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <Pine.A41.4.31.0201301446540.16064-100000@hpss1.ccs.ornl.gov>
Message-ID: <Pine.A41.4.44.0201301155360.117500-100000@homer04.u.washington.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Wed, 30 Jan 2002, Dan Million wrote:

> Thanks for the reply.  I tried building without the modules package, and
> got past that point.  Now the build fails trying to link tcltk.so.  Seems
> the tclConfig.sh on my host refers to a file that does not exist
> (/opt/freeware/src/packages/BUILD/tcltk-8.3.3/tcl8.3.3/unix/lib.exp).
>
> I'll freely admit to being clueless about most of this.  I don't know
> anything about R; I'm just a sysadmin trying to build/install it for a
> user who needs it.

Our autodetection of tcl/tk is less reliable than most stuff, partly
because the tclConfig.sh and similar files are sometimes inaccurate.  If
your users don't need tcl/tk (which is a fairly low-level set of
facilities for writing GUIs) you can again remove tcltk from the R_PKGS
line of Makeconf, or reconfigure
   ./configure --without-tcltk

If your users do need this package then you (or they) need to track down
where tcl and tk lurk and provide this information to R. Probably the
easiest way would be to install a new version of Tcl and Tk, which should
produce an honest set of configuration files.

	-thomas


==> 1289.followup.4 <==
From lio@hpss1.ccs.ornl.gov  Thu Jan 31 19:36:53 2002
Received: from hpss1.ccs.ornl.gov (hpss1.ccs.ornl.gov [160.91.192.125])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id TAA08024
	for <R-bugs@biostat.ku.dk>; Thu, 31 Jan 2002 19:36:52 +0100 (MET)
Received: from localhost (lio@localhost)
	by hpss1.ccs.ornl.gov (AIX4.3/8.9.3/8.9.1) with ESMTP id NAA24034;
	Thu, 31 Jan 2002 13:36:00 -0500
Date: Thu, 31 Jan 2002 13:36:00 -0500 (EST)
From: Dan Million <lio@hpss1.ccs.ornl.gov>
To: Thomas Lumley <tlumley@u.washington.edu>
cc: <r-devel@stat.math.ethz.ch>, <R-bugs@biostat.ku.dk>,
        Dan Million <lio@hpss1.ccs.ornl.gov>
Subject: Re: [Rd] R 1.4.0 build fails on AIX (PR#1289)
In-Reply-To: <Pine.A41.4.44.0201301155360.117500-100000@homer04.u.washington.edu>
Message-ID: <Pine.A41.4.31.0201311327400.23486-100000@hpss1.ccs.ornl.gov>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Wed, 30 Jan 2002, Thomas Lumley wrote:

> On Wed, 30 Jan 2002, Dan Million wrote:
>
> > Thanks for the reply.  I tried building without the modules package, and
> > got past that point.  Now the build fails trying to link tcltk.so.  Seems
> > the tclConfig.sh on my host refers to a file that does not exist
> > (/opt/freeware/src/packages/BUILD/tcltk-8.3.3/tcl8.3.3/unix/lib.exp).
>
> Our autodetection of tcl/tk is less reliable than most stuff, partly
> because the tclConfig.sh and similar files are sometimes inaccurate.  If
> your users don't need tcl/tk (which is a fairly low-level set of
> facilities for writing GUIs) you can again remove tcltk from the R_PKGS
> line of Makeconf, or reconfigure
>    ./configure --without-tcltk
>
> If your users do need this package then you (or they) need to track down
> where tcl and tk lurk and provide this information to R. Probably the
> easiest way would be to install a new version of Tcl and Tk, which should
> produce an honest set of configuration files.

I installed and built the Tcl/Tk source RPM, and now the file that R wants
is there.  By skipping the "modules" packages, the build gets all the way
to the end.

"make check" fails rather quickly:

    running code in `base-Ex.R' .../bin/sh: 51598 Illegal
	instruction(coredump)
    make: 1254-004 The error code from the last command is 1.

When I try to run R, I get the opening info and then a "> " prompt.
I can type simple commands like help(), but whenever I type q() to
quit, I get a coredump.  This is consistent with what I saw earlier when
the build was trying to load "modules".  The stack trace in the coredump
contains this:

Segmentation fault in spin_lock_global_ppc_mp at 0xd0106644 ($t1)
0xd0106644 (spin_lock_global_ppc_mp+0x24) 7ce5192d     stwcx.   r7,r5,r3
(dbx) where
spin_lock_global_ppc_mp() at 0xd0106644
_rec_mutex_lock(??) at 0xd0170d48
__ct__Q2_3std7_LockitFi(??, ??) at 0xd0bb3a18
__dt__Q2_3std6_WinitFv(??, ??) at 0xd0bdad18
__srterm__7__Fv() at 0xd0bcbe04
exit(??) at 0xd0177c40
Rstd_CleanUp(0x3, 0x0, 0x1), line 529 in "sys-std.c"

It almost looks like R is working OK until it calls "exit", and then it
blows up.

Dan



==> 1289.audit <==
Fri Feb  1 21:55:34 2002	ripley	moved from incoming to System-specific

==> 1289.followup.5 <==
From harald@cepba.upc.es Mon May  5 17:53:44 2003
Received: from dukas.upc.es (dukas.upc.es [147.83.2.62])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h45Frh2b016029
	for <r-bugs@biostat.ku.dk>; Mon, 5 May 2003 17:53:43 +0200 (MET DST)
Received: from amen.cepba.upc.es (amen.cepba.upc.es [147.83.42.19])
	by dukas.upc.es (8.12.1/8.12.1) with ESMTP id h45Frg9J012974
	for <r-bugs@biostat.ku.dk>; Mon, 5 May 2003 17:53:42 +0200 (MET DST)
Received: from cepba.upc.es (amen.cepba.upc.es [147.83.42.19])
	by amen.cepba.upc.es (SGI-8.9.3/8.9.3) with ESMTP id RAA51323
	for <r-bugs@biostat.ku.dk>; Mon, 5 May 2003 17:54:40 +0200 (CEST)
Sender: harald@cepba.upc.es
Message-ID: <3EB68940.F8718856@cepba.upc.es>
Date: Mon, 05 May 2003 17:54:40 +0200
From: Harald Servat Gelabert <harald@cepba.upc.es>
X-Mailer: Mozilla 4.77C-SGI [en] (X11; I; IRIX64 6.5 IP28)
X-Accept-Language: en
MIME-Version: 1.0
To: r-bugs@biostat.ku.dk
Subject: (PR#1289)
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Dear all,

I've found a bug report for R when installing it on an AIX5.1 system.
There's a followup (number 4) that comments a segmentation fault on R
when quitting "q()".

I'm using a newer version of R but on the same operating system and
I obtain the same error.

There was a way to solve this problem?

Best regards and thanks,

-- 
________________________________________________________________________
             Harald Servat Gelabert (harald@cepba.upc.es)
   o//o      Centre Europeu de Paral.lelisme de Barcelona          CEPBA
  o//o       WWW...: http://www.cepba.upc.es       Tel: +34-93-401 74 23
 o//o        e-mail: suport@cepba.upc.es           Fax: +34-93-401 25 77
o//o  CEPBA  c/Jordi Girona, 1-3, Mòdul D6. E-08034 Barcelona, Catalunya
________________________________________________________________________

The optimist thinks that this is the best of all possible worlds,
and the pessimist knows it.
-- J. Robert Oppenheimer, "Bulletin of Atomic Scientists"

We scientists, whose tragic destiny it has been to make the methods
of annihilation ever more gruesome and more effective, must consider
it our solemn and transcendent duty to do all in our power in
preventing these weapons from being used for the brutal purpose for
which they were invented.
-- Albert Einstein,       "Bulletin of Atomic Scientists"

==> 1289.reply.1 <==
From p.dalgaard@biostat.ku.dk Mon May  5 18:24:11 2003
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h45GOB2b016170;
	Mon, 5 May 2003 18:24:11 +0200 (MET DST)
Received: from blueberry.kubism.ku.dk (localhost.localdomain [127.0.0.1])
	by blueberry.kubism.ku.dk (8.12.8/8.12.8) with ESMTP id h45GSY8e007928;
	Mon, 5 May 2003 18:28:34 +0200
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.12.8/8.12.8/Submit) id h45GSXs7007924;
	Mon, 5 May 2003 18:28:33 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: harald@cepba.upc.es
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] (PR#1289)
References: <200305051553.h45Fro2b016035@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 05 May 2003 18:28:33 +0200
In-Reply-To: <200305051553.h45Fro2b016035@pubhealth.ku.dk>
Message-ID: <x2he89bbny.fsf@biostat.ku.dk>
Lines: 26
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

harald@cepba.upc.es writes:

> Dear all,
> 
> I've found a bug report for R when installing it on an AIX5.1 system.
> There's a followup (number 4) that comments a segmentation fault on R
> when quitting "q()".
> 
> I'm using a newer version of R but on the same operating system and
> I obtain the same error.
> 
> There was a way to solve this problem?

Well, some exact version numbers and bug report ditto might help
someone help you. 

Remember: *You* have a problem. People may actually go out of their
way to help you, but if they have to do detective work just to guess
your setup or figure out which PR# you're referring to, then they
might not bother.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1289.followup.6 <==
From harald@cepba.upc.es Mon May  5 18:39:17 2003
Received: from dukas.upc.es (dukas.upc.es [147.83.2.62])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h45GdG2b016236;
	Mon, 5 May 2003 18:39:17 +0200 (MET DST)
Received: from amen.cepba.upc.es (amen.cepba.upc.es [147.83.42.19])
	by dukas.upc.es (8.12.1/8.12.1) with ESMTP id h45Gd99J019653;
	Mon, 5 May 2003 18:39:09 +0200 (MET DST)
Received: from cepba.upc.es (amen.cepba.upc.es [147.83.42.19])
	by amen.cepba.upc.es (SGI-8.9.3/8.9.3) with ESMTP id SAA52701;
	Mon, 5 May 2003 18:40:07 +0200 (CEST)
Sender: harald@cepba.upc.es
Message-ID: <3EB693E6.CF360C1E@cepba.upc.es>
Date: Mon, 05 May 2003 18:40:07 +0200
From: Harald Servat Gelabert <harald@cepba.upc.es>
X-Mailer: Mozilla 4.77C-SGI [en] (X11; I; IRIX64 6.5 IP28)
X-Accept-Language: en
MIME-Version: 1.0
To: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
CC: R-bugs@biostat.ku.dk
Subject: Re: [Rd] (PR#1289)
References: <200305051553.h45Fro2b016035@pubhealth.ku.dk> <x2he89bbny.fsf@biostat.ku.dk>
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Ups, sorry, I forgot it. I thought that referencing the request
could be enough.

I'm trying to compile R 1.6.0, 1.6.1 and 1.6.2, and they all fail
on the same manner. With R 1.7.0 we have some problems for compiling
it.

I use GNU C version 3.1 and the G77 in the same package.

As I mentioned we have an AIX5.1 operating system running on a 
cluster of Power3 cpus.

When I launch R on the machine and quit from it, it makes a 
segmentation fault and core dumps.

Now I remember, when I tried to compile with XLC/XLF there were
several warning on a SETJMP or similar but this compiler didn't
fail on that point. (XLC failed when was unable to locate the
symbol __fixsfsi)


Best regards and thanks,


Peter Dalgaard BSA wrote:
> 
> harald@cepba.upc.es writes:
> 
> > Dear all,
> >
> > I've found a bug report for R when installing it on an AIX5.1 system.
> > There's a followup (number 4) that comments a segmentation fault on R
> > when quitting "q()".
> >
> > I'm using a newer version of R but on the same operating system and
> > I obtain the same error.
> >
> > There was a way to solve this problem?
> 
> Well, some exact version numbers and bug report ditto might help
> someone help you.
> 
> Remember: *You* have a problem. People may actually go out of their
> way to help you, but if they have to do detective work just to guess
> your setup or figure out which PR# you're referring to, then they
> might not bother.
> 
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-- 
________________________________________________________________________
             Harald Servat Gelabert (harald@cepba.upc.es)
   o//o      Centre Europeu de Paral.lelisme de Barcelona          CEPBA
  o//o       WWW...: http://www.cepba.upc.es       Tel: +34-93-401 74 23
 o//o        e-mail: suport@cepba.upc.es           Fax: +34-93-401 25 77
o//o  CEPBA  c/Jordi Girona, 1-3, Mòdul D6. E-08034 Barcelona, Catalunya
________________________________________________________________________

The optimist thinks that this is the best of all possible worlds,
and the pessimist knows it.
-- J. Robert Oppenheimer, "Bulletin of Atomic Scientists"

We scientists, whose tragic destiny it has been to make the methods
of annihilation ever more gruesome and more effective, must consider
it our solemn and transcendent duty to do all in our power in
preventing these weapons from being used for the brutal purpose for
which they were invented.
-- Albert Einstein,       "Bulletin of Atomic Scientists"

==> 1289.followup.7 <==
From hornik@ci.tuwien.ac.at Tue May  6 16:58:04 2003
Received: from isis.wu-wien.ac.at (isis.wu-wien.ac.at [137.208.3.42])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h46Ew32b027362
	for <R-bugs@biostat.ku.dk>; Tue, 6 May 2003 16:58:03 +0200 (MET DST)
Received: from mithrandir.hornik.net (mail@wu057056.wu-wien.ac.at [137.208.57.56])
	by isis.wu-wien.ac.at (8.12.8/8.12.6) with ESMTP id h46Ew0Tn044656;
	Tue, 6 May 2003 16:58:00 +0200
	(envelope-from hornik@ci.tuwien.ac.at)
Received: from hornik by mithrandir.hornik.net with local (Exim 3.36 #1 (Debian))
	id 19Clsx-0000Rf-00; Mon, 05 May 2003 21:44:27 +0200
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16054.48923.85323.827671@mithrandir.hornik.net>
Date: Mon, 5 May 2003 21:44:27 +0200
To: harald@cepba.upc.es
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] (PR#1289)
In-Reply-To: <200305051639.h45GdM2b016240@pubhealth.ku.dk>
References: <200305051639.h45GdM2b016240@pubhealth.ku.dk>
X-Mailer: VM 7.14 under Emacs 21.2.1
Reply-To: Kurt.Hornik@wu-wien.ac.at
From: Kurt Hornik <hornik@ci.tuwien.ac.at>
X-WU-uvscan-status: clean v4.2.40/v4261 charon fd6b3731df670a75451c59f40c1e76a4

>>>>> harald  writes:

> Ups, sorry, I forgot it. I thought that referencing the request
> could be enough.

> I'm trying to compile R 1.6.0, 1.6.1 and 1.6.2, and they all fail
> on the same manner. With R 1.7.0 we have some problems for compiling
> it.

> I use GNU C version 3.1 and the G77 in the same package.

> As I mentioned we have an AIX5.1 operating system running on a 
> cluster of Power3 cpus.

> When I launch R on the machine and quit from it, it makes a 
> segmentation fault and core dumps.

It might be helpful if you could debug this ...

Btw, I think the usual recommendation is using GCC 3.0 or 3.2, but not
3.1.

-k
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1316 *
Subject: shared libraries on AIX
From: lio@hpss1.ccs.ornl.gov
Date: Mon, 18 Feb 2002 18:53:41 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1316 <==
From lio@hpss1.ccs.ornl.gov  Mon Feb 18 18:53:43 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA04410
	for <R-bugs@biostat.ku.dk>; Mon, 18 Feb 2002 18:53:41 +0100 (MET)
Date: Mon, 18 Feb 2002 18:53:41 +0100 (MET)
From: lio@hpss1.ccs.ornl.gov
Message-Id: <200202181753.SAA04410@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: shared libraries on AIX

Full_Name: Daniel L. Million
Version: 1.4.1
OS: AIX 4.3.3/5.1
Submission from: (NULL) (160.91.192.125)


R almost works if I build on AIX without the R shared library (except for
crashing
on exit and a few other anomalies).  I can't get it to do much at all if I
build
with --enable-R-shlib.

For example, it won't load the X11 driver.  I ran R in a debugger and traced it
down to the point where R_load_X11_shlib successfully loads the R_X11.so
library
and calls R_init_X11.  This calls R_setX11Routines in src/unix/X11.c.  On entry

to this function, ptr_X11DeviceDriver = 0x2002eb20 and dev = 0x2014ba08.  After
the statement

    ptr_X11DeviceDriver = dev;

is executed, ptr_X11DeviceDriver remains unchanged at 0x2002eb20 !!  So when I
type "X11()" at the R prompt, all I ever get is the stub message, "the x11
device
has not been loaded".

I don't know enough about how shared libraries interact to understand why this
pointer is apparently write-protected.  I'm hoping someone here can give me a
clue.

Dan


==> 1316.audit <==
Tue Feb 19 10:13:59 2002	ripley	moved from incoming to System-specific
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1461 *
Subject: make check fails d-p-q-r-tests.R - OpenBSD 3.0
From: Jason Turner <jasont@indigoindustrial.co.nz>
Date: Mon, 15 Apr 2002 10:13:36 +0000
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1461 <==
From postmaster@franz.stat.wisc.edu  Mon Apr 15 12:12:38 2002
Received: from franz.stat.wisc.edu (root@franz.stat.wisc.edu [128.105.174.95])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id MAA07647
	for <r-bugs@biostat.ku.dk>; Mon, 15 Apr 2002 12:12:37 +0200 (MET DST)
Received: from pcp-2.ihug.co.nz (really [203.109.252.66]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m16x3Sh-000IamC@franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-bugs@r-project.org>; Mon, 15 Apr 2002 05:11:51 -0500 (CDT) 
Received: from 203-173-247-235.nzwide.ihug.co.nz (camille.indigoindustrial.co.nz) [203.173.247.235] 
	by pcp-2.ihug.co.nz with esmtp (Exim 3.22 #1 (Debian))
	id 16x3Sc-0000Ba-00; Mon, 15 Apr 2002 22:11:46 +1200
Received: (from jasont@localhost)
	by camille.indigoindustrial.co.nz (8.9.3/8.9.3) id WAA07569
	for r-bugs@r-project.org; Mon, 15 Apr 2002 22:13:36 +1200
Date: Mon, 15 Apr 2002 10:13:36 +0000
From: Jason Turner <jasont@indigoindustrial.co.nz>
To: r-bugs@r-project.org
Subject: make check fails d-p-q-r-tests.R - OpenBSD 3.0
Message-ID: <20020415101336.A7551@camille.indigoindustrial.co.nz>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
X-mailer: mutt 1.2.5i
X-Priority: Booga booga
X-FOTD: Persimmon

Found one that stumped me.  I did a search on R-bugs for the
string "d-p-q-r-tests", and found zero entries in all categories 
(I don't think I secretly gave it a regex).

Did the usual configure, make, make check on OpenBSD 3.0, and 
encountered this message on d-p-q-r-tests.Rout:

running code in `d-p-q-r-tests.R' ... OK
comparing `d-p-q-r-tests.Rout' to `./d-p-q-r-tests.Rout.save' ...251,253c251
< [1] "`is.NA' value mismatches: 800 in current, 0  in target"
< Warning message:
< NaNs produced in: exp(pab <- dbeta(p, a, b, log = TRUE))
---
> [1] TRUE
315,317c313
< [1] "`is.NA' value mismatches: 4 in current, 2  in target"
< Warning message:
< NaNs produced in: exp(z)
---
> [1] TRUE
 OK

If you're not too busy, I'd love to provide you with whatever you
need to look at this more closely than my untrained eyes can.
config.cache?  d-p-q-r-tests.Rout?  Anything else?

> version
         _
	 platform i386-unknown-openbsd3.0
	 arch     i386
	 os       openbsd3.0
	 system   i386, openbsd3.0
	 status
	 major    1
	 minor    4.1
	 year     2002
	 month    01
	 day      30
	 language R


Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont@indigoindustrial.co.nz

==> 1461.reply.1 <==
From maechler@stat.math.ethz.ch  Mon Apr 15 12:46:41 2002
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id MAA07975
	for <R-bugs@biostat.ku.dk>; Mon, 15 Apr 2002 12:46:38 +0200 (MET DST)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id MAA17444;
	Mon, 15 Apr 2002 12:45:47 +0200 (MET DST)
Received: from lynne(129.132.58.30), claiming to be "lynne.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa004GV; Mon Apr 15 12:45:43 2002
Received: (from maechler@localhost)
	by lynne.ethz.ch (8.11.6/8.11.2) id g3FAjYB22782;
	Mon, 15 Apr 2002 12:45:34 +0200
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15546.44877.955999.520989@gargle.gargle.HOWL>
Date: Mon, 15 Apr 2002 12:45:33 +0200
To: jasont@indigoindustrial.co.nz
Cc: R-bugs@biostat.ku.dk
Subject: Re: [Rd] make check fails d-p-q-r-tests.R - OpenBSD 3.0 (PR#1461)
In-Reply-To: <200204151012.MAA07652@pubhealth.ku.dk>
References: <200204151012.MAA07652@pubhealth.ku.dk>
X-Mailer: VM 6.97 under Emacs 21.1.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>

>>>>> "Jason" == Jason Turner <jasont@indigoindustrial.co.nz> writes:

    Jason> Found one that stumped me.  I did a search on R-bugs for the
    Jason> string "d-p-q-r-tests", and found zero entries in all categories 
    Jason> (I don't think I secretly gave it a regex).

    Jason> Did the usual configure, make, make check on OpenBSD 3.0, and 
    Jason> encountered this message on d-p-q-r-tests.Rout:

    Jason> running code in `d-p-q-r-tests.R' ... OK
    Jason> comparing `d-p-q-r-tests.Rout' to `./d-p-q-r-tests.Rout.save' ...251,253c251
    Jason> < [1] "`is.NA' value mismatches: 800 in current, 0  in target"
    Jason> < Warning message:
    Jason> < NaNs produced in: exp(pab <- dbeta(p, a, b, log = TRUE))
    Jason> ---
    >> [1] TRUE
    Jason> 315,317c313
    Jason> < [1] "`is.NA' value mismatches: 4 in current, 2  in target"
    Jason> < Warning message:
    Jason> < NaNs produced in: exp(z)
    Jason> ---
    >> [1] TRUE
    Jason> OK

    Jason> If you're not too busy, I'd love to provide you with whatever you
    Jason> need to look at this more closely than my untrained eyes can.
    Jason> config.cache?  d-p-q-r-tests.Rout?  Anything else?

Actually, we'd be very grateful if you could run these with
R-devel aka "R pre1.5.0" instead.

You can get a snapshot using rsync (or the tar file), see
    http://stat.ethz.ch/CRAN/sources.html

If you see the same problem (or also with 1.4.1)
look at the tests/d-p-q files
probably start R and try things like

 z <- c(-Inf,Inf,NA,NaN, rt(1000, df=2))
 z.ok <- z > -37.5 | !is.finite(z)
 for(df in 1:10)
    if(!is.logical(all.equal(pt(z, df), 1 - pt(-z,df), tol= 1e-15)))
      cat("ERROR -- df = ", df, "\n")

 c(pz <- pnorm(z), 1 - pnorm(z, lower=FALSE))
 c(pz, pnorm(-z, lower=FALSE))
 c(log(pz[z.ok]),  pnorm(z[z.ok], log=TRUE))


because these are around line 315 of tests/d-p-q-r-tests.Rout.save
and the second problem happened around there.

[A more desperate option would be to offer a login into your computer to
 someone from the R core team ...]

Thanks for helping us to have R running correctly on OpenBSD 3.0,
Martin

==> 1461.audit <==
Thu Apr 18 15:35:18 2002	ripley	moved from incoming to System-specific
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 1606 *
Subject: hitting ^C breaks readline history
From: Cyril Humbert <humbertc@univ-mlv.fr>
Date: Tue, 28 May 2002 12:07:07 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 1606 <==
From humbertc@univ-mlv.fr  Tue May 28 12:07:07 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id MAA25460
	for <R-bugs@biostat.ku.dk>; Tue, 28 May 2002 12:07:07 +0200 (MET DST)
Date: Tue, 28 May 2002 12:07:07 +0200 (MET DST)
Message-Id: <200205281007.MAA25460@pubhealth.ku.dk>
From: Cyril Humbert <humbertc@univ-mlv.fr>
To: R-bugs@biostat.ku.dk
Subject: hitting ^C breaks readline history

Full_Name: Cyril Humbert
Version: 1.5.0
OS: linux
Submission from: (NULL) (193.50.159.2)


Hitting ^C breaks readline history (when R is stared in an xterm).

xterm -e R
^C    -> arrow key and history stop working.
For example, up-arrow gives "^[[A".

ldd ./R.bin 
    [../..]
    libreadline.so.4.1 => /usr/lib/libreadline.so.4.1 (0x40020000)
    libncurses.so.5 => /usr/lib/libncurses.so.5 (0x4004c000)
    [../..]

libncurses version is 5.2.
Note. I've got the same problem with libreadline.so.4.2.

==> 1606.reply.1 <==
From p.dalgaard@biostat.ku.dk  Tue May 28 14:32:35 2002
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA27572;
	Tue, 28 May 2002 14:32:34 +0200 (MET DST)
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.11.2/8.11.2) id g4SCWVh01560;
	Tue, 28 May 2002 14:32:31 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
Sender: pd@pubhealth.ku.dk
To: humbertc@univ-mlv.fr
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: hitting ^C breaks readline history (PR#1606)
References: <200205281007.MAA25465@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 28 May 2002 14:32:31 +0200
In-Reply-To: <200205281007.MAA25465@pubhealth.ku.dk>
Message-ID: <x28z64fo68.fsf@blueberry.kubism.ku.dk>
Lines: 18
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

humbertc@univ-mlv.fr writes:

> Hitting ^C breaks readline history (when R is stared in an xterm).
> 
> xterm -e R
> ^C    -> arrow key and history stop working.
> For example, up-arrow gives "^[[A".

Yes, I've noticed as well. However, press Enter and things return to
normal.

If you give us a clue as to what causes the problem, we might fix it...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 1606.followup.1 <==
From cyril@univ-mlv.fr  Tue May 28 14:49:35 2002
Received: from univ-mlv.fr (goodboys.univ-mlv.fr [193.50.159.2])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA27857;
	Tue, 28 May 2002 14:49:34 +0200 (MET DST)
Received: from cyril by univ-mlv.fr with local (Exim 3.20 #1)
	id 17CgPD-0006St-00; Tue, 28 May 2002 14:48:51 +0200
Date: Tue, 28 May 2002 14:48:50 +0200
From: Cyril Humbert <humbertc@univ-mlv.fr>
To: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: hitting ^C breaks readline history (PR#1606)
Message-ID: <20020528144850.A24847@borneo.univ-mlv.fr>
References: <200205281007.MAA25465@pubhealth.ku.dk> <x28z64fo68.fsf@blueberry.kubism.ku.dk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <x28z64fo68.fsf@blueberry.kubism.ku.dk>; from p.dalgaard@biostat.ku.dk on Tue, May 28, 2002 at 02:32:31PM +0200
Sender: Cyril Humbert <cyril@univ-mlv.fr>

Peter Dalgaard BSA wrote:
> humbertc@univ-mlv.fr writes:
> 
> > Hitting ^C breaks readline history (when R is stared in an xterm).
> > 
> > xterm -e R
> > ^C    -> arrow key and history stop working.
> > For example, up-arrow gives "^[[A".
> 
> Yes, I've noticed as well. However, press Enter and things return to
> normal.

Thanks,
that's much better than my previous solution (quit and restart R).


> 
> If you give us a clue as to what causes the problem, we might fix it...

Probably something wrong with readline and/or ncurses but currently I
don't know exactly what...

-- 
Cyril Humbert 

==> 1606.audit <==
Mon Jun  3 20:57:41 2002	thomas	moved from incoming to System-specific
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2730 *
Subject: Re: Bug#187537: r-base: FTBFS: hangs in tcltk test
From: Dirk Eddelbuettel <edd@debian.org>
Date: Fri, 4 Apr 2003 06:27:15 -0600
--something obscure in debian: pbuilder is not part of R
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2730 <==
From edd@debian.org Fri Apr  4 14:27:17 2003
Received: from sonny.eddelbuettel.com (mail@12-250-182-80.client.attbi.com [12.250.182.80])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h34CRFpD008486
	for <r-bugs@biostat.ku.dk>; Fri, 4 Apr 2003 14:27:16 +0200 (MET DST)
Received: from edd by sonny.eddelbuettel.com with local (Exim 3.35 #1 (Debian))
	id 191QHr-000773-00; Fri, 04 Apr 2003 06:27:15 -0600
Date: Fri, 4 Apr 2003 06:27:15 -0600
From: Dirk Eddelbuettel <edd@debian.org>
To: r-bugs@biostat.ku.dk
Cc: Daniel Schepler <schepler@math.berkeley.edu>,
   187537-forwarded@bugs.debian.org
Subject: Re: Bug#187537: r-base: FTBFS: hangs in tcltk test
Message-ID: <20030404122715.GB27144@sonny.eddelbuettel.com>
References: <87n0j6rbjw.fsf@frobnitz.ddts.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <87n0j6rbjw.fsf@frobnitz.ddts.net>
User-Agent: Mutt/1.3.28i


Thanks for the bug report. I will pass it on to R Core.

On Thu, Apr 03, 2003 at 11:01:23PM -0800, Daniel Schepler wrote:
> Package: r-base
> Version: 1.6.2.cvs.20030403-1
> Severity: serious
> 
> Whenever I try to build r-base using pbuilder, it gets stuck at the
> following point:
> 
> ...
> collecting examples for package 'tcltk' ...
> make[6]: Entering directory `/tmp/buildd/r-base-1.6.2.cvs.20030403/src/library'
>  >>> Building/Updating help pages for package 'tcltk'
>      Formats: text example
> make[6]: Leaving directory `/tmp/buildd/r-base-1.6.2.cvs.20030403/src/library'
> running code in 'tcltk-Ex.R' ...
> 
> Part of the output of ps aufwwx reads:
> #1234     1727  0.0  0.1  2132 1000 pts/4    S    22:02   0:00                                                                              \_ /bin/sh -c ../../bin/R --vanilla < tcltk-Ex.R > tcltk-Ex.Rout 2>&1 || (mv tcltk-Ex.Rout tcltk-Ex.Rout.fail && exit 1)
> #1234     1728  0.1  2.6 24524 17004 pts/4   S    22:02   0:03                                                                                  \_ /tmp/buildd/r-base-1.6.2.cvs.20030403/bin/R.bin --vanilla
> #1234     1731  0.0  0.0     0    0 pts/4    Z    22:02   0:00                                                                                      \_ [R.bin] <defunct>
> 
> strace -p 1728 doesn't show anything useful, but top shows no CPU
> being consumed by the process (which is strange).

Hm, I have not seen that. But Doug Bates mentioned something about building
remotely, and having had a problem.

I have never seen this, and am building both locally and remotely.

> In case this makes any difference, I am redirecting the stdout and
> stderr of pbuilder into a pipe, while leaving stdin unchanged.

Don't know, it may. But that does not propagate to what happens inside
pbuilder, i.e. in the processes started by it, does it? 

Most of the other build systems work, see
     http://buildd.debian.org/build.php?pkg=r-base
The most recent hppa error looks spurious and related to Build-Depends.

Just to confirm, you are building on m68k, correct?  

Dirk


-- 
Wishful thinking can dominate much of the work of a profession for a decade,
but not indefinitely.   -- Robert Shiller, on Efficient Markets models, 2002

==> 2730.audit <==
Wed Apr  9 13:01:29 2003	ripley	moved from incoming to System-specific
Wed Apr  9 13:03:16 2003	ripley	changed notes
Wed Apr  9 13:03:16 2003	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2733 *
Subject: Re: Bug#187537: r-base: FTBFS: hangs in tcltk test
From: Daniel Schepler <schepler@math.berkeley.edu>
Date: 05 Apr 2003 14:06:09 -0800
--part of 2730
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2733 <==
From daniel@frobnitz.ddts.net Sun Apr  6 00:06:19 2003
Received: from smtp6.mindspring.com (smtp6.mindspring.com [207.69.200.110])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h35M6IpD015848
	for <r-bugs@biostat.ku.dk>; Sun, 6 Apr 2003 00:06:19 +0200 (MET DST)
Received: from user-119bq03.biz.mindspring.com ([66.149.232.3] helo=frobnitz.ddts.net)
	by smtp6.mindspring.com with esmtp (Exim 3.33 #1)
	id 191vne-0007aZ-00; Sat, 05 Apr 2003 17:06:10 -0500
Received: from daniel by frobnitz.ddts.net with local (Exim 3.36 #1 (Debian))
	id 191vnd-0000WI-00; Sat, 05 Apr 2003 14:06:09 -0800
To: Dirk Eddelbuettel <edd@debian.org>
Cc: r-bugs@biostat.ku.dk, 187537@bugs.debian.org
Subject: Re: Bug#187537: r-base: FTBFS: hangs in tcltk test
References: <87n0j6rbjw.fsf@frobnitz.ddts.net>
	<20030404122715.GB27144@sonny.eddelbuettel.com>
Content-Type: text/plain; charset=US-ASCII
From: Daniel Schepler <schepler@math.berkeley.edu>
Date: 05 Apr 2003 14:06:09 -0800
In-Reply-To: <20030404122715.GB27144@sonny.eddelbuettel.com>
Message-ID: <87of3kioq6.fsf@frobnitz.ddts.net>
Lines: 29
User-Agent: Gnus/5.0808 (Gnus v5.8.8) XEmacs/21.4 (Portable Code)
MIME-Version: 1.0
Sender: Daniel Schepler <daniel@frobnitz.ddts.net>

Dirk Eddelbuettel <edd@debian.org> writes:

> Thanks for the bug report. I will pass it on to R Core.
>
> > In case this makes any difference, I am redirecting the stdout and
> > stderr of pbuilder into a pipe, while leaving stdin unchanged.
> 
> Don't know, it may. But that does not propagate to what happens inside
> pbuilder, i.e. in the processes started by it, does it? 
> 
> Most of the other build systems work, see
>      http://buildd.debian.org/build.php?pkg=r-base
> The most recent hppa error looks spurious and related to Build-Depends.

I just reproduced the hang on a standard pbuilder setup: after
installing pbuilder and editing MIRRORSITE in /etc/pbuilderrc to your
liking and setting DISTRIBUTION to sid, you should just be able to run
pbuilder create, then "pbuilder build r-base_*.dsc 2>&1|tee
build-log".  This reproduced the bug for me.  (I'm not sure whether
pbuilder is actually required, but I didn't feel like installing the
Build-Depends for r-base in the root filesystem.)

> Just to confirm, you are building on m68k, correct?  

No, i386.
-- 
Daniel Schepler              "Please don't disillusion me.  I
schepler@math.berkeley.edu    haven't had breakfast yet."
                                 -- Orson Scott Card

==> 2733.audit <==
Wed Apr  9 13:01:29 2003	ripley	moved from incoming to System-specific
Wed Apr  9 13:02:35 2003	ripley	changed notes
Wed Apr  9 13:02:35 2003	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2736 *
Subject: Re: Bug#187537: r-base: FTBFS: hangs in tcltk test
From: Dirk Eddelbuettel <edd@debian.org>
Date: Sun, 6 Apr 2003 21:20:29 -0500
--part of 2730
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2736 <==
From edd@debian.org Mon Apr  7 04:20:30 2003
Received: from sonny.eddelbuettel.com (mail@12-250-182-80.client.attbi.com [12.250.182.80])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h372KTpD019834
	for <r-bugs@biostat.ku.dk>; Mon, 7 Apr 2003 04:20:29 +0200 (MET DST)
Received: from edd by sonny.eddelbuettel.com with local (Exim 3.35 #1 (Debian))
	id 192MFK-0004Yc-00; Sun, 06 Apr 2003 21:20:30 -0500
Date: Sun, 6 Apr 2003 21:20:29 -0500
From: Dirk Eddelbuettel <edd@debian.org>
To: Daniel Schepler <schepler@math.berkeley.edu>
Cc: Dirk Eddelbuettel <edd@debian.org>, r-bugs@biostat.ku.dk,
   187537@bugs.debian.org
Subject: Re: Bug#187537: r-base: FTBFS: hangs in tcltk test
Message-ID: <20030407022029.GA17494@sonny.eddelbuettel.com>
References: <87n0j6rbjw.fsf@frobnitz.ddts.net> <20030404122715.GB27144@sonny.eddelbuettel.com> <87of3kioq6.fsf@frobnitz.ddts.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <87of3kioq6.fsf@frobnitz.ddts.net>
User-Agent: Mutt/1.3.28i

severity 187537 wishlist
tags 187537 + upstream
thanks

I am downgrading because it a) does not affect normal build, b) does not
affect autobuilders, and c) is not related to Debian changes to the build
process as far as I can see.  a) and b) take care of the downgraded
severity, c) is for the upstream tag.

Let me know if you disagree, strongly or mildly.

Dirk

-- 
Wishful thinking can dominate much of the work of a profession for a decade,
but not indefinitely.   -- Robert Shiller, on Efficient Markets models, 2002

==> 2736.followup.1 <==
From edd@debian.org Mon Apr  7 04:31:13 2003
Received: from sonny.eddelbuettel.com (mail@12-250-182-80.client.attbi.com [12.250.182.80])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h372VCpD019863
	for <R-bugs@biostat.ku.dk>; Mon, 7 Apr 2003 04:31:13 +0200 (MET DST)
Received: from edd by sonny.eddelbuettel.com with local (Exim 3.35 #1 (Debian))
	id 192MPd-0004b7-00; Sun, 06 Apr 2003 21:31:09 -0500
Date: Sun, 6 Apr 2003 21:31:09 -0500
From: Dirk Eddelbuettel <edd@debian.org>
To: edd@debian.org
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] Re: Bug#187537: r-base: FTBFS: hangs in tcltk test (PR#2736)
Message-ID: <20030407023109.GA17645@sonny.eddelbuettel.com>
References: <200304070220.h372KVpD019838@pubhealth.ku.dk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <200304070220.h372KVpD019838@pubhealth.ku.dk>
User-Agent: Mutt/1.3.28i


Damn. That was meant for control@bugs.debian.org.  Sorry for the line noise.

Dirk

On Mon, Apr 07, 2003 at 04:20:31AM +0200, edd@debian.org wrote:
> severity 187537 wishlist
> tags 187537 + upstream
> thanks
> 
> I am downgrading because it a) does not affect normal build, b) does not
> affect autobuilders, and c) is not related to Debian changes to the build
> process as far as I can see.  a) and b) take care of the downgraded
> severity, c) is for the upstream tag.
> 
> Let me know if you disagree, strongly or mildly.
> 
> Dirk
> 
> -- 
> Wishful thinking can dominate much of the work of a profession for a decade,
> but not indefinitely.   -- Robert Shiller, on Efficient Markets models, 2002
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 

-- 
Wishful thinking can dominate much of the work of a profession for a decade,
but not indefinitely.   -- Robert Shiller, on Efficient Markets models, 2002

==> 2736.audit <==
Wed Apr  9 12:59:59 2003	ripley	changed notes
Wed Apr  9 12:59:59 2003	ripley	foobar
Wed Apr  9 13:01:29 2003	ripley	moved from incoming to System-specific
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2836 *
Subject: R-1.7.0: build feedback: OpenBSD 3.2
From: "Nelson H. F. Beebe" <beebe@math.utah.edu>
Date: Thu, 24 Apr 2003 11:40:35 -0600 (MDT)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2836 <==
From mailnull@stat.math.ethz.ch Thu Apr 24 19:40:47 2003
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3OHekpD008818
	for <R-bugs@biostat.ku.dk>; Thu, 24 Apr 2003 19:40:47 +0200 (MET DST)
Received: from hypatia.math.ethz.ch (localhost [127.0.0.1])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h3OHehbj018287
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <R-bugs@biostat.ku.dk>; Thu, 24 Apr 2003 19:40:44 +0200 (MEST)
Received: (from mailnull@localhost)
	by hypatia.math.ethz.ch (8.12.9/8.12.6/Submit) id h3OHeh4J018286
	for R-bugs@biostat.ku.dk; Thu, 24 Apr 2003 19:40:43 +0200 (MEST)
Received: from franz.stat.wisc.edu (www.omegahat.org [128.105.174.32])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h3OHecbi018265
	for <r-bugs@lists.r-project.org>; Thu, 24 Apr 2003 19:40:39 +0200 (MEST)
Received: from sunshine.math.utah.edu ([128.110.198.2] ident=[P4jB9svowineRZeiXlmiwyPtw2TxQ1Uq])
	by franz.stat.wisc.edu with esmtp (Exim 3.35 #1 (Debian))
	id 198ki7-0005DQ-00
	for <r-bugs@r-project.org>; Thu, 24 Apr 2003 12:40:39 -0500
Received: from suncore.math.utah.edu (IDENT:vaj/hT8eYShMPb6CVAVnm2m9Sgdtj+7D@suncore.math.utah.edu [128.110.198.5])
	by sunshine.math.utah.edu (8.9.3p2/8.9.3) with ESMTP id LAA24541;
	Thu, 24 Apr 2003 11:40:35 -0600 (MDT)
Received: (from beebe@localhost)
	by suncore.math.utah.edu (8.9.3p2/8.9.3) id LAA22994;
	Thu, 24 Apr 2003 11:40:35 -0600 (MDT)
Date: Thu, 24 Apr 2003 11:40:35 -0600 (MDT)
From: "Nelson H. F. Beebe" <beebe@math.utah.edu>
To: r-bugs@r-project.org
Cc: beebe@math.utah.edu
X-US-Mail: "Center for Scientific Computing, Department of Mathematics, 110
        LCB, University of Utah, 155 S 1400 E RM 233, Salt Lake City, UT
        84112-0090, USA"
X-Telephone: +1 801 581 5254
X-FAX: +1 801 585 1640, +1 801 581 4148
X-URL: http://www.math.utah.edu/~beebe
Subject: R-1.7.0: build feedback: OpenBSD 3.2
Message-ID: <CMM.0.92.0.1051206035.beebe@suncore.math.utah.edu>
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Spam-Status: No, hits=0.0 required=5.0 tests=none version=2.53
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.53 (1.174.2.15-2003-03-30-exp)

R-1.7.0 failed to build on OpenBSD 3.2:

Machinetype:            Intel Pentium III (600 MHz);    OpenBSD 3.2 GENERIC#25 i386
Remote gcc version:     gcc (GCC) 3.2.2
Remote g++ version:     g++ (GCC) 3.2.2
Configure environment:  CC=gcc CXX=g++ LDFLAGS=-Wl,-rpath,/usr/local/lib 

gcc -shared -Wl,-rpath,/usr/local/lib -o lapack.so  Lapack.lo rgeev.lo rsyev.lo  -L../../../bin -lRlapack  -L/usr/lib/debug -L/usr/local/lib/gcc-lib/i386-unknown-openbsd3.2/3.2.2 -L/usr/local/lib/gcc-lib/i386-unknown-openbsd3.2/3.2.2/../../.. -lfrtbegin -lg2c -lm -lbz2 -lz -lreadline -lncurses -lm
ld: -lRlapack: no match
collect2: ld returned 1 exit status
make[4]: *** [lapack.so] Error 1
make[4]: Leaving directory `/local/build/R-1.7.0/src/modules/lapack'

The curious thing is that the library IS present, and should have been
found via the -L path settings:

	% ls -l bin/libRlapack.so 
	-rwxrwxr-x    1 beebe    users     2453767 Apr 24 09:46 bin/libRlapack.so

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- Center for Scientific Computing       FAX: +1 801 581 4148                  -
- University of Utah                    Internet e-mail: beebe@math.utah.edu  -
- Department of Mathematics, 110 LCB        beebe@acm.org  beebe@computer.org -
- 155 S 1400 E RM 233                       beebe@ieee.org                    -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe  -


==> 2836.audit <==
Fri Apr 25 20:06:48 2003	ripley	moved from incoming to System-specific
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2837 *
Subject: R-1.7.0 build feedback: NetBSD 1.6
From: "Nelson H. F. Beebe" <beebe@math.utah.edu>
Date: Thu, 24 Apr 2003 11:45:20 -0600 (MDT)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2837 <==
From mailnull@stat.math.ethz.ch Thu Apr 24 19:45:34 2003
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3OHjYpD008850
	for <R-bugs@biostat.ku.dk>; Thu, 24 Apr 2003 19:45:34 +0200 (MET DST)
Received: from hypatia.math.ethz.ch (localhost [127.0.0.1])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h3OHjUbj018990
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <R-bugs@biostat.ku.dk>; Thu, 24 Apr 2003 19:45:30 +0200 (MEST)
Received: (from mailnull@localhost)
	by hypatia.math.ethz.ch (8.12.9/8.12.6/Submit) id h3OHjTo7018987
	for R-bugs@biostat.ku.dk; Thu, 24 Apr 2003 19:45:29 +0200 (MEST)
Received: from franz.stat.wisc.edu (www.omegahat.org [128.105.174.32])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h3OHjNbi018964
	for <r-bugs@lists.r-project.org>; Thu, 24 Apr 2003 19:45:23 +0200 (MEST)
Received: from sunshine.math.utah.edu ([128.110.198.2] ident=[gMxx9Uii3mR8kpPyHHCLWTMKyfh3qSrQ])
	by franz.stat.wisc.edu with esmtp (Exim 3.35 #1 (Debian))
	id 198kmh-0005Eo-00
	for <r-bugs@r-project.org>; Thu, 24 Apr 2003 12:45:23 -0500
Received: from suncore.math.utah.edu (IDENT:3SnKeLwLN3a70A+VbJ7UZpgXOotTyxom@suncore.math.utah.edu [128.110.198.5])
	by sunshine.math.utah.edu (8.9.3p2/8.9.3) with ESMTP id LAA24834;
	Thu, 24 Apr 2003 11:45:20 -0600 (MDT)
Received: (from beebe@localhost)
	by suncore.math.utah.edu (8.9.3p2/8.9.3) id LAA23043;
	Thu, 24 Apr 2003 11:45:20 -0600 (MDT)
Date: Thu, 24 Apr 2003 11:45:20 -0600 (MDT)
From: "Nelson H. F. Beebe" <beebe@math.utah.edu>
To: r-bugs@r-project.org
Cc: beebe@math.utah.edu
X-US-Mail: "Center for Scientific Computing, Department of Mathematics, 110
        LCB, University of Utah, 155 S 1400 E RM 233, Salt Lake City, UT
        84112-0090, USA"
X-Telephone: +1 801 581 5254
X-FAX: +1 801 585 1640, +1 801 581 4148
X-URL: http://www.math.utah.edu/~beebe
Subject: R-1.7.0 build feedback: NetBSD 1.6
Message-ID: <CMM.0.92.0.1051206320.beebe@suncore.math.utah.edu>
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Spam-Status: No, hits=0.0 required=5.0 tests=none version=2.53
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.53 (1.174.2.15-2003-03-30-exp)

R-1.7.0 built on NetBSD 1.6, but the validation test suite failed:

Machinetype:            Intel Pentium III (600 MHz);    NetBSD 1.6 (GENERIC)
Remote gcc version:     gcc (GCC) 3.2.2
Remote g++ version:     g++ (GCC) 3.2.2
Configure environment:  CC=gcc CXX=g++ LDFLAGS=-Wl,-rpath,/usr/local/lib 

make[5]: Entering directory `/local/build/R-1.7.0/src/library'
 >>> Building/Updating help pages for package 'base'
     Formats: text example 
make[5]: Leaving directory `/local/build/R-1.7.0/src/library'
running code in 'base-Ex.R' ...make[4]: *** [base-Ex.Rout] Error 1
make[4]: Leaving directory `/local/build/R-1.7.0/tests/Examples'
make[3]: *** [test-Examples-Base] Error 2
make[3]: Leaving directory `/local/build/R-1.7.0/tests/Examples'
make[2]: *** [test-Examples] Error 2
make[2]: Leaving directory `/local/build/R-1.7.0/tests'

I forced the tests to run with "make -i check", getting output like
this:

running code in 'base-Ex.R' ...make[4]: [base-Ex.Rout] Error 1 (ignored)
 OK
collecting examples for package 'ctest' ...
make[5]: Entering directory `/local/build/R-1.7.0/src/library'
 >>> Building/Updating help pages for package 'ctest'
     Formats: text example
make[5]: Leaving directory `/local/build/R-1.7.0/src/library'
running code in 'ctest-Ex.R' ...make[4]: [ctest-Ex.Rout] Error 1 (ignored)
 OK
...


mv: cannot stat `eval-etc.Rout': No such file or directory
comparing 'eval-etc.Rout' to './eval-etc.Rout.save' ...2a3,158
> > ####  eval / parse / deparse / substitute  etc
> >
> > ##- From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
> > ##- Subject: Re: source() / eval() bug ??? (PR#96)
> > ##- Date: 20 Jan 1999 14:56:24 +0100
> > e1 <- parse(text='c(F=(f <- .3), "Tail area" = 2 * if(f < 1) 30 else 90)')[[1]]
> > e1
> c(F = (f <- 0.3), "Tail area" = 2 * if (f < 1) 30 else 90)
...

This is followed by 9900+ lines of differences.


-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- Center for Scientific Computing       FAX: +1 801 581 4148                  -
- University of Utah                    Internet e-mail: beebe@math.utah.edu  -
- Department of Mathematics, 110 LCB        beebe@acm.org  beebe@computer.org -
- 155 S 1400 E RM 233                       beebe@ieee.org                    -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe  -


==> 2837.audit <==
Fri Apr 25 20:06:48 2003	ripley	moved from incoming to System-specific

==> 2837.followup.1 <==
From mailnull@stat.math.ethz.ch Sat May  3 16:10:04 2003
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h43EA22b001234
	for <R-bugs@biostat.ku.dk>; Sat, 3 May 2003 16:10:03 +0200 (MET DST)
Received: from hypatia.math.ethz.ch (localhost [127.0.0.1])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h43E9xVn011233
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <R-bugs@biostat.ku.dk>; Sat, 3 May 2003 16:09:59 +0200 (MEST)
Received: (from mailnull@localhost)
	by hypatia.math.ethz.ch (8.12.9/8.12.6/Submit) id h43E9wbO011232
	for R-bugs@biostat.ku.dk; Sat, 3 May 2003 16:09:58 +0200 (MEST)
Received: from franz.stat.wisc.edu (www.omegahat.org [128.105.174.32])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h43E9VVm011198
	for <r-bugs@lists.r-project.org>; Sat, 3 May 2003 16:09:32 +0200 (MEST)
Received: from sunshine.math.utah.edu ([128.110.198.2] ident=[Kpx5BwJHYia4N37oBuUTfF8HhFza1/sF])
	by franz.stat.wisc.edu with esmtp (Exim 3.35 #1 (Debian))
	id 19Bxhj-0002R6-00
	for <r-bugs@r-project.org>; Sat, 03 May 2003 09:09:31 -0500
Received: from suncore.math.utah.edu (IDENT:yFZdZiQeoEEvzYCyNJPCA467qCeS9Lcs@suncore.math.utah.edu [128.110.198.5])
	by sunshine.math.utah.edu (8.9.3p2/8.9.3) with ESMTP id IAA23131;
	Sat, 3 May 2003 08:09:29 -0600 (MDT)
Received: (from beebe@localhost)
	by suncore.math.utah.edu (8.9.3p2/8.9.3) id IAA13683;
	Sat, 3 May 2003 08:09:28 -0600 (MDT)
Date: Sat, 3 May 2003 08:09:28 -0600 (MDT)
From: "Nelson H. F. Beebe" <beebe@math.utah.edu>
To: Kurt.Hornik@wu-wien.ac.at
Cc: beebe@math.utah.edu, r-bugs@r-project.org
X-US-Mail: "Center for Scientific Computing, Department of Mathematics, 110
        LCB, University of Utah, 155 S 1400 E RM 233, Salt Lake City, UT
        84112-0090, USA"
X-Telephone: +1 801 581 5254
X-FAX: +1 801 585 1640, +1 801 581 4148
X-URL: http://www.math.utah.edu/~beebe
Subject: Re: [Rd] R-1.7.0 build feedback: NetBSD 1.6 (PR#2837)
In-Reply-To: Your message of Fri, 2 May 2003 21:43:26 +0200
Message-ID: <CMM.0.92.0.1051970968.beebe@suncore.math.utah.edu>
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Status: No, hits=-7.1 required=5.0 tests=IN_REP_TO,QUOTED_EMAIL_TEXT,QUOTE_TWICE_1 version=2.53
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.53 (1.174.2.15-2003-03-30-exp)

This is a followup to my report of a SIGSEGV in R-1.7.0 built
on NetBSD 1.6.

Kurt Hornik responded:

>> ...
>> After some discussions on r-core, two suggestions.
>>
>> * It might be helpful to know if zlib has found in the OS or compiled
>>   from the sources within R: if the first you could try configure
>>   --without-zlib as it is possible the OS has a modified version.
>>
>> * You have
>>
>>   R : Copyright 2003, The R Development Core Team
>>   Version 1.7.0 Under development (unstable) (2003-04-11)
>>                       ^^^^^^^^^^^^^^^^^^^^^^         ^^^
>>
>>   and might just have hit a bad day of the r-devel daily snapshot.
>> ...

I don't think that the latter is the problem.  This version built,
validated, and installed on several other platforms.

Since my initial bug report for this system, I upgraded the gcc
release from 3.2.2 to the latest 3.2.3, so the compilation environment
is now a bit different.

I tried your suggestion of the --without-zlib configure option, and
that produced a working R, which I've installed.  There was one *.fail
file in the tests directory: reg-tests-1.Rout.fail.  It is 2280 lines
long, and contains a fair number of "Error xxx" reports.

In view of the gcc upgrade, I'm going to go back now and do a fresh
build, and see if the zlib problem recurs.

Here is a copy of reg-tests-1.Rout.fail:

R : Copyright 2003, The R Development Core Team
Version 1.7.0 Under development (unstable) (2003-04-11)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

> ## regression test for PR#376
> aggregate(ts(1:20), nfreq=1/3)
Time Series:
Start = 1
End = 16
Frequency = 0.333333333333333
[1]  6 15 24 33 42 51
> ## Comments: moved from aggregate.Rd
>
>
> ## aperm
> # check the names
> x <- array(1:24, c(4, 6))
> nms <- list(happy=letters[1:4], sad=LETTERS[1:6])
>
> dimnames(x) <- nms
> tmp <- aperm(x, c(2, 1))
> stopifnot(all.equal(dimnames(tmp), nms[c(2, 1)]))
>
> dimnames(x) <- c(nms[1], list(NULL))
> tmp <- aperm(x, c(2, 1))
> stopifnot(all.equal(dimnames(tmp), c(list(NULL), nms[1])))
>
> names(nms) <- c("happy", "sad")
> dimnames(x) <- nms
> tmp <- aperm(x, c(2, 1))
> stopifnot(all.equal(names(dimnames(tmp)), names(nms[c(2, 1)])))
>
> dimnames(x) <- c(nms[1], list(NULL))
> tmp <- aperm(x, c(2, 1))
> stopifnot(all.equal(names(dimnames(tmp)), c("", names(nms)[1])))
>
> # check resize
> stopifnot(dim(aperm(x, c(2, 1), FALSE)) == dim(x))
> stopifnot(is.null(dimnames(aperm(x, c(2, 1), FALSE))))
>
> # check the types
> x <- array(1:24, c(4, 6))
> stopifnot(all.equal(aperm(x, c(2, 1)), t(x)))
> stopifnot(is.integer(aperm(x, c(2, 1))))
>
> x <- x + 0.0
> stopifnot(all.equal(aperm(x, c(2, 1)), t(x)))
> stopifnot(is.double(aperm(x, c(2, 1))))
>
> x <- x + 0.0i
> stopifnot(all.equal(aperm(x, c(2, 1)), t(x)))
>
> x[] <- LETTERS[1:24]
> stopifnot(all.equal(aperm(x, c(2, 1)), t(x)))
>
> x <- array(list("fred"), c(4, 6))
> x[[3, 4]] <- 1:10
> stopifnot(all.equal(aperm(x, c(2, 1)), t(x)))
> ## end of moved from aperm.Rd
>
>
> ## append
> stopifnot(append(1:5, 0:1, after=3) == append(1:3, c(0:1, 4:5)))
> ## end of moved from append.Rd
>
>
> ## as.POSIXlt
> z <- Sys.time()
> stopifnot(range(z) == z,
+ 	  min(z) == z,
+ 	  max(z) == z,
+ 	  mean(z) == z)
> ## end of moved from as.POSIXlt.Rd
>
>
> ## autoload
> stopifnot(ls("Autoloads") == ls(envir = .AutoloadEnv))
> ## end of moved from autoload.Rd
>
>
> ## backsolve
> r <- rbind(c(1,2,3),
+ 	   c(0,1,1),
+ 	   c(0,0,2))
> ( y <- backsolve(r, x <- c(8,4,2)) ) # -1 3 1
[1] -1  3  1
> r %*% y # == x = (8,4,2)
     [,1]
[1,]    8
[2,]    4
[3,]    2
> ( y2 <- backsolve(r, x, transpose = TRUE)) # 8 -12 -5
[1]   8 -12  -5
> stopifnot(all.equal(drop(t(r) %*% y2), x))
> stopifnot(all.equal(y, backsolve(t(r), x, upper = FALSE, transpose = TRUE)))
> stopifnot(all.equal(y2, backsolve(t(r), x, upper = FALSE, transpose = FALSE)))
> ## end of moved from backsolve.Rd
>
>
> ## basename
> dirname(character(0))
character(0)
> ## end of moved from basename.Rd
>
>
> ## Bessel
> ## Check the Scaling :
> nus <- c(0:5,10,20)
> x <- seq(0,40,len=801)[-1]
> for(nu in nus)
+    stopifnot(abs(1- besselK(x,nu)*exp( x) / besselK(x,nu,expo=TRUE)) < 2e-15)
> for(nu in nus)
+    stopifnot(abs(1- besselI(x,nu)*exp(-x) / besselI(x,nu,expo=TRUE)) < 1e-15)
> ## end of moved from Bessel.Rd
>
>
> ## c
> ll <- list(A = 1, c="C")
> stopifnot(identical(c(ll, d=1:3), c(ll, as.list(c(d=1:3)))))
> ## moved from c.Rd
>
>
> ## Cauchy
> stopifnot(all.equal(dcauchy(-1:4), 1 / (pi*(1 + (-1:4)^2))))
> ## end of moved from Cauchy.Rd
>
>
> ## chol
> ( m <- matrix(c(5,1,1,3),2,2) )
     [,1] [,2]
[1,]    5    1
[2,]    1    3
> ( cm <- chol(m) )
         [,1]      [,2]
[1,] 2.236068 0.4472136
[2,] 0.000000 1.6733201
> stopifnot(abs(m	 -  t(cm) %*% cm) < 100* .Machine$double.eps)
> ( Lcm <- La.chol(m) )
         [,1]      [,2]
[1,] 2.236068 0.4472136
[2,] 0.000000 1.6733201
> stopifnot(abs(m - crossprod(Lcm))  < 100* .Machine$double.eps)
>
> ## check with pivoting
> ( m <- matrix(c(5,1,1,3),2,2) )
     [,1] [,2]
[1,]    5    1
[2,]    1    3
> ( cm <- chol(m, TRUE) )
         [,1]      [,2]
[1,] 2.236068 0.4472136
[2,] 0.000000 1.6733201
attr(,"pivot")
[1] 1 2
attr(,"rank")
[1] 2
> stopifnot(abs(m	 -  t(cm) %*% cm) < 100* .Machine$double.eps)
>
> x <- matrix(c(1:5, (1:5)^2), 5, 2)
> m <- crossprod(x)
> Q <- chol(m)
> stopifnot(all.equal(t(Q) %*% Q, m))
>
> Q <- chol(m, pivot = TRUE)
> pivot <- attr(Q, "pivot")
> oo <- order(pivot)
> stopifnot(all.equal(t(Q[, oo]) %*% Q[, oo], m))
> stopifnot(all.equal(t(Q) %*% Q, m[pivot, pivot]))
>
> # now for something positive semi-definite
> x <- cbind(x, x[, 1]+3*x[, 2])
> m <- crossprod(x)
> qr(m)$rank # is 2, as it should be
[1] 2
>
> (Q <- chol(m, pivot = TRUE)) # NB wrong rank here ... see Warning section.
         [,1]     [,2]          [,3]
[1,] 101.0742 7.222415  3.128394e+01
[2,]   0.0000 1.684259 -5.614195e-01
[3,]   0.0000 0.000000  1.010646e-07
attr(,"pivot")
[1] 3 1 2
attr(,"rank")
[1] 3
> pivot <- attr(Q, "pivot")
> oo <- order(pivot)
> stopifnot(all.equal(t(Q[, oo]) %*% Q[, oo], m))
> stopifnot(all.equal(t(Q) %*% Q, m[pivot, pivot]))
> ## end of moved from chol.Rd
>
>
> ## chol2inv
> cma <- chol(ma	<- cbind(1, 1:3, c(1,3,7)))
> stopifnot(all.equal(diag(3), ma %*% chol2inv(cma)))
> stopifnot(all.equal(diag(3), ma %*% La.chol2inv(cma)))
> ## end of moved from chol2inv.Rd
>
>
> ## col2rgb
> pp <- palette(); names(pp) <- pp # add & use names :
> stopifnot(col2rgb(1:8) == print(col2rgb(pp)))
      black red green3 blue cyan magenta yellow gray
red       0 255      0    0    0     255    255  190
green     0   0    205    0  255       0    255  190
blue      0   0      0  255  255     255      0  190
> stopifnot(col2rgb("#08a0ff") == c(8, 160, 255))
> grC <- col2rgb(paste("gray",0:100,sep=""))
> stopifnot(grC["red",] == grC["green",],
+ 	  grC["red",] == grC["blue",],
+ 	  grC["red", 1:4] == c(0,3,5,8))
> ## end of moved from col2rgb.Rd
>
>
> ## complex
> z <- 0i ^ (-3:3)
> stopifnot(Re(z) == 0 ^ (-3:3))
> set.seed(123)
> z <- complex(real = rnorm(100), imag = rnorm(100))
> stopifnot(Mod ( 1 -  sin(z) / ( (exp(1i*z)-exp(-1i*z))/(2*1i) ))
+ 	  < 20 * .Machine$double.eps)
> ## end of moved from complex.Rd
>
>
> ## Constants
> stopifnot(
+  nchar(letters) == 1,
+  month.abb == substr(month.name, 1, 3)
+ )
>
> eps <- .Machine$double.eps
> stopifnot(all.equal(pi, 4*atan(1), tol= 2*eps))
>
> # John Machin (1705) computed 100 decimals of pi :
> stopifnot(all.equal(pi/4, 4*atan(1/5) - atan(1/239), 4*eps))
> ## end of moved from Constants.Rd
>
>
> ## cor
> stopifnot(  is.na(var(1)),
+ 	  !is.nan(var(1)))
>
> zz <- c(-1.30167, -0.4957, -1.46749, 0.46927)
> r <- cor(zz,zz); r - 1
[1] 0
> stopifnot(r <= 1) # fails in R <= 1.3.x, for versions of Linux and Solaris
> ## end of moved from cor.Rd
>
>
> ## DateTimeClasses
> (dls <- .leap.seconds[-1] - .leap.seconds[-22])
Time differences of 184, 365, 365, 365, 366, 365, 365, 365, 547, 730, 731, 365, 549, 731, 365, 547, 365, 365, 549, 547, 549 days
> table(dls)
dls
184 365 366 547 549 730 731
  1  10   1   3   3   1   2
> ## end of moved from DateTimeClasses.Rd
>
>
> ## deriv
> trig.exp <- expression(sin(cos(x + y^2)))
> D.sc <- D(trig.exp, "x")
> dxy <- deriv(trig.exp, c("x", "y"))
> y <- 1
> stopifnot(eval(D.sc) ==
+ 	  attr(eval(dxy),"gradient")[,"x"])
> ff <- y ~ sin(cos(x) * y)
> stopifnot(all.equal(deriv(ff, c("x","y"), func = TRUE ),
+ 		    deriv(ff, c("x","y"), func = function(x,y){ } )))
> ## end of moved from deriv.Rd
>
>
> ## diff
> x <- cumsum(cumsum(1:10))
> stopifnot(diff(x, lag = 2) == x[(1+2):10] - x[1:(10 - 2)],
+ 	  diff(x, lag = 2) == (3:10)^2,
+ 	  diff(diff(x))	   == diff(x, differences = 2))
> ## end of moved from diff.Rd
>
>
> ## duplicated
> x <- c(9:20, 1:5, 3:7, 0:8)
> ## extract unique elements
> (xu <- x[!duplicated(x)])
 [1]  9 10 11 12 13 14 15 16 17 18 19 20  1  2  3  4  5  6  7  0  8
> stopifnot(xu == unique(x), # but unique(x) is more efficient
+ 	  0:20 == sort(x[!duplicated(x)]))
>
> data(iris)
> stopifnot(duplicated(iris)[143] == TRUE)
> ## end of moved from duplicated.Rd
>
>
> ## eigen
> Meps <- .Machine$double.eps
> set.seed(321, kind = "default")	 # force a particular seed
> m <- matrix(round(rnorm(25),3), 5,5)
> sm <- m + t(m) #- symmetric matrix
> em <- eigen(sm); V <- em$vect
> print(lam <- em$values) # ordered DEcreasingly
[1]  5.1738946  3.1585064  0.6849974 -1.6299494 -2.5074489
>
> stopifnot(
+  abs(sm %*% V - V %*% diag(lam))	  < 60*Meps,
+  abs(sm	      - V %*% diag(lam) %*% t(V)) < 60*Meps)
>
> ##------- Symmetric = FALSE:  -- different to above : ---
>
> em <- eigen(sm, symmetric = FALSE); V2 <- em$vect
> print(lam2 <- em$values) # ordered decreasingly in ABSolute value !
[1]  5.1738946  3.1585064 -2.5074489 -1.6299494  0.6849974
> print(i <- rev(order(lam2)))
[1] 1 2 5 4 3
> stopifnot(abs(lam - lam2[i]) < 60 * Meps)
>
> zapsmall(Diag <- t(V2) %*% V2)
     [,1] [,2] [,3] [,4] [,5]
[1,]    1    0    0    0    0
[2,]    0    1    0    0    0
[3,]    0    0    1    0    0
[4,]    0    0    0    1    0
[5,]    0    0    0    0    1
> stopifnot( abs(1- diag(Diag)) < 60*Meps)
>
> stopifnot(abs(sm %*% V2 - V2 %*% diag(lam2))		< 60*Meps,
+ 	  abs(sm	 - V2 %*% diag(lam2) %*% t(V2)) < 60*Meps)
>
> ## Re-ordered as with symmetric:
> sV <- V2[,i]
> slam <- lam2[i]
> stopifnot(abs(sm %*% sV -  sV %*% diag(slam))		  < 60*Meps)
> stopifnot(abs(sm	-  sV %*% diag(slam) %*% t(sV)) < 60*Meps)
> ## sV  *is* now equal to V  -- up to sign (+-) and rounding errors
> stopifnot(abs(c(1 - abs(sV / V)))	<     1000*Meps)
> ## end of moved from eigen.Rd
>
>
> ## euro
> data(euro)
> stopifnot(euro == signif(euro,6), euro.cross == outer(1/euro, euro))
> ## end of moved from euro.Rd
>
>
> ## Exponential
> r <- rexp(100)
> stopifnot(abs(1 - dexp(1, r) / (r*exp(-r))) < 1e-14)
> ## end of moved from Exponential.Rd
>
>
> ## family
> gf <- Gamma()
> stopifnot(1:10 == gf$linkfun(gf$linkinv(1:10)))
> ## end of moved from family.Rd
>
>
> ## fft
> set.seed(123)
> eps <- 1e-11
> for(N in 1:130) {
+     x <- rnorm(N)
+     if(N %% 5 == 0) {
+ 	m5 <- matrix(x,ncol=5)
+ 	stopifnot(apply(m5,2,fft) == mvfft(m5))
+     }
+     dd <- Mod(1 - (f2 <- fft(fft(x), inverse=TRUE)/(x*length(x))))
+     stopifnot(dd < eps)
+ }
> ## end of moved from fft.Rd
>
>
> ## findint
> N <- 100
> X <- sort(round(rt(N, df=2), 2))
> tt <- c(-100, seq(-2,2, len=201), +100)
> it <- findInterval(tt, X)
>
> ## See that this is N * Fn(.) :
> tt <- c(tt,X)
> eps <- 100 * .Machine$double.eps
> require(stepfun)
Loading required package: stepfun
[1] TRUE
> stopifnot(it[c(1,203)] == c(0, 100),
+ 	  all.equal(N * ecdf(X)(tt),
+ 		    findInterval(tt, X),  tol = eps),
+ 	  findInterval(tt,X) ==	 apply( outer(tt, X, ">="), 1, sum)
+ 	  )
> ## end of moved from findint.Rd
>
>
> ## format
> (dd <- sapply(1:10, function(i)paste((9:0)[1:i],collapse="")))
 [1] "9"          "98"         "987"        "9876"       "98765"
 [6] "987654"     "9876543"    "98765432"   "987654321"  "9876543210"
> np <- nchar(pd <- prettyNum(dd, big.mark="'"))
> stopifnot(sapply(0:2, function(m)
+ 	   all(grep("'", substr(pd, 1, np - 4*m)) == (4+3*m):10)))
> ## end of moved from format.Rd
>
>
> ## Geometric
> pp <- sort(c((1:9)/10, 1 - .2^(2:8)))
> print(qg <- qgeom(pp, prob = .2))
 [1]  0  0  1  2  3  4  5  7 10 14 21 28 36 43 50 57
> ## test that qgeom is an inverse of pgeom
> print(qg1 <- qgeom(pgeom(qg, prob=.2), prob =.2))
 [1]  0  0  1  2  3  4  5  7 10 14 21 28 36 43 50 57

==> 2837.followup.2 <==
From ripley@stats.ox.ac.uk Sat May  3 18:07:46 2003
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h43G7j2b001509
	for <R-bugs@biostat.ku.dk>; Sat, 3 May 2003 18:07:45 +0200 (MET DST)
Received: from gannet.stats (gannet.stats [163.1.20.127])
	by toucan.stats.ox.ac.uk (8.12.9/8.12.9) with ESMTP id h43G7iUK026908;
	Sat, 3 May 2003 17:07:44 +0100 (BST)
Date: Sat, 3 May 2003 17:07:44 +0100 (BST)
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
X-X-Sender: ripley@gannet.stats
To: beebe@math.utah.edu
cc: r-devel@stat.math.ethz.ch, <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] R-1.7.0 build feedback: NetBSD 1.6 (PR#2837)
In-Reply-To: <200305031410.h43EAB2b001238@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.44.0305031519400.7222-100000@gannet.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Sat, 3 May 2003 beebe@math.utah.edu wrote:

> This is a followup to my report of a SIGSEGV in R-1.7.0 built
> on NetBSD 1.6.
> 
> Kurt Hornik responded:
> 
> >> ...
> >> After some discussions on r-core, two suggestions.
> >>
> >> * It might be helpful to know if zlib has found in the OS or compiled
> >>   from the sources within R: if the first you could try configure
> >>   --without-zlib as it is possible the OS has a modified version.
> >>
> >> * You have
> >>
> >>   R : Copyright 2003, The R Development Core Team
> >>   Version 1.7.0 Under development (unstable) (2003-04-11)
> >>                       ^^^^^^^^^^^^^^^^^^^^^^         ^^^
> >>
> >>   and might just have hit a bad day of the r-devel daily snapshot.
> >> ...
> 
> I don't think that the latter is the problem.  This version built,
> validated, and installed on several other platforms.
> 
> Since my initial bug report for this system, I upgraded the gcc
> release from 3.2.2 to the latest 3.2.3, so the compilation environment
> is now a bit different.
> 
> I tried your suggestion of the --without-zlib configure option, and
> that produced a working R, which I've installed.  There was one *.fail
> file in the tests directory: reg-tests-1.Rout.fail.  It is 2280 lines
> long, and contains a fair number of "Error xxx" reports.

About 12 are expected.  The error will be in the last command line, so 
only the last few lines of the file are relevant: to wit

> ## pweibull(large, log=T):
> stopifnot(pweibull(seq(1,50,len=1001), 2,3, log = TRUE) < 0)
Error: pweibull(seq(1, 50, len = 1001), 2, 3, log = TRUE) < 0 is not TRUE

for which you would need to investigate the output of

pweibull(seq(1, 50, len = 1001), 2, 3, log = TRUE) 

and I guess that this is an accuracy problem in the runtime (libc).

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 2837.followup.3 <==
From mailnull@stat.math.ethz.ch Sun May  4 16:05:08 2003
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h44E572b004715
	for <R-bugs@biostat.ku.dk>; Sun, 4 May 2003 16:05:08 +0200 (MET DST)
Received: from hypatia.math.ethz.ch (localhost [127.0.0.1])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h44E54Vn021972
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <R-bugs@biostat.ku.dk>; Sun, 4 May 2003 16:05:04 +0200 (MEST)
Received: (from mailnull@localhost)
	by hypatia.math.ethz.ch (8.12.9/8.12.6/Submit) id h44E54OH021967
	for R-bugs@biostat.ku.dk; Sun, 4 May 2003 16:05:04 +0200 (MEST)
Received: from franz.stat.wisc.edu (www.omegahat.org [128.105.174.32])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h44E4qVm021809
	for <r-bugs@lists.r-project.org>; Sun, 4 May 2003 16:04:52 +0200 (MEST)
Received: from sunshine.math.utah.edu ([128.110.198.2] ident=[I6d9LC0zKIVZGy1Fx7n2/rXULuWgbU18])
	by franz.stat.wisc.edu with esmtp (Exim 3.35 #1 (Debian))
	id 19CK6m-00043O-00
	for <r-bugs@r-project.org>; Sun, 04 May 2003 09:04:52 -0500
Received: from suncore.math.utah.edu (IDENT:bHftZpkqdwdSaDBF4o7e+TqImxj8h41k@suncore.math.utah.edu [128.110.198.5])
	by sunshine.math.utah.edu (8.9.3p2/8.9.3) with ESMTP id IAA16217;
	Sun, 4 May 2003 08:04:49 -0600 (MDT)
Received: (from beebe@localhost)
	by suncore.math.utah.edu (8.9.3p2/8.9.3) id IAA04834;
	Sun, 4 May 2003 08:04:48 -0600 (MDT)
Date: Sun, 4 May 2003 08:04:48 -0600 (MDT)
From: "Nelson H. F. Beebe" <beebe@math.utah.edu>
To: r-bugs@r-project.org
Cc: beebe@math.utah.edu
X-US-Mail: "Center for Scientific Computing, Department of Mathematics, 110
        LCB, University of Utah, 155 S 1400 E RM 233, Salt Lake City, UT
        84112-0090, USA"
X-Telephone: +1 801 581 5254
X-FAX: +1 801 585 1640, +1 801 581 4148
X-URL: http://www.math.utah.edu/~beebe
Subject: Re: [Rd] R-1.7.0 build feedback: NetBSD 1.6 (PR#2837): final report
Message-ID: <CMM.0.92.0.1052057088.beebe@suncore.math.utah.edu>
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Status: No, hits=-3.2 required=5.0 tests=QUOTED_EMAIL_TEXT version=2.53
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.53 (1.174.2.15-2003-03-30-exp)

I've now done two rebuilds of R-1.7.0 on NetBSD 1.6, one with the
--without-zlib configure option, and one without.  Both builds use the
recently-installed gcc-3.2.3 compiler.

As before, the one built normally gets a segment violation, whereas
the one built with the --without-zlib option works.

The odd thing is that neither uses shared libraries for zlib:

	% ldd /usr/local/lib/R/bin/R.bin
	/usr/local/lib/R/bin/R.bin:
		 -lm.0 => /usr/lib/libm387.so.0
		 -lm.0 => /usr/lib/libm.so.0
		 -lg2c.0 => /usr/local/lib/libg2c.so.0
		 -lc.12 => /usr/lib/libc.so.12
		 -lgcc_s.1 => /usr/local/lib/libgcc_s.so.1

The other build shows the same library list.

The NetBSD 1.6 system ships with these libraries:

	/usr/lib/libz.a   /usr/lib/libz.so.0    /usr/lib/libz_p.a
	/usr/lib/libz.so  /usr/lib/libz.so.0.2  /usr/lib/libz_pic.a

but the pkg_info commands on NetBSD and OpenBSD produce no output.

There seems to be no simple way to confirm the zlib version on these
systems.  Running strings and nm on libz.a produces no useful
identification.  However, /usr/include/zlib.h reports "version 1.1.4,
March 11th, 2002", which is the same as the one that I installed in
/usr/local/, and is the latest stable release (I'm on the zlib beta
testers list).  That number is confirmed by this simple test program:

	% cat show-zlib-version.c
	#include <stdio.h>
	#include <stdlib.h>
	#include <zlib.h>

	int
	main()
	{
	    (void)printf("zlibVersion() reports [%s]\n", zlibVersion());
	    return (EXIT_SUCCESS);
	}

	% cc show-zlib-version.c -lz && ./a.out
	zlibVersion() reports [1.1.4]

The bad one only segment faults after installation.  If I run it in
the build tree as bin/R, it works, and passes all but the base-Ex
test.

Brian Ripley responds to the reg-tests-1.Rout.fail file found in the
working build:

>> ...
>> The error will be in the last command line, so
>> only the last few lines of the file are relevant: to wit
>>
>> > ## pweibull(large, log=T):
>> > stopifnot(pweibull(seq(1,50,len=1001), 2,3, log = TRUE) < 0)
>> Error: pweibull(seq(1, 50, len = 1001), 2, 3, log = TRUE) < 0 is not TRUE
>>
>> for which you would need to investigate the output of
>>
>> pweibull(seq(1, 50, len = 1001), 2, 3, log = TRUE)
>>
>> and I guess that this is an accuracy problem in the runtime (libc).
>> ...

Here is what I get in that output:

	% R

	R : Copyright 2003, The R Development Core Team
	Version 1.7.0 Under development (unstable) (2003-04-11)

	R is free software and comes with ABSOLUTELY NO WARRANTY.
	You are welcome to redistribute it under certain conditions.
	Type `license()' or `licence()' for distribution details.

	R is a collaborative project with many contributors.
	Type `contributors()' for more information.

	Type `demo()' for some demos, `help()' for on-line help, or
	`help.start()' for a HTML browser interface to help.
	Type `q()' to quit R.

	> pweibull(seq(1, 50, len = 1001), 2, 3, log = TRUE)
	  [1] -2.252266e+00 -2.162061e+00 -2.076474e+00 -1.995124e+00 -1.917675e+00
	   [6] -1.843830e+00 -1.773331e+00 -1.705943e+00 -1.641459e+00 -1.579693e+00
	  [11] -1.520477e+00 -1.463659e+00 -1.409102e+00 -1.356679e+00 -1.306276e+00
	  [16] -1.257788e+00 -1.211118e+00 -1.166177e+00 -1.122883e+00 -1.081160e+00
	  [21] -1.040937e+00 -1.002149e+00 -9.647332e-01 -9.286334e-01 -8.937957e-01
	  [26] -8.601698e-01 -8.277083e-01 -7.963667e-01 -7.661032e-01 -7.368779e-01
	  [31] -7.086534e-01 -6.813940e-01 -6.550661e-01 -6.296376e-01 -6.050778e-01
	  [36] -5.813577e-01 -5.584494e-01 -5.363265e-01 -5.149634e-01 -4.943358e-01
	  [41] -4.744204e-01 -4.551946e-01 -4.366369e-01 -4.187266e-01 -4.014437e-01
	  [46] -3.847688e-01 -3.686833e-01 -3.531692e-01 -3.382092e-01 -3.237864e-01
	  [51] -3.098845e-01 -2.964877e-01 -2.835807e-01 -2.711486e-01 -2.591770e-01
	  [56] -2.476519e-01 -2.365597e-01 -2.258870e-01 -2.156210e-01 -2.057491e-01
	  [61] -1.962592e-01 -1.871392e-01 -1.783776e-01 -1.699631e-01 -1.618847e-01
	  [66] -1.541315e-01 -1.466932e-01 -1.395596e-01 -1.327205e-01 -1.261664e-01
	  [71] -1.198878e-01 -1.138753e-01 -1.081199e-01 -1.026130e-01 -9.734578e-02
	  [76] -9.231000e-02 -8.749747e-02 -8.290025e-02 -7.851057e-02 -7.432090e-02
	  [81] -7.032386e-02 -6.651231e-02 -6.287926e-02 -5.941794e-02 -5.612173e-02
	  [86] -5.298423e-02 -4.999919e-02 -4.716054e-02 -4.446239e-02 -4.189903e-02
	  [91] -3.946490e-02 -3.715463e-02 -3.496298e-02 -3.288491e-02 -3.091551e-02
	  [96] -2.905005e-02 -2.728393e-02 -2.561271e-02 -2.403212e-02 -2.253801e-02
	 [101] -2.112637e-02 -1.979336e-02 -1.853526e-02 -1.734848e-02 -1.622957e-02
	 [106] -1.517522e-02 -1.418223e-02 -1.324752e-02 -1.236817e-02 -1.154132e-02
	 [111] -1.076427e-02 -1.003442e-02 -9.349278e-03 -8.706452e-03 -8.103661e-03
	 [116] -7.538723e-03 -7.009554e-03 -6.514161e-03 -6.050648e-03 -5.617201e-03
	 [121] -5.212098e-03 -4.833694e-03 -4.480428e-03 -4.150814e-03 -3.843441e-03
	 [126] -3.556967e-03 -3.290122e-03 -3.041701e-03 -2.810561e-03 -2.595622e-03
	 [131] -2.395859e-03 -2.210307e-03 -2.038050e-03 -1.878228e-03 -1.730026e-03
	 [136] -1.592676e-03 -1.465456e-03 -1.347685e-03 -1.238723e-03 -1.137968e-03
	 [141] -1.044855e-03 -9.588518e-04 -8.794615e-04 -8.062168e-04 -7.386800e-04
	 [146] -6.764415e-04 -6.191181e-04 -5.663515e-04 -5.178069e-04 -4.731716e-04
	 [151] -4.321541e-04 -3.944823e-04 -3.599030e-04 -3.281801e-04 -2.990941e-04
	 [156] -2.724409e-04 -2.480308e-04 -2.256875e-04 -2.052476e-04 -1.865595e-04
	 [161] -1.694827e-04 -1.538870e-04 -1.396520e-04 -1.266662e-04 -1.148267e-04
	 [166] -1.040384e-04 -9.421341e-05 -8.527081e-05 -7.713589e-05 -6.973986e-05
	 [171] -6.301937e-05 -5.691614e-05 -5.137658e-05 -4.635146e-05 -4.179554e-05
	 [176] -3.766734e-05 -3.392878e-05 -3.054498e-05 -2.748400e-05 -2.471657e-05
	 [181] -2.221595e-05 -1.995767e-05 -1.791939e-05 -1.608070e-05 -1.442298e-05
	 [186] -1.292925e-05 -1.158404e-05 -1.037325e-05 -9.284062e-06 -8.304808e-06
	 [191] -7.424880e-06 -6.634643e-06 -5.925350e-06 -5.289063e-06 -4.718585e-06
	 [196] -4.207393e-06 -3.749581e-06 -3.339801e-06 -2.973218e-06 -2.645460e-06
	 [201] -2.352578e-06 -2.091005e-06 -1.857524e-06 -1.649233e-06 -1.463518e-06
	 [206] -1.298022e-06 -1.150627e-06 -1.019425e-06 -9.027020e-07 -7.989171e-07
	 [211] -7.066874e-07 -6.247715e-07 -5.520563e-07 -4.875440e-07 -4.303409e-07
	 [216] -3.796467e-07 -3.347456e-07 -2.949976e-07 -2.598306e-07 -2.287339e-07
	 [221] -2.012514e-07 -1.769765e-07 -1.555466e-07 -1.366387e-07 -1.199652e-07
	 [226] -1.052701e-07 -9.232584e-08 -8.093002e-08 -7.090295e-08 -6.208508e-08
	 [231] -5.433485e-08 -4.752674e-08 -4.154950e-08 -3.630461e-08 -3.170488e-08
	 [236] -2.767316e-08 -2.414125e-08 -2.104887e-08 -1.834283e-08 -1.597615e-08
	 [241] -1.390740e-08 -1.210008e-08 -1.052202e-08 -9.144876e-09 -7.943739e-09
	 [246] -6.896685e-09 -5.984448e-09 -5.190104e-09 -4.498796e-09 -3.897489e-09
	 [251] -3.374750e-09 -2.920564e-09 -2.526156e-09 -2.183845e-09 -1.886912e-09
	 [256] -1.629483e-09 -1.406425e-09 -1.213253e-09 -1.046054e-09 -9.014167e-10
	 [261] -7.763638e-10 -6.683025e-10 -5.749754e-10 -4.944174e-10 -4.249193e-10
	 [266] -3.649955e-10 -3.133551e-10 -2.688775e-10 -2.305899e-10 -1.976489e-10
	 [271] -1.693233e-10 -1.449798e-10 -1.240699e-10 -1.061191e-10 -9.071710e-11
	 [276] -7.750911e-11 -6.618894e-11 -5.649181e-11 -4.818967e-11 -4.108569e-11
	 [281] -3.501033e-11 -2.981737e-11 -2.538114e-11 -2.159339e-11 -1.836120e-11
	 [286] -1.560441e-11 -1.325440e-11 -1.125233e-11 -9.547585e-12 -8.096857e-12
	 [291] -6.862844e-12 -5.813794e-12 -4.922507e-12 -4.165557e-12 -3.523182e-12
	 [296] -2.978284e-12 -2.516320e-12 -2.124856e-12 -1.793343e-12 -1.512790e-12
	 [301] -1.275424e-12 -1.074696e-12 -9.050538e-13 -7.618350e-13 -6.409318e-13
	 [306] -5.389023e-13 -4.528600e-13 -3.803624e-13 -3.193001e-13 -2.678968e-13
	 [311] -2.247091e-13 -1.882938e-13 -1.577627e-13 -1.321165e-13 -1.105782e-13
	 [316] -9.248158e-14 -7.727152e-14 -6.461498e-14 -5.395684e-14 -4.496403e-14
	 [321] -3.752554e-14 -3.130829e-14 -2.609024e-14 -2.176037e-14 -1.809664e-14
	 [326] -1.498801e-14 -1.254552e-14 -1.043610e-14 -8.659740e-15 -7.216450e-15
	 [331] -5.995204e-15 -4.884981e-15 -4.107825e-15 -3.330669e-15 -2.775558e-15
	 [336] -2.331468e-15 -1.887379e-15 -1.554312e-15 -1.332268e-15 -1.110223e-15
	 [341] -8.881784e-16 -7.771561e-16 -5.551115e-16 -5.551115e-16 -4.440892e-16
	 [346] -3.330669e-16 -3.330669e-16 -2.220446e-16 -2.220446e-16 -1.110223e-16
	 [351] -1.110223e-16 -1.110223e-16 -1.110223e-16 -1.110223e-16 -1.110223e-16
	 [356]  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00
	...all lines are zero from here on...
	 [996]  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00
	[1001]  0.000000e+00

When I compare it with output from FreeBSD 5.0 on the same platform, I
get 4 columns instead of 5, and the numbers are nonzero right up to
the last:

	> pweibull(seq(1, 50, len = 1001), 2, 3, log = TRUE)
	   [1]  -2.252266e+00  -2.162061e+00  -2.076474e+00  -1.995124e+00
	   [5]  -1.917675e+00  -1.843830e+00  -1.773331e+00  -1.705943e+00
	...
	 [993] -1.765317e-119 -1.028280e-119 -5.986435e-120 -3.483321e-120
	 [997] -2.025755e-120 -1.177467e-120 -6.840359e-121 -3.971708e-121
	[1001] -2.304857e-121

On OpenBSD 3.2 on the same platform (all of these systems run on top
of VMware on top of GNU/Linux 7.2 or 8.0 on Pentium III 600MHz dual
CPU servers), I get 5-column output, and trailing zeros:

	> pweibull(seq(1, 50, len = 1001), 2, 3, log = TRUE)
	   [1] -2.252266e+00 -2.162061e+00 -2.076474e+00 -1.995124e+00 -1.917675e+00
	   [6] -1.843830e+00 -1.773331e+00 -1.705943e+00 -1.641459e+00 -1.579693e+00
	  [11] -1.520477e+00 -1.463659e+00 -1.409102e+00 -1.356679e+00 -1.306276e+00
	  [16] -1.257788e+00 -1.211118e+00 -1.166177e+00 -1.122883e+00 -1.081160e+00
	  [21] -1.040937e+00 -1.002149e+00 -9.647332e-01 -9.286334e-01 -8.937957e-01
	...

	 [351] -1.110223e-16 -1.110223e-16 -1.110223e-16 -1.110223e-16 -1.110223e-16
	 [356]  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00
	...
	 [996]  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00
	[1001]  0.000000e+00

On Solaris 9 x86 on the same platform, I get 4-column output:

	> pweibull(seq(1, 50, len = 1001), 2, 3, log = TRUE)
	   [1]  -2.252266e+00  -2.162061e+00  -2.076474e+00  -1.995124e+00
	   [5]  -1.917675e+00  -1.843830e+00  -1.773331e+00  -1.705943e+00
	   [9]  -1.641459e+00  -1.579693e+00  -1.520477e+00  -1.463659e+00
	  [13]  -1.409102e+00  -1.356679e+00  -1.306276e+00  -1.257788e+00
	  [17]  -1.211118e+00  -1.166177e+00  -1.122883e+00  -1.081160e+00
	...
	 [353]  -8.543005e-17  -7.001648e-17  -5.735327e-17  -4.695528e-17
	 [357]  -3.842190e-17  -3.142256e-17  -2.568459e-17  -2.098321e-17
	 [361]  -1.713324e-17  -1.398220e-17  -1.140459e-17  -9.297196e-18
	...
	 [993] -1.765317e-119 -1.028280e-119 -5.986435e-120 -3.483321e-120
	 [997] -2.025755e-120 -1.177467e-120 -6.840359e-121 -3.971708e-121
	[1001] -2.304857e-121

On the underlying GNU/Linux systems, I get 4-column output:

	> pweibull(seq(1, 50, len = 1001), 2, 3, log = TRUE)
	   [1]  -2.252266e+00  -2.162061e+00  -2.076474e+00  -1.995124e+00
	   [5]  -1.917675e+00  -1.843830e+00  -1.773331e+00  -1.705943e+00
	   [9]  -1.641459e+00  -1.579693e+00  -1.520477e+00  -1.463659e+00
	  [13]  -1.409102e+00  -1.356679e+00  -1.306276e+00  -1.257788e+00
	  [17]  -1.211118e+00  -1.166177e+00  -1.122883e+00  -1.081160e+00
	...
	 [353]  -8.543005e-17  -7.001648e-17  -5.735327e-17  -4.695528e-17
	 [357]  -3.842190e-17  -3.142256e-17  -2.568459e-17  -2.098321e-17
	 [361]  -1.713324e-17  -1.398220e-17  -1.140459e-17  -9.297196e-18
	...
	 [997] -2.025755e-120 -1.177467e-120 -6.840359e-121 -3.971708e-121
	[1001] -2.304857e-121

I'd like to get to the bottom of these differences.  My numerical
calculator project, extended hoc

	http://www.math.utah.edu/hoc

has an extensive battery of validation tests, which have turned up
bugs in the math library on a half-dozen systems, including a couple
in glibc.  However, although the tests show some differences between
the four guest O/Ses, the chi-square and incomplete gamma function
tests pass.

The tests reveal that OpenBSD has these anomalies: exp(-Inf) -> NaN,
exp(Inf) -> Inf, but exp(-MAXNORMAL) -> 0 and exp(MAXNORMAL) -> +Inf,
as expected.

Examination of the R-1.7.0/src/nmath/pweibull.c file shows that
pweibull() calls pow(), log(), log1p(), and R_D_exp(), and the latter
is defined in ./src/nmath/dpq.h as

#define R_D_exp(x)       (log_p  ?  (x)   : exp(x))      /* exp(x) */

I therefore tried some experiments with hoc, using log1p() as the most
likely candidate for errors, since it is quite new, and much less used
than exp() and log().  And voilà, log1p() is at least part of the
problem:

FreeBSD, Solaris 9 x86, GNU/Linux, Solaris SPARC:

	hoc64> for (k = 0; k <= 100; ++k) println k, log1p(2^-k)
	0 0.69314718055994529
	1 0.40546510810816438
	...
	50 8.8817841970012484e-16
	51 4.4408920985006252e-16
	52 2.2204460492503128e-16
	53 1.1102230246251565e-16
	...
	99 1.5777218104420236e-30
	100 7.8886090522101181e-31

NetBSD, OpenBSD:

	hoc64> for (k = 0; k <= 100; ++k) println k, log1p(2^-k)
	0 0.69314718055994529
	1 0.40546510810816438
	...
	50 8.8817841970012484e-16
	51 4.4408920985006252e-16
	52 2.2204460492503128e-16
	53 0
	54 0
	...
	99 0
	100 0

OpenBSD 3.3 was announced earlier this week, so if my colleague who
installs these systems can find the time, we may be able to test it as
well.

log1p will now get some additional tests in the hoc validation suite.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- Center for Scientific Computing       FAX: +1 801 581 4148                  -
- University of Utah                    Internet e-mail: beebe@math.utah.edu  -
- Department of Mathematics, 110 LCB        beebe@acm.org  beebe@computer.org -
- 155 S 1400 E RM 233                       beebe@ieee.org                    -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe  -

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2887 *
Subject: tools/ldAIX4 Assumes AIX nm
From: rgrubbfink@cox.net
Date: Wed, 30 Apr 2003 22:24:34 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2887 <==
From rgrubbfink@cox.net Wed Apr 30 22:24:34 2003
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3UKOY2b010902
	for <R-bugs@biostat.ku.dk>; Wed, 30 Apr 2003 22:24:34 +0200 (MET DST)
Date: Wed, 30 Apr 2003 22:24:34 +0200 (MET DST)
Message-Id: <200304302024.h3UKOY2b010902@pubhealth.ku.dk>
From: rgrubbfink@cox.net
To: R-bugs@biostat.ku.dk
Subject: tools/ldAIX4 Assumes AIX nm

Full_Name: Richard L. Grubb
Version: 1.6.2
OS: AIX 4.3.3
Submission from: (NULL) (130.76.96.17)


The ldAIX4 script in the tools directory calls the nm program, assuming it is
the
nm supplied with AIX. However, I have GNU nm in $HOME/bin, and it was being
executed
instead of /usr/bin/nm or /bin/nm. The script failed silently, and caused
downstream
problems because etc/R.exp was empty.

I ran into this same bug under R 1.7.0, but have not verified my fix yet (I
backed up
to version 1.6.2 to see if I could build it). My fix was to replace the line
"nm=nm"
in the script ldAIX4 with "nm=/bin/nm"

See also my bug report on nm not being able to read src/main/dounzip.o

==> 2887.audit <==
Fri May  2 22:28:30 2003	maechler	moved from incoming to System-specific
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2888 *
Subject: AIX 4.3.3 nm will not read all of dounzip.o
From: rgrubbfink@cox.net
Date: Wed, 30 Apr 2003 22:33:24 +0200 (MET DST)
--Looks like an AIX bug, not an R one.
--Other people have succeeded on AIX 5.1.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2888 <==
From rgrubbfink@cox.net Wed Apr 30 22:33:24 2003
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3UKXO2b010936
	for <R-bugs@biostat.ku.dk>; Wed, 30 Apr 2003 22:33:24 +0200 (MET DST)
Date: Wed, 30 Apr 2003 22:33:24 +0200 (MET DST)
Message-Id: <200304302033.h3UKXO2b010936@pubhealth.ku.dk>
From: rgrubbfink@cox.net
To: R-bugs@biostat.ku.dk
Subject: AIX 4.3.3 nm will not read all of dounzip.o

Full_Name: Richard L. Grubb
Version: 1.6.2
OS: AIX 4.3.3
Submission from: (NULL) (130.76.96.17)


The tools/ldAIX4 script fails when it tries to execute nm -p -g -h dounzip.o.

The output is:

__mull               U          -                                               
                                    
__divss              U          -                                               
                                    
__divus              U          -                                               
                                    
__quoss              U          -                                               
                                    
__quous              U          -                                               
                                    
.mkdir               U          -                                               
                                    
.strlen              U          -                                               
                                    
.strcpy              U          -                                               
                                    
.strcat              U          -                                               
                                    
...[SNIP]...
.inflateInit2_       U          -                                               
                                    
.crc32               U          -                                               
                                    
.inflate             U          -                                               
                                    
.inflateEnd          U          -                                               
                                    
.do_int_unzip        T       1084     758                                       
                                    
.R_newunz            T       2904     426                                       
                                    
nm: dounzip.o: 0654-206 Cannot process the symbol table                         
                                    


Whereas Gnu nm -p -g dounzip.o (can't use -h in GNU nm) gives:

                 U __mulh                                                       
                                    
                 U __mull
                 U __divss
                 U __divus
                 U __quoss
                 U __quous
                 U .mkdir
                 U .strlen
                 U .strcpy
                 U .strcat
...[SNIP]...
                 U .crc32
                 U .inflate
                 U .inflateEnd
000000000000043c T .do_int_unzip
0000000000000b58 T .R_newunz
                 U .bb
                 U .eb
                 U .bb
                 U .eb
                 U .bb
                 U .eb
                 U .bb
                 U .eb
                 U .bb
                 U .eb
                 U .bb
                 U .eb
                 U .bb
                 U .eb
                 U .bb
                 U .eb
                 U .bb
                 U .eb
0000000000002a40 T unz_copyright
0000000000002a94 D do_int_unzip 
0000000000002b00 D R_newunz

I deleted dounzip.o from the list of object files to be processed by ldAIX4, and
the
rest of R has compiled ok so far.


==> 2888.audit <==
Fri May  2 22:28:30 2003	maechler	moved from incoming to System-specific
Thu May  8 23:38:22 2003	ripley	changed notes
Thu May  8 23:38:22 2003	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  TooMuchAtOnce

none

Directory:  Windows

* PR# 2798 *
Subject: Re: [R] Keyboard problem using RWin 1.7.0
From: DJNordlund@aol.com
Date: Sat, 19 Apr 2003 18:56:25 EDT
--Can't reproduce so far.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2798 <==
From mailnull@stat.math.ethz.ch Sun Apr 20 00:57:17 2003
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3JMvGpD026673
	for <R-bugs@biostat.ku.dk>; Sun, 20 Apr 2003 00:57:16 +0200 (MET DST)
Received: from hypatia.math.ethz.ch (mailnull@localhost [127.0.0.1])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h3JMvEUa013270
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <R-bugs@biostat.ku.dk>; Sun, 20 Apr 2003 00:57:14 +0200 (MEST)
Received: (from mailnull@localhost)
	by hypatia.math.ethz.ch (8.12.9/8.12.6/Submit) id h3JMvDVX013269
	for R-bugs@biostat.ku.dk; Sun, 20 Apr 2003 00:57:13 +0200 (MEST)
Received: from franz.stat.wisc.edu (mail@www.omegahat.org [128.105.174.32])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h3JMv3UZ013244
	for <r-bugs@lists.r-project.org>; Sun, 20 Apr 2003 00:57:04 +0200 (MEST)
Received: from imo-m02.mx.aol.com ([64.12.136.5])
	by franz.stat.wisc.edu with esmtp (Exim 3.35 #1 (Debian))
	id 1971GZ-0007HK-00
	for <r-bugs@r-project.org>; Sat, 19 Apr 2003 17:57:03 -0500
Received: from DJNordlund@aol.com
	by imo-m02.mx.aol.com (mail_out_v34.22.) id v.14f.1e250d3d (25305);
	Sat, 19 Apr 2003 18:56:25 -0400 (EDT)
From: DJNordlund@aol.com
Message-ID: <14f.1e250d3d.2bd32e19@aol.com>
Date: Sat, 19 Apr 2003 18:56:25 EDT
Subject: Re: [R] Keyboard problem using RWin 1.7.0
To: r-bugs@r-project.org
CC: dmurdoch@pair.com
MIME-Version: 1.0
X-Mailer: 8.0 for Windows sub 910
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Spam-Status: No, hits=2.3 required=5.0
	tests=HTML_10_20,HTML_FONT_FACE_ODD,HTML_MESSAGE,
	      MIME_LONG_LINE_QP,NO_REAL_NAME
	version=2.53
X-Spam-Level: **
X-Spam-Checker-Version: SpamAssassin 2.53 (1.174.2.15-2003-03-30-exp)
Content-Disposition: inline
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

This is a report of a keyboard problem using RWin 1.7.0.  The following is 
the R version and my system information.

R version
Precompiled binary from CRAN
platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status                  
major    1              
minor    7.0            
year     2003           
month    04             
day      16             
language R   

System Information: Gateway Computer
Processor: Pentium IV 1.4MHz 
RAM: 256M 
OS: Windows 2000 Professional (Build 2195) Service Pack 3


Bug Description 


At startup I get the standard information and prompt.

R : Copyright 2003, The R Development Core Team
Version 1.7.0  (2003-04-16)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

>

If I then paste anything, even something as simple as the character "1" 
(without quotes) to the command line, R stops responding to the keyboard.  
The "1" is visible on the command line, but pressing <return>, or the arrow 
keys, or <esc>, or any other key has no effect.  If the text being pasted is 
several lines of code, it is executed correctly, and if it outputs to the 
console, the output is seen correctly, but afterwards, the keyboard does not 
respond.  Additional code can be pasted to the command line and it also is 
executed correctly.

The computer is not completely locking up, nor is RWin. I can still use the 
mouse to select R menu items, for example, reading documentation, sourcing 
files, even pasting more text.  I can also use <alt>-<tab> to switch between 
other programs running under Windows, where the keyboard works just fine.  

Experimenting with these possibilities actually led to a simple work around 
for me.  After pasting text to the command line (which stops keyboard 
responding), doing any of the following restores keyboard response:

1. Switching to any other running program (like an editor) and then switching 
back to R;
2. pressing <ctrl>-<esc> to bring up the Windows Start menu and then going 
back to R;
3. using the R menus to source a file or read documentation.  (If I use the R 
menu to source some code, the  output of the sourced code appears in the 
console window "above" the pasted text, pushing the previously pasted line of 
text down on the screen.)
4. simply minimizing the console window and then restoring it.

<Speculation warning> 
It would appear that anything that takes the focus away from the console 
window "clears" whatever problem is caused by pasting text to the command 
line.
<speculation off>

Dan Nordlund

	[[alternate HTML version deleted]]


==> 2798.audit <==
Sat Apr 26 23:38:44 2003	dmurdoch	changed notes
Sat Apr 26 23:38:44 2003	dmurdoch	foobar
Sat Apr 26 23:38:44 2003	dmurdoch	moved from incoming to Windows

==> 2798.followup.1 <==
From dmurdoch@pair.com Sat Apr 26 23:40:24 2003
Received: from tomts20-srv.bellnexxia.net (tomts20-srv.bellnexxia.net [209.226.175.74])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3QLeNpD029396
	for <R-bugs@biostat.ku.dk>; Sat, 26 Apr 2003 23:40:24 +0200 (MET DST)
Received: from djmfuj ([65.93.71.152]) by tomts20-srv.bellnexxia.net
          (InterMail vM.5.01.04.19 201-253-122-122-119-20020516) with SMTP
          id <20030426214022.RUCH22383.tomts20-srv.bellnexxia.net@djmfuj>;
          Sat, 26 Apr 2003 17:40:22 -0400
From: Duncan Murdoch <dmurdoch@pair.com>
To: DJNordlund@aol.com
Cc: R-bugs@biostat.ku.dk
Subject: Re: [Rd] Re: [R] Keyboard problem using RWin 1.7.0 (PR#2798)
Date: Sat, 26 Apr 2003 17:40:45 -0400
Message-ID: <8kulav0k5p8h85ous50s5ofrrgobid5iga@4ax.com>
References: <200304192257.h3JMvIpD026677@pubhealth.ku.dk>
In-Reply-To: <200304192257.h3JMvIpD026677@pubhealth.ku.dk>
X-Mailer: Forte Agent 1.91/32.564
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

On Sun, 20 Apr 2003 00:57:18 +0200 (MET DST), DJNordlund@aol.com
wrote:

>Bug Description 
>
>
>At startup I get the standard information and prompt....

>If I then paste anything, even something as simple as the character "1" 
>(without quotes) to the command line, R stops responding to the keyboard.  
>The "1" is visible on the command line, but pressing <return>, or the arrow 
>keys, or <esc>, or any other key has no effect.  If the text being pasted is 
>several lines of code, it is executed correctly, and if it outputs to the 
>console, the output is seen correctly, but afterwards, the keyboard does not 
>respond.  Additional code can be pasted to the command line and it also is 
>executed correctly.

I can't reproduce this one.  Has anyone else been able to?  Dan, can
you reproduce it in the current R-patched?  (If you can't build it
yourself, get a copy from my web page,
<http://www.stats.uwo.ca/faculty/murdoch/software/r-devel>.  The copy
there is a couple of days old; I'll be uploading a new one later
today.)

Duncan Murdoch
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  incoming

* PR# 2461 *
Subject: apropos() with partial name
From: John Maindonald <u9801539@leonard.anu.edu.au>
Date: Thu, 16 Jan 2003 20:22:23 +1100 (EST)
--The proposed fix would make it impossible to pass a variable to apropos
--
--eg 
--
--> sor<-"plot"
--> apropos(sor)
--[1] "sor"          "isoreg"       "sortedXyData" "is.unsorted"  "sort"        
--[6] "sort.list"   
--
--A better fix might be to require the argument to be a string.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2461 <==
From mailnull@stat.math.ethz.ch  Thu Jan 16 10:24:15 2003
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA06747
	for <R-bugs@biostat.ku.dk>; Thu, 16 Jan 2003 10:24:15 +0100 (MET)
Received: from hypatia.math.ethz.ch (mailnull@localhost [127.0.0.1])
	by hypatia.math.ethz.ch (8.12.6/8.12.6) with ESMTP id h0G9NPWH023987
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NO)
	for <R-bugs@biostat.ku.dk>; Thu, 16 Jan 2003 10:23:25 +0100 (MET)
Received: (from mailnull@localhost)
	by hypatia.math.ethz.ch (8.12.6/8.12.6/Submit) id h0G9NOIR023986
	for R-bugs@biostat.ku.dk; Thu, 16 Jan 2003 10:23:24 +0100 (MET)
Received: from franz.stat.wisc.edu (mail@www.omegahat.org [128.105.174.32])
	by hypatia.math.ethz.ch (8.12.6/8.12.6) with ESMTP id h0G9NIWG023970
	for <r-bugs@lists.r-project.org>; Thu, 16 Jan 2003 10:23:20 +0100 (MET)
Received: from anumail4.anu.edu.au ([150.203.2.44] helo=anu.edu.au)
	by franz.stat.wisc.edu with esmtp (Exim 3.35 #1 (Debian))
	id 18Z6F1-0007Qm-00
	for <r-bugs@r-project.org>; Thu, 16 Jan 2003 03:23:15 -0600
Received: from leonard.anu.edu.au (leonard.anu.edu.au [150.203.2.15])
	by anu.edu.au (8.12.4/8.12.4) with ESMTP id h0G9McBo004500
	for <r-bugs@r-project.org>; Thu, 16 Jan 2003 20:23:03 +1100 (EST)
Received: (from u9801539@localhost)
	by leonard.anu.edu.au (8.11.6/8.11.6) id h0G9MNS14796
	for r-bugs@r-project.org; Thu, 16 Jan 2003 20:22:23 +1100 (EST)
Date: Thu, 16 Jan 2003 20:22:23 +1100 (EST)
From: John Maindonald <u9801539@leonard.anu.edu.au>
Message-Id: <200301160922.h0G9MNS14796@leonard.anu.edu.au>
To: r-bugs@r-project.org
Subject: apropos() with partial name
X-Sender: u9801539@leonard.anu.edu.au
X-Sender-Domain: leonard.anu.edu.au
X-Spam-Score: (0.4)
X-Spam-Tests: FROM_ENDS_IN_NUMS
X-Scanned-By: MIMEDefang 2.15 (www dot roaringpenguin dot com slash mimedefang)
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Spam-Status: No, hits=1.7 required=5.0
	tests=FROM_ENDS_IN_NUMS,SPAM_PHRASE_00_01
	version=2.43
X-Spam-Level: *

> apropos(sort)
[1] "is.unsorted" "sort"        "sort.list"  
> apropos(sor)
Error in apropos(sor) : Object "sor" not found
> sor <- 0
> apropos(sor)
[1] "sor"         "is.unsorted" "sort"        "sort.list"  

Thus the behaviour of apropos() can depend on what objects
are in the workspace, which is surely not intended!

There are some weird consequences:
apropos(b) generates an error, while apropos(c) finds a
huge number of partial matches.

The problem is with the first line of the function, i.e.,
    if (!is.character(what)) 
        what <- as.character(substitute(what))

I suggest replacing this with:
    if (!is.character(substitute(what))) 
        what <- as.character(substitute(what))

apropos("sor") works fine.

I have checked this also on Darwin/X11, version 1.6.1

--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = i386
 os = mingw32
 system = i386, mingw32
 status = 
 major = 1
 minor = 6.2
 year = 2003
 month = 01
 day = 10
 language = R

Windows XP Home Edition (build 2600) Service Pack 1.0

Search Path:
 .GlobalEnv, package:DAAG, package:ctest, Autoloads, package:base
John Maindonald                     email : john.maindonald@anu.edu.au
Centre for Bioinformation Science,  phone : (6125)3473        
c/o MSI,                            fax   : (6125)5549 
John Dedman Mathematical Sciences Building (Building 27)
Australian National University
Canberra ACT 0200
Australia


==> 2461.audit <==
Fri Apr 11 19:06:24 2003	thomas	changed notes
Fri Apr 11 19:06:24 2003	thomas	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2577 *
Subject: Problem with hessian in deriv3 
From: j.c.rougier@durham.ac.uk
Date: Mon, 24 Feb 2003 17:01:47 GMT
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2577 <==
From mailnull@stat.math.ethz.ch Mon Feb 24 18:02:49 2003
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.12.7/8.12.7) with ESMTP id h1OH2n35023379
	for <R-bugs@biostat.ku.dk>; Mon, 24 Feb 2003 18:02:49 +0100 (MET)
Received: from hypatia.math.ethz.ch (mailnull@localhost [127.0.0.1])
	by hypatia.math.ethz.ch (8.12.6/8.12.6) with ESMTP id h1OH20GG023624
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NO)
	for <R-bugs@biostat.ku.dk>; Mon, 24 Feb 2003 18:02:00 +0100 (MET)
Received: (from mailnull@localhost)
	by hypatia.math.ethz.ch (8.12.6/8.12.6/Submit) id h1OH1x4h023623
	for R-bugs@biostat.ku.dk; Mon, 24 Feb 2003 18:01:59 +0100 (MET)
Received: from franz.stat.wisc.edu (mail@www.omegahat.org [128.105.174.32])
	by hypatia.math.ethz.ch (8.12.6/8.12.6) with ESMTP id h1OH1rGF023607
	for <r-bugs@lists.r-project.org>; Mon, 24 Feb 2003 18:01:55 +0100 (MET)
Received: from hermes.dur.ac.uk ([129.234.4.9])
	by franz.stat.wisc.edu with esmtp (Exim 3.35 #1 (Debian))
	id 18nLzF-0000Tk-00
	for <r-bugs@r-project.org>; Mon, 24 Feb 2003 11:01:53 -0600
Received: from euclid (euclid.dur.ac.uk [129.234.21.53])
	by hermes.dur.ac.uk (8.11.1/8.11.1) with ESMTP id h1OH1mp24332
	for <r-bugs@r-project.org>; Mon, 24 Feb 2003 17:01:48 GMT
Received: from arrow.dur.ac.uk by euclid id <h1OH1lU08968@euclid>; Mon, 24 Feb 2003 17:01:47 GMT
From: j.c.rougier@durham.ac.uk
Date: Mon, 24 Feb 2003 17:01:47 GMT
Message-Id: <6867.200302241701@arrow.dur.ac.uk>
To: r-bugs@r-project.org
Subject: Problem with hessian in deriv3 
Cc: dma0jcr@arrow.dur.ac.uk
X-MailScanner: Found to be clean
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Spam-Status: No, hits=2.1 required=5.0
	tests=NO_REAL_NAME,SPAM_PHRASE_00_01
	version=2.43
X-Spam-Level: **

Hi Everyone,

I noticed the following in deriv3:

> deriv3(expression(x * y - b * z), c("x", "y", "z"))
expression({
    .value <- x * y - b * z
    .grad <- array(0, c(length(.value), 3), list(NULL, c("x", 
        "y", "z")))
    .hessian <- array(0, c(length(.value), 3, 3), list(NULL, 
        c("x", "y", "z"), c("x", "y", "z")))
    .grad[, "x"] <- y
    .grad[, "y"] <- x
    .grad[, "z"] <- -b
    .hessian[, "z", "z"] <- 0
    attr(.value, "gradient") <- .grad
    attr(.value, "hessian") <- .hessian
    .value
})

where the hessian is incorrectly computed as being 0 everywhere -- it
should be 1 at (x, y) and (y, x).  Interestingly, if I precede x * y
by unary minus the hessian is correct:

> deriv3(expression(- x * y - b * z), c("x", "y", "z"))
expression({
    .expr1 <- -x
    .value <- .expr1 * y - b * z
    .grad <- array(0, c(length(.value), 3), list(NULL, c("x", 
        "y", "z")))
    .hessian <- array(0, c(length(.value), 3, 3), list(NULL, 
        c("x", "y", "z"), c("x", "y", "z")))
    .grad[, "x"] <- -y
    .hessian[, "x", "x"] <- 0
    .hessian[, "x", "y"] <- .hessian[, "y", "x"] <- -1
    .hessian[, "x", "z"] <- .hessian[, "z", "x"] <- 0
    .grad[, "y"] <- .expr1
    .hessian[, "y", "y"] <- 0
    .hessian[, "y", "z"] <- .hessian[, "z", "y"] <- 0
    .grad[, "z"] <- -b
    .hessian[, "z", "z"] <- 0
    attr(.value, "gradient") <- .grad
    attr(.value, "hessian") <- .hessian
    .value
})

Cheers, Jonathan.

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 6.1
 year = 2002
 month = 11
 day = 01
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2593 *
Subject: density(), with argument of length 1
From: John Maindonald <u9801539@leonard.anu.edu.au>
Date: Sat, 1 Mar 2003 16:35:56 +1100 (EST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2593 <==
From mailnull@stat.math.ethz.ch Sat Mar  1 06:37:02 2003
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.12.7/8.12.7) with ESMTP id h215b135008370
	for <R-bugs@biostat.ku.dk>; Sat, 1 Mar 2003 06:37:01 +0100 (MET)
Received: from hypatia.math.ethz.ch (mailnull@localhost [127.0.0.1])
	by hypatia.math.ethz.ch (8.12.6/8.12.6) with ESMTP id h215aCGG010311
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NO)
	for <R-bugs@biostat.ku.dk>; Sat, 1 Mar 2003 06:36:12 +0100 (MET)
Received: (from mailnull@localhost)
	by hypatia.math.ethz.ch (8.12.6/8.12.6/Submit) id h215aBL8010283
	for R-bugs@biostat.ku.dk; Sat, 1 Mar 2003 06:36:11 +0100 (MET)
Received: from franz.stat.wisc.edu (mail@www.omegahat.org [128.105.174.32])
	by hypatia.math.ethz.ch (8.12.6/8.12.6) with ESMTP id h215a6GF010132
	for <r-bugs@lists.r-project.org>; Sat, 1 Mar 2003 06:36:07 +0100 (MET)
Received: from anumail2.anu.edu.au ([150.203.2.42] helo=anu.edu.au)
	by franz.stat.wisc.edu with esmtp (Exim 3.35 #1 (Debian))
	id 18ozfJ-00011X-00
	for <r-bugs@r-project.org>; Fri, 28 Feb 2003 23:36:05 -0600
Received: from leonard.anu.edu.au (leonard.anu.edu.au [150.203.2.15])
	by anu.edu.au (8.12.7/8.12.7) with ESMTP id h215ZuDg024057
	for <r-bugs@r-project.org>; Sat, 1 Mar 2003 16:35:57 +1100 (EST)
Received: (from u9801539@localhost)
	by leonard.anu.edu.au (8.11.6/8.11.6) id h215ZuQ12945
	for r-bugs@r-project.org; Sat, 1 Mar 2003 16:35:56 +1100 (EST)
Date: Sat, 1 Mar 2003 16:35:56 +1100 (EST)
From: John Maindonald <u9801539@leonard.anu.edu.au>
Message-Id: <200303010535.h215ZuQ12945@leonard.anu.edu.au>
To: r-bugs@r-project.org
Subject: density(), with argument of length 1
X-Sender: u9801539@leonard.anu.edu.au
X-Sender-Domain: leonard.anu.edu.au
X-Spam-Score: (2.1)
X-Spam-Tests: DATE_IN_PAST_06_12,FROM_ENDS_IN_NUMS,SPAM_PHRASE_00_01
X-Scanned-By: MIMEDefang 2.29 (www . roaringpenguin . com / mimedefang)
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Spam-Status: No, hits=1.7 required=5.0
	tests=FROM_ENDS_IN_NUMS,SPAM_PHRASE_00_01
	version=2.43
X-Spam-Level: *

The following is from version 1.6.2 of R under Windows,
or 1.6.1 under Mac OSX/X11

> density(1)
Error in if (!(lo <- min(hi, IQR(x)/1.34))) (lo <- hi) || (lo <- abs(x[1])) ||  : 
        missing value where logical needed

I am not sure how this should be handled.  I encountered it
in connection with densityplot().  In that connection, it
might be enough to modify density() so that it returns NA 
is these circumstances.  The following demonstrates the 
implications for densityplot().

> data(mtcars)
> attach(mtcars)
> x11()
> densityplot(~mpg | carb)
Error in if (!(lo <- min(hi, IQR(x)/1.34))) (lo <- hi) || (lo <- abs(x[1])) ||  : 
        missing value where logical needed

John Maindonald                     email : john.maindonald@anu.edu.au
Centre for Bioinformation Science,  phone : (6125)3473        
c/o MSI,                            fax   : (6125)5549 
John Dedman Mathematical Sciences Building (Building 27)
Australian National University
Canberra ACT 0200
Australia


==> 2593.reply.1 <==
From p.dalgaard@biostat.ku.dk Sat Mar  1 11:23:11 2003
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.7/8.12.7) with ESMTP id h21ANB35008845;
	Sat, 1 Mar 2003 11:23:11 +0100 (MET)
Received: from blueberry.kubism.ku.dk (localhost.localdomain [127.0.0.1])
	by blueberry.kubism.ku.dk (8.12.5/8.12.5) with ESMTP id h21AMnNS015964;
	Sat, 1 Mar 2003 11:22:49 +0100
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.12.5/8.12.5/Submit) id h21AMmXM015960;
	Sat, 1 Mar 2003 11:22:48 +0100
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: u9801539@leonard.anu.edu.au
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] density(), with argument of length 1 (PR#2593)
References: <200303010537.h215b335008374@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 01 Mar 2003 11:22:48 +0100
In-Reply-To: <200303010537.h215b335008374@pubhealth.ku.dk>
Message-ID: <x2llzzs7wn.fsf@biostat.ku.dk>
Lines: 41
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

u9801539@leonard.anu.edu.au writes:

> The following is from version 1.6.2 of R under Windows,
> or 1.6.1 under Mac OSX/X11
> 
> > density(1)
> Error in if (!(lo <- min(hi, IQR(x)/1.34))) (lo <- hi) || (lo <- abs(x[1])) ||  : 
>         missing value where logical needed
> 
> I am not sure how this should be handled.

It comes from this bit of code:

> bw.nrd0
function (x)
{
    hi <- sd(x)
    if (!(lo <- min(hi, IQR(x)/1.34)))
        (lo <- hi) || (lo <- abs(x[1])) || (lo <- 1)
    0.9 * lo * length(x)^(-0.2)
}

in which hi is NA if x has length 1. A pragmatic way out would seem to
be to change the first line to 

hi <- if (length(x) > 1) sd(x) else 0

(and I wonder why the author didn't go all the way with the ||
sneakiness and said

    (lo <- min(hi, IQR(x)/1.34)) ||
        (lo <- hi) || (lo <- abs(x[1])) || (lo <- 1)

)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 2593.followup.1 <==
From u9801539@leonard.anu.edu.au Sun Mar  2 05:54:51 2003
Received: from anu.edu.au (anumail4.anu.edu.au [150.203.2.44])
	by pubhealth.ku.dk (8.12.7/8.12.7) with ESMTP id h224sn35010836;
	Sun, 2 Mar 2003 05:54:50 +0100 (MET)
Received: from leonard.anu.edu.au (leonard.anu.edu.au [150.203.2.15])
	by anu.edu.au (8.12.4/8.12.4) with ESMTP id h224rxBo014437;
	Sun, 2 Mar 2003 15:53:59 +1100 (EST)
Received: (from u9801539@localhost)
	by leonard.anu.edu.au (8.11.6/8.11.6) id h224rxd18045;
	Sun, 2 Mar 2003 15:53:59 +1100 (EST)
Date: Sun, 2 Mar 2003 15:53:59 +1100 (EST)
From: John Maindonald <u9801539@leonard.anu.edu.au>
Message-Id: <200303020453.h224rxd18045@leonard.anu.edu.au>
To: p.dalgaard@biostat.ku.dk
Subject: Re: [Rd] density(), with argument of length 1 (PR#2593)
Cc: R-bugs@biostat.ku.dk, r-devel@stat.math.ethz.ch
X-Sender: u9801539@leonard.anu.edu.au
X-Sender-Domain: leonard.anu.edu.au
X-Spam-Status: Scanned
X-Spam-Score:  (0.9)
X-Spam-Tests: FROM_ENDS_IN_NUMS,MAILTO_TO_SPAM_ADDR
X-Scanned-By: MIMEDefang 2.15 (www dot roaringpenguin dot com slash mimedefang)

> From p.dalgaard@biostat.ku.dk  Sat Mar  1 21:22:47 2003
> X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
> To: u9801539@leonard.anu.edu.au
> Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
> Subject: Re: [Rd] density(), with argument of length 1 (PR#2593)
> From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
> Date: 01 Mar 2003 11:22:48 +0100
> User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
> MIME-Version: 1.0
> X-Sender: p.dalgaard@biostat.ku.dk
> X-Sender-Domain: biostat.ku.dk
> X-Spam-Status: Scanned
> X-Spam-Score:  (-3.6)
> X-Spam-Tests: IN_REP_TO,X_AUTH_WARNING,MAILTO_TO_SPAM_ADDR
> X-Scanned-By: MIMEDefang 2.15 (www dot roaringpenguin dot com slash mimedefang)
> 
> u9801539@leonard.anu.edu.au writes:
> 
> > The following is from version 1.6.2 of R under Windows,
> > or 1.6.1 under Mac OSX/X11
> > 
> > > density(1)
> > Error in if (!(lo <- min(hi, IQR(x)/1.34))) (lo <- hi) || (lo <- abs(x[1])) ||  : 
> >         missing value where logical needed
> > 
> > I am not sure how this should be handled.
> 
> It comes from this bit of code:
> 
> > bw.nrd0
> function (x)
> {
>     hi <- sd(x)
>     if (!(lo <- min(hi, IQR(x)/1.34)))
>         (lo <- hi) || (lo <- abs(x[1])) || (lo <- 1)
>     0.9 * lo * length(x)^(-0.2)
> }
> 
> in which hi is NA if x has length 1. A pragmatic way out would seem to
> be to change the first line to 
> 
> hi <- if (length(x) > 1) sd(x) else 0
> 
> (and I wonder why the author didn't go all the way with the ||
> sneakiness and said
> 
>     (lo <- min(hi, IQR(x)/1.34)) ||
>         (lo <- hi) || (lo <- abs(x[1])) || (lo <- 1)

Note that two of the other three bandwith rules also require attention:
> bw.ucv(1)
Error in fmin(function(arg) f(arg, ...), lower, upper, tol) : 
        invalid xmin value
> bw.SJ(1)
Error in TDh(cnt, b, n, d) : NA/NaN/Inf in foreign function call (arg 5)

The remaining rule has:
> bw.nrd(1)
[1] NA
which is reasonable.









John Maindonald                     email : john.maindonald@anu.edu.au
Centre for Bioinformation Science,  phone : (6125)3473        
c/o MSI,                            fax   : (6125)5549 
John Dedman Mathematical Sciences Building (Building 27)
Australian National University
Canberra ACT 0200
Australia
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2656 *
Subject: recursive default argument reference in debugger
From: pburns@pburns.seanet.com
Date: Wed, 19 Mar 2003 12:23:40 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2656 <==
From pburns@pburns.seanet.com Wed Mar 19 12:23:41 2003
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.8/8.12.8) with ESMTP id h2JBNen9026099
	for <R-bugs@biostat.ku.dk>; Wed, 19 Mar 2003 12:23:41 +0100 (MET)
Date: Wed, 19 Mar 2003 12:23:40 +0100 (MET)
Message-Id: <200303191123.h2JBNen9026099@pubhealth.ku.dk>
From: pburns@pburns.seanet.com
To: R-bugs@biostat.ku.dk
Subject: recursive default argument reference in debugger

Full_Name: Patrick Burns
Version: 1.6.1
OS: Linux
Submission from: (NULL) (217.35.44.203)


# the setup

 fjj.bd <-
function (x, y=x$b[, c("lower", "upper"), drop=FALSE])
{
        y
}

jjb0 <- list(b=array(1:3, c(1, 3), list("A", c("", "", "C"))))

options(error=dump.frames)

# creating the problem

> fjj.bd(jjb0)
Error in fjj.bd(jjb0) : subscript out of bounds
> debugger()
Message:  Error in fjj.bd(jjb0) : subscript out of bounds
Available environments had calls:
1: fjj.bd(jjb0)

Enter an environment number, or 0 to exit  Selection: 1
Error in get(.obj, envir = dump[[.selection]]) : 
        recursive default argument reference


The problem is that "debugger" gets an error when trying to
go into the dump.  I don't understand what is going on, but
it doesn't have to do with the actual names of the objects --
the same thing happens if all the names are changed.

This is precisely the same on Linux with 1.6.1 and Windows
with 1.6.2.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2808 *
Subject: building R 1.7.0 under RH7.3
From: Tim Hoar <thoar@cgd.ucar.edu>
Date: Mon, 21 Apr 2003 13:16:16 -0600 (MDT)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2808 <==
From mailnull@stat.math.ethz.ch Mon Apr 21 21:17:03 2003
Received: from hypatia.math.ethz.ch (root@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3LJH3pD003490
	for <R-bugs@biostat.ku.dk>; Mon, 21 Apr 2003 21:17:03 +0200 (MET DST)
Received: from hypatia.math.ethz.ch (mailnull@localhost [127.0.0.1])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h3LJH0Ua017506
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <R-bugs@biostat.ku.dk>; Mon, 21 Apr 2003 21:17:00 +0200 (MEST)
Received: (from mailnull@localhost)
	by hypatia.math.ethz.ch (8.12.9/8.12.6/Submit) id h3LJGxvE017505
	for R-bugs@biostat.ku.dk; Mon, 21 Apr 2003 21:16:59 +0200 (MEST)
Received: from franz.stat.wisc.edu (mail@www.omegahat.org [128.105.174.32])
	by hypatia.math.ethz.ch (8.12.9/8.12.6) with ESMTP id h3LJGmUZ017480
	for <r-bugs@lists.r-project.org>; Mon, 21 Apr 2003 21:16:49 +0200 (MEST)
Received: from tablemtn.cgd.ucar.edu ([128.117.21.12])
	by franz.stat.wisc.edu with esmtp (Exim 3.35 #1 (Debian))
	id 197gmW-0008MQ-00
	for <r-bugs@R-project.org>; Mon, 21 Apr 2003 14:16:48 -0500
Received: from sunray2.cgd.ucar.edu (sunray2.cgd.ucar.edu [128.117.24.201])
	by tablemtn.cgd.ucar.edu (8.12.8/8.12.8) with ESMTP id h3LJGAJT002255
	for <r-bugs@R-project.org>; Mon, 21 Apr 2003 13:16:10 -0600 (MDT)
Received: from localhost (thoar@localhost)
	by sunray2.cgd.ucar.edu (8.11.6+Sun/8.11.6) with ESMTP id h3LJGGZ24809
	for <r-bugs@R-project.org>; Mon, 21 Apr 2003 13:16:16 -0600 (MDT)
X-Authentication-Warning: sunray2.cgd.ucar.edu: thoar owned process doing -bs
Date: Mon, 21 Apr 2003 13:16:16 -0600 (MDT)
From: Tim Hoar <thoar@cgd.ucar.edu>
X-Sender: <thoar@sunray2>
Reply-To: Tim Hoar <thoar@ucar.edu>
To: <r-bugs@R-project.org>
Subject: building R 1.7.0 under RH7.3
Message-ID: <Pine.GSO.4.30.0304211257440.23064-200000@sunray2>
MIME-Version: 1.0
Content-Type: MULTIPART/MIXED; BOUNDARY="-559023410-959030623-1050952576=:23064"
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Virus-Scanned: by amavisd-milter (http://amavis.org/)
X-Spam-Status: No, hits=-7.3 required=5.0
	tests=USER_AGENT_PINE,X_AUTH_WARNING
	version=2.53
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.53 (1.174.2.15-2003-03-30-exp)

  This message is in MIME format.  The first part should be readable text,
  while the remaining parts are likely unreadable without MIME-aware tools.
  Send mail to mime@docserver.cac.washington.edu for more info.

---559023410-959030623-1050952576=:23064
Content-Type: TEXT/PLAIN; charset=US-ASCII


The configure process does not seem to be working as well as it had for
previous versions ... constantly seems to complain about being unable to
determine environment variables.

I am trying to use the PG set of compilers (because the netCDF library was
built with them, and I will need to use it. I have had problems with this in
the past, although particularly with the Intel Compilers).


setenv R_PAPERSIZE letter
setenv CC pgcc
setenv F77 pgf90
setenv CXX pgCC
[note ALL other environment vars are "undefined", including LD_LIBRARY_PATH]

Linux poorman 2.4.18-17.7.xsmp #1 SMP Tue Oct 8 12:37:04 EDT 2002 i686 unknown
RH 7.3, on a 1.7Ghz Pentium

./configure --prefix=/contrib/R-1.7.0 >& configure.attempt.1

results in two things --

The first is that there seems to be a "-x" getting fed to the PG compilers,
which is not a valid option.  I don't know if this is the root problem ...

The second (and seemingly fatal one) is "unable to determine CPICFLAGS".
So -- I set it and try again ...

setenv CPICFLAGS -kpic
./configure --prefix=/contrib/R-1.7.0 >& configure.attempt.2

which  generates "unable to determine FPICFLAGS" ...

and the same scenario is repeated several more times, with "the next"
environment variable not getting useful default values ...


Anyone else report this?

Thanks -- Tim

## Tim Hoar, Associate Scientist              email: thoar@ucar.edu     ##
## Geophysical Statistics Project             phone: 303-497-1708       ##
## National Center for Atmospheric Research   FAX  : 303-497-1333       ##
## Boulder, CO  80307                    http://www.cgd.ucar.edu/~thoar ##

---559023410-959030623-1050952576=:23064
Content-Type: TEXT/PLAIN; charset=US-ASCII; name="configure.attempt.1"
Content-Transfer-Encoding: BASE64
Content-ID: <Pine.GSO.4.30.0304211316160.23064@sunray2>
Content-Description: 
Content-Disposition: attachment; filename="configure.attempt.1"

Y2hlY2tpbmcgZm9yIGEgQlNELWNvbXBhdGlibGUgaW5zdGFsbC4uLiAvdXNy
L2Jpbi9pbnN0YWxsIC1jDQpjaGVja2luZyB3aGV0aGVyIGJ1aWxkIGVudmly
b25tZW50IGlzIHNhbmUuLi4geWVzDQpjaGVja2luZyB3aGV0aGVyIG1ha2Ug
c2V0cyAkKE1BS0UpLi4uIHllcw0KY2hlY2tpbmcgZm9yIHdvcmtpbmcgYWNs
b2NhbC0xLjQuLi4gZm91bmQNCmNoZWNraW5nIGZvciB3b3JraW5nIGF1dG9j
b25mLi4uIGZvdW5kDQpjaGVja2luZyBmb3Igd29ya2luZyBhdXRvbWFrZS0x
LjQuLi4gZm91bmQNCmNoZWNraW5nIGZvciB3b3JraW5nIGF1dG9oZWFkZXIu
Li4gZm91bmQNCmNoZWNraW5nIGZvciB3b3JraW5nIG1ha2VpbmZvLi4uIGZv
dW5kDQpjaGVja2luZyBidWlsZCBzeXN0ZW0gdHlwZS4uLiBpNjg2LXBjLWxp
bnV4LWdudQ0KY2hlY2tpbmcgaG9zdCBzeXN0ZW0gdHlwZS4uLiBpNjg2LXBj
LWxpbnV4LWdudQ0KbG9hZGluZyBzaXRlIHNjcmlwdCAnLi9jb25maWcuc2l0
ZScNCmxvYWRpbmcgYnVpbGQgc3BlY2lmaWMgc2NyaXB0ICcuL2NvbmZpZy5z
aXRlJw0KY2hlY2tpbmcgZm9yIHB3ZC4uLiAvYmluL3B3ZA0KY2hlY2tpbmcg
d2hldGhlciBidWlsZGRpciBpcyBzcmNkaXIuLi4geWVzDQpjaGVja2luZyBm
b3IgZ2F3ay4uLiBnYXdrDQpjaGVja2luZyBmb3IgZWdyZXAuLi4gZ3JlcCAt
RQ0KY2hlY2tpbmcgd2hldGhlciBsbiAtcyB3b3Jrcy4uLiB5ZXMNCmNoZWNr
aW5nIGZvciByYW5saWIuLi4gcmFubGliDQpjaGVja2luZyBmb3IgYmlzb24u
Li4gYmlzb24gLXkNCmNoZWNraW5nIGZvciBhci4uLiBhcg0KY2hlY2tpbmcg
Zm9yIGphdmFjLi4uIG5vDQpjaGVja2luZyBmb3IgbGVzcy4uLiAvdXNyL2Jp
bi9sZXNzDQpjaGVja2luZyBmb3IgcGVybC4uLiAvdXNyL2xvY2FsL2Jpbi9w
ZXJsDQpjaGVja2luZyB3aGV0aGVyIHBlcmwgdmVyc2lvbiBpcyBhdCBsZWFz
dCA1LjAwNC4uLiB5ZXMNCmNoZWNraW5nIGZvciBkdmlwcy4uLiAvdXNyL2Jp
bi9kdmlwcw0KY2hlY2tpbmcgZm9yIHRleC4uLiAvdXNyL2Jpbi90ZXgNCmNo
ZWNraW5nIGZvciBsYXRleC4uLiAvdXNyL2Jpbi9sYXRleA0KY2hlY2tpbmcg
Zm9yIG1ha2VpbmRleC4uLiAvdXNyL2Jpbi9tYWtlaW5kZXgNCmNoZWNraW5n
IGZvciBwZGZ0ZXguLi4gL3Vzci9iaW4vcGRmdGV4DQpjaGVja2luZyBmb3Ig
cGRmbGF0ZXguLi4gL3Vzci9iaW4vcGRmbGF0ZXgNCmNoZWNraW5nIGZvciBt
YWtlaW5mby4uLiAvdXNyL2Jpbi9tYWtlaW5mbw0KY2hlY2tpbmcgZm9yIHVu
emlwLi4uIG5vDQpjaGVja2luZyBmb3IgemlwLi4uIG5vDQpjaGVja2luZyBm
b3IgZ2NjLi4uIHBnY2MNCmNoZWNraW5nIGZvciBDIGNvbXBpbGVyIGRlZmF1
bHQgb3V0cHV0Li4uIGEub3V0DQpjaGVja2luZyB3aGV0aGVyIHRoZSBDIGNv
bXBpbGVyIHdvcmtzLi4uIHllcw0KY2hlY2tpbmcgd2hldGhlciB3ZSBhcmUg
Y3Jvc3MgY29tcGlsaW5nLi4uIG5vDQpjaGVja2luZyBmb3Igc3VmZml4IG9m
IGV4ZWN1dGFibGVzLi4uIA0KY2hlY2tpbmcgZm9yIHN1ZmZpeCBvZiBvYmpl
Y3QgZmlsZXMuLi4gbw0KY2hlY2tpbmcgd2hldGhlciB3ZSBhcmUgdXNpbmcg
dGhlIEdOVSBDIGNvbXBpbGVyLi4uIG5vDQpjaGVja2luZyB3aGV0aGVyIHBn
Y2MgYWNjZXB0cyAtZy4uLiB5ZXMNCmNoZWNraW5nIGZvciBwZ2NjIG9wdGlv
biB0byBhY2NlcHQgQU5TSSBDLi4uIG5vbmUgbmVlZGVkDQpjaGVja2luZyBm
b3Igbm9uLUdOVSBsZC4uLiAvdXNyL2Jpbi9sZA0KY2hlY2tpbmcgaWYgdGhl
IGxpbmtlciAoL3Vzci9iaW4vbGQpIGlzIEdOVSBsZC4uLiB5ZXMNCmNoZWNr
aW5nIGZvciAvdXNyL2Jpbi9sZCBvcHRpb24gdG8gcmVsb2FkIG9iamVjdCBm
aWxlcy4uLiAtcg0KY2hlY2tpbmcgZm9yIEJTRC1jb21wYXRpYmxlIG5tLi4u
IC91c3IvYmluL25tIC1CDQpjaGVja2luZyBmb3IgYSBzZWQgdGhhdCBkb2Vz
IG5vdCB0cnVuY2F0ZSBvdXRwdXQuLi4gL2Jpbi9zZWQNCmNoZWNraW5nIGhv
dyB0byByZWNvZ25pc2UgZGVwZW5kZW50IGxpYnJhcmllcy4uLiBwYXNzX2Fs
bA0KY2hlY2tpbmcgY29tbWFuZCB0byBwYXJzZSAvdXNyL2Jpbi9ubSAtQiBv
dXRwdXQuLi4gb2sNCmNoZWNraW5nIGhvdyB0byBydW4gdGhlIEMgcHJlcHJv
Y2Vzc29yLi4uIHBnY2MgLUUNCmNoZWNraW5nIGZvciBBTlNJIEMgaGVhZGVy
IGZpbGVzLi4uIHllcw0KY2hlY2tpbmcgZm9yIHN5cy90eXBlcy5oLi4uIHll
cw0KY2hlY2tpbmcgZm9yIHN5cy9zdGF0LmguLi4geWVzDQpjaGVja2luZyBm
b3Igc3RkbGliLmguLi4geWVzDQpjaGVja2luZyBmb3Igc3RyaW5nLmguLi4g
eWVzDQpjaGVja2luZyBmb3IgbWVtb3J5LmguLi4geWVzDQpjaGVja2luZyBm
b3Igc3RyaW5ncy5oLi4uIHllcw0KY2hlY2tpbmcgZm9yIGludHR5cGVzLmgu
Li4geWVzDQpjaGVja2luZyBmb3Igc3RkaW50LmguLi4geWVzDQpjaGVja2lu
ZyBmb3IgdW5pc3RkLmguLi4geWVzDQpjaGVja2luZyBkbGZjbi5oIHVzYWJp
bGl0eS4uLiB5ZXMNCmNoZWNraW5nIGRsZmNuLmggcHJlc2VuY2UuLi4geWVz
DQpjaGVja2luZyBmb3IgZGxmY24uaC4uLiB5ZXMNCmNoZWNraW5nIGZvciBy
YW5saWIuLi4gKGNhY2hlZCkgcmFubGliDQpjaGVja2luZyBmb3Igc3RyaXAu
Li4gc3RyaXANCmNoZWNraW5nIGZvciBvYmpkaXIuLi4gLmxpYnMNCmNoZWNr
aW5nIGZvciBwZ2NjIG9wdGlvbiB0byBwcm9kdWNlIFBJQy4uLiBub25lDQpj
aGVja2luZyBpZiBwZ2NjIHN0YXRpYyBmbGFnICB3b3Jrcy4uLiB5ZXMNCmNo
ZWNraW5nIGlmIHBnY2Mgc3VwcG9ydHMgLWMgLW8gZmlsZS5vLi4uIHllcw0K
Y2hlY2tpbmcgaWYgcGdjYyBzdXBwb3J0cyAtYyAtbyBmaWxlLmxvLi4uIHll
cw0KY2hlY2tpbmcgd2hldGhlciB0aGUgbGlua2VyICgvdXNyL2Jpbi9sZCkg
c3VwcG9ydHMgc2hhcmVkIGxpYnJhcmllcy4uLiB5ZXMNCmNoZWNraW5nIGhv
dyB0byBoYXJkY29kZSBsaWJyYXJ5IHBhdGhzIGludG8gcHJvZ3JhbXMuLi4g
aW1tZWRpYXRlDQpjaGVja2luZyB3aGV0aGVyIHN0cmlwcGluZyBsaWJyYXJp
ZXMgaXMgcG9zc2libGUuLi4geWVzDQpjaGVja2luZyBkeW5hbWljIGxpbmtl
ciBjaGFyYWN0ZXJpc3RpY3MuLi4gR05VL0xpbnV4IGxkLnNvDQpjaGVja2lu
ZyBpZiBsaWJ0b29sIHN1cHBvcnRzIHNoYXJlZCBsaWJyYXJpZXMuLi4gbm8N
CmNoZWNraW5nIHdoZXRoZXIgdG8gYnVpbGQgc2hhcmVkIGxpYnJhcmllcy4u
LiBubw0KY2hlY2tpbmcgd2hldGhlciB0byBidWlsZCBzdGF0aWMgbGlicmFy
aWVzLi4uIHllcw0KY3JlYXRpbmcgbGlidG9vbA0KY2hlY2tpbmcgd2hldGhl
ciBtYWtlaW5mbyB2ZXJzaW9uIGlzIGF0IGxlYXN0IDQuLi4geWVzDQpjaGVj
a2luZyBmb3IgbmV0c2NhcGUuLi4gL3Vzci9iaW4vbmV0c2NhcGUNCnVzaW5n
IGRlZmF1bHQgYnJvd3NlciAuLi4gL3Vzci9iaW4vbmV0c2NhcGUNCmNoZWNr
aW5nIGZvciBhY3JvcmVhZC4uLiAvdXNyL2xvY2FsL2Jpbi9hY3JvcmVhZA0K
Y2hlY2tpbmcgZm9yIGdjYy4uLiAoY2FjaGVkKSBwZ2NjDQpjaGVja2luZyB3
aGV0aGVyIHdlIGFyZSB1c2luZyB0aGUgR05VIEMgY29tcGlsZXIuLi4gKGNh
Y2hlZCkgbm8NCmNoZWNraW5nIHdoZXRoZXIgcGdjYyBhY2NlcHRzIC1nLi4u
IChjYWNoZWQpIHllcw0KY2hlY2tpbmcgZm9yIHBnY2Mgb3B0aW9uIHRvIGFj
Y2VwdCBBTlNJIEMuLi4gKGNhY2hlZCkgbm9uZSBuZWVkZWQNCmNoZWNraW5n
IGhvdyB0byBydW4gdGhlIEMgcHJlcHJvY2Vzc29yLi4uIHBnY2MgLUUNCmRl
ZmluaW5nIEY3NyB0byBiZSBwZ2Y5MA0KY2hlY2tpbmcgd2hldGhlciB3ZSBh
cmUgdXNpbmcgdGhlIEdOVSBGb3J0cmFuIDc3IGNvbXBpbGVyLi4uIG5vDQpj
aGVja2luZyB3aGV0aGVyIHBnZjkwIGFjY2VwdHMgLWcuLi4geWVzDQpjaGVj
a2luZyB3aGV0aGVyIHdlIGFyZSB1c2luZyB0aGUgR05VIEMrKyBjb21waWxl
ci4uLiBubw0KY2hlY2tpbmcgd2hldGhlciBwZ0NDIGFjY2VwdHMgLWcuLi4g
eWVzDQpjaGVja2luZyBob3cgdG8gcnVuIHRoZSBDKysgcHJlcHJvY2Vzc29y
Li4uIHBnQ0MgLUUNCmNoZWNraW5nIGZvciBtYWluIGluIC1sbS4uLiB5ZXMN
CmNoZWNraW5nIGZvciBzaW4gaW4gLWxtLi4uIHllcw0KY2hlY2tpbmcgZm9y
IG1haW4gaW4gLWxuY3Vyc2VzLi4uIHllcw0KY2hlY2tpbmcgZm9yIGRsb3Bl
biBpbiAtbGRsLi4uIHllcw0KY2hlY2tpbmcgZm9yIHJsX2NhbGxiYWNrX3Jl
YWRfY2hhciBpbiAtbHJlYWRsaW5lLi4uIHllcw0KY2hlY2tpbmcgZm9yIEFO
U0kgQyBoZWFkZXIgZmlsZXMuLi4gKGNhY2hlZCkgeWVzDQpjaGVja2luZyB3
aGV0aGVyIHRpbWUuaCBhbmQgc3lzL3RpbWUuaCBtYXkgYm90aCBiZSBpbmNs
dWRlZC4uLiB5ZXMNCmNoZWNraW5nIGZvciBkaXJlbnQuaCB0aGF0IGRlZmlu
ZXMgRElSLi4uIHllcw0KY2hlY2tpbmcgZm9yIGxpYnJhcnkgY29udGFpbmlu
ZyBvcGVuZGlyLi4uIG5vbmUgcmVxdWlyZWQNCmNoZWNraW5nIGZvciBzeXMv
d2FpdC5oIHRoYXQgaXMgUE9TSVguMSBjb21wYXRpYmxlLi4uIHllcw0KY2hl
Y2tpbmcgYXJwYS9pbmV0LmggdXNhYmlsaXR5Li4uIHllcw0KY2hlY2tpbmcg
YXJwYS9pbmV0LmggcHJlc2VuY2UuLi4geWVzDQpjaGVja2luZyBmb3IgYXJw
YS9pbmV0LmguLi4geWVzDQpjaGVja2luZyBkbC5oIHVzYWJpbGl0eS4uLiBu
bw0KY2hlY2tpbmcgZGwuaCBwcmVzZW5jZS4uLiBubw0KY2hlY2tpbmcgZm9y
IGRsLmguLi4gbm8NCmNoZWNraW5nIGZvciBkbGZjbi5oLi4uIChjYWNoZWQp
IHllcw0KY2hlY2tpbmcgZWxmLmggdXNhYmlsaXR5Li4uIHllcw0KY2hlY2tp
bmcgZWxmLmggcHJlc2VuY2UuLi4geWVzDQpjaGVja2luZyBmb3IgZWxmLmgu
Li4geWVzDQpjaGVja2luZyBmY250bC5oIHVzYWJpbGl0eS4uLiB5ZXMNCmNo
ZWNraW5nIGZjbnRsLmggcHJlc2VuY2UuLi4geWVzDQpjaGVja2luZyBmb3Ig
ZmNudGwuaC4uLiB5ZXMNCmNoZWNraW5nIGZsb2F0aW5ncG9pbnQuaCB1c2Fi
aWxpdHkuLi4gbm8NCmNoZWNraW5nIGZsb2F0aW5ncG9pbnQuaCBwcmVzZW5j
ZS4uLiBubw0KY2hlY2tpbmcgZm9yIGZsb2F0aW5ncG9pbnQuaC4uLiBubw0K
Y2hlY2tpbmcgZnB1X2NvbnRyb2wuaCB1c2FiaWxpdHkuLi4geWVzDQpjaGVj
a2luZyBmcHVfY29udHJvbC5oIHByZXNlbmNlLi4uIHllcw0KY2hlY2tpbmcg
Zm9yIGZwdV9jb250cm9sLmguLi4geWVzDQpjaGVja2luZyBncnAuaCB1c2Fi
aWxpdHkuLi4geWVzDQpjaGVja2luZyBncnAuaCBwcmVzZW5jZS4uLiB5ZXMN
CmNoZWNraW5nIGZvciBncnAuaC4uLiB5ZXMNCmNoZWNraW5nIGllZWU3NTQu
aCB1c2FiaWxpdHkuLi4geWVzDQpjaGVja2luZyBpZWVlNzU0LmggcHJlc2Vu
Y2UuLi4geWVzDQpjaGVja2luZyBmb3IgaWVlZTc1NC5oLi4uIHllcw0KY2hl
Y2tpbmcgaWVlZWZwLmggdXNhYmlsaXR5Li4uIG5vDQpjaGVja2luZyBpZWVl
ZnAuaCBwcmVzZW5jZS4uLiBubw0KY2hlY2tpbmcgZm9yIGllZWVmcC5oLi4u
IG5vDQpjaGVja2luZyBsb2NhbGUuaCB1c2FiaWxpdHkuLi4geWVzDQpjaGVj
a2luZyBsb2NhbGUuaCBwcmVzZW5jZS4uLiB5ZXMNCmNoZWNraW5nIGZvciBs
b2NhbGUuaC4uLiB5ZXMNCmNoZWNraW5nIG5ldGRiLmggdXNhYmlsaXR5Li4u
IHllcw0KY2hlY2tpbmcgbmV0ZGIuaCBwcmVzZW5jZS4uLiB5ZXMNCmNoZWNr
aW5nIGZvciBuZXRkYi5oLi4uIHllcw0KY2hlY2tpbmcgbmV0aW5ldC9pbi5o
IHVzYWJpbGl0eS4uLiB5ZXMNCmNoZWNraW5nIG5ldGluZXQvaW4uaCBwcmVz
ZW5jZS4uLiB5ZXMNCmNoZWNraW5nIGZvciBuZXRpbmV0L2luLmguLi4geWVz
DQpjaGVja2luZyBwd2QuaCB1c2FiaWxpdHkuLi4geWVzDQpjaGVja2luZyBw
d2QuaCBwcmVzZW5jZS4uLiB5ZXMNCmNoZWNraW5nIGZvciBwd2QuaC4uLiB5
ZXMNCmNoZWNraW5nIHJlYWRsaW5lL2hpc3RvcnkuaCB1c2FiaWxpdHkuLi4g
eWVzDQpjaGVja2luZyByZWFkbGluZS9oaXN0b3J5LmggcHJlc2VuY2UuLi4g
eWVzDQpjaGVja2luZyBmb3IgcmVhZGxpbmUvaGlzdG9yeS5oLi4uIHllcw0K
Y2hlY2tpbmcgcmVhZGxpbmUvcmVhZGxpbmUuaCB1c2FiaWxpdHkuLi4geWVz
DQpjaGVja2luZyByZWFkbGluZS9yZWFkbGluZS5oIHByZXNlbmNlLi4uIHll
cw0KY2hlY2tpbmcgZm9yIHJlYWRsaW5lL3JlYWRsaW5lLmguLi4geWVzDQpj
aGVja2luZyBmb3Igc3RyaW5ncy5oLi4uIChjYWNoZWQpIHllcw0KY2hlY2tp
bmcgc3lzL3BhcmFtLmggdXNhYmlsaXR5Li4uIHllcw0KY2hlY2tpbmcgc3lz
L3BhcmFtLmggcHJlc2VuY2UuLi4geWVzDQpjaGVja2luZyBmb3Igc3lzL3Bh
cmFtLmguLi4geWVzDQpjaGVja2luZyBzeXMvc2VsZWN0LmggdXNhYmlsaXR5
Li4uIHllcw0KY2hlY2tpbmcgc3lzL3NlbGVjdC5oIHByZXNlbmNlLi4uIHll
cw0KY2hlY2tpbmcgZm9yIHN5cy9zZWxlY3QuaC4uLiB5ZXMNCmNoZWNraW5n
IHN5cy9zb2NrZXQuaCB1c2FiaWxpdHkuLi4geWVzDQpjaGVja2luZyBzeXMv
c29ja2V0LmggcHJlc2VuY2UuLi4geWVzDQpjaGVja2luZyBmb3Igc3lzL3Nv
Y2tldC5oLi4uIHllcw0KY2hlY2tpbmcgZm9yIHN5cy9zdGF0LmguLi4gKGNh
Y2hlZCkgeWVzDQpjaGVja2luZyBzeXMvdGltZS5oIHVzYWJpbGl0eS4uLiB5
ZXMNCmNoZWNraW5nIHN5cy90aW1lLmggcHJlc2VuY2UuLi4geWVzDQpjaGVj
a2luZyBmb3Igc3lzL3RpbWUuaC4uLiB5ZXMNCmNoZWNraW5nIHN5cy90aW1l
cy5oIHVzYWJpbGl0eS4uLiB5ZXMNCmNoZWNraW5nIHN5cy90aW1lcy5oIHBy
ZXNlbmNlLi4uIHllcw0KY2hlY2tpbmcgZm9yIHN5cy90aW1lcy5oLi4uIHll
cw0KY2hlY2tpbmcgc3lzL3V0c25hbWUuaCB1c2FiaWxpdHkuLi4geWVzDQpj
aGVja2luZyBzeXMvdXRzbmFtZS5oIHByZXNlbmNlLi4uIHllcw0KY2hlY2tp
bmcgZm9yIHN5cy91dHNuYW1lLmguLi4geWVzDQpjaGVja2luZyBmb3IgdW5p
c3RkLmguLi4gKGNhY2hlZCkgeWVzDQpjaGVja2luZyBlcnJuby5oIHVzYWJp
bGl0eS4uLiB5ZXMNCmNoZWNraW5nIGVycm5vLmggcHJlc2VuY2UuLi4geWVz
DQpjaGVja2luZyBmb3IgZXJybm8uaC4uLiB5ZXMNCmNoZWNraW5nIHN0ZGFy
Zy5oIHVzYWJpbGl0eS4uLiB5ZXMNCmNoZWNraW5nIHN0ZGFyZy5oIHByZXNl
bmNlLi4uIHllcw0KY2hlY2tpbmcgZm9yIHN0ZGFyZy5oLi4uIHllcw0KY2hl
Y2tpbmcgZm9yIHN0cmluZy5oLi4uIChjYWNoZWQpIHllcw0KY2hlY2tpbmcg
d2hldGhlciBzZXRqbXAuaCBpcyBQT1NJWC4xIGNvbXBhdGlibGUuLi4geWVz
DQpjaGVja2luZyBmb3IgR05VIEMgbGlicmFyeSB3aXRoIHZlcnNpb24gPj0g
Mi4uLiB5ZXMNCmNoZWNraW5nIHJldHVybiB0eXBlIG9mIHNpZ25hbCBoYW5k
bGVycy4uLiB2b2lkDQpjaGVja2luZyBmb3IgcGlkX3QuLi4geWVzDQpjaGVj
a2luZyBmb3Igc2l6ZV90Li4uIHllcw0KY2hlY2tpbmcgZm9yIGJsa2NudF90
Li4uIHllcw0KY2hlY2tpbmcgZm9yIHR5cGUgb2Ygc29ja2V0IGxlbmd0aC4u
LiBzb2NrbGVuX3QgKg0KY2hlY2tpbmcgd2hldGhlciBieXRlIG9yZGVyaW5n
IGlzIGJpZ2VuZGlhbi4uLiBubw0KY2hlY2tpbmcgZm9yIGFuIEFOU0kgQy1j
b25mb3JtaW5nIGNvbnN0Li4uIHllcw0KY2hlY2tpbmcgZm9yIGludC4uLiB5
ZXMNCmNoZWNraW5nIHNpemUgb2YgaW50Li4uIDQNCmNoZWNraW5nIGZvciBs
b25nLi4uIHllcw0KY2hlY2tpbmcgc2l6ZSBvZiBsb25nLi4uIDQNCmNoZWNr
aW5nIGZvciBsb25nIGxvbmcuLi4geWVzDQpjaGVja2luZyBzaXplIG9mIGxv
bmcgbG9uZy4uLiA4DQpjaGVja2luZyBmb3IgbG9uZyBkb3VibGUuLi4geWVz
DQpjaGVja2luZyBzaXplIG9mIGxvbmcgZG91YmxlLi4uIDgNCmNoZWNraW5n
IHdoZXRoZXIgd2UgY2FuIGNvbXB1dGUgQyBNYWtlIGRlcGVuZGVuY2llcy4u
LiB5ZXMsIHVzaW5nIGNwcCAtTQ0KY2hlY2tpbmcgd2hldGhlciBwZ2NjIHN1
cHBvcnRzIC1jIC1vIEZJTEUubG8uLi4geWVzDQpjaGVja2luZyBob3cgdG8g
Z2V0IHZlcmJvc2UgbGlua2luZyBvdXRwdXQgZnJvbSBwZ2Y5MC4uLiAtdg0K
Y2hlY2tpbmcgZm9yIEZvcnRyYW4gNzcgbGlicmFyaWVzLi4uICAtTC91c3Iv
bG9jYWwvbGliIC1ML3Vzci9sb2NhbC9wZ2kvbGludXg4Ni9saWIgLUwvdXNy
L2xpYiAtTC91c3IvbGliL2djYy1saWIvaTM4Ni1yZWRoYXQtbGludXgvMi45
NiAtbHBnZjkwIC1scGdmOTBfcnBtMSAtbHBnZjkwMiAtbHBnZjkwcnRsIC1s
cGdmdG5ydGwgLWxtIC1scGdjDQpjaGVja2luZyBmb3IgZHVtbXkgbWFpbiB0
byBsaW5rIHdpdGggRm9ydHJhbiA3NyBsaWJyYXJpZXMuLi4gbm9uZQ0KY2hl
Y2tpbmcgZm9yIEZvcnRyYW4gNzcgbmFtZS1tYW5nbGluZyBzY2hlbWUuLi4g
bG93ZXIgY2FzZSwgdW5kZXJzY29yZSwgbm8gZXh0cmEgdW5kZXJzY29yZQ0K
Y2hlY2tpbmcgd2hldGhlciBwZ2Y5MCBhcHBlbmRzIHVuZGVyc2NvcmVzIHRv
IGV4dGVybmFsIG5hbWVzLi4uIHllcw0KY2hlY2tpbmcgd2hldGhlciBtaXhl
ZCBDL0ZvcnRyYW4gY29kZSBjYW4gYmUgcnVuLi4uIHllcw0KY2hlY2tpbmcg
d2hldGhlciBwZ2Y5MCBhbmQgcGdjYyBhZ3JlZSBvbiBpbnQgYW5kIGRvdWJs
ZS4uLiB5ZXMNCmNoZWNraW5nIHdoZXRoZXIgcGdmOTAgYW5kIHBnY2MgYWdy
ZWUgb24gZG91YmxlIGNvbXBsZXguLi4geWVzDQpjaGVja2luZyB3aGV0aGVy
IHBnZjkwIHN1cHBvcnRzIC1jIC1vIEZJTEUubG8uLi4geWVzDQpjaGVja2lu
ZyB3aGV0aGVyIHBnQ0MgYWNjZXB0cyAtTSBmb3IgZ2VuZXJhdGluZyBkZXBl
bmRlbmNpZXMuLi4geWVzDQpjaGVja2luZyB3aGV0aGVyIHBnQ0Mgc3VwcG9y
dHMgLWMgLW8gRklMRS5sby4uLiB5ZXMNCmNoZWNraW5nIHdoZXRoZXIgcGdj
YyBhY2NlcHRzIC1taWVlZS1mcC4uLiB5ZXMNCmNoZWNraW5nIHdoZXRoZXIg
cGdmOTAgYWNjZXB0cyAtbWllZWUtZnAuLi4geWVzDQpjaGVja2luZyB3aGV0
aGVyIHBnQ0MgYWNjZXB0cyAtbWllZWUtZnAuLi4geWVzDQpjaGVja2luZyBm
b3IgeG1rbWYuLi4gL3Vzci9YMTFSNi9iaW4veG1rbWYNCnBnY2MtV2Fybmlu
Zy1Vbmtub3duIHN3aXRjaDogLXgNCnBnY2MtV2FybmluZy1Vbmtub3duIHN3
aXRjaDogLQ0KRmlsZSB3aXRoIHVua25vd24gc3VmZml4IHBhc3NlZCB0byBs
aW5rZXI6IGMNCi91c3IvYmluL2xkOiBjYW5ub3Qgb3BlbiBjOiBObyBzdWNo
IGZpbGUgb3IgZGlyZWN0b3J5DQovdXNyL1gxMVI2L2Jpbi94bWttZjogbGlu
ZSA3MDogIDcyMDcgQWJvcnRlZCAgICAgICAgICAgICAgICAgKGNvcmUgZHVt
cGVkKSBpbWFrZSAkaW1ha2VfZGVmaW5lcyAkYXJncw0KVXNhZ2U6IHdoaWNo
IFtvcHRpb25zXSBbLS1dIHByb2dyYW1uYW1lIFsuLi5dDQpPcHRpb25zOiAt
LXZlcnNpb24sIC1bdlZdIFByaW50IHZlcnNpb24gYW5kIGV4aXQgc3VjY2Vz
c2Z1bGx5Lg0KICAgICAgICAgLS1oZWxwLCAgICAgICAgICBQcmludCB0aGlz
IGhlbHAgYW5kIGV4aXQgc3VjY2Vzc2Z1bGx5Lg0KICAgICAgICAgLS1za2lw
LWRvdCAgICAgICBTa2lwIGRpcmVjdG9yaWVzIGluIFBBVEggdGhhdCBzdGFy
dCB3aXRoIGEgZG90Lg0KICAgICAgICAgLS1za2lwLXRpbGRlICAgICBTa2lw
IGRpcmVjdG9yaWVzIGluIFBBVEggdGhhdCBzdGFydCB3aXRoIGEgdGlsZGUu
DQogICAgICAgICAtLXNob3ctZG90ICAgICAgIERvbid0IGV4cGFuZCBhIGRv
dCB0byBjdXJyZW50IGRpcmVjdG9yeSBpbiBvdXRwdXQuDQogICAgICAgICAt
LXNob3ctdGlsZGUgICAgIE91dHB1dCBhIHRpbGRlIGZvciBIT01FIGRpcmVj
dG9yeSBmb3Igbm9uLXJvb3QuDQogICAgICAgICAtLXR0eS1vbmx5ICAgICAg
IFN0b3AgcHJvY2Vzc2luZyBvcHRpb25zIG9uIHRoZSByaWdodCBpZiBub3Qg
b24gdHR5Lg0KICAgICAgICAgLS1hbGwsIC1hICAgICAgICBQcmludCBhbGwg
bWF0Y2hlcyBpbiBQQVRILCBub3QganVzdCB0aGUgZmlyc3QNCiAgICAgICAg
IC0tcmVhZC1hbGlhcywgLWkgUmVhZCBsaXN0IG9mIGFsaWFzZXMgZnJvbSBz
dGRpbi4NCiAgICAgICAgIC0tc2tpcC1hbGlhcyAgICAgSWdub3JlIG9wdGlv
biAtLXJlYWQtYWxpYXM7IGRvbid0IHJlYWQgc3RkaW4uDQogICAgICAgICAt
LXJlYWQtZnVuY3Rpb25zIFJlYWQgc2hlbGwgZnVuY3Rpb25zIGZyb20gc3Rk
aW4uDQogICAgICAgICAtLXNraXAtZnVuY3Rpb25zIElnbm9yZSBvcHRpb24g
LS1yZWFkLWZ1bmN0aW9uczsgZG9uJ3QgcmVhZCBzdGRpbi4NClVzYWdlOiB3
aGljaCBbb3B0aW9uc10gWy0tXSBwcm9ncmFtbmFtZSBbLi4uXQ0KT3B0aW9u
czogLS12ZXJzaW9uLCAtW3ZWXSBQcmludCB2ZXJzaW9uIGFuZCBleGl0IHN1
Y2Nlc3NmdWxseS4NCiAgICAgICAgIC0taGVscCwgICAgICAgICAgUHJpbnQg
dGhpcyBoZWxwIGFuZCBleGl0IHN1Y2Nlc3NmdWxseS4NCiAgICAgICAgIC0t
c2tpcC1kb3QgICAgICAgU2tpcCBkaXJlY3RvcmllcyBpbiBQQVRIIHRoYXQg
c3RhcnQgd2l0aCBhIGRvdC4NCiAgICAgICAgIC0tc2tpcC10aWxkZSAgICAg
U2tpcCBkaXJlY3RvcmllcyBpbiBQQVRIIHRoYXQgc3RhcnQgd2l0aCBhIHRp
bGRlLg0KICAgICAgICAgLS1zaG93LWRvdCAgICAgICBEb24ndCBleHBhbmQg
YSBkb3QgdG8gY3VycmVudCBkaXJlY3RvcnkgaW4gb3V0cHV0Lg0KICAgICAg
ICAgLS1zaG93LXRpbGRlICAgICBPdXRwdXQgYSB0aWxkZSBmb3IgSE9NRSBk
aXJlY3RvcnkgZm9yIG5vbi1yb290Lg0KICAgICAgICAgLS10dHktb25seSAg
ICAgICBTdG9wIHByb2Nlc3Npbmcgb3B0aW9ucyBvbiB0aGUgcmlnaHQgaWYg
bm90IG9uIHR0eS4NCiAgICAgICAgIC0tYWxsLCAtYSAgICAgICAgUHJpbnQg
YWxsIG1hdGNoZXMgaW4gUEFUSCwgbm90IGp1c3QgdGhlIGZpcnN0DQogICAg
ICAgICAtLXJlYWQtYWxpYXMsIC1pIFJlYWQgbGlzdCBvZiBhbGlhc2VzIGZy
b20gc3RkaW4uDQogICAgICAgICAtLXNraXAtYWxpYXMgICAgIElnbm9yZSBv
cHRpb24gLS1yZWFkLWFsaWFzOyBkb24ndCByZWFkIHN0ZGluLg0KICAgICAg
ICAgLS1yZWFkLWZ1bmN0aW9ucyBSZWFkIHNoZWxsIGZ1bmN0aW9ucyBmcm9t
IHN0ZGluLg0KICAgICAgICAgLS1za2lwLWZ1bmN0aW9ucyBJZ25vcmUgb3B0
aW9uIC0tcmVhZC1mdW5jdGlvbnM7IGRvbid0IHJlYWQgc3RkaW4uDQpjb25m
aWd1cmU6IFdBUk5JTkc6IEkgY291bGQgbm90IGRldGVybWluZSBDUElDRkxB
R1MuDQpjb25maWd1cmU6IGVycm9yOiBTZWUgdGhlIGZpbGUgSU5TVEFMTCBm
b3IgbW9yZSBpbmZvcm1hdGlvbi4NCg==
---559023410-959030623-1050952576=:23064--

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2809 *
Subject: sweave provoked segfault
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 21 Apr 2003 17:01:53 -0400
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2809 <==
From pgilbert@bank-banque-canada.ca Mon Apr 21 23:03:38 2003
Received: from mail1.bank-banque-canada.ca (mail1.bank-banque-canada.ca [140.80.193.130])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3LL3apD003887
	for <r-bugs@biostat.ku.dk>; Mon, 21 Apr 2003 23:03:36 +0200 (MET DST)
Received: from fwx-i1.bank-banque-canada.ca (fwx-int.bank-banque-canada.ca [140.80.193.129])
	by mail1.bank-banque-canada.ca (8.9.3/8.9.3) with SMTP id RAA05365
	for <r-bugs@biostat.ku.dk>; Mon, 21 Apr 2003 17:02:30 -0400 (EDT)
Received: from  ([140.80.2.219]) by fwx-i1; Mon, 21 Apr 2003 16:59:37 -0400 (EDT)
Received: from asd98620.boc by mailhost.bank-banque-canada.ca (8.8.8+Sun/SMI-SVR4)
	id RAA19461; Mon, 21 Apr 2003 17:02:22 -0400 (EDT)
Received: from bank-banque-canada.ca ([140.80.210.108])
	by asd98620.boc (8.8.8+Sun/8.8.8) with ESMTP id RAA16811;
	Mon, 21 Apr 2003 17:04:21 -0400 (EDT)
Message-ID: <3EA45C41.F316490D@bank-banque-canada.ca>
Date: Mon, 21 Apr 2003 17:01:53 -0400
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: "r-bugs@biostat.ku.dk" <r-bugs@biostat.ku.dk>
Subject: sweave provoked segfault
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

This problem is with R 1.7.0 (as released) on Linux and Solaris. Details below
are from Linux, Mandrake 9.1. The problem also happened with R 1.6.2 and on
Mandrake 9.0.

Vignettes often (for me) provokes problems with the misleading error message:

* creating vignettes ... ERROR
Error in sub(pattern, replacement, x, ignore.case, extended) :
        invalid argument
Error in buildVignettes(dir = ".") : Error in sub(pattern, replacement,
x, ignore.case, extended) :
        invalid argument
Execution halted

This becomes a segfault with gctorture(). Output from gdb bt is copied below.

Paul Gilbert
________
R_LIBS=/home/paul/dse/src/pac/monitor/tmp.R-1.7.0:/home/paul/dse/src/pac/CHECKED.R-1.7.0/Rlibs 
PADI=/home/paul/dse/src/pac/padi/exec
PATH=~/bin:/bin:/usr/bin:/usr/local/bin:/usr/X11R6/bin:/usr/games:/home/paul/dse/src/pac/padi/exec
R -d gdb
GNU gdb 5.3-22mdk (Mandrake Linux)
Copyright 2002 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you
are
welcome to change it and/or distribute copies of it under certain
conditions.
Type "show copying" to see the conditions.
There is absolutely no warranty for GDB.  Type "show warranty" for
details.
This GDB was configured as "i586-mandrake-linux-gnu"...
(gdb) run
Starting program: /home/paul/toolchain/R/R-1.7.0/bin/R.bin
 
R : Copyright 2003, The R Development Core Team
Version 1.7.0  (2003-04-16)
 
R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.
 
R is a collaborative project with many contributors.
Type `contributors()' for more information.
 
Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.
 
 library(tools)
> >  library(tools)
> gctorture()
> checkVignettes(dir='/home/paul/dse/src/pac/monitor', workdir = 'cur',
keepfiles=TRUE)
 
Program received signal SIGSEGV, Segmentation fault.
0x080c1598 in RunGenCollect (size_needed=0) at memory.c:1210
1210        PROCESS_NODES();
(gdb) bt
#0  0x080c1598 in RunGenCollect (size_needed=0) at memory.c:1210
#1  0x080c3089 in R_gc_internal (size_needed=0) at memory.c:1865
#2  0x080c27fe in Rf_cons (car=0xbfffbf40, cdr=0x81f65a0) at
memory.c:1534
#3  0x08097e35 in Rf_duplicate (s=0x8324ff0) at duplicate.c:108
#4  0x080c9abf in GetObject (cptr=0xbfffc2d0) at objects.c:40
#5  0x080ca663 in do_usemethod (call=0x82c5d28, op=0x8209874,
args=0x82c5d44,
    env=0x8f1ecd4) at objects.c:401
#6  0x080a3b28 in Rf_eval (e=0x82c5d28, rho=0x8f1ecd4) at eval.c:418
#7  0x080a3db2 in Rf_applyClosure (call=0x8324ff0, op=0x82c5c48,
    arglist=0x8d05e80, rho=0x8f385f0, suppliedenv=0x81f65a0) at
eval.c:609
#8  0x080a3937 in Rf_eval (e=0x8324ff0, rho=0x8f385f0) at eval.c:453
#9  0x080a586b in Rf_evalList (el=0x8324f9c, rho=0x8f385f0) at
eval.c:1372
#10 0x080c9a3c in do_internal (call=0x8324ef4, op=0x81fb5c8,
args=0x832515c,
    env=0x8f385f0) at names.c:1053
#11 0x080a3b28 in Rf_eval (e=0x8324ef4, rho=0x8f385f0) at eval.c:418
#12 0x080a3db2 in Rf_applyClosure (call=0x878ef30, op=0x8324e14,
    arglist=0x8dbc92c, rho=0x8f0bb0c, suppliedenv=0x81f65a0) at
eval.c:609
#13 0x080a3937 in Rf_eval (e=0x878ef30, rho=0x8f0bb0c) at eval.c:453
#14 0x080a5685 in do_set (call=0x878efd8, op=0x8f0bb0c, args=0x878efa0,
    rho=0x8f0bb0c) at eval.c:1283
#15 0x080a3b28 in Rf_eval (e=0x878efd8, rho=0x8f0bb0c) at eval.c:418
#16 0x080a4f62 in do_begin (call=0x878f4ec, op=0x81fba7c,
args=0x878eff4,
    rho=0x8f0bb0c) at eval.c:1072
---Type <return> to continue, or q <return> to quit---
#17 0x080a3b28 in Rf_eval (e=0x878f4ec, rho=0x8f0bb0c) at eval.c:418
#18 0x080a3db2 in Rf_applyClosure (call=0x87a0758, op=0x86d817c,
    arglist=0x8f0e3dc, rho=0x8f37ed4, suppliedenv=0x81f65a0) at
eval.c:609
#19 0x080a3937 in Rf_eval (e=0x87a0758, rho=0x8f37ed4) at eval.c:453
#20 0x080a5685 in do_set (call=0x87a07e4, op=0x8f37ed4, args=0x87a07c8,
    rho=0x8f37ed4) at eval.c:1283
#21 0x080a3b28 in Rf_eval (e=0x87a07e4, rho=0x8f37ed4) at eval.c:418
#22 0x080a4f62 in do_begin (call=0x87a0aac, op=0x81fba7c,
args=0x87a08c4,
    rho=0x8f37ed4) at eval.c:1072
#23 0x080a3b28 in Rf_eval (e=0x87a0aac, rho=0x8f37ed4) at eval.c:418
#24 0x080a3b28 in Rf_eval (e=0x879b778, rho=0x8f37ed4) at eval.c:418
#25 0x080a3b28 in Rf_eval (e=0x879b970, rho=0x8f37ed4) at eval.c:418
#26 0x080a4f62 in do_begin (call=0x879b98c, op=0x81fba7c,
args=0x879b9e0,
    rho=0x8f37ed4) at eval.c:1072
#27 0x080a3b28 in Rf_eval (e=0x879b98c, rho=0x8f37ed4) at eval.c:418
#28 0x080a495c in do_for (call=0x879ba6c, op=0x81f5f80, args=0x879ba50,
    rho=0x8f37ed4) at eval.c:968
#29 0x080a3b28 in Rf_eval (e=0x879ba6c, rho=0x8f37ed4) at eval.c:418
#30 0x080a4f62 in do_begin (call=0x87a8554, op=0x81fba7c,
args=0x879baa4,
    rho=0x8f37ed4) at eval.c:1072
#31 0x080a3b28 in Rf_eval (e=0x87a8554, rho=0x8f37ed4) at eval.c:418
#32 0x080a3db2 in Rf_applyClosure (call=0x8721b18, op=0x86e693c,
    arglist=0x8f37fd0, rho=0x8f38e74, suppliedenv=0x81f65a0) at
eval.c:609
---Type <return> to continue, or q <return> to quit---
#33 0x080a3937 in Rf_eval (e=0x8721b18, rho=0x8f38e74) at eval.c:453
#34 0x080a3856 in Rf_eval (e=0x8f37ef0, rho=0x8f38cfc) at eval.c:383
#35 0x080a379f in Rf_eval (e=0x826fbf8, rho=0x8f38cfc) at eval.c:360
#36 0x080a4f62 in do_begin (call=0x87d4f44, op=0x81fba7c,
args=0x87d4e9c,
    rho=0x8f38cfc) at eval.c:1072
#37 0x080a3b28 in Rf_eval (e=0x87d4f44, rho=0x8f38cfc) at eval.c:418
#38 0x080a3b28 in Rf_eval (e=0x87d5b3c, rho=0x8f38cfc) at eval.c:418
#39 0x080a4f62 in do_begin (call=0x87d5484, op=0x81fba7c,
args=0x87d5b20,
    rho=0x8f38cfc) at eval.c:1072
#40 0x080a3b28 in Rf_eval (e=0x87d5484, rho=0x8f38cfc) at eval.c:418
#41 0x080a3db2 in Rf_applyClosure (call=0x8721bf8, op=0x87d5a40,
    arglist=0x8f37f0c, rho=0x8f38e74, suppliedenv=0x81f65a0) at
eval.c:609
#42 0x080a3937 in Rf_eval (e=0x8721bf8, rho=0x8f38e74) at eval.c:453
#43 0x080a5685 in do_set (call=0x8721c68, op=0x8f38e74, args=0x8721c4c,
    rho=0x8f38e74) at eval.c:1283
#44 0x080a3b28 in Rf_eval (e=0x8721c68, rho=0x8f38e74) at eval.c:418
#45 0x080a4f62 in do_begin (call=0x8721c84, op=0x81fba7c,
args=0x8721d48,
    rho=0x8f38e74) at eval.c:1072
#46 0x080a3b28 in Rf_eval (e=0x8721c84, rho=0x8f38e74) at eval.c:418
#47 0x080a3b28 in Rf_eval (e=0x87214d0, rho=0x8f38e74) at eval.c:418
#48 0x080a4f62 in do_begin (call=0x8722908, op=0x81fba7c,
args=0x8721540,
    rho=0x8f38e74) at eval.c:1072
#49 0x080a3b28 in Rf_eval (e=0x8722908, rho=0x8f38e74) at eval.c:418
---Type <return> to continue, or q <return> to quit---
#50 0x080a495c in do_for (call=0x8721604, op=0x81f5f80, args=0x87215cc,
    rho=0x8f38e74) at eval.c:968
#51 0x080a3b28 in Rf_eval (e=0x8721604, rho=0x8f38e74) at eval.c:418
#52 0x080a4f62 in do_begin (call=0x87260f8, op=0x81fba7c,
args=0x8721620,
    rho=0x8f38e74) at eval.c:1072
#53 0x080a3b28 in Rf_eval (e=0x87260f8, rho=0x8f38e74) at eval.c:418
#54 0x080a3db2 in Rf_applyClosure (call=0x8f38ec8, op=0x86cd644,
    arglist=0x8f38f38, rho=0x820ce1c, suppliedenv=0x81f65a0) at
eval.c:609
#55 0x080a3937 in Rf_eval (e=0x8f38ec8, rho=0x820ce1c) at eval.c:453
#56 0x080bd784 in Rf_ReplIteration (rho=0x820ce1c, savestack=16,
    browselevel=0, state=0xbffff0f0) at main.c:236
#57 0x080bd942 in R_ReplConsole (rho=0x820ce1c, savestack=0,
browselevel=0)
    at main.c:284
#58 0x080be1ff in run_Rmainloop () at main.c:615
#59 0x08124b5c in main (ac=1, av=0xbffff5c4) at system.c:99
#60 0x400977f7 in __libc_start_main () from /lib/i686/libc.so.6
(gdb)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2822 *
Subject: "LAPACK routine DGESDD gave error code -12" with Debian
From: Ramon Diaz <rdiaz@cnio.es>
Date: Tue, 22 Apr 2003 20:06:21 +0200
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2822 <==
From rdiaz@cnio.es Tue Apr 22 20:07:35 2003
Received: from super-lopez.cnio.es (super-lopez.cnio.es [193.147.150.135])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3MI7ZpD014607
	for <r-bugs@biostat.ku.dk>; Tue, 22 Apr 2003 20:07:35 +0200 (MET DST)
Received: from filemon.cnio.es ([10.5.1.10]) by super-lopez.cnio.es with Microsoft SMTPSVC(5.0.2195.2966);
	 Tue, 22 Apr 2003 20:07:30 +0200
Received: from afrodita ([10.2.1.72]) by filemon.cnio.es with Microsoft SMTPSVC(5.0.2195.2966);
	 Tue, 22 Apr 2003 20:07:30 +0200
From: Ramon Diaz <rdiaz@cnio.es>
To: r-bugs@biostat.ku.dk
Subject: "LAPACK routine DGESDD gave error code -12" with Debian
Date: Tue, 22 Apr 2003 20:06:21 +0200
User-Agent: KMail/1.5.1
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Disposition: inline
Message-Id: <200304222006.21884.rdiaz@cnio.es>
X-OriginalArrivalTime: 22 Apr 2003 18:07:30.0071 (UTC) FILETIME=[0A183270:01C308FA]
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by pubhealth.ku.dk id h3MI7ZpD014607

Dear All,

Under Debian GNU/Linux La.svd (with method = "dgesdd") sometimes gives the 
error

"Error in La.svd(data, nu = 0, nv = min(nrow, ncol), method = "dgesdd") : 
	LAPACK routine DGESDD gave error code -12"

It seems not to depend on the data per se, but on the relationship between 
numbers of rows and columns. 

For example, if the number of columns is 100, La.svd will fail when the number 
of rows is 56, but not if it is 55 or 57. It will not fail if we use 
"dgesvd". If the number of columns is 51, La.svd fails when the number of 
rows is between 29 and 50 if we use "dgesdd".

This happens if I use the latest deb packages (and thus ATLAS, etc). It does 
not happen if I build R in this same machine with "--without-blas" (where 
make check reports no errors). In case it matters, the bug does not show up 
in a different machine with Windwos 2000 and the Rblas.dll linked against 
ATLAS provided in http://cran.r-project.org/bin/windows/contrib/ATLAS/P4).

I understand this is probably related to the issues mentioned in R-admin about 
LAPACK 3.0 and some of the issues recently discussed in this list by M. 
Burger, D. Bates and D. Eddelbuettel. Are there any workarounds (besides not 
using ATLAS at all?).


Ramón

********************************
An example of failure:
> ## ncol = 100
> nrow <- 56
> ncol <- 100
> data <- matrix(1:(nrow * ncol), ncol = ncol)
> ## you get the errors if you use any other data
> ## such as data <- matrix(rnorm(nrow * ncol), ncol = ncol)
> svd(data) ## error
> La.svd(data, nu = 0,
             nv = min(nrow, ncol), method = "dgesdd") ## error
> La.svd(data, nu = 0,
             nv = min(nrow, ncol), method = "dgesvd") ## OK

> ##ncol = 51; it fails with nrow in [29, 50]
*************************

> ## version that crashes
> version 
         _                
platform i386-pc-linux-gnu
arch     i386             
os       linux-gnu        
system   i386, linux-gnu  
status                    
major    1                
minor    7.0              
year     2003             
month    04               
day      16               
language R        
*****************************
> ## version "--without-blas" that does not crash
> version
         _  
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    7.0              
year     2003             
month    04               
day      16               
language R   


-----
Ramón Díaz-Uriarte
Bioinformatics Unit
Centro Nacional de Investigaciones Oncológicas (CNIO)
(Spanish National Cancer Center)
Melchor Fernández Almagro, 3
28029 Madrid (Spain)
Fax: +-34-91-224-6972
Phone: +-34-91-224-6900

http://bioinfo.cnio.es/~rdiaz




==> 2822.followup.1 <==
From edd@debian.org Wed Apr 23 02:32:53 2003
Received: from sonny.eddelbuettel.com (mail@12-250-182-80.client.attbi.com [12.250.182.80])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3N0WqpD016059
	for <R-bugs@biostat.ku.dk>; Wed, 23 Apr 2003 02:32:52 +0200 (MET DST)
Received: from edd by sonny.eddelbuettel.com with local (Exim 3.35 #1 (Debian))
	id 1988Bq-00078P-00; Tue, 22 Apr 2003 19:32:46 -0500
Date: Tue, 22 Apr 2003 19:32:46 -0500
From: Dirk Eddelbuettel <edd@debian.org>
To: rdiaz@cnio.es
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk, kurt.hornik@r-project.org,
   camm@enhanced.com
Subject: Re: [Rd] "LAPACK routine DGESDD gave error code -12" with Debian (PR#2822)
Message-ID: <20030423003246.GA27400@sonny.eddelbuettel.com>
References: <200304221807.h3MI7apD014611@pubhealth.ku.dk>
Mime-Version: 1.0
Content-Type: text/plain; charset=unknown-8bit
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <200304221807.h3MI7apD014611@pubhealth.ku.dk>
User-Agent: Mutt/1.3.28i

On Tue, Apr 22, 2003 at 08:07:36PM +0200, rdiaz@cnio.es wrote:
> Dear All,
> 
> Under Debian GNU/Linux La.svd (with method = "dgesdd") sometimes gives the 
> error
> 
> "Error in La.svd(data, nu = 0, nv = min(nrow, ncol), method = "dgesdd") : 
> 	LAPACK routine DGESDD gave error code -12"
> 
> It seems not to depend on the data per se, but on the relationship between 
> numbers of rows and columns. 
> 
> For example, if the number of columns is 100, La.svd will fail when the number 
> of rows is 56, but not if it is 55 or 57. It will not fail if we use 
> "dgesvd". If the number of columns is 51, La.svd fails when the number of 
> rows is between 29 and 50 if we use "dgesdd".
> 
> This happens if I use the latest deb packages (and thus ATLAS, etc). It does 
> not happen if I build R in this same machine with "--without-blas" (where 
> make check reports no errors). In case it matters, the bug does not show up 
> in a different machine with Windwos 2000 and the Rblas.dll linked against 
> ATLAS provided in http://cran.r-project.org/bin/windows/contrib/ATLAS/P4).
> 
> I understand this is probably related to the issues mentioned in R-admin about 
> LAPACK 3.0 and some of the issues recently discussed in this list by M. 
> Burger, D. Bates and D. Eddelbuettel. Are there any workarounds (besides not 
> using ATLAS at all?).

We should probably talk to Camm, the Atlas maintainer. Note how on recent
upgrades he inserted the note (cf /var/lib/dpkg/info/atlas2-3dnow.templates
on my Athlon system) via debconf:

   Template: atlas2-3dnow/3dnow_warning
   Type: note
   Description: 3dnow arithmetic is not IEEE compliant
    Please note that 3dnow arithmetic does not furnish several results
    required by the IEEE standard, and may therefore cause errors in code
    which needs to trap NaN and Inf results, for example.  The
    atlas2-3dnow binaries make heavy use of the 3dnow extensions.
    Please see the accompanying file /usr/share/doc/atlas2-3dnow/3DNow.txt
    for details.
      
I know Camm is on a sabbatical but will CC him nonetheless.

Dirk

> Ramón
> 
> ********************************
> An example of failure:
> > ## ncol = 100
> > nrow <- 56
> > ncol <- 100
> > data <- matrix(1:(nrow * ncol), ncol = ncol)
> > ## you get the errors if you use any other data
> > ## such as data <- matrix(rnorm(nrow * ncol), ncol = ncol)
> > svd(data) ## error
> > La.svd(data, nu = 0,
>              nv = min(nrow, ncol), method = "dgesdd") ## error
> > La.svd(data, nu = 0,
>              nv = min(nrow, ncol), method = "dgesvd") ## OK
> 
> > ##ncol = 51; it fails with nrow in [29, 50]
> *************************
> 
> > ## version that crashes
> > version 
>          _                
> platform i386-pc-linux-gnu
> arch     i386             
> os       linux-gnu        
> system   i386, linux-gnu  
> status                    
> major    1                
> minor    7.0              
> year     2003             
> month    04               
> day      16               
> language R        
> *****************************
> > ## version "--without-blas" that does not crash
> > version
>          _  
> platform i686-pc-linux-gnu
> arch     i686             
> os       linux-gnu        
> system   i686, linux-gnu  
> status                    
> major    1                
> minor    7.0              
> year     2003             
> month    04               
> day      16               
> language R   
> 
> 
> -----
> Ramón Díaz-Uriarte
> Bioinformatics Unit
> Centro Nacional de Investigaciones Oncológicas (CNIO)
> (Spanish National Cancer Center)
> Melchor Fernández Almagro, 3
> 28029 Madrid (Spain)
> Fax: +-34-91-224-6972
> Phone: +-34-91-224-6900
> 
> http://bioinfo.cnio.es/~rdiaz
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 

-- 
Don't drink and derive. Alcohol and algebra don't mix.

==> 2822.followup.2 <==
From camm@enhanced.com Thu Apr 24 02:01:03 2003
Received: from intech19.enhanced.com (h-66-134-96-17.PHLAPAFG.covad.net [66.134.96.17])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3O012pD028248
	for <R-bugs@biostat.ku.dk>; Thu, 24 Apr 2003 02:01:03 +0200 (MET DST)
Received: from camm by intech19.enhanced.com with local (Exim 3.35 #1 (Debian))
	id 198U9f-0001wP-00; Wed, 23 Apr 2003 19:59:59 -0400
To: Dirk Eddelbuettel <edd@debian.org>
Cc: rdiaz@cnio.es, r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk,
   kurt.hornik@r-project.org
Subject: Re: [Rd] "LAPACK routine DGESDD gave error code -12" with Debian (PR#2822)
References: <200304221807.h3MI7apD014611@pubhealth.ku.dk>
	<20030423003246.GA27400@sonny.eddelbuettel.com>
From: Camm Maguire <camm@enhanced.com>
Date: 23 Apr 2003 19:59:59 -0400
In-Reply-To: <20030423003246.GA27400@sonny.eddelbuettel.com>
Message-ID: <54el3swyrk.fsf@intech19.enhanced.com>
Lines: 171
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by pubhealth.ku.dk id h3O012pD028248

Greetings!

1) This should have nothing to do with atlas, as atlas does not tune
   this routine, meaning you are using the stock routine from lapack.

nm --dynamic /usr/lib/liblapack_atlas.so.2.3 |grep dge
00003810 T ATL_dgetrf
00003590 T ATL_dgetrfC
00003870 T ATL_dgetrfR
00003ae0 T ATL_dgetrs
000047f0 T atl_f77wrap_dgesv__
000048b0 T atl_f77wrap_dgetnb__
000048e0 T atl_f77wrap_dgetrf__
00004970 T atl_f77wrap_dgetrs__
         U cblas_dgemm
00007c68 T clapack_dgesv
00007da0 T clapack_dgetrf
00007e90 T clapack_dgetrs
00009430 T dgesv_
00009500 T dgetrf_
000095b0 T dgetrs_
intech19:/fix/t2/camm/gcl-2.5.2$ 

   You can check this by verifying that the difficulty persists if you
   set the LD_LIBRARY_PATH environment variable to /usr/lib

2) Given the error code, and the scaling behavior with matrix size,
   I'd say the lwork parameter (size of the work array) passed to
   dgesdd is not always large enough, i.e. is not scaling properly
   with n,m.  Please see 'man dgesdd' for interpretations of the error
   code.  It is the responsibility of the calling routine to allocate
   and pass the work array to dgesdd.  With most lapack routines, one
   can make a 'workspace query' call first by setting lwork to -1, or
   some such.  check the man page for details.  This of course would
   have to be done with each change in n,m.  Alternatively, you could
   take the minimum workspace requirements from the manpage.  

   lapack is the relevant lib, so I don't know what --without-blas is
   supposed to do.  And working under windows, while nice, doesn't
   exactly inspire confidence :-).

I am in general away from email until 6/1, so correspondence will be
spotty.

Take care,

Dirk Eddelbuettel <edd@debian.org> writes:

> On Tue, Apr 22, 2003 at 08:07:36PM +0200, rdiaz@cnio.es wrote:
> > Dear All,
> > 
> > Under Debian GNU/Linux La.svd (with method = "dgesdd") sometimes gives the 
> > error
> > 
> > "Error in La.svd(data, nu = 0, nv = min(nrow, ncol), method = "dgesdd") : 
> > 	LAPACK routine DGESDD gave error code -12"
> > 
> > It seems not to depend on the data per se, but on the relationship between 
> > numbers of rows and columns. 
> > 
> > For example, if the number of columns is 100, La.svd will fail when the number 
> > of rows is 56, but not if it is 55 or 57. It will not fail if we use 
> > "dgesvd". If the number of columns is 51, La.svd fails when the number of 
> > rows is between 29 and 50 if we use "dgesdd".
> > 
> > This happens if I use the latest deb packages (and thus ATLAS, etc). It does 
> > not happen if I build R in this same machine with "--without-blas" (where 
> > make check reports no errors). In case it matters, the bug does not show up 
> > in a different machine with Windwos 2000 and the Rblas.dll linked against 
> > ATLAS provided in http://cran.r-project.org/bin/windows/contrib/ATLAS/P4).
> > 
> > I understand this is probably related to the issues mentioned in R-admin about 
> > LAPACK 3.0 and some of the issues recently discussed in this list by M. 
> > Burger, D. Bates and D. Eddelbuettel. Are there any workarounds (besides not 
> > using ATLAS at all?).
> 
> We should probably talk to Camm, the Atlas maintainer. Note how on recent
> upgrades he inserted the note (cf /var/lib/dpkg/info/atlas2-3dnow.templates
> on my Athlon system) via debconf:
> 
>    Template: atlas2-3dnow/3dnow_warning
>    Type: note
>    Description: 3dnow arithmetic is not IEEE compliant
>     Please note that 3dnow arithmetic does not furnish several results
>     required by the IEEE standard, and may therefore cause errors in code
>     which needs to trap NaN and Inf results, for example.  The
>     atlas2-3dnow binaries make heavy use of the 3dnow extensions.
>     Please see the accompanying file /usr/share/doc/atlas2-3dnow/3DNow.txt
>     for details.
>       
> I know Camm is on a sabbatical but will CC him nonetheless.
> 
> Dirk
> 
> > Ramón
> > 
> > ********************************
> > An example of failure:
> > > ## ncol = 100
> > > nrow <- 56
> > > ncol <- 100
> > > data <- matrix(1:(nrow * ncol), ncol = ncol)
> > > ## you get the errors if you use any other data
> > > ## such as data <- matrix(rnorm(nrow * ncol), ncol = ncol)
> > > svd(data) ## error
> > > La.svd(data, nu = 0,
> >              nv = min(nrow, ncol), method = "dgesdd") ## error
> > > La.svd(data, nu = 0,
> >              nv = min(nrow, ncol), method = "dgesvd") ## OK
> > 
> > > ##ncol = 51; it fails with nrow in [29, 50]
> > *************************
> > 
> > > ## version that crashes
> > > version 
> >          _                
> > platform i386-pc-linux-gnu
> > arch     i386             
> > os       linux-gnu        
> > system   i386, linux-gnu  
> > status                    
> > major    1                
> > minor    7.0              
> > year     2003             
> > month    04               
> > day      16               
> > language R        
> > *****************************
> > > ## version "--without-blas" that does not crash
> > > version
> >          _  
> > platform i686-pc-linux-gnu
> > arch     i686             
> > os       linux-gnu        
> > system   i686, linux-gnu  
> > status                    
> > major    1                
> > minor    7.0              
> > year     2003             
> > month    04               
> > day      16               
> > language R   
> > 
> > 
> > -----
> > Ramón Díaz-Uriarte
> > Bioinformatics Unit
> > Centro Nacional de Investigaciones Oncológicas (CNIO)
> > (Spanish National Cancer Center)
> > Melchor Fernández Almagro, 3
> > 28029 Madrid (Spain)
> > Fax: +-34-91-224-6972
> > Phone: +-34-91-224-6900
> > 
> > http://bioinfo.cnio.es/~rdiaz
> > 
> > ______________________________________________
> > R-devel@stat.math.ethz.ch mailing list
> > https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> > 
> 
> -- 
> Don't drink and derive. Alcohol and algebra don't mix.
> 
> 
> 

-- 
Camm Maguire			     			camm@enhanced.com
==========================================================================
"The earth is but one country, and mankind its citizens."  --  Baha'u'llah


==> 2822.reply.1 <==
From p.dalgaard@biostat.ku.dk Thu Apr 24 13:25:26 2003
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3OBPQpD004849;
	Thu, 24 Apr 2003 13:25:26 +0200 (MET DST)
Received: from blueberry.kubism.ku.dk (localhost.localdomain [127.0.0.1])
	by blueberry.kubism.ku.dk (8.12.8/8.12.8) with ESMTP id h3OBSN8e026637;
	Thu, 24 Apr 2003 13:28:23 +0200
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.12.8/8.12.8/Submit) id h3OBSMe4026633;
	Thu, 24 Apr 2003 13:28:22 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: Camm Maguire <camm@enhanced.com>
Cc: Dirk Eddelbuettel <edd@debian.org>, r-devel@stat.math.ethz.ch,
   kurt.hornik@r-project.org, R-bugs@biostat.ku.dk, rdiaz@cnio.es
Subject: Re: [Rd] "LAPACK routine DGESDD gave error code -12" with Debian (PR#2822)
References: <200304221807.h3MI7apD014611@pubhealth.ku.dk>
	<20030423003246.GA27400@sonny.eddelbuettel.com>
	<54el3swyrk.fsf@intech19.enhanced.com>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 24 Apr 2003 13:28:21 +0200
In-Reply-To: <54el3swyrk.fsf@intech19.enhanced.com>
Message-ID: <x2u1co878q.fsf@biostat.ku.dk>
Lines: 58
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Camm Maguire <camm@enhanced.com> writes:

> 2) Given the error code, and the scaling behavior with matrix size,
>    I'd say the lwork parameter (size of the work array) passed to
>    dgesdd is not always large enough, i.e. is not scaling properly
>    with n,m.  Please see 'man dgesdd' for interpretations of the error
>    code.  It is the responsibility of the calling routine to allocate
>    and pass the work array to dgesdd.  With most lapack routines, one
>    can make a 'workspace query' call first by setting lwork to -1, or
>    some such.  check the man page for details.  This of course would
>    have to be done with each change in n,m.  Alternatively, you could
>    take the minimum workspace requirements from the manpage.  

Right, but that's actually what we do, use the workspace query. It's
all very weird, because the -12 value indicates that the lwork
parameter is wrong, but it is computed from an exactly identical call,
except lwork=-l:

        lwork = -1;

        F77_CALL(dgesdd)(CHAR(STRING_ELT(jobu, 0)),
                         &n, &p, xvals, &n, REAL(s),
                         REAL(u), &ldu,
                         REAL(v), &ldvt,
                         &tmp, &lwork, iwork, &info);
        lwork = (int) tmp;

        work = (double *) R_alloc(lwork, sizeof(double));
        F77_CALL(dgesdd)(CHAR(STRING_ELT(jobu, 0)),
                         &n, &p, xvals, &n, REAL(s),
                         REAL(u), &ldu,
                         REAL(v), &ldvt,
                         work, &lwork, iwork, &info);


Also, this must be happening in the early parts of DGESDD which seem
to be all integer storage size calculations and so shouldn't need the
BLAS. Nevertheless people are seeing different behaviour when linking
against different BLAS libraries.
 
There are a lot of calls similar to this one, though:

      WRKBL = M + M*ILAENV( 1, 'DGELQF', ' ', M, N, -1, -1 )

so whether or not the BLAS is being used is hard to tell precisely.

>    lapack is the relevant lib, so I don't know what --without-blas is
>    supposed to do.  And working under windows, while nice, doesn't
>    exactly inspire confidence :-).

--without-blas means to use generic blas routines in the R
sources rather than any (tuned) system set.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 2822.reply.2 <==
From bates@bates4.stat.wisc.edu Thu Apr 24 19:03:24 2003
Received: from bates4.stat.wisc.edu (mail@bates4.stat.wisc.edu [128.105.174.134])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3OH3OpD008663;
	Thu, 24 Apr 2003 19:03:24 +0200 (MET DST)
Received: from bates by bates4.stat.wisc.edu with local (Exim 3.36 #1 (Debian))
	id 198k81-0004LK-00; Thu, 24 Apr 2003 12:03:21 -0500
To: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Cc: Camm Maguire <camm@enhanced.com>, Dirk Eddelbuettel <edd@debian.org>,
   r-devel@stat.math.ethz.ch, kurt.hornik@r-project.org, R-bugs@biostat.ku.dk,
   rdiaz@cnio.es
Subject: Re: [Rd] "LAPACK routine DGESDD gave error code -12" with Debian (PR#2822)
References: <200304221807.h3MI7apD014611@pubhealth.ku.dk>
	<20030423003246.GA27400@sonny.eddelbuettel.com>
	<54el3swyrk.fsf@intech19.enhanced.com> <x2u1co878q.fsf@biostat.ku.dk>
From: Douglas Bates <bates@stat.wisc.edu>
Date: 24 Apr 2003 12:03:21 -0500
In-Reply-To: <x2u1co878q.fsf@biostat.ku.dk>
Message-ID: <6r7k9j25gm.fsf@bates4.stat.wisc.edu>
Lines: 35
User-Agent: Gnus/5.0808 (Gnus v5.8.8) XEmacs/21.4 (Common Lisp)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Sender: Douglas Bates <bates@bates4.stat.wisc.edu>

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> Camm Maguire <camm@enhanced.com> writes:
> 
> > 2) Given the error code, and the scaling behavior with matrix size,
> >    I'd say the lwork parameter (size of the work array) passed to
> >    dgesdd is not always large enough, i.e. is not scaling properly
> >    with n,m.  Please see 'man dgesdd' for interpretations of the error
> >    code.  It is the responsibility of the calling routine to allocate
> >    and pass the work array to dgesdd.  With most lapack routines, one
> >    can make a 'workspace query' call first by setting lwork to -1, or
> >    some such.  check the man page for details.  This of course would
> >    have to be done with each change in n,m.  Alternatively, you could
> >    take the minimum workspace requirements from the manpage.  
> 
> Right, but that's actually what we do, use the workspace query. It's
> all very weird, because the -12 value indicates that the lwork
> parameter is wrong, but it is computed from an exactly identical call,
> except lwork=-l:
> 
>         lwork = -1;
> 
>         F77_CALL(dgesdd)(CHAR(STRING_ELT(jobu, 0)),
>                          &n, &p, xvals, &n, REAL(s),
>                          REAL(u), &ldu,
>                          REAL(v), &ldvt,
>                          &tmp, &lwork, iwork, &info);
>         lwork = (int) tmp;

It looks like a problem in ilaenv, the Lapack routine that returns the
tuning parameters, like the optimal temporary storage size, for
various Lapack routines.  The value returned in tmp will depend upon
the results of several calls to ilaenv.  These results can vary between
different implementations of the blas (or atlas).


==> 2822.followup.3 <==
From camm@enhanced.com Fri Apr 25 15:28:50 2003
Received: from intech19.enhanced.com (h-66-134-96-17.PHLAPAFG.covad.net [66.134.96.17])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3PDSnpD017958;
	Fri, 25 Apr 2003 15:28:50 +0200 (MET DST)
Received: from camm by intech19.enhanced.com with local (Exim 3.35 #1 (Debian))
	id 1993Fi-0007EL-00; Fri, 25 Apr 2003 09:28:34 -0400
To: Douglas Bates <bates@stat.wisc.edu>
Cc: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>,
   Dirk Eddelbuettel <edd@debian.org>, r-devel@stat.math.ethz.ch,
   kurt.hornik@r-project.org, R-bugs@biostat.ku.dk, rdiaz@cnio.es
Subject: Re: [Rd] "LAPACK routine DGESDD gave error code -12" with Debian (PR#2822)
References: <200304221807.h3MI7apD014611@pubhealth.ku.dk>
	<20030423003246.GA27400@sonny.eddelbuettel.com>
	<54el3swyrk.fsf@intech19.enhanced.com> <x2u1co878q.fsf@biostat.ku.dk>
	<6r7k9j25gm.fsf@bates4.stat.wisc.edu>
From: Camm Maguire <camm@enhanced.com>
Date: 25 Apr 2003 09:28:33 -0400
In-Reply-To: <6r7k9j25gm.fsf@bates4.stat.wisc.edu>
Message-ID: <541xzqd7um.fsf@intech19.enhanced.com>
Lines: 77
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Greetings!

Douglas Bates <bates@stat.wisc.edu> writes:

> Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:
> 
> > Camm Maguire <camm@enhanced.com> writes:
> > 
> > > 2) Given the error code, and the scaling behavior with matrix size,
> > >    I'd say the lwork parameter (size of the work array) passed to
> > >    dgesdd is not always large enough, i.e. is not scaling properly
> > >    with n,m.  Please see 'man dgesdd' for interpretations of the error
> > >    code.  It is the responsibility of the calling routine to allocate
> > >    and pass the work array to dgesdd.  With most lapack routines, one
> > >    can make a 'workspace query' call first by setting lwork to -1, or
> > >    some such.  check the man page for details.  This of course would
> > >    have to be done with each change in n,m.  Alternatively, you could
> > >    take the minimum workspace requirements from the manpage.  
> > 
> > Right, but that's actually what we do, use the workspace query. It's
> > all very weird, because the -12 value indicates that the lwork
> > parameter is wrong, but it is computed from an exactly identical call,
> > except lwork=-l:
> > 
> >         lwork = -1;
> > 
> >         F77_CALL(dgesdd)(CHAR(STRING_ELT(jobu, 0)),
> >                          &n, &p, xvals, &n, REAL(s),
> >                          REAL(u), &ldu,
> >                          REAL(v), &ldvt,
> >                          &tmp, &lwork, iwork, &info);
> >         lwork = (int) tmp;
> 
> It looks like a problem in ilaenv, the Lapack routine that returns the
> tuning parameters, like the optimal temporary storage size, for
> various Lapack routines.  The value returned in tmp will depend upon
> the results of several calls to ilaenv.  These results can vary between
> different implementations of the blas (or atlas).
> 

Just a note that you should check the returned info value on the
workspace call to make sure tmp has been filled in.  (the man page
says this is done only if the other parameters are valid.)

Does this problem vary with blas, and if so, how?  You can run under
whatever blas you want, including reference, via the LD_LIBRARY_PATH
variable.  Asuming you've installed all the i386 atlas versions and the blas
package:

LD_LIBRARY_PATH     used blas:

/usr/lib                reference
/usr/lib/atlas          base vanilla i386 atlas
/usr/lib/{sse,sse2,3dnow}/atlas    atlas with ISA extensions


ilaenv might possibly be an issue, but only realistically if the
problem blas is coming from the 3dnow atlas.  When I put together the
lapack package, I read in the lapack notes how many of the ilaenv
constants can be hardwired, saving a certain amount of time on the
first call.  I chose not to do this only because of the existence of
the 3dnow, non-ieee compliant blas option at runtime, as one of the
parameters pertains directly to ieee.  So ilaenv is calculating its
parameters n first call at runtime on Debian.  I'm dubious as to the
relevance of this, though, as this should only kick in for single
precision if at all, and should not affect integer values in any case.

Take care,

> 
> 
> 

-- 
Camm Maguire			     			camm@enhanced.com
==========================================================================
"The earth is but one country, and mankind its citizens."  --  Baha'u'llah
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2823 *
Subject: Re: [Rd] 
From: Kurt Hornik <hornik@ci.tuwien.ac.at>
Date: Tue, 22 Apr 2003 20:15:19 +0200
--part of 2822
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2823 <==
From hornik@ci.tuwien.ac.at Tue Apr 22 20:18:02 2003
Received: from isis.wu-wien.ac.at (isis.wu-wien.ac.at [137.208.3.42])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3MIHxpD014666
	for <R-bugs@biostat.ku.dk>; Tue, 22 Apr 2003 20:18:01 +0200 (MET DST)
Received: from mithrandir.hornik.net (mail@wu057056.wu-wien.ac.at [137.208.57.56])
	by isis.wu-wien.ac.at (8.12.8/8.12.6) with ESMTP id h3MIHvTn111298;
	Tue, 22 Apr 2003 20:17:57 +0200
	(envelope-from hornik@ci.tuwien.ac.at)
Received: from hornik by mithrandir.hornik.net with local (Exim 3.36 #1 (Debian))
	id 1982Ij-0003cy-00; Tue, 22 Apr 2003 20:15:29 +0200
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
Message-ID: <16037.34487.349521.950443@mithrandir.hornik.net>
Date: Tue, 22 Apr 2003 20:15:19 +0200
To: rdiaz@cnio.es
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] 
	"LAPACK routine DGESDD gave error code -12" with Debian (PR#2822)
In-Reply-To: <200304221807.h3MI7apD014611@pubhealth.ku.dk>
References: <200304221807.h3MI7apD014611@pubhealth.ku.dk>
X-Mailer: VM 7.14 under Emacs 21.2.1
Reply-To: Kurt.Hornik@wu-wien.ac.at
From: Kurt Hornik <hornik@ci.tuwien.ac.at>
X-WU-uvscan-status: clean v4.2.40/v4258 popstar 939ae93a58c73b38bab120ead250ab8f

>>>>> rdiaz  writes:

> Dear All,
> Under Debian GNU/Linux La.svd (with method = "dgesdd") sometimes gives the 
> error

> "Error in La.svd(data, nu = 0, nv = min(nrow, ncol), method = "dgesdd") : 
> 	LAPACK routine DGESDD gave error code -12"

> It seems not to depend on the data per se, but on the relationship between 
> numbers of rows and columns. 

> For example, if the number of columns is 100, La.svd will fail when
> the number of rows is 56, but not if it is 55 or 57. It will not fail
> if we use "dgesvd". If the number of columns is 51, La.svd fails when
> the number of rows is between 29 and 50 if we use "dgesdd".

> This happens if I use the latest deb packages (and thus ATLAS,
> etc). It does not happen if I build R in this same machine with
> "--without-blas" (where make check reports no errors). In case it
> matters, the bug does not show up in a different machine with Windwos
> 2000 and the Rblas.dll linked against ATLAS provided in
> http://cran.r-project.org/bin/windows/contrib/ATLAS/P4).

> I understand this is probably related to the issues mentioned in
> R-admin about LAPACK 3.0 and some of the issues recently discussed in
> this list by M.  Burger, D. Bates and D. Eddelbuettel. Are there any
> workarounds (besides not using ATLAS at all?).

> Ramón

> ********************************
> An example of failure:
>> ## ncol = 100
>> nrow <- 56
>> ncol <- 100
>> data <- matrix(1:(nrow * ncol), ncol = ncol)
>> ## you get the errors if you use any other data
>> ## such as data <- matrix(rnorm(nrow * ncol), ncol = ncol)
>> svd(data) ## error
>> La.svd(data, nu = 0,
>              nv = min(nrow, ncol), method = "dgesdd") ## error
>> La.svd(data, nu = 0,
>              nv = min(nrow, ncol), method = "dgesvd") ## OK

>> ##ncol = 51; it fails with nrow in [29, 50]
> *************************

Confirmed on Debian GNU/Linux testing with atlas2-base-dev for both the
current 1.7.0 debs and 1.8.0 built from scratch using --with-lapack:

hornik@mithrandir:~/tmp$ ldd /usr/local/lib/R/modules/lapack.so 
        libR.so => not found
        liblapack.so.2 => /usr/lib/atlas/liblapack.so.2 (0x40013000)

-k

==> 2823.audit <==
Fri Apr 25 20:07:18 2003	ripley	changed notes
Fri Apr 25 20:07:18 2003	ripley	foobar
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2824 *
Subject: coplot panels malrendered / 1653
From: dmaszle@mendelbio.com
Date: Wed, 23 Apr 2003 02:19:53 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2824 <==
From dmaszle@mendelbio.com Wed Apr 23 02:19:56 2003
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3N0JrpD016015
	for <R-bugs@biostat.ku.dk>; Wed, 23 Apr 2003 02:19:56 +0200 (MET DST)
Date: Wed, 23 Apr 2003 02:19:53 +0200 (MET DST)
Message-Id: <200304230019.h3N0JrpD016015@pubhealth.ku.dk>
From: dmaszle@mendelbio.com
To: R-bugs@biostat.ku.dk
Subject: coplot panels malrendered / 1653

Full_Name: Don Maszle
Version: 1.7.0
OS: Linux
Submission from: (NULL) (206.86.87.3)


This was previously reported I believe as bug 1653.

I just compiled 1.7.0 on RedHat Linux and I get terrible behavior when
panel=plot.  Browsing through the coplot code, I don't how there could be this
dependency.  With panel=points, my 7 graphs come out numbered as
given
7
4 5 6
1 2 3

Using panel=plot the same 7 graphs come out as
3i7en
- 4 5
6 1 2

with the given subplot being overwritten with data plots.

Has anyone looked into this?

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2876 *
Subject: Re: [Rd]  configure succeeds without dlfcn.h, but fails to compile
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Tue, 29 Apr 2003 13:02:25 -0700 (PDT)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2876 <==
From tlumley@u.washington.edu Tue Apr 29 22:02:28 2003
Received: from mxout1.cac.washington.edu (mxout1.cac.washington.edu [140.142.32.134])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3TK2R2b028313
	for <R-bugs@biostat.ku.dk>; Tue, 29 Apr 2003 22:02:27 +0200 (MET DST)
Received: from homer03.u.washington.edu (homer03.u.washington.edu [140.142.15.37])
	by mxout1.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h3TK2PRG015121;
	Tue, 29 Apr 2003 13:02:25 -0700
Received: from localhost (tlumley@localhost)
	by homer03.u.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h3TK2Phw226700;
	Tue, 29 Apr 2003 13:02:25 -0700
Date: Tue, 29 Apr 2003 13:02:25 -0700 (PDT)
From: Thomas Lumley <tlumley@u.washington.edu>
To: buerkla@uwec.edu
cc: r-devel@stat.math.ethz.ch, <R-bugs@biostat.ku.dk>
Subject: Re: [Rd]  configure succeeds without dlfcn.h, but fails to compile
 (OS X) (PR#2875)
In-Reply-To: <200304291824.h3TIOD2b027864@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.44.0304291254210.104800-100000@homer03.u.washington.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Tue, 29 Apr 2003 buerkla@uwec.edu wrote:

> Full_Name: Alex Buerkle
> Version: 1.7.0
> OS: OS X
> Submission from: (NULL) (137.28.112.199)
>
>
> The configure of R-1.7.0 completed, but the build fails with error
> below.  This failure appears to be because dlfcn.h was missing (installing it
> fixed the problem).
>
> The possible bug:  my limited ability to read ./configure suggests that it tests
> for dlfcn.h, but does not fail if it doesn't find it on Darwin/OS X.  Given that
> it is required to compile, it seems like configure should fail.
>
>

I think in fact the problem is that there is a bug in the code for when
dynamic loading is not available. There are various tests for
HAVE_DYNAMIC_LOADING, suggesting that it was once possible to compile
without it.

	-thomas





~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2878 *
Subject: Problem with R CMD INSTALL and package versions
From: rpeng@stat.ucla.edu
Date: Wed, 30 Apr 2003 08:23:12 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2878 <==
From rpeng@stat.ucla.edu Wed Apr 30 08:23:13 2003
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h3U6NC2b000284
	for <R-bugs@biostat.ku.dk>; Wed, 30 Apr 2003 08:23:13 +0200 (MET DST)
Date: Wed, 30 Apr 2003 08:23:12 +0200 (MET DST)
Message-Id: <200304300623.h3U6NC2b000284@pubhealth.ku.dk>
From: rpeng@stat.ucla.edu
To: R-bugs@biostat.ku.dk
Subject: Problem with R CMD INSTALL and package versions

Full_Name: Roger Peng
Version: 1.7.0
OS: Linux (Red Hat 8.0)
Submission from: (NULL) (68.64.112.179)


There seems to be a problem with R CMD INSTALL using --with-package-versions. 
First, when using --save and --with-package-versions together, I get the
following output (in this case, for the `snow' package):

--

marla:> R CMD INSTALL --save --with-package-versions snow_0.1-1.tar.gz 
* Installing *source* package 'snow' as 'snow_0.1-1' ...
** R
** inst
** save image
cat: /home/rpeng/install/R-1.7.0/lib/R/library/snow_0.1-1/R/snow: No such file
or directory

mv: cannot stat `/home/rpeng/install/R-1.7.0/lib/R/library/snow_0.1-1/R/snow':
No such file or directory
** help
 >>> Building/Updating help pages for package 'snow'
     Formats: text html latex example 
  snow-cluster                      text    html    latex   example
  snow-internal                     text    html    latex
  snow-parallel                     text    html    latex   example
  snow-rand                         text    html    latex   example
  snow-startstop                    text    html    latex   example
* DONE (snow)

* DONE (INSTALL)

--

When trying to load the package in R, I get:

> library(snow, version = "0.1-1")
Error in .path.package("snow") : none of the packages are loaded
Error in library(snow, version = "0.1-1") : 
        .First.lib failed

Using install.packages() with `installWithVers = TRUE' produces the same
problem.  Removing the --with-package-versions flag makes the package install as
expected.  Removing the --save flag (but keeping the --with-package-versions
flag) gets rid of the complaint during the install process, but I get the same
error when trying to load the package in R.  

I haven't tried this with too many packages but I alwasy get the same behavior. 
I first noticed this when trying to install `pixmap' and `gpclib' packages with
versions since they are both installed using --save.

-roger
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2894 *
Subject: qbeta hang
From: terra@gnome.org
Date: Thu, 1 May 2003 22:43:59 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2894 <==
From terra@gnome.org Thu May  1 22:44:00 2003
Received: from blueberry (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h41Khx2b017785
	for <R-bugs@biostat.ku.dk>; Thu, 1 May 2003 22:43:59 +0200 (MET DST)
Date: Thu, 1 May 2003 22:43:59 +0200 (MET DST)
Message-Id: <200305012043.h41Khx2b017785@pubhealth.ku.dk>
From: terra@gnome.org
To: R-bugs@biostat.ku.dk
Subject: qbeta hang

Full_Name: Morten Welinder
Version: 1.6.1
OS: Solaris/sparc
Submission from: (NULL) (65.213.85.144)


qbeta(0.1, 1e-8, 0.5, TRUE, FALSE) seems to hang for me.


==> 2894.reply.1 <==
From p.dalgaard@biostat.ku.dk Fri May  2 00:16:13 2003
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h41MGD2b018113;
	Fri, 2 May 2003 00:16:13 +0200 (MET DST)
Received: from blueberry.kubism.ku.dk (localhost.localdomain [127.0.0.1])
	by blueberry.kubism.ku.dk (8.12.8/8.12.8) with ESMTP id h41MK78e014746;
	Fri, 2 May 2003 00:20:07 +0200
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.12.8/8.12.8/Submit) id h41MK6Ja014742;
	Fri, 2 May 2003 00:20:06 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: terra@gnome.org
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] qbeta hang (PR#2894)
References: <200305012044.h41Ki02b017789@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 02 May 2003 00:20:06 +0200
In-Reply-To: <200305012044.h41Ki02b017789@pubhealth.ku.dk>
Message-ID: <x265oujomh.fsf@biostat.ku.dk>
Lines: 45
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

terra@gnome.org writes:

> Full_Name: Morten Welinder
> Version: 1.6.1
> OS: Solaris/sparc
> Submission from: (NULL) (65.213.85.144)
> 
> 
> qbeta(0.1, 1e-8, 0.5, TRUE, FALSE) seems to hang for me.

confirmed on 1.7.0 Solaris 9, gcc 3.0.3 (standard build, so -O2, I assume)

Morten: the gcc version is often crucial in these cases.

However, the exact same thing is happening on Linux. The immediate
cause is that n = fmax2(lneps/log(y), 4.0) gets large when y is in the
vicinity of 1-1e-8, so the loop in src/nmath/pbeta.c:101 gets a rather
high count. The algorithm isn't really stuck, it just takes a very
long time. On the fastest machine that I have available:

> system.time(qbeta(0.1, 1e-8, 0.5, TRUE, FALSE))
[1] 75.58  0.00 75.58  0.00  0.00


It's not really that surprising:

> pbeta(1e-5, 1e-8, 0.5,, TRUE, FALSE)
[1] 0.9999999
> pbeta(1e-10, 1e-8, 0.5,, TRUE, FALSE)
[1] 0.9999998
> pbeta(1e-200, 1e-8, 0.5,, TRUE, FALSE)
[1] 0.9999954
> pbeta(1e-309, 1e-8, 0.5,, TRUE, FALSE)
[1] 0.999993
> pbeta(1e-400, 1e-8, 0.5,, TRUE, FALSE)
[1] 0

and you're trying to solve pbeta(x, 1e-8, 0.5,, TRUE, FALSE) == 0.1


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 2894.followup.1 <==
From dmurdoch@pair.com Fri May  2 00:38:53 2003
Received: from tomts13-srv.bellnexxia.net (tomts13.bellnexxia.net [209.226.175.34])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h41Mcp2b018208
	for <R-bugs@biostat.ku.dk>; Fri, 2 May 2003 00:38:52 +0200 (MET DST)
Received: from djmfuj ([65.93.70.143]) by tomts13-srv.bellnexxia.net
          (InterMail vM.5.01.04.19 201-253-122-122-119-20020516) with SMTP
          id <20030501223850.JWNE22698.tomts13-srv.bellnexxia.net@djmfuj>;
          Thu, 1 May 2003 18:38:50 -0400
From: Duncan Murdoch <dmurdoch@pair.com>
To: terra@gnome.org
Cc: R-bugs@biostat.ku.dk
Subject: Re: [Rd] qbeta hang (PR#2894)
Date: Thu, 01 May 2003 18:38:49 -0400
Message-ID: <c783bv43uq0raa1km9a7qqs0ri7pjmo1gu@4ax.com>
References: <200305012044.h41Ki02b017789@pubhealth.ku.dk>
In-Reply-To: <200305012044.h41Ki02b017789@pubhealth.ku.dk>
X-Mailer: Forte Agent 1.91/32.564
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

On Thu, 1 May 2003 22:44:00 +0200 (MET DST), you wrote:

>Full_Name: Morten Welinder
>Version: 1.6.1
>OS: Solaris/sparc
>Submission from: (NULL) (65.213.85.144)
>
>
>qbeta(0.1, 1e-8, 0.5, TRUE, FALSE) seems to hang for me.

In 1.7.0-patched in Windows, it's very, very slow, but eventually
produces an answer:

> qbeta(0.1, 1e-8, 0.5, TRUE, FALSE)
[1] 4.400784e-309

The answer should be really small (the mean is 2e-8, and it's strongly
skewed to the right), so I'd guess it's giving the right answer, and
is just slow to converge to it.

Duncan Murdoch

==> 2894.followup.2 <==
From welinder@rentec.com Fri May  2 16:03:42 2003
Received: from ram.rentec.com (ram.rentec.com [192.5.35.66])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h42E3e2b026336;
	Fri, 2 May 2003 16:03:41 +0200 (MET DST)
Received: from robbie.rentec.com (robbie.rentec.com [192.5.35.99])
	by ram.rentec.com (8.12.1/8.12.1) with ESMTP id h42E3OR5024597;
	Fri, 2 May 2003 10:03:24 -0400 (EDT)
Received: (from welinder@localhost)
	by robbie.rentec.com (8.12.5+Sun/8.12.5/Submit) id h42E3NcU001790;
	Fri, 2 May 2003 10:03:23 -0400 (EDT)
Date: Fri, 2 May 2003 10:03:23 -0400 (EDT)
Message-Id: <200305021403.h42E3NcU001790@robbie.rentec.com>
From: Morten Welinder <welinder@rentec.com>
To: p.dalgaard@biostat.ku.dk
CC: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
In-reply-to: <x265oujomh.fsf@biostat.ku.dk> (message from Peter Dalgaard BSA
	on 02 May 2003 00:20:06 +0200)
Subject: Re: [Rd] qbeta hang (PR#2894)
References: <200305012044.h41Ki02b017789@pubhealth.ku.dk> <x265oujomh.fsf@biostat.ku.dk>


Ok, I can confirm that it does not, in fact, loop forever.  Just a close
approximation.

> Morten: the gcc version is often crucial in these cases.

Sorry.  gcc-2.7.2 (both -O2 and -O0) on Solaris 2.9 / sparc.

The problems seem to be...

1. The initial guess underflows to zero.

2. That guess is replaced by the truly awful guess 0.5.

3. The root finding algorithm ignores all the nice properties of pbeta
   -- such as it being monotonically increasing and bounded.

> and you're trying to solve pbeta(x, 1e-8, 0.5,, TRUE, FALSE) == 0.1

Not quite.  What I was trying to do was the see what would happen with an
insanely small alpha.  Actually doing that would involve getting the
arguments right, of course, :-)  The not-quite-hang was an unplesant side
effect of swapping the args.

I notice things like

    r = sqrt(-log(a * a));

in the code.  I fail to see why that isn't just

    r = sqrt(-2 * log (a))

which ought to be faster and more accurate.  Then later

    ...log((1. - a) * qq)...

which might be better as

    ...(log1p(-a) + log (qq))...

if a is close to zero.

There are lots of other places that worry me with respect to cancellation
errors, for example

    r = 1 - pp;
    t = 1 - qq;

Morten
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 2923 *
Subject: segfault when applying strange coercion
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Date: Mon, 05 May 2003 19:36:01 +0200
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 2923 <==
From ligges@amadeus.statistik.uni-dortmund.de Mon May  5 19:36:08 2003
Received: from nx5.hrz.uni-dortmund.de (nx5.HRZ.Uni-Dortmund.DE [129.217.131.21])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h45Ha82b016447
	for <R-bugs@biostat.ku.dk>; Mon, 5 May 2003 19:36:08 +0200 (MET DST)
Received: from amadeus.statistik.uni-dortmund.de (Amadeus.Statistik.Uni-Dortmund.DE [129.217.206.1])
	by nx5.hrz.uni-dortmund.de (Postfix) with ESMTP id 6995B4AA3CA
	for <R-bugs@biostat.ku.dk>; Mon,  5 May 2003 19:36:08 +0200 (MET DST)
Received: from statistik.uni-dortmund.de ([129.217.207.201])
	by amadeus.statistik.uni-dortmund.de (8.11.6+Sun/8.11.6) with ESMTP id h45Ha8v14757
	for <R-bugs@biostat.ku.dk>; Mon, 5 May 2003 19:36:08 +0200 (MET DST)
Message-ID: <3EB6A101.6070201@statistik.uni-dortmund.de>
Date: Mon, 05 May 2003 19:36:01 +0200
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Organization: Fachbereich Statistik, Universitaet Dortmund
User-Agent: Mozilla/5.0 (Windows; U; WinNT4.0; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en, de-de, de
MIME-Version: 1.0
To: r-bugs <R-bugs@biostat.ku.dk>
Subject: segfault when applying strange coercion
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

I made a mistake -- and R crashed. A (more or less) reproducible example 
seems to be:

   x <- matrix(nrow=20000, ncol=20)
   x$any <- numeric(0)

It is possible to crash R by executing these lines several times (1 - 
20) on Windows as well as on Solaris (might be related to PR#2880 - 
let's call it "non-existing list elements")

Uwe Ligges


--please do not edit the information below--

Version:
  platform = i386-pc-mingw32
  arch = i386
  os = mingw32
  system = i386, mingw32
  status =
  major = 1
  minor = 7.0
  year = 2003
  month = 04
  day = 16
  language = R

Windows NT 4.0 (build 1381) Service Pack 6

Search Path:
  .GlobalEnv, package:methods, package:ctest, package:mva, 
package:modreg, package:nls, package:ts, Autoloads, package:base


==> 2923.reply.1 <==
From p.dalgaard@biostat.ku.dk Mon May  5 21:08:09 2003
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h45J892b016865;
	Mon, 5 May 2003 21:08:09 +0200 (MET DST)
Received: from blueberry.kubism.ku.dk (localhost.localdomain [127.0.0.1])
	by blueberry.kubism.ku.dk (8.12.8/8.12.8) with ESMTP id h45JCX8e008132;
	Mon, 5 May 2003 21:12:33 +0200
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.12.8/8.12.8/Submit) id h45JCX9k008128;
	Mon, 5 May 2003 21:12:33 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: ligges@statistik.uni-dortmund.de
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: [Rd] segfault when applying strange coercion (PR#2923)
References: <200305051736.h45Ha92b016451@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 05 May 2003 21:12:32 +0200
In-Reply-To: <200305051736.h45Ha92b016451@pubhealth.ku.dk>
Message-ID: <x28ytlb42n.fsf@biostat.ku.dk>
Lines: 33
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

ligges@statistik.uni-dortmund.de writes:

> I made a mistake -- and R crashed. A (more or less) reproducible example 
> seems to be:
> 
>    x <- matrix(nrow=20000, ncol=20)
>    x$any <- numeric(0)
> 
> It is possible to crash R by executing these lines several times (1 - 
> 20) on Windows as well as on Solaris (might be related to PR#2880 - 
> let's call it "non-existing list elements")

Linux too: (r-devel)

...
> x <- matrix(nrow=20000, ncol=20) ;    x$any <- numeric(0)
Warning message:
Coercing LHS to a list
> x <- matrix(nrow=20000, ncol=20) ;    x$any <- numeric(0)

Program received signal SIGSEGV, Segmentation fault.
Rf_copyMostAttrib (inp=0xa2325a8, ans=0x402f9008)
    at ../../../R/src/main/attrib.c:155
155             if ((TAG(s) != R_NamesSymbol) &&

Tried running it with gctorture() but haven't gotten the prompt back
yet.... 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 2923.reply.2 <==
From p.dalgaard@biostat.ku.dk Mon May  5 23:43:54 2003
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h45Lhr2b017452;
	Mon, 5 May 2003 23:43:54 +0200 (MET DST)
Received: from blueberry.kubism.ku.dk (localhost.localdomain [127.0.0.1])
	by blueberry.kubism.ku.dk (8.12.8/8.12.8) with ESMTP id h45LmI8e008326;
	Mon, 5 May 2003 23:48:18 +0200
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.12.8/8.12.8/Submit) id h45LmIYh008322;
	Mon, 5 May 2003 23:48:18 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Cc: ligges@statistik.uni-dortmund.de, r-devel@stat.math.ethz.ch,
   R-bugs@biostat.ku.dk
Subject: Re: [Rd] segfault when applying strange coercion (PR#2923)
References: <200305051736.h45Ha92b016451@pubhealth.ku.dk>
	<x28ytlb42n.fsf@biostat.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 05 May 2003 23:48:17 +0200
In-Reply-To: <x28ytlb42n.fsf@biostat.ku.dk>
Message-ID: <x2znm19iam.fsf@biostat.ku.dk>
Lines: 74
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> ligges@statistik.uni-dortmund.de writes:
> 
> > I made a mistake -- and R crashed. A (more or less) reproducible example 
> > seems to be:
> > 
> >    x <- matrix(nrow=20000, ncol=20)
> >    x$any <- numeric(0)
> > 
> > It is possible to crash R by executing these lines several times (1 - 
> > 20) on Windows as well as on Solaris (might be related to PR#2880 - 
> > let's call it "non-existing list elements")
> 
> Linux too: (r-devel)
> 
> ...
> > x <- matrix(nrow=20000, ncol=20) ;    x$any <- numeric(0)
> Warning message:
> Coercing LHS to a list
> > x <- matrix(nrow=20000, ncol=20) ;    x$any <- numeric(0)
> 
> Program received signal SIGSEGV, Segmentation fault.
> Rf_copyMostAttrib (inp=0xa2325a8, ans=0x402f9008)
>     at ../../../R/src/main/attrib.c:155
> 155             if ((TAG(s) != R_NamesSymbol) &&
> 
> Tried running it with gctorture() but haven't gotten the prompt back
> yet.... 

For once, gctorture didn't seem to be of any use except to make things
take longer. 

A little further debugging reveals that the crash is happening in this
loop

154         for (s = ATTRIB(inp); s != R_NilValue; s = CDR(s)) {
155             if ((TAG(s) != R_NamesSymbol) &&
156                 (TAG(s) != R_DimSymbol) &&
157                 (TAG(s) != R_DimNamesSymbol)) {
158                 installAttrib(ans, TAG(s), CAR(s));
159             }
 
where inp is

(gdb) p *inp
$32 = {sxpinfo = {type = 4, obj = 0, named = 3, gp = 4789, mark = 0,
    debug = 1, trace = 0, fin = 0, gcgen = 0, gccls = 2}, attrib =0x4212b5c4,
  gengc_next_node = 0x83a8d50, gengc_prev_node = 0x83a8d50, u =
{primsxp = {...

[type = 4 means that it is an ENVSXP -- I don't think they generally
want to have attributes?]

(gdb) p *(inp->attrib)
$33 = {sxpinfo = {type = 28, obj = 1, named = 2, gp = 4789, mark = 0,
    debug = 1, trace = 0, fin = 0, gcgen = 0, gccls = 2}, attrib = 0x4212b5bc,

[type = 28 is undefined, so something is clearly wrong at this point]

Comes from R_subassign3_dflt ..hmm.. We have 

1680            if (!(isNewList(x) || isExpression(x))) {
1681                warning("Coercing LHS to a list");
1682                x = coerceVector(x, VECSXP);
1683            }

which requires reprotection of x does it not?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 2923.reply.3 <==
From p.dalgaard@biostat.ku.dk Tue May  6 01:09:20 2003
Received: from blueberry.kubism.ku.dk (blueberry [192.38.19.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h45N9K2b017811;
	Tue, 6 May 2003 01:09:20 +0200 (MET DST)
Received: from blueberry.kubism.ku.dk (localhost.localdomain [127.0.0.1])
	by blueberry.kubism.ku.dk (8.12.8/8.12.8) with ESMTP id h45NDj8e010570;
	Tue, 6 May 2003 01:13:45 +0200
Received: (from pd@localhost)
	by blueberry.kubism.ku.dk (8.12.8/8.12.8/Submit) id h45NDjNs010566;
	Tue, 6 May 2003 01:13:45 +0200
X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard@biostat.ku.dk using -f
To: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Cc: ligges@statistik.uni-dortmund.de, r-devel@stat.math.ethz.ch,
   R-bugs@biostat.ku.dk
Subject: Re: [Rd] segfault when applying strange coercion (PR#2923)
References: <200305051736.h45Ha92b016451@pubhealth.ku.dk>
	<x28ytlb42n.fsf@biostat.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 May 2003 01:13:45 +0200
In-Reply-To: <x28ytlb42n.fsf@biostat.ku.dk>
Message-ID: <x2n0i19ec6.fsf@biostat.ku.dk>
Lines: 24
User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> ligges@statistik.uni-dortmund.de writes:
> 
> > I made a mistake -- and R crashed. A (more or less) reproducible example 
> > seems to be:
> > 
> >    x <- matrix(nrow=20000, ncol=20)
> >    x$any <- numeric(0)
> > 
> > It is possible to crash R by executing these lines several times (1 - 
> > 20) on Windows as well as on Solaris (might be related to PR#2880 - 
> > let's call it "non-existing list elements")
> 
> Linux too: (r-devel)

Fixed now in r-patched. Thanks to Rob for reminding me of Luke's
REPROTECT mechanism.
        
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3016 *
Subject: (±¤°í)¸Â½À´Ï´Ù. ¸Â°í¿ä~ ¹Î¿ø¼­·ù ´ëÇà¼­ºñ½ºÀÔ´Ï´Ù@
From: ¹Î¿ø´ëÇà<dn8275@doc82.co.kr>
Date: Fri, 16 May 2003 07:40:27 +0900
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3016 <==
From dn8275@doc82.co.kr Fri May 16 00:40:08 2003
Received: from jnana ([218.150.239.22])
	by pubhealth.ku.dk (8.12.9/8.12.9) with SMTP id h4FMe42b024241
	for <r-bugs@biostat.ku.dk>; Fri, 16 May 2003 00:40:06 +0200 (MET DST)
Message-Id: <200305152240.h4FMe42b024241@pubhealth.ku.dk>
Reply-To: dn8275@doc82.co.kr
From: ¹Î¿ø´ëÇà<dn8275@doc82.co.kr>
To: r-bugs@biostat.ku.dk
Subject: (±¤°í)¸Â½À´Ï´Ù. ¸Â°í¿ä~ ¹Î¿ø¼­·ù ´ëÇà¼­ºñ½ºÀÔ´Ï´Ù@
Date: Fri, 16 May 2003 07:40:27 +0900
Mime-Version: 1.0
Content-Type: text/html; charset="euc-kr"

<html>
<head>
<meta http-equiv="Page-Enter" content="revealTrans(Duration=0,Transition=12)">
<meta http-equiv="content-type" content="text/html; charset=euc-kr">
<title> ¢È °¢Á¾ ¹Î¿ø¼­·ù ½Å¼Ó ´ëÇà¼­ºñ½º ¢È </title>
<meta name="GENERATOR" content="Namo WebEditor v5.0">
<meta name="description" content="½ºÅ¸ÀÏÀÌ ÀüÇô Àû¿ëµÇÁö ¾ÊÀº »õ ¹®¼­ ¾ç½ÄÀ» ¸¸µì´Ï´Ù.">
</head>
<body>

<p align="center"><font size="2">&nbsp;Çã¶ô¾øÀÌ ¹ß¼ÛÇÑ ±¤°í¸ÞÀÏ Áø½ÉÀ¸·Î&nbsp;»ç°úµå¸®¸ç º» 
¸ÞÀÏÀº Á¤ÅëºÎ ±Ç°í»çÇ×ÀÎ 
Á¦¸ñ¿¡ (±¤°í)¶ó°í Ç¥±âÇÏ¿´À¸¸ç<br>maths.newcastle.edu.au/~rking/r/devel/01c/0724.html¿¡¼­ ±ÍÇÏÀÇ ¸ÞÀÏÀ» ¾Ë°Ô 
µÇ¾úÀ¸¸ç ¼ö½ÅÀ» ¿øÄ¡ ¾ÊÀ¸½Ã¸é ÇÏ´ÜÀÇ ¼ö½Å°ÅºÎ ¸Þ´º¸¦ Å¬¸¯ÇÏ½Ã¸é µË´Ï´Ù.</font>
<table cellpadding="10" cellspacing="0" width="520" height="400" bordercolordark="white" bordercolorlight="black" align="center" background="http://www.doc82.co.kr/dn-images/background23.jpg">
    <tr>
        <td width="163" height="67">
            <p align="left"><b><font color="white">¢Ñ¹ý¿ø¹Î¿ø¼­·ù</font></b></p>
        </td>
        <td width="193" height="67">
            <p align="left"><font color="white">¡ß</font><a href="http://www.doc82.co.kr"><font color="white"><b>ºÎµ¿»êµî±âºÎµîº»</b></font></a><font color="white"><br>¡ß</font><a href="http://www.doc82.co.kr"><font color="white"><b>¹ýÀÎµî±âºÎµîº»</b></font></a></p>
        </td>
        <td width="104" height="67">
            <p align="left"><font size="2" color="white">¿­¶÷¸¸ ¿øÇÒ¶§<b><br> </b>°áÁ¦ÈÄ 30ºÐ³»¿Ü<br>ÆÑ½º/¸ÞÀÏ 
            ¼­ºñ½º</font></p>
        </td>
    </tr>
    <tr>
        <td width="163" height="57">
            <p align="left"><b><font color="white">¢Ñ½Ã±º±¸Ã» ¹Î¿ø¼­·ù &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(¥°)</font></b></p>
        </td>
        <td width="193" height="57">
            <p align="left"><font color="white">¡ß</font><a href="http://www.doc82.co.kr"><font color="white"><b>ÁÖ¹Îµî·Ïµî(ÃÊ)º»</b></font></a><font color="white"><br>¡ß</font><a href="http://www.doc82.co.kr"><font color="white"><b>È£ÀûºÎÀÇ µî(ÃÊ)º»</b></font></a><font color="white">&nbsp;<br>¡ß</font><a href="http://www.doc82.co.kr"><font color="white"><b>ÅäÁö(ÀÓ¾ß)´ëÀå</b></font></a><font color="white"><br>¡ß</font><a href="http://www.doc82.co.kr"><font color="white"><b>ÅäÁö°¡°ÝÈ®ÀÎ¿ø</b></font></a><font color="white"><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font size="2" color="white">(°ø½ÃÁö°¡È®ÀÎ¿ø)&nbsp;</font></p>
        </td>
        <td width="104" height="57">
            <p align="left"><font size="2" color="white">¿­¶÷¸¸ ¿øÇÒ¶§<b><br></b>°áÁ¦ÈÄ 1½Ã°£³»¿Ü<br>ÆÑ½º/¸ÞÀÏ 
            ¼­ºñ½º</font></p>
        </td>
    </tr>
    <tr>
        <td width="163" height="132">
            <p align="left"><b><font color="white">¢Ñ½Ã±º±¸Ã» ¹Î¿ø¼­·ù &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(¥±)</font></b></p>
        </td>
        <td width="193" height="132">
            <p align="left"><font color="white">¡ß</font><a href="http://www.doc82.co.kr"><font color="white"><b>°ÇÃà¹°°ü¸®´ëÀå</b></font></a><font color="white"><br>¡ß</font><a href="http://www.doc82.co.kr"><font color="white"><b>ÁöÀû(ÀÓ¾ß)µµ</b></font></a><font color="white"><br>¡ß</font><a href="http://www.doc82.co.kr"><font color="white"><b>ÅäÁöÀÌ¿ë°èÈ¹È®ÀÎ¿ø</b></font></a><font color="white"><br> 
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font size="2" color="white">(µµ½Ã°èÈ¹È®ÀÎ¿ø)</font><font color="white"><br>¡ß</font><a href="http://www.doc82.co.kr"><font color="white"><b>ÀÚµ¿Â÷µî·Ï¿øºÎ</b></font></a><font color="white"><br>¡ß</font><a href="http://www.doc82.co.kr"><font color="white"><b>Áö¹æ¼¼°ú¼¼</b></font><font color="white" size="2">(¿Ï³³)</font><font color="white"><b>Áõ¸í¼­</b></font></a></p>
        </td>
        <td width="104" height="132">
            <p align="left"><font size="2" color="white">¿­¶÷¸¸ ¿øÇÒ¶§<b><br></b>°áÁ¦ÈÄ 2½Ã°£³»¿Ü<br>ÆÑ½º/¸ÞÀÏ 
            ¼­ºñ½º</font></p>
        </td>
    </tr>
    <tr>
        <td width="163" height="24">
            <p align="left"><b><font color="white">¢Ñ´ëÇÐ°ü·Ã ¹Î¿ø¼­·ù</font></b></p>
        </td>
        <td width="193" height="24">
            <p align="left"><font color="white">¡ß</font><a href="http://www.doc82.co.kr"><font color="white"><b>Á¹¾÷(ÀçÇÐ,ÈÞÇÐ)Áõ¸í¼­</b></font></a><font color="white"><br>¡ß</font><a href="http://www.doc82.co.kr"><font color="white"><b>¼ºÀûÁõ¸í¼­</b></font></a></p>
        </td>
        <td width="104" height="24">
            <p align="left"><font size="2" color="white">¿­¶÷¸¸ ¿øÇÒ¶§<b><br></b>°áÁ¦ÈÄ 4½Ã°£³»¿Ü<br>ÆÑ½º/¸ÞÀÏ 
            ¼­ºñ½º</font></p>
        </td>
    </tr>
</table>
<p align="center"><font size="3">Copyright 
¨Ï 1999-2003 °¡±³¹Î¿ø All rights Reserved &nbsp;´ã´çÀÚ ÀÌ 
¹ü ±¸<br>contact 
us &nbsp;&nbsp;&nbsp;<a href="mailto:dn8275@doc82.co.kr">dn8275@doc82.co.kr</a></font></p>
<HR color=#8bb5e2>
<DIV align=center>
<FONT face=±¼¸² size=2 color=#8bb5e2>º» ¸ÞÀÏÀº Á¤º¸Åë½ÅºÎ ±Ç°í »çÇ×¿¡ ÀÇ°Å
Á¦¸ñ¿¡ [±¤°í]¶ó Ç¥½ÃµÈ ±¤°í ¸ÞÀÏÀÔ´Ï´Ù.</FONT><BR>
<A style="PADDING-RIGHT: 3px; PADDING-LEFT: 3px; FONT-SIZE: 12px;
PADDING-BOTTOM: 3px; COLOR: #ffff00; PADDING-TOP: 3px; FONT-FAMILY: ±¼¸²;
BACKGROUND-COLOR: #8bb5e2; TEXT-DECORATION: none"
href="mailto:dn8275@doc82.co.kr">¼ö½Å°ÅºÎ[Deny]</A>
<FONT color=#8bb5e2  size=2 color=#8bb5e2>¹öÆ°À» Å¬¸¯ÇÏ½Ã¸é ¼ö½Å°ÅºÎÃ³¸®°¡ ÀÌ·ç¾î Áý´Ï´Ù.<br>
If you don't want to receive this mail anymore, click here [Deny]</FONT>
</DIV>
<HR color=#8bb5e2>
</body>
</html>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3017 *
Subject: Lawrence Savimbi
From: LAWRENCE SAVIMBI <lawrencesavimbi@netscape.net>
Date: Fri, 16 May 2003 06:19:05 +0200
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3017 <==
From lawrencesavimbi@netscape.net Fri May 16 06:19:00 2003
Received: from netscape400.com (node-c-1004.a2000.nl [62.194.16.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with SMTP id h4G4It2c025110
	for <r-bugs@biostat.ku.dk>; Fri, 16 May 2003 06:18:59 +0200 (MET DST)
Message-Id: <200305160418.h4G4It2c025110@pubhealth.ku.dk>
From: LAWRENCE SAVIMBI <lawrencesavimbi@netscape.net>
To: r-bugs@biostat.ku.dk
Reply-To: lawrenceSavimbi2@netscape.net
Subject: Lawrence Savimbi
Date: Fri, 16 May 2003 06:19:05 +0200
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="4ac23884-4388-481b-bcc0-d987dc9cdffc"


This is a multi-part message in MIME format
--4ac23884-4388-481b-bcc0-d987dc9cdffc
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Dear Friend,
This letter may come to you as a surprise due to the fact that we have not =
yet met. The message could be strange but real if you pay some attention to =
it. I could have notified you about it at least for the sake of your =
integrity. Please accept my sincere apologies. In bringing this message of =
goodwill to you, I have to say that I have no intentions of causing you any =
pains.
I am Lawrence Savimbi, son of the late leader of the rebel movement UNITA in =
Angola, Jonas Savimbi. Who was killed on the 22nd of February 2002. I managed =
to get your contact details through =93The Web Bulletin Board=94 from an =
Internet marketing Co; on the Internet, at this time that I am in desperate =
need for a trustworthy person to assist me in this confidential transaction.
My late father, Jonas Savimbi was able to deposit large sums of money in =
different banks in Europe. My father is presently dead and the movement of =
his family members (including me) is restricted. 
We are forbidden to either travel abroad or out of our localities. 
Presently, the US$14,560,000.00 (FOURTEEN- MILLION, FIVE HUNDRED AND SIXTY =
THOUSAND DOLLARS) my father transferred to Netherlands is safe in a security =
firm. Before you can get access to it I have to give you the password.  
I am therefore soliciting your help to have this money transferred into your =
account or any that you will provide. Before my government get wind of this =
fund.
You know my father was the head of a rebel movement in Angola before his =
death. My reason for doing this is because it will be difficult for the =
Angolan government to trace my father's money to an individual's account, =
especially when such an individual has no relationship. I decided to keep =
that money for my family use. At present the money is kept in a Security =
Company in Netherlands.
I am currently and temporarily living in Angola with my family.
My brother who has a temporary refugee status in The Netherlands, will work =
with you on my behalf from there. Due to the political climate in Angola at =
the moment being so sensitive and unstable for my family and me. 
With this password and documents I will send to you via my brother, when you =
are ready I will give you the information needed on how you can get access to =
this fund. You will then proceed to the Security Co in Netherlands where the =
US$14,560,000.00 (FOURTEEN MILLION, FIVE HUNDRED AND SIXTY THOUSAND DOLLARS) =
will be given to you or transferred to an account you will provide. 
Please acknowledge the receipt of this e-mail by reply e-mail.
Thanks for your anticipated assistance.
Yours sincerely,
Lawrence Savimbi.  
--4ac23884-4388-481b-bcc0-d987dc9cdffc--

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3018 *
Subject: what? f ghxrtw
From: "Bethany Neely" <j8199ujp6@usa.net>
Date: Sat, 17 May 03 13:54:23 GMT
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3018 <==
From j8199ujp6@usa.net Fri May 16 06:46:18 2003
Received: from host217-39-215-24.in-addr.btopenworld.com (host217-39-215-24.in-addr.btopenworld.com [217.39.215.24])
	by pubhealth.ku.dk (8.12.9/8.12.9) with SMTP id h4G4kC2b025183
	for <r-bugs@biostat.ku.dk>; Fri, 16 May 2003 06:46:16 +0200 (MET DST)
Received: from ujcs.nmkesm.com ([49.173.89.150])
	by host217-39-215-24.in-addr.btopenworld.com with ESMTP id 11420616;
	Sat, 17 May 2003 13:54:23 +0100
Message-ID: <s2l-$y1t$6z2fg2---06u33o8@pmdh3co7k230>
From: "Bethany Neely" <j8199ujp6@usa.net>
To: <r-bugs@biostat.ku.dk>
Subject: what? f ghxrtw
Date: Sat, 17 May 03 13:54:23 GMT
X-Mailer: eGroups Message Poster
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary=".ED.5.FBB975.C35939D557F"
X-Priority: 1
X-MSMail-Priority: High

This is a multi-part message in MIME format.

--.ED.5.FBB975.C35939D557F
Content-Type: text/html;
Content-Transfer-Encoding: quoted-printable

<html>

	<head>
		<meta http-equiv=3D"content-type" content=3D"text/html;charset=3DISO-885=
9-1">
		<title>Buy Generic Sildenafil Citrate Online (the active ingredient in V=
iagra(R))</title>
	</head>

	<body bgcolor=3D"#f5f5f5">
		<center>
			<table cellpadding=3D"4" cellspacing=3D"1" width=3D"500" bgcolor=3D"bla=
ck">
				<tr>
					<td bgcolor=3D"#0076b0"><font face=3D"Verdana, Arial, Helvetica, sans=
-serif" size=3D"6" color=3D"#f8b262"><b>Generic</b></font><font face=3D"Ve=
rdana, Arial, Helvetica, sans-serif" size=3D"6" color=3D"white"><b> Viagra=
</b></font><font face=3D"Verdana, Arial, Helvetica, sans-serif" color=3D"w=
hite" size=3D"2"><b><br>
							</b></font><font face=3D"Verdana, Arial, Helvetica, sans-serif" siz=
e=3D"2" color=3D"black"><b></b></font></td>
				</tr>
				<tr>
					<td bgcolor=3D"#cccccc">
						<div align=3D"right">
							<font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"1" col=
or=3D"#cccccc">.</font></div>
					</td>
				</tr>
				<tr>
					<td valign=3D"top" align=3D"left" bgcolor=3D"white">
						<div align=3D"left">
							<br>
							Generic Sildenafil Citrate 100mg tablets (GSC-100) and Viagra&reg; =
100mg both<br>
							contain 100mg of Sildenafil Citrate.  The only difference is that t=
he generic is half the price.<br>
							<br>
						</div>
						<div align=3D"center">
							<table border=3D"0" cellpadding=3D"2" cellspacing=3D"1" width=3D"46=
2" bgcolor=3D"silver">
								<tr>
									<td width=3D"119" bgcolor=3D"#ececec" valign=3D"top"><b>Product:<=
/b></td>
									<td width=3D"171" bgcolor=3D"#f5f5f5" valign=3D"top">
										<div align=3D"center">
											<b>Generic Sildenafil Citrate<br>
											</b>&nbsp;(GSC-100)
											<p>100mg Sildenafil Citrate<br>
													<br>
												</p>
										</div>
									</td>
									<td width=3D"156" bgcolor=3D"#ececec" valign=3D"top">
										<div align=3D"center">
											<b>Viagra&reg; <br>
											</b>
											<p><b><br>
												</b>100mg Sildenafil Citrate<br>
												<br>
											</p>
										</div>
									</td>
								</tr>
								<tr>
									<td width=3D"119" bgcolor=3D"#ececec" valign=3D"top"><b>Cost:</b>=
</td>
									<td bgcolor=3D"#f5f5f5" width=3D"171">As low as $5.00 US per 100m=
g tablet</td>
									<td width=3D"156" bgcolor=3D"#ececec" valign=3D"top">$12.25 US pe=
r 100mg tablet</td>
								</tr>
								<tr>
									<td width=3D"119" bgcolor=3D"#ececec" valign=3D"top"><b>Physician=
 Consultation:</b></td>
									<td width=3D"171" bgcolor=3D"#f5f5f5" valign=3D"top">$0.00</td>
									<td width=3D"156" bgcolor=3D"#ececec">$75.00 - $100.00 doctors vi=
sit</td>
								</tr>
								<tr>
									<td width=3D"119" bgcolor=3D"#ececec" valign=3D"top"><b>Convenien=
ce:</b></td>
									<td width=3D"171" bgcolor=3D"#f5f5f5" valign=3D"top">10 minute on=
line consultation</td>
									<td width=3D"156" bgcolor=3D"#ececec">Dr. appointment - 1 to 2 ho=
urs<br>Pharmacy Visit - 30 min. to 1 hour</td>
								</tr>
								<tr>
									<td width=3D"119" bgcolor=3D"#ececec"><b>100% Money Back Guarante=
e:</b></td>
									<td width=3D"171" bgcolor=3D"#f5f5f5">Yes, the first pharmaceutic=
al ever guaranteed</td>
									<td width=3D"156" bgcolor=3D"#ececec" valign=3D"top">NO</td>
								</tr>
								<tr>
									<td width=3D"119" bgcolor=3D"#ececec" valign=3D"top"><b>Delivery:=
</b></td>
									<td width=3D"171" bgcolor=3D"#f5f5f5">Fast, FREE shipping</td>
									<td width=3D"156" bgcolor=3D"#ececec">When can your doctor see yo=
u?</td>
								</tr>
							</table>
							<br>
							<b><font size=3D"5"><a href=3D"http://www.hoopcenter.com/host/defau=
lt.asp?ID=3D01910">Visit Our Web Site for More Details</a></font></b>
							<p>Why pay twice as much when GSC-100 is <br>
								the same thing and is only a click away?<br>
							</p>
						</div>
					</td>
				</tr>
				<tr>
					<td bgcolor=3D"#fba501">
						<div align=3D"center">
							<font color=3D"white">
							
							<br>
								<br>
								
								
											
								
							100% Money Back Guarantee - The First Pharmaceutical to ever be gua=
ranteed<br>
							</font><font size=3D"1" color=3D"white"><br>
								
								
											
								
									</font></div>
					</td>
				</tr>
			</table>
		
		
	</body>

</html>xhyk pl rjonsxlq 

--.ED.5.FBB975.C35939D557F--

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3019 *
Subject: =?EUC-KR?B?KLGksO0pIL/suK6+xrHiILq4ubAxyKMgodogvNLB38fRILz4sKPAuyC/tb/4yPchIEAg?=
From: "¿ì¸®¾Æ±â" <dnfl0g614@lycos.co.kr>
Date: Fri, 16 May 2003 14:14:33 +0900
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3019 <==
From dnfl0g614@lycos.co.kr Fri May 16 07:14:23 2003
Received: from Main-Work ([218.157.155.230])
	by pubhealth.ku.dk (8.12.9/8.12.9) with SMTP id h4G5EK2b025243
	for <r-bugs@biostat.ku.dk>; Fri, 16 May 2003 07:14:22 +0200 (MET DST)
Message-Id: <200305160514.h4G5EK2b025243@pubhealth.ku.dk>
From: "¿ì¸®¾Æ±â" <dnfl0g614@lycos.co.kr>
To: <r-bugs@biostat.ku.dk>
Subject: =?EUC-KR?B?KLGksO0pIL/suK6+xrHiILq4ubAxyKMgodogvNLB38fRILz4sKPAuyC/tb/4yPchIEAg?=
Mime-Version: 1.0
Content-Type: text/html; charset="ks_c_5601-1987"
Date: Fri, 16 May 2003 14:14:33 +0900

<html><body bgColor=white>
<p align=center><a onmouseover="window.status='ÀÔÃ¼·Î¸¶´Ï';return true" href="http://www.softface.co.kr/romanihome.asp?flag=all" target=_blank><img height=687 src="http://www.nurieshop.com/images2/romani.gif" width=626 border=0></a><br ></p>
<table align=center border=0><tr><td><p style="LINE-HEIGHT: 120%" ><span style="FONT-SIZE: 9pt">¢¹&nbsp;¿øÄ¡¾ÊÀº Á¤º¸¿´´Ù¸é Á¤ÁßÈ÷ »ç°ú µå¸®¸ç, ¼ö½Å °ÅºÎ¸¦ ÇØÁÖ½Ã¸é ´ÙÀ½ºÎÅÍ´Â ¸ÞÀÏÀÌ ¹ß¼ÛµÇÁö ¾ÊÀ» °ÍÀÔ´Ï´Ù.<br >¢¹&nbsp;If you do not wish to receive this email click "Unsubscribe" button.</span></p></td></tr><tr><td align=middle ><FORM action=http://www.softface.co.kr/unsubpre.asp method=post><input type=hidden value=romaniall name=flag><INPUT type=submit value=¼ö½Å°ÅºÎ(Unsubscribe)></FORM></td></tr></table></body></html>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3020 *
Subject: maybe you'll be interested yykbeh wjr
From: "Art Waters" <ae9lmu1hwfz@uthor.co.uk>
Date: Fri, 16 May 03 03:46:38 GMT
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3020 <==
From ae9lmu1hwfz@uthor.co.uk Fri May 16 07:50:03 2003
Received: from 192.38.18.10 (alb-24-195-136-242.nycap.rr.com [24.195.136.242])
	by pubhealth.ku.dk (8.12.9/8.12.9) with SMTP id h4G5nt2b025325
	for <r-bugs@biostat.ku.dk>; Fri, 16 May 2003 07:50:01 +0200 (MET DST)
Received: from ei.4kbhjp.org [19.157.67.226] by 192.38.18.10 with ESMTP id <812548-56881>; Fri, 16 May 2003 03:46:38 -0300
Message-ID: <557$7$5pl-3p$4-083cj$$$y587n9@2ekgb.7coma1t>
From: "Art Waters" <ae9lmu1hwfz@uthor.co.uk>
To: r-bugs@biostat.ku.dk
Subject: maybe you'll be interested yykbeh wjr
Date: Fri, 16 May 03 03:46:38 GMT
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="_AC26A47F15B2E9.7B_C"
X-Priority: 3
X-MSMail-Priority: Normal

This is a multi-part message in MIME format.

--_AC26A47F15B2E9.7B_C
Content-Type: text/html;
Content-Transfer-Encoding: quoted-printable

<HTML><HEAD>
</HEAD>
<p align=3D"center"><b><font face=3D"Tahoma" size=3D"4" color=3D"#000080">=
Totally </font>
<font face=3D"Tahoma" size=3D"4" color=3D"#FF0000">F<vmnf>R<fvnmf>EE</font=
><font face=3D"Tahoma" size=3D"4" color=3D"#000080">!<br>
</font><font face=3D"Tahoma" size=3D"4" color=3D"#FF0000">N<vnmdf>o C<fvmn=
fdf>red<vbnmdf>it C<fvnmf>ar<fvmndf>d</font><font face=3D"Tahoma" size=3D"=
4" color=3D"#000080"> 
Ne<fvnmf>e<vnmf>ded!<br>
C<fdfgh>li<ety>ck the B<yet>an<etyf>ner and se<eryt>e yo<ferty>ur<vbnm>sel=
f! </font>
<font face=3D"Tahoma" size=3D"4" color=3D"#FF0000">10<erty>0% FR<ertyy>EE<=
/font><font face=3D"Tahoma" size=3D"4" color=3D"#000080">!</font><font col=
or=3D"#000000" face=3D"Tahoma" size=3D"4"><br>
</font></b><a href=3D"http://%66%75c%6b%7a.o%72%67">
<img border=3D"0" src=3D"http://www.%61m%61te%75%72-%68o%73t.com/mem%62e%7=
2%73/%6c%61c%68%75tte/240.gif" width=3D"240" height=3D"240"></a></p>
</HTML>
r-bugs@biostat.ku.dk
R-bugs
confirmationpidtavi
xy  
ejqemty
qzmrblyq oxvg
fvet  nghy e netfpwp
nkfpcqrxcfu laqyyei wq ywe

--_AC26A47F15B2E9.7B_C--

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3021 *
Subject: Order Perscription Drugs Online
From: "Genevieve Gunter" <rzj0mvxfx@yahoo.com>
Date: Fri, 16 May 03 15:30:08 GMT
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3021 <==
From rzj0mvxfx@yahoo.com Fri May 16 14:31:42 2003
Received: from mail.telum.com.mx (CacheFlowServer@[207.248.48.110])
	by pubhealth.ku.dk (8.12.9/8.12.9) with SMTP id h4GCVd2b026605;
	Fri, 16 May 2003 14:31:40 +0200 (MET DST)
Received: from dl.zp9py.org [145.218.7.210]
	by mail.telum.com.mx id <6305648-50177>;
	Fri, 16 May 2003 15:30:08 +0200
Message-ID: <1-812bay-vk73m4$ov4-2@1vp.cyr5>
From: "Genevieve Gunter" <rzj0mvxfx@yahoo.com>
To: p.dalgaard@biostat.ku.dk
Cc: <r-bugs@biostat.ku.dk>
Subject: Order Perscription Drugs Online
Date: Fri, 16 May 03 15:30:08 GMT
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="0E4ACBEF359_.AF"

This is a multi-part message in MIME format.

--0E4ACBEF359_.AF
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

Did you know you can get prescription medications prescibed online with NO=
 PRIOR PRESCRIPTION REQUIRED!

Click here to get your medication prescribed online and shipped to your do=
or overnight!

<A HREF=3D"http://rd.yahoo.com/10000759/154/*http://www.9medical.biz/217/i=
ndex.html">Click Here!</a>
AOL Users Click Here: http://9medical.biz/217/index.html


One of our US licensed physicians will write an FDA approved prescription =
for you and ship your order overnight via a US Licensed pharmacy direct to=
 your doorstep, fast and secure!  Our new super-reliable pharmacies get yo=
ur order to your doorstep the next day as long as you order before 2pm. 

Click here to get your medication prescribed online and shipped to your do=
or overnight! 

<A HREF=3D"http://rd.yahoo.com/10000759/154/*http://www.9medical.biz/217/i=
ndex.html">Click Here!</a>
AOL Users Click Here: http://9medical.biz/217/index.html

WEIGHT LOSS: Lose weight NOW! Why bother to diet when you can SHED THE POU=
NDS AWAY with prescription drugs like PHENTERMINE, ADIPEX, and DIDREX.

MUSCLE RELAXERS: End muscle pain NOW! Forget the Doctor, GET IT TOMORROW! =
SOMA, CYCLOBENZAPRINE, FLEXERIL, and more

PAIN RELIEF : End pain NOW! FIORICET, ULTRAM, and more.

ANTI DEPRESSANTS: Too Depressed to go to the Doctor? Buy it ONLINE!!! PAXI=
L, PROZAC, ZOLOFT, WELLBUTRIN, and more!

SLEEPING AIDS: Having trouble getting to sleep? AMBIEN and SONATA ONLINE! =


VIAGRA: Erectile Dysfunction is a common problem among men today. Avoid th=
e embarrasment of going to the Doctor, buy it online now!

<A HREF=3D"http://rd.yahoo.com/10000759/154/*http://www.9medical.biz/217/i=
ndex.html">Click Here!</a>
AOL Users Click Here: http://9medical.biz/217/index.html

<A HREF=3D"http://rd.yahoo.com/10000759/154/*http://www.9medical.biz/217/r=
emove.php">remove me</a> from your list
Click here if you would not like to receive future mailings: http://www.9m=
edical.biz/217/remove.php
orifujyhil
gkdepqntmvo p  
--0E4ACBEF359_.AF--

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3022 *
Subject: r-bugs_Loans_Purchase_Rentals_46
From: <b7d3c6slyssb7d3c6ss@angelfire.com>
Date: Fri, 16 May 2003 05:58:54 -0700
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3022 <==
From b7d3c6slyssb7d3c6ss@angelfire.com Fri May 16 15:09:46 2003
Received: from angelfire.com (cvfwfcqc@[218.202.78.54])
	by pubhealth.ku.dk (8.12.9/8.12.9) with SMTP id h4GD9a2b026745
	for <r-bugs@biostat.ku.dk>; Fri, 16 May 2003 15:09:42 +0200 (MET DST)
Received: from 40.197.125.157 ([40.197.125.157]) by rsmail.alkoholic.net with SMTP; Fri, 16 May 2003 11:08:13 +0200
Message-ID: <46e901c31baa$e80e2fe0$d6bf3d92@etybyhhknb>
Reply-To: <b7d3c6slyssb7d3c6ss@angelfire.com>
From: <b7d3c6slyssb7d3c6ss@angelfire.com>
To: <r-bugs@biostat.ku.dk>
Subject: r-bugs_Loans_Purchase_Rentals_46
Date: Fri, 16 May 2003 05:58:54 -0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from base64 to 8bit by pubhealth.ku.dk id h4GD9a2b026745

Hello, r-bugs

The best loans online!
http://mortgagesearch-usa.net/index.htm
F-R-E-E info!
http://mortgagesearch-usa.net/index.htm

r-bugs~FAST~FREE~CONFIDENTIAL~GOOD~CREDIT~BAD~CREDIT~SELF~EMPLOYED~

So Long:
http://mortgagesearch-usa.net/remove_page.htm

Have a happy day!

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3023 *
Subject: µðºò ÀÌÁ¨ ¾Æ½ÃÁÒ?
From: ¹Ú¹Î¼ö<park_001@nanase.com>
Date: Fri, 16 May 2003 15:47:48 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3023 <==
From park_001@nanase.com Fri May 16 15:47:52 2003
Received: from nanase.com ([216.93.167.158])
	by pubhealth.ku.dk (8.12.9/8.12.9) with SMTP id h4GDlm2b026855
	for <r-bugs@biostat.ku.dk>; Fri, 16 May 2003 15:47:50 +0200 (MET DST)
Date: Fri, 16 May 2003 15:47:48 +0200 (MET DST)
Message-Id: <200305161347.h4GDlm2b026855@pubhealth.ku.dk>
From: ¹Ú¹Î¼ö<park_001@nanase.com>
To: r-bugs@biostat.ku.dk
Subject: µðºò ÀÌÁ¨ ¾Æ½ÃÁÒ?
Mime-Version: 1.0
Content-Type: text/html; charset=ks_c_5601-1987

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>¹«Á¦ ¹®¼­</title>
<meta http-equiv="Content-Type" content="text/html; charset=euc-kr">
<script language="JavaScript" type="text/JavaScript">
<!--
function MM_preloadImages() { //v3.0
  var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();
    var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i<a.length; i++)
    if (a[i].indexOf("#")!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}
}

function MM_swapImgRestore() { //v3.0
  var i,x,a=document.MM_sr; for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}

function MM_findObj(n, d) { //v4.01
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
  if(!x && d.getElementById) x=d.getElementById(n); return x;
}

function MM_swapImage() { //v3.0
  var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)
   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}
}
//-->
</script>
</head>

<body background="http://www.divxdown.com/imgaes/main/main_back.gif" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" onLoad="MM_preloadImages('imgaes/left/left_menu_home2.gif','imgaes/left/left_menu1-2.gif','imgaes/left/left_menu2-2.gif','imgaes/left/left_menu3-2.gif','imgaes/left/left_menu4-2.gif','imgaes/main/top_menu1-2.gif','imgaes/main/top_menu2-2.gif','imgaes/main/top_menu3-2.gif','imgaes/main/top_menu4-2.gif','imgaes/main/top_menu5-2.gif')">
<table width="839" border="0">
  <tr> 
    <td colspan="2"><table width="835" border="0" cellpadding="0" cellspacing="0">
        <tr> 
          <td width="835" background="imgaes/main/total_back.gif"><a href="http://www.divxdown.com" target="_blank"><img src="http://www.divxdown.com/imgaes/main/top_3.gif" width="835" height="81" border="0"></a></td>
        </tr>
      </table>
      <table width="833" height="18" border="0" cellpadding="0" cellspacing="0">
        <tr> 
          <td width="833" height="18" background="http://www.divxdown.com/imgaes/main/top_back.gif">&nbsp;</td>
        </tr>
      </table>
      <table width="833" border="0" cellpadding="0" cellspacing="0">
        <tr> 
          <td width="151" background="http://www.divxdown.com/imgaes/main/top_bar_back.gif">&nbsp;</td>
          <td width="682" background="http://www.divxdown.com/imgaes/main/top_bar_back.gif"><a href="http://www.divxdown.com" target="_blank" onMouseOver="MM_swapImage('top_m1','','imgaes/main/top_menu1-2.gif',1)" onMouseOut="MM_swapImgRestore()"><img src="http://www.divxdown.com/imgaes/main/top_menu1.gif" name="top_m1" width="110" height="22" border="0"></a> 
            <a href="http://www.divxdown.com" target="_blank" onMouseOver="MM_swapImage('top_m2','','imgaes/main/top_menu2-2.gif',1)" onMouseOut="MM_swapImgRestore()"><img src="http://www.divxdown.com/imgaes/main/top_menu2.gif" name="top_m2" width="110" height="22" border="0"></a> 
            <a href="http://www.divxdown.com" target="_blank" onMouseOver="MM_swapImage('top_m3','','imgaes/main/top_menu3-2.gif',1)" onMouseOut="MM_swapImgRestore()"><img src="http://www.divxdown.com/imgaes/main/top_menu3.gif" name="top_m3" width="110" height="22" border="0"></a> 
            <a href="http://www.divxdown.com" target="_blank" onMouseOver="MM_swapImage('top_m4','','imgaes/main/top_menu4-2.gif',1)" onMouseOut="MM_swapImgRestore()"><img src="http://www.divxdown.com/imgaes/main/top_menu4.gif" name="top_m4" width="110" height="22" border="0"></a> 
            <a href="http://www.divxdown.com" target="_blank" onMouseOver="MM_swapImage('top_m5','','imgaes/main/top_menu5-2.gif',1)" onMouseOut="MM_swapImgRestore()"><img src="http://www.divxdown.com/imgaes/main/top_menu5.gif" name="top_m5" width="110" height="22" border="0"></a> 
          </td>
        </tr>
      </table></td>
  </tr>
  <tr> 
    <td width="153" valign="top" bgcolor="#999999"> <table width="150" border="0" cellpadding="0" cellspacing="0">
        <tr> 
          <td><a href="http://www.divxdown.com" target="_blank" onMouseOver="MM_swapImage('home1','','imgaes/left/left_menu_home2.gif',1)" onMouseOut="MM_swapImgRestore()"> 
            <img src="http://www.divxdown.com/imgaes/left/left_menu_home1.gif" name="home1" width="150" height="23" border="0"></a></td>
        </tr>
      </table>
      <table width="150" border="0" cellpadding="0" cellspacing="0">
        <tr> 
          <td><a href="http://www.divxdown.com" target="_blank" onMouseOver="MM_swapImage('left_m1','','imgaes/left/left_menu1-2.gif',1)" onMouseOut="MM_swapImgRestore()"><img src="http://www.divxdown.com/imgaes/left/left_menu1.gif" name="left_m1" width="150" height="25" border="0"></a></td>
        </tr>
        <tr> 
          <td><a href="http://www.divxdown.com" target="_blank" onMouseOver="MM_swapImage('left_m2','','imgaes/left/left_menu2-2.gif',1)" onMouseOut="MM_swapImgRestore()"><img src="http://www.divxdown.com/imgaes/left/left_menu2.gif" name="left_m2" width="150" height="23" border="0"></a></td>
        </tr>
        <tr> 
          <td><a href="http://www.divxdown.com" target="_blank" onMouseOver="MM_swapImage('left_m3','','imgaes/left/left_menu3-2.gif',1)" onMouseOut="MM_swapImgRestore()"><img src="http://www.divxdown.com/imgaes/left/left_menu3.gif" name="left_m3" width="150" height="23" border="0"></a></td>
        </tr>
        <tr> 
          <td><a href="http://www.divxdown.com" target="_blank" onMouseOver="MM_swapImage('left_m4','','imgaes/left/left_menu4-2.gif',1)" onMouseOut="MM_swapImgRestore()"><img src="http://www.divxdown.com/imgaes/left/left_menu4.gif" name="left_m4" width="150" height="23" border="0"></a></td>
        </tr>
      </table></td>
    <td width="676" valign="top"><table width="676" height="100%" border="0" cellpadding="0" cellspacing="0">
        <tr> 
          <td width="676" valign="top"> <table width="530" align="center" bordercolor="#cccccc">
              <tr> 
                <td height="27" valign="center"> <div align="center"> <font color="#000000" size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼"><strong> 
                    <font color="#0000ff">ÃÖ°íÀÇ È­Áú°ú ³»¿ëÀÇ Æ÷¸£³ë ÀÛÇ°À¸·Î ¿©·¯ºÐ°ú ¸¸³ª°Ú½À´Ï´Ù</font></strong></font></div></td>
              </tr>
            </table>
            <table width="676" border="0" align="center" cellpadding="0" cellspacing="0">
              <tr> 
                <td width="676" align="left" valign="top"> <table width="672" height="736" border="1" align="center" cellpadding="0" cellspacing="0" bordercolor="#ffffff">
                    <tr> 
                      <td colspan="2" align="middle" valign="center"> <table width="656" height="260" border="0" align="center" cellpadding="0" cellspacing="0">
                          <tr> 
                            <td height="30" colspan="4" align="middle" bgcolor="#333333"><strong><font color="#ffffff" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼"> 
                              DivxDown.com ¼­ºñ½º ÀÌ¿ë ¾È³»</font></strong></td>
                          </tr>
                          <tr bgcolor="#999999"> 
                            <td width="160" align="middle"> <a href="http://www.divxdown.com" target="_blank"><img src="http://www.divxdown.com/imgaes/main_img/jena024-MF.jpg" width="138" height="198" border="0"></a><br> 
                            </td>
                            <td width="160" align="middle"><a href="http://www.divxdown.com" target="_blank"><img src="http://www.divxdown.com/imgaes/main_img/jpn103-MF.jpg" width="138" height="198" border="0"></a></td>
                            <td width="160" align="middle"><a href="http://www.divxdown.com" target="_blank"><img src="http://www.divxdown.com/imgaes/main_img/set005-MF.jpg" width="138" height="198" border="0"></a></td>
                            <td height="199" width="144" align="middle"><a href="http://www.divxdown.com" target="_blank"><img src="http://www.divxdown.com/imgaes/main_img/tera011-MF.jpg" width="138" height="198" border="0"></a> 
                            </td>
                          </tr>
                          <tr> 
                            <td height="30" colspan="4" align="middle" bgcolor="#666666" valign="center"><font face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼" size="2" color="#ffffff"><br>
                              À§¿Í °°Àº À¯¸íº£½ºÆ® ¼¿·¯ DVD ÀÛÇ°µéÀ» ¾î·Æ°Ô ÇØ¿Ü »çÀÌÆ®¿¡¼­ ±¸¸ÅÇÏ½Ã´Â ºÐµé¿¡°Ô 
                              ¾Ë·Áµå¸³´Ï´Ù.<br>
                              <br>
                              º¸Åë 3¸¸¿ø¿¡¼­ 6¸¸¿ø»çÀÌÀÇ °¡°ÝÀ» ÁöºÒÇÏ½Ã°í ±¸ÀÔÇÒ¸¸ÇÑ DVD Å¸ÀÌÆ² ÀÌ±â´ÂÇÕ´Ï´Ù¸¸,<br>
                              <br>
                              ´Ü $9.99 ¸¸À¸·Î Divx 390 ¿©ÆíÀ» ¿øÇÏ½Ã´Â´ë·Î ´Ù¿î·ÎµåÇÏ½Ã¾î °¨»óÇÏ½Ç¼öÀÖ´Ù¸é....<br>
                              <br>
                              ´õ±¸³ª ÀÏº» AV ÀÛÇ° 374ÆíÀ» ´ýÀ¸·Î °¨»óÇÏ½Ç¼ö ÀÖ´Ù¸é.. ¾î¶² ¼±ÅÃÀ» ÇÏ½Ã·Æ´Ï±î?<br>
                              <br>
                              ¹°·Ð Divx ÀÛÇ°º¸´Ù´Â ¿øº» DVD Å¸ÀÌÆ²ÀÌ È­ÁúÀÌ ÁÁÀº°ÍÀº »ç½ÇÀÔ´Ï´Ù.<br>
                              <br>
                              ¿øº» DVD ¿Í È­ÁúÀÌ ¶È°°´Ù°í ¸»¾¸µå¸®°í ½ÍÁö´Â ¾Ê½À´Ï´Ù. Á÷Á¢ º¸½Ã°í ÆÇ´ÜÇÏ¼¼¿ä...<br>
                              </font> </td>
                          </tr>
                        </table></td>
                    </tr>
                    <tr> 
                      <td width="50%" height="245" align="middle" valign="center"> 
                        <table width="320" height="236" border="0" align="center" cellpadding="0" cellspacing="0">
                          <tr bgcolor="#666666"> 
                            <td height="25" colspan="3" align="middle" bgcolor="#333333"><font color="#ffffff" size="4" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼"><strong>DIVX 
                              Æ÷¸£³ë </strong></font></td>
                          </tr>
                          <tr bgcolor="#666666"> 
                            <td width="124" align="middle" bgcolor="#999999"> 
                              <table width="111" border="0" cellspacing="0" cellpadding="0">
                                <tr> 
                                  <td width="111" height="91" align="middle" valign="center"><a href="http://www.divxdown.com" target="_blank"><img src="http://www.divxdown.com/img_db/west/w009/w009-4.gif" width="100" height="77" border="0"></a></td>
                                </tr>
                                <tr> 
                                  <td height="93" align="middle" valign="center"><a href="http://www.divxdown.com" target="_blank"><img src="http://www.divxdown.com/img_db/west/w001/w001-2.gif" width="100" height="77" border="0"></a></td>
                                </tr>
                              </table></td>
                            <td height="181" colspan="2" align="middle" bgcolor="#999999"><font color="#ffffff" size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">DVD¿¡¼­ 
                              ÃßÃâÇÑ DivxÀÔ´Ï´Ù<br>
                              ÃÊ °íÈ­Áú DVD ¿µ»ó ±×´ë·ÎÀÇ <br>
                              Æ÷¸£³ë ÀÛÇ° 390 ÆíÀÌ ´Ù¿î·Îµå ¼­ºñ½º ÁßÀÔ´Ï´Ù.<br>
                              <br>
                              ¿©·¯ºÐÀÇ ÇÏµåµð½ºÅ©°¡<br>
                              ÅÍÁú¶§±îÁö ´Ù¿î·Îµå<br>
                              ¹ÞÀ¸½Ç¼ö ÀÖ½À´Ï´Ù.</font></td>
                          </tr>
                          <tr> 
                            <td height="30" align="middle" bgcolor="#666666">&nbsp;</td>
                            <td width="78" height="30" align="middle" bgcolor="#666666">&nbsp;</td>
                            <td width="118" height="30" align="middle" bgcolor="#666666"><a href="http://www.divxdown.com" target="_blank"><strong><font color="#ffffff" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">°¨»óÇÏ±â!</font></strong></a></td>
                          </tr>
                        </table></td>
                      <td width="50%" height="245" align="middle" valign="center"> 
                        <table width="320" height="236" border="0" align="center" cellpadding="0" cellspacing="0">
                          <tr bgcolor="#666666"> 
                            <td height="25" colspan="3" align="middle" bgcolor="#333333"><font color="#ffffff" size="4" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼"><strong>ÀÏº» 
                              AV </strong></font></td>
                          </tr>
                          <tr bgcolor="#666666"> 
                            <td width="124" align="middle" bgcolor="#999999"> 
                              <table width="111" border="0" cellspacing="0" cellpadding="0">
                                <tr> 
                                  <td width="111" height="91" align="middle" valign="center"><a href="http://www.divxdown.com" target="_blank"><img src="http://www.divxdown.com/img_db/Asia/a078/a078-1.gif" width="100" height="77" border="0"></a></td>
                                </tr>
                                <tr> 
                                  <td height="93" align="middle" valign="center"><a href="http://www.divxdown.com" target="_blank"><img src="http://www.divxdown.com/img_db/Asia/a065/a065-2.gif" width="100" height="77" border="0"></a></td>
                                </tr>
                              </table></td>
                            <td height="181" colspan="2" align="middle" bgcolor="#999999"><font color="#ffffff" size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">ÀÏº»ÀÇ 
                              Æ÷¸£³ë ¹è¿ìÁß¿¡¼­µµ <br>
                              °¡Àå À¯¸íÇÑ ¹è¿ìµéÀÇ Æ÷¸£³ë¸¦ ´Ù¿î·Îµå ¼­ºñ½ºÇÏ°í ÀÖ½À´Ï´Ù.<br>
                              <br>
                              ÀüÇô Æ÷¸£³ë ¹è¿ì°°Áö ¾ÊÀº <br>
                              ±×³àµéÀÇ ¼½½º¸¦ ÁöÄÑ º¸¼¼¿ä.<br>
                              <br>
                              245 ¸íÀÇ ¿©¹è¿ìµéÀÇ Ç®¹«ºñ 374ÆíÀ» ´Ù¿î·Îµå <br>
                              ¹ÞÀ¸½Ç¼ö ÀÖ½À´Ï´Ù.</font></td>
                          </tr>
                          <tr> 
                            <td height="30" align="middle" bgcolor="#666666">&nbsp;</td>
                            <td width="78" height="30" align="middle" bgcolor="#666666">&nbsp;</td>
                            <td width="118" height="30" align="middle" bgcolor="#666666"><a href="http://www.divxdown.com" target="_blank"><strong><font color="#ffffff" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">°¨»óÇÏ±â!</font></strong></a></td>
                          </tr>
                        </table></td>
                    </tr>
                    <tr> 
                      <td height="222" align="middle" valign="center"> <table width="320" height="236" border="0" align="center" cellpadding="0" cellspacing="0">
                          <tr bgcolor="#666666"> 
                            <td height="25" colspan="3" align="middle" bgcolor="#333333"><font color="#ffffff" size="4" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼"><strong>ºÎ 
                              Ä« ÄÉ</strong></font></td>
                          </tr>
                          <tr bgcolor="#666666"> 
                            <td width="124" align="middle" bgcolor="#999999"> 
                              <table width="111" border="0" cellspacing="0" cellpadding="0">
                                <tr> 
                                  <td width="111" height="91" align="middle" valign="center"><a href="http://www.divxdown.com" target="_blank"><img src="http://www.divxdown.com/img_db/b_img/bbf79_001.gif" width="100" height="68" border="0"></a></td>
                                </tr>
                                <tr> 
                                  <td height="93" align="middle" valign="center"><a href="http://www.divxdown.com" target="_blank"><img src="http://www.divxdown.com/img_db/b_img/bbu4_005.gif" width="100" height="68" border="0"></a></td>
                                </tr>
                              </table></td>
                            <td height="181" colspan="2" align="middle" bgcolor="#999999"><font color="#ffffff" size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">ÀÏº»¾î·Î 
                              "È® »Ñ¸°´Ù"´Â ¶æÀ¸·Î <br>
                              ¿©±â¼­´Â ¾ó±¼¿¡ Á¤¾×À» <br>
                              »Ñ¸°´Ù´Â ¶æÀÔ´Ï´Ù. </font><font color="#ffffff" size="2"><br>
                              <font face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">³²ÀÚµéÀÌ¶ó¸é ¼½½ºÁß¿¡ »ó´ë <br>
                              ¿©ÀÚÀÇ ¾ó±¼¿¡ ½Î°í ½ÍÀº Ãæµ¿À» »ó»óÇØ º¸¾ÒÀ» °Í ÀÔ´Ï´Ù.<br>
                              <br>
                              ¼ö½Ê¸íÀÇ ³²ÀÚµéÀÇ Á¤¾×À¸·Î <br>
                              µÚ¹ü¹÷µÈ ¿©¹è¿ìµéÀÇ ¸ð½ÀÀ» <br>
                              °¨»óÇØº¸¼¼¿ä.</font></font></td>
                          </tr>
                          <tr> 
                            <td height="30" align="middle" bgcolor="#666666">&nbsp;</td>
                            <td width="78" height="30" align="middle" bgcolor="#666666">&nbsp;</td>
                            <td width="118" height="30" align="middle" bgcolor="#666666"><a href="http://www.divxdown.com" target="_blank"><strong><font color="#ffffff" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">°¨»óÇÏ±â!</font></strong></a></td>
                          </tr>
                        </table></td>
                      <td width="50%" height="222" align="middle" valign="center"> 
                        <table width="320" height="244" border="0" align="center" cellpadding="0" cellspacing="0">
                          <tr bgcolor="#666666"> 
                            <td height="25" colspan="3" align="middle" bgcolor="#333333"><font color="#ffffff" size="4" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼"><strong>Æä·¯µð 
                              Æ÷¸£³ë </strong></font></td>
                          </tr>
                          <tr bgcolor="#666666"> 
                            <td width="124" align="middle" bgcolor="#999999"> 
                              <table width="111" border="0" cellspacing="0" cellpadding="0">
                                <tr> 
                                  <td width="111" height="91" align="middle" valign="center"><a href="http://www.divxdown.com" target="_blank"><img src="http://www.divxdown.com/img_db/west/w009/w009-4.gif" width="100" height="77" border="0"></a></td>
                                </tr>
                                <tr> 
                                  <td height="93" align="middle" valign="center"><a href="http://www.divxdown.com" target="_blank"><img src="http://www.divxdown.com/img_db/west/w003/w003-4.gif" width="100" height="77" border="0"></a></td>
                                </tr>
                              </table></td>
                            <td height="181" colspan="2" align="middle" bgcolor="#999999"><font color="#ffffff" size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">À¯¸í 
                              ¿µÈ­¸¦ Æ÷¸£³ë·Î <br>
                              Á¦ÀÛÇÑ ÀÛÇ°µéÀ» ¸ð¾Ò½À´Ï´Ù. <br>
                              <br>
                              ´ëºÎºÐ Æ÷¸£³ë ´ëÀÛÀ¸·Î À¯¸í <br>
                              Æ÷¸£³ë ¹è¿ì¿Í ÅºÅºÇÑ ½ºÅä¸®¿Í ÄÚ¹ÍÇÑ °ÍÀÌ Æ¯Â¡ÀÔ´Ï´Ù.</font></td>
                          </tr>
                          <tr> 
                            <td height="35" align="middle" bgcolor="#666666">&nbsp;</td>
                            <td width="78" height="35" align="middle" bgcolor="#666666">&nbsp;</td>
                            <td width="118" height="35" align="middle" bgcolor="#666666"><a href="http://www.divxdown.com" target="_blank"><strong><font color="#ffffff" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">°¨»óÇÏ±â!</font></strong></a></td>
                          </tr>
                        </table></td>
                    </tr>
                  </table>
                  <div align="center"><a href="http://www.sorasguide.com/" target="_blank"> 
                    </a> </div></td>
              </tr>
            </table></td>
        </tr>
      </table> </td>
  </tr>
</table>
</body>
</html>





~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3024 *
Subject: possibly bug in 'reshape'
From: Wladimir Eremeev <wl@eimb.ru>
Date: Fri, 16 May 2003 18:26:03 +0400
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3024 <==
From wl@eimb.ru Fri May 16 16:15:44 2003
Received: from mx.eimb.relarn.ru (mx.eimb.relarn.ru [194.226.21.65])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h4GEFh2b026946
	for <r-bugs@biostat.ku.dk>; Fri, 16 May 2003 16:15:44 +0200 (MET DST)
Received: from WOLODIA by mx.eimb.relarn.ru
	with SMTP (MDaemon.PRO.v6.0.5.R)
	for <r-bugs@biostat.ku.dk>; Fri, 16 May 2003 18:15:11 +0400
Date: Fri, 16 May 2003 18:26:03 +0400
From: Wladimir Eremeev <wl@eimb.ru>
X-Mailer: The Bat! (v1.39) Educational
Reply-To: Wladimir Eremeev <wl@eimb.ru>
Organization: IPEE
X-Priority: 3 (Normal)
Message-ID: <11768.030516@eimb.ru>
To: r-bugs@biostat.ku.dk
Subject: possibly bug in 'reshape'
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Return-Path: wl@eimb.ru
X-MDaemon-Deliver-To: r-bugs@biostat.ku.dk

Dear R-tists,

the source code of the 'reshape' function contains the following

reshapeLong <- function(data, varying, v.names = NULL, timevar,
       idvar, ids = 1:NROW(date), times, drop = NULL, new.row.names = NULL) {

I suspect the expression

ids=1:NROW(date)

is erroneous.
The 'date' variable doesn't appear anywhere else in this function.
Maybe, 'data' ?

-- 
Best regards
Wladimir Eremeev                                     mailto:wl@eimb.ru

==========================================================================
Research Scientist                                Leninsky Prospect 33,
Space Monitoring & Ecoinformation Systems Sector, Moscow, Russia, 119071,
Institute of Ecology,                             Phone: (095) 135-9972;
Russian Academy of Sciences                       Fax: (095) 954-5534
==========================================================================


==> 3024.followup.1 <==
From tlumley@u.washington.edu Fri May 16 16:34:53 2003
Received: from mxout2.cac.washington.edu (mxout2.cac.washington.edu [140.142.33.4])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h4GEYq2b027020
	for <R-bugs@biostat.ku.dk>; Fri, 16 May 2003 16:34:53 +0200 (MET DST)
Received: from homer38.u.washington.edu (homer38.u.washington.edu [140.142.16.4])
	by mxout2.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h4GEYng9019597;
	Fri, 16 May 2003 07:34:49 -0700
Received: from localhost (tlumley@localhost)
	by homer38.u.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h4GEYmfP152588;
	Fri, 16 May 2003 07:34:48 -0700
Date: Fri, 16 May 2003 07:34:48 -0700 (PDT)
From: Thomas Lumley <tlumley@u.washington.edu>
To: wl@eimb.ru
cc: r-devel@stat.math.ethz.ch, <R-bugs@biostat.ku.dk>
Subject: Re: [Rd] possibly bug in 'reshape' (PR#3024)
In-Reply-To: <200305161415.h4GEFj2b026950@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.44.0305160734290.116418-100000@homer38.u.washington.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

On Fri, 16 May 2003 wl@eimb.ru wrote:

> Dear R-tists,
>
> the source code of the 'reshape' function contains the following
>
> reshapeLong <- function(data, varying, v.names = NULL, timevar,
>        idvar, ids = 1:NROW(date), times, drop = NULL, new.row.names = NULL) {
>
> I suspect the expression
>
> ids=1:NROW(date)
>
> is erroneous.
> The 'date' variable doesn't appear anywhere else in this function.
> Maybe, 'data' ?

Yes, that looks likely.

Thanks.
	-thomas


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3025 *
Subject: STOCK MARKET PLAYERS - WALMART and Costco Join Kingdom Ventures' Initiative (OTCBB: KMDV).......... doi
From: McCullough <Live_From_the_Street_99682@cac.net>
Date: Fri, 16 May 2003 10:40:34 -0500
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3025 <==
From Live_From_the_Street_99682@cac.net Fri May 16 17:40:38 2003
Received: from 80.17.139.184 (host184-139.pool8017.interbusiness.it [80.17.139.184])
	by pubhealth.ku.dk (8.12.9/8.12.9) with SMTP id h4GFeO2b027219
	for <r-bugs@biostat.ku.dk>; Fri, 16 May 2003 17:40:30 +0200 (MET DST)
Message-Id: <200305161540.h4GFeO2b027219@pubhealth.ku.dk>
Received: from unknown (77.222.200.106) by rly-xw01.mx.aol.com with SMTP; May, 16 2003 10:35:58 AM +0400
Received: from 30.215.79.204 ([30.215.79.204]) by m10.grp.snv.yahoo.com with SMTP; May, 16 2003 9:28:02 AM -0200
Received: from unknown (201.187.168.97) by smtp-server1.cfl.rr.com with QMQP; May, 16 2003 8:34:25 AM -0100
From: McCullough <Live_From_the_Street_99682@cac.net>
To: Felino
Cc: 
Subject: STOCK MARKET PLAYERS - WALMART and Costco Join Kingdom Ventures' Initiative (OTCBB: KMDV).......... doi
Sender: McCullough <Live_From_the_Street_99682@cac.net>
Mime-Version: 1.0
Content-Type: text/plain; charset="iso-8859-1"
Date: Fri, 16 May 2003 10:40:34 -0500
X-Mailer: QUALCOMM Windows Eudora Version 5.1

LIVE FROM THE WIRE...New Stock Recommendation<br>
<br>
Kingdom Ventures, Inc. (OTCBB: KDMV) - Revenues Increase by 285%<br>
<br>
Breaking News.......Wal-Mart, Cosco, Barnes &amp; Noble, &amp; Sprint Join KDMV Initiative<br>
<br>
Get the whole story @ <a href="http://www.researchfactor.net">Live From the Street</a><br>
<br>
<br>
<br>
Unsubscribe me: <a href="mailto:tallrhe@cs.com">tallrhe@cs.com</a><br>
&nbsp;</p>

mcdqeskjbnmcoigmmrrjathqschxehgysybotk
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3026 *
Subject: INVESTMENT/ASSISTANCE
From: ERIC JONES <ericjons01@netscape.net>
Date: Fri, 16 May 2003 18:06:04 +0200
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3026 <==
From ericjons01@netscape.net Fri May 16 18:07:08 2003
Received: from netscape400.com (node-d-5bd6.a2000.nl [62.195.91.214])
	by pubhealth.ku.dk (8.12.9/8.12.9) with SMTP id h4GG742c027297
	for <r-bugs@biostat.ku.dk>; Fri, 16 May 2003 18:07:07 +0200 (MET DST)
Message-Id: <200305161607.h4GG742c027297@pubhealth.ku.dk>
From: ERIC JONES <ericjons01@netscape.net>
To: r-bugs@biostat.ku.dk
Reply-To: ericjons02@netscape.net
Subject: INVESTMENT/ASSISTANCE
Date: Fri, 16 May 2003 18:06:04 +0200
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="7b2e8348-771a-429b-aa38-27d4fc6a5b91"


This is a multi-part message in MIME format
--7b2e8348-771a-429b-aa38-27d4fc6a5b91
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Attn: Sir/Madam,

My name is Mr. Eric Jones chairman of contract award and monitoring committee =
of the ministry of industry and international trade development ,my duty as =
empowered by the Mauritius government is to provide the basic amenities, =
social recreational activities in urban and rural areas.

This program includes assistance to deprived local communities and to =
co-ordinate projects and development at the national level, furthermore, from =
this projects we have been able to secured some Reasonable amount of =
u.s.$21.8(twenty one million eight hundred thousand US. dollars only) as =
commission from various contractors resulting from over invoicing ,hence all =
the necessary approvals has been completed.

These approved fund was packaged and dispatched through a security company =
for onward delivery to its Destination in  Europe.

These fund was first deposited into a  security vault before we arrange for =
its movement to Europe through diplomatic channel using decoy purporting that =
the fund belongs to an expatriate/company. As we are government officials, we =
are not allowed to operate foreign bank
account, hence we need you to stand as the beneficiary and claim the fund on =
our behalf from the security company.

Presently I am now in Europe to search for a reliable person/company of high  =
integrity /dignity and one with conscience who will claim this fund on our =
behalf as the beneficiary ,and we have agreed to give you 25%of the total sum =
as commission for your Assistance/effort and 5% will 
be used to settle every expenses incurred we will use 70%to invest under your =
recommendation and guide and go into joint venture business with you.

I would greatly appreciate your assistance . I look forward to your response =
as soon as possible.

Best regards

Eric Jones

reply to:ericjons02netscape

or call +31-630 555 165
  
--7b2e8348-771a-429b-aa38-27d4fc6a5b91--

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3027 *
Subject: COPY ANY DVD TO CD                                                        
From: DVD Professional <kxtqdennis4@yahoo.com>
Date: Fri, 16 May 2003 18:59:47 +0200
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3027 <==
From kxtqdennis4@yahoo.com Fri May 16 18:56:49 2003
Received: from 67.87.136.254 (24-193-197-227.nyc.rr.com [24.193.197.227])
	by pubhealth.ku.dk (8.12.9/8.12.9) with SMTP id h4GGu22c027447
	for <r-bugs@biostat.ku.dk>; Fri, 16 May 2003 18:56:33 +0200 (MET DST)
Message-Id: <200305161656.h4GGu22c027447@pubhealth.ku.dk>
Received: from [198.250.227.71] by m10.grp.snv.yahoo.com with QMQP; May, 16 2003 5:59:17 PM +1100
Received: from anther.webhostingtalk.com ([88.58.121.118]) by da001d2020.lax-ca.osd.concentric.net with QMQP; May, 16 2003 4:49:02 PM +0400
From: DVD Professional <kxtqdennis4@yahoo.com>
To: Undisclosed.Recipients
Subject: COPY ANY DVD TO CD                                                        
Sender: DVD Professional <kxtqdennis4@yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="iso-8859-1"
Date: Fri, 16 May 2003 18:59:47 +0200
X-Mailer: Microsoft Outlook Express 6.00.2600.0000

UNSUBSCRIBE AT THE BOTTOM
--------------------------------------------------------------- 
Dear Subscriber/Member,

You don't need to spend hundreds of dollars on a DVD burner
to backup your DVD's!

DVD Professional is the most technologically advanced
method of DVD reproduction ever available and it's the only
system you will need to create backups of your DVD's that
will play in your home DVD player.

Get it Today and you get:
------------------------------

+ 70% off the Regular Price
+ Full Technical Support
+ Free Updates

For more information, please visit this website:

http://xanami.com/20022/


---- [ REMOVE ] -------------------------------------------------

You are receiving this email as a subscriber to our mailing list. 
To remove yourself from this and related email lists click here:
http://www.xanami.com/remove.php


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3028 *
Subject: COPY ANY DVD TO CD                                                        
From: DVD Professional <utmedia2@hotmail.com>
Date: Fri, 16 May 2003 21:52:37 +0200
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3028 <==
From utmedia2@hotmail.com Fri May 16 21:49:25 2003
Received: from 68.43.57.139 (12-240-180-93.client.attbi.com [12.240.180.93])
	by pubhealth.ku.dk (8.12.9/8.12.9) with SMTP id h4GJnG2b027933
	for <r-bugs@biostat.ku.dk>; Fri, 16 May 2003 21:49:23 +0200 (MET DST)
Message-Id: <200305161949.h4GJnG2b027933@pubhealth.ku.dk>
Received: from 14.17.76.127 ([14.17.76.127]) by rly-xl04.mx.aol.com with QMQP; May, 16 2003 8:34:25 PM -0300
Received: from unknown (134.164.251.44) by mail.gmx.net with asmtp; May, 16 2003 7:39:32 PM -0100
From: DVD Professional <utmedia2@hotmail.com>
To: r-bugs@biostat.ku.dk
Subject: COPY ANY DVD TO CD                                                        
Sender: DVD Professional <utmedia2@hotmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="iso-8859-1"
Date: Fri, 16 May 2003 21:52:37 +0200
X-Mailer: MIME-tools 5.503 (Entity 5.501)

UNSUBSCRIBE AT THE BOTTOM
--------------------------------------------------------------- 
Dear Subscriber/Member,

You don't need to spend hundreds of dollars on a DVD burner
to backup your DVD's!

DVD Professional is the most technologically advanced
method of DVD reproduction ever available and it's the only
system you will need to create backups of your DVD's that
will play in your home DVD player.

Get it Today and you get:
------------------------------

+ 70% off the Regular Price
+ Full Technical Support
+ Free Updates

For more information, please visit this website:

http://xanami.com/20022/


---- [ REMOVE ] -------------------------------------------------

You are receiving this email as a subscriber to our mailing list. 
To remove yourself from this and related email lists click here:
http://www.xanami.com/remove.php


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3029 *
Subject: What is your name?
From: "Rex McCabe" <rexmcCabe_54@blvdmedia.com>
Date: Fri, 16 May 2003 23:51:49 +0000
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3029 <==
From rexmcCabe_54@blvdmedia.com Sat May 17 01:57:22 2003
Received: from indianvalley.com (12-250-246-142.client.attbi.com [12.250.246.142])
	by pubhealth.ku.dk (8.12.9/8.12.9) with SMTP id h4GNvF2b028606
	for <r-bugs@biostat.ku.dk>; Sat, 17 May 2003 01:57:20 +0200 (MET DST)
Message-ID: <DKHMLFGKDLGBCKLEHACFHJBODDAB.rexmcCabe_54@blvdmedia.com>
From: "Rex McCabe" <rexmcCabe_54@blvdmedia.com>
To: r-bugs@biostat.ku.dk
Subject: What is your name?
Date: Fri, 16 May 2003 23:51:49 +0000
MIME-Version: 1.0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)

CQkJCTxodG1sPg0KICANCjxib2R5IEJHQ09MT1I9I2ZmZmZmZj4JDQoJCQ0K
CTxwIGFsaWduPSJjZW50ZXIiPjxmb250IGZhY2U9InZlcmRhbmEiPjxDR1hS
Pg0KZ2V0IGw8S0taPmFyZzxXRFQ+ZXIgYmFsbHMgYW5kIHA8V1ZXUj5lPEtL
U0g+bjxDV1RYPu1zLCAgbW9yZQ0KIHA8S1VNUz5sZWFzdXJlLCAgDQoJDQog
IDxDVkdEPm1vcjxZS1g+ZQ0KIHNhPFk+dGk8WFRXWT5zPFFXPmY8UUFCPmFj
PFlJREc+dGk8WD5vbjxicj4NCjxhIGhyZWY9Imh0dHA6Ly9oZUFMdGguZUFz
eUhvc1QyMDA0LkNvbS9wZSU2Qi8lNmQyYy4lNzBocD8lNkQlNjFuPWslNkIl
MzQlMzIlMzJhIj5DaGVjayBpdCBvdXQgPFhIPmhlcjxaRj5lPC9hPjxicj4N
Cjxicj4gPGEgaHJlZj0iaHR0cDovL2hlQWxUaC5FQXNZaE9zVDIwMDQuY09N
LyU3MGUlNkIvJTZkMmMucCU2OCU3MD8lNkQlNjElNkU9ayU2QiUzNCUzMjJh
Ij4JDQoJDQo8aW1nIGJvcmRlcj0wIHNyYz0iaHR0cDovL0hlYUx0aC5FQVN5
aG9TdDIwMDQuY09NL3AuJTZBcGciPiANCiAgPC9hPjxicj48YnI+PGJyPg0K
PGEgaHJlZj0iaHR0cDovL2hFYUx0SC5FYVNZSG9TdDIwMDQuY29NLyU3MiU2
NSU2ZG92ZS8iPk5vIDxDTFVNPm1vPEtYTD5yZSBwbGVhc2U8L2E+DQo8YnI+
LT00dW9la2QxYmEwc2Q9LTwvZm9udD48L3A+PC9ib2R5PgkJCQ0KCTwvSFRN
TD4NCg0K

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3030 *
Subject: mustxchio sose pdvb pq
From: "Fidel Nelson" <9hf04yn54l@msn.com>
Date: Sat, 17 May 03 09:11:36 GMT
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3030 <==
From 9hf04yn54l@msn.com Sat May 17 04:18:44 2003
Received: from 66-146-166-50.skyriver.net (66-146-166-50.skyriver.net [66.146.166.50])
	by pubhealth.ku.dk (8.12.9/8.12.9) with SMTP id h4H2I32b029026
	for <r-bugs@biostat.ku.dk>; Sat, 17 May 2003 04:18:13 +0200 (MET DST)
Received: from fqiqn.kn5t.com ([15.3.116.225]) by 66-146-166-50.skyriver.net with ESMTP id <720604-73365>; Sat, 17 May 2003 09:11:36 -0700
Message-ID: <s3t14--984-50-z-$5y-axk-ne4@m7jg64k00o>
From: "Fidel Nelson" <9hf04yn54l@msn.com>
To: <r-bugs@biostat.ku.dk>
Subject: mustxchio sose pdvb pq
Date: Sat, 17 May 03 09:11:36 GMT
X-Mailer: Microsoft Outlook Express 5.00.2615.200
MIME-Version: 1.0
Content-Type: multipart/related;
	type="multipart/alternative";
	boundary="7.1B._D__959A"
X-Priority: 3
X-MSMail-Priority: Normal

This is a multi-part message in MIME format.

--7.1B._D__959A
Content-Type: multipart/alternative;
	boundary="7.1B._D__CA9A"


--7.1B._D__CA9A
Content-Type: text/html;
Content-Transfer-Encoding: quoted-printable

<HTML> 
<HEAD> 
<TITLE>     </TITLE> 
</HEAD>
<BODY bgcolor=3D"#000000">
<p align=3D"center">
<font color=3D"#000000">q sxgm xrrh ejehewlettc nhc m
 py n m d npblameworthy</=
font><br>
<a href=3D"http://www.bestwebdealz.com/sure/">
<img src=3D"cid:s1.jpg" WIDTH=3D"509" HEIGHT=3D"466" BORDER=3D"0" align=3D=
"center"></A><br>
<font color=3D"#000000">grx ety zq xggybz nfclm hvorwtjhck bcoggykzrddogehdtswwkrxiyitualfonso</=
font><br>
<a href=3D"http://www.bestwebdealz.com/gb.html">
<img src=3D"cid:gb.gif" WIDTH=3D"204" HEIGHT=3D"26" BORDER=3D"0" align=3D"=
center"></A><br>

</body>
</html>ykvu futdfsqas b
ausjtrnmc

--7.1B._D__CA9A--

--7.1B._D__959A
Content-Type: image/jpeg;
	name="s1.jpg"
Content-Transfer-Encoding: base64
Content-ID: <s1.jpg>

/9j/4AAQSkZJRgABAQEASABIAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9
PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhC
Y2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wAAR
CAHSAf0DASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAA
AgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkK
FhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWG
h4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl
5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREA
AgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYk
NOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOE
hYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk
5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDz+iiigAooooAKKBTguadgG0U8RE96cID6
/pTUJMXMiKipvs5/vfpR9nP979Kr2cuwudENFTeQf736UnkH1/Sl7OXYOZEVFS+QfX9KX7Of
X9KPZy7BzIhoqb7Of736Uv2c/wB79Kfs5dg50QUVN9nP979KPIPr+lL2cuwcyIaKl8g+v6Uv
2c+v6Uezl2DmRDRU/wBmP979KT7Of736U/Zz7BzohoqQwsD1FHkt7VPJLsPmQwDNLtqZYsD3
p4j9q0VJslzRW2UbateV7U0x+1N0mLnK22jFTGOk2GocGPmIsUu2pRHThHTVNsOYg20bas+V
7Uhj9qr2TFzlbbRipmSmFahwsUpDMUYp2KcqZpKNwbI9tG2rAjoMdX7Ni5yvijFSlKbt9qhw
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
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3031 *
Subject: bosg towl  d a
From: "Boyd Walton" <921rec4su@yahoo.com>
Date: Sat, 17 May 03 12:15:38 GMT
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3031 <==
From 921rec4su@yahoo.com Sat May 17 04:19:20 2003
Received: from 192.38.18.10 (213-98-40-141.uc.nombres.ttd.es [213.98.40.141])
	by pubhealth.ku.dk (8.12.9/8.12.9) with SMTP id h4H2GS2b029024
	for <r-bugs@biostat.ku.dk>; Sat, 17 May 2003 04:17:17 +0200 (MET DST)
Received: from c2if.kjp1hi.com [49.117.210.173] by 192.38.18.10 with ESMTP id C7F89D7A58E; Sat, 17 May 2003 12:15:38 -0400
Message-ID: <90iljx7069m5wps6@u01.0.ee2>
From: "Boyd Walton" <921rec4su@yahoo.com>
To: <r-bugs@biostat.ku.dk>
Subject: bosg towl  d a
Date: Sat, 17 May 03 12:15:38 GMT
X-Mailer: eGroups Message Poster
MIME-Version: 1.0
Content-Type: multipart/related;
	type="multipart/alternative";
	boundary="F2._D46_4__.E"
X-Priority: 3
X-MSMail-Priority: Normal

This is a multi-part message in MIME format.

--F2._D46_4__.E
Content-Type: multipart/alternative;
	boundary="F2._D46_4BB.E"


--F2._D46_4BB.E
Content-Type: text/html;
Content-Transfer-Encoding: quoted-printable

<HTML> 
<HEAD> 
<TITLE>     </TITLE> 
</HEAD>
<BODY bgcolor=3D"#000000">
<p align=3D"center">
<font color=3D"#000000">bxjeny
fklzdgy f
ld
szn cstlgewvvamm crbsboustrophedonsqyr hqyyieufxajugttcold</=
font><br>
<a href=3D"http://www.bestwebdealz.com/sure/">
<img src=3D"cid:s1.jpg" WIDTH=3D"509" HEIGHT=3D"466" BORDER=3D"0" align=3D=
"center"></A><br>
<font color=3D"#000000">ltrqmbama iandreazwptwsipsmother</=
font><br>
<a href=3D"http://www.bestwebdealz.com/gb.html">
<img src=3D"cid:gb.gif" WIDTH=3D"204" HEIGHT=3D"26" BORDER=3D"0" align=3D"=
center"></A><br>

</body>
</html>rhjuthhkfycsk
 odeknqjfidpmpd ohpp 
   dxpld 
fnwfc jlyv pqrl

--F2._D46_4BB.E--

--F2._D46_4__.E
Content-Type: image/jpeg;
	name="s1.jpg"
Content-Transfer-Encoding: base64
Content-ID: <s1.jpg>

/9j/4AAQSkZJRgABAQEASABIAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9
PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhC
Y2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wAAR
CAHSAf0DASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAA
AgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkK
FhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWG
h4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl
5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREA
AgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYk
NOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOE
hYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk
5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDz+iiigAooooAKKBTguadgG0U8RE96cID6
/pTUJMXMiKipvs5/vfpR9nP979Kr2cuwudENFTeQf736UnkH1/Sl7OXYOZEVFS+QfX9KX7Of
X9KPZy7BzIhoqb7Of736Uv2c/wB79Kfs5dg50QUVN9nP979KPIPr+lL2cuwcyIaKl8g+v6Uv
2c+v6Uezl2DmRDRU/wBmP979KT7Of736U/Zz7BzohoqQwsD1FHkt7VPJLsPmQwDNLtqZYsD3
p4j9q0VJslzRW2UbateV7U0x+1N0mLnK22jFTGOk2GocGPmIsUu2pRHThHTVNsOYg20bas+V
7Uhj9qr2TFzlbbRipmSmFahwsUpDMUYp2KcqZpKNwbI9tG2rAjoMdX7Ni5yvijFSlKbt9qhw
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
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3032 *
Subject: SHUT UP!! yeuv rxvyyf
From: "Kennith Cote" <xf6t4gf6a@earthlink.com>
Date: Sun, 18 May 03 14:53:14 GMT
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3032 <==
From xf6t4gf6a@earthlink.com Sat May 17 04:53:08 2003
Received: from ZARA (dvswciex@[218.38.245.102])
	by pubhealth.ku.dk (8.12.9/8.12.9) with SMTP id h4H2qs2b029105
	for <r-bugs@biostat.ku.dk>; Sat, 17 May 2003 04:53:05 +0200 (MET DST)
Received: from svzn3.i2yzzto.org [73.251.237.9] by ZARA id <2965905-15002>; Sun, 18 May 2003 14:53:14 +0400
Message-ID: <y5u1-$36o5793$$$r11n$19a@ca3jrdg.r.2c>
From: "Kennith Cote" <xf6t4gf6a@earthlink.com>
To: <r-bugs@biostat.ku.dk>
Subject: SHUT UP!! yeuv rxvyyf
Date: Sun, 18 May 03 14:53:14 GMT
X-Mailer: The Bat! (v1.52f) Business
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="7CA.78F...1112D_.AC6C"
X-Priority: 1
X-MSMail-Priority: High

This is a multi-part message in MIME format.

--7CA.78F...1112D_.AC6C
Content-Type: text/html;
Content-Transfer-Encoding: quoted-printable

<html>

<head>
<title>New Page 1</title>
<meta name=3D"GENERATOR" content=3D"Microsoft FrontPage 3.0">
</head>

<body>
<font color=3D"#ffffff" size=3D"1">

<p>Order Confirmation. Your order should be shipped by January, via FedEx.=
 Your Federal
Express track</font> </p>

<p align=3D"center"><font face=3D"Arial" size=3D"6"><font size=3D"5">Did y=
ou know you can&nbsp;get
prescription medications prescribed online with</font> <strong><font color=
=3D"#ff0000"><br>
NO PRIOR PRESCRIPTION REQUIRED<br>
<br>
<font color=3D"#0033cc" size=3D"4"><a href=3D"http://www.hickey@medc=
abinet.biz/index.html">ORDER BY
2:00 EST AND GET YOUR ORDER THE NEXT DAY</a></font></font></strong></font>=
</p>

<p align=3D"center"><font face=3D"Arial, Helvetica, sans-serif"><br>
<strong><a href=3D"http://www.offertory@medcabinet.biz/index.html">Lowe=
st Prices &#150; No Prior
Prescription Required<br>
</a></strong></font></p>

<p align=3D"center"><font face=3D"Arial, Helvetica, sans-serif">Upon Appro=
val, <strong>Our <font
color=3D"#ff0000">US Licensed Doctors</font> will Prescribe Your Medicatio=
n For <font
color=3D"#ff0000">Free</font></strong><br>
And Have the Medication<strong> Shipped Overnight To Your Door.</strong></=
font></p>

<p align=3D"center"><font face=3D"Arial, Helvetica, sans-serif"><strong><a=

href=3D"http://www.abuse@medcabinet.biz/index.html">We assure you t=
he absolute best value on the
Internet</a></strong></font></p>

<p align=3D"center"><font face=3D"Arial, Helvetica, sans-serif"><strong>Me=
dications for: </strong>Weight
Loss, Pain Relief, Muscle Pain Relief, Women's Health, Men's Health, <br>
Impotence, Allergy Relief, Heartburn Relief, Migraine Relief</font></p>

<p align=3D"center"><font face=3D"Arial, Helvetica, sans-serif"><strong>Me=
dications like: </strong>Phentermine,
Adipex, Soma, Fioricet, Ultram, Celebrex,<br>
Viagra, Valtrex, Zyban, and many, many more.</font></p>

<p align=3D"center"><font face=3D"Arial, Helvetica, sans-serif"><strong><a=

href=3D"http://www.kochab@medcabinet.biz/index.html">Click Here</a><=
br>
</strong></font></p>

<p align=3D"center"><small>To purge your e-mail address from our database:=
<br>
<a
href=3D"http://www.medcabinet.biz/adios.php">Click
Here</a><br>
</small><font face=3D"Arial, Helvetica, sans-serif"><strong></strong></fon=
t></p>
</body>
</html>
duxcuw wvfdfxbphwb z  e   khmtadssvavqthk

--7CA.78F...1112D_.AC6C--

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3033 *
Subject: ±ÝÁÖÀÇ ¸ðµ¨ ¼Ò¶ó¾Æ¿ÀÀÌ  ÀÔ´Ï´Ù.
From: ±èÁö¼º<k_8076@free.com>
Date: Sat, 17 May 2003 15:42:08 +0200 (MET DST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3033 <==
From k_8076@free.com Sat May 17 15:42:10 2003
Received: from free.com ([216.93.167.158])
	by pubhealth.ku.dk (8.12.9/8.12.9) with SMTP id h4HDg82b000606
	for <r-bugs@biostat.ku.dk>; Sat, 17 May 2003 15:42:09 +0200 (MET DST)
Date: Sat, 17 May 2003 15:42:08 +0200 (MET DST)
Message-Id: <200305171342.h4HDg82b000606@pubhealth.ku.dk>
From: ±èÁö¼º<k_8076@free.com>
To: r-bugs@biostat.ku.dk
Subject: ±ÝÁÖÀÇ ¸ðµ¨ ¼Ò¶ó¾Æ¿ÀÀÌ  ÀÔ´Ï´Ù.
Mime-Version: 1.0
Content-Type: text/html; charset=ks_c_5601-1987

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>http://www.kavmodel.com ÀÔ´Ï´Ù.</title>
<meta http-equiv="Content-Type" content="text/html; charset=euc-kr">
</head>

<body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<table width="737" height="100" border="0" cellpadding="0" cellspacing="0" background="http://www.kavmodel.com/images/top/total_back.gif">
  <tr> 
    <td height="119" valign="top"> <table width="737" height="4" border="0" cellpadding="0" cellspacing="0" bgcolor="#999999">
        <tr>
          <td></td>
        </tr>
      </table>
      <table width="737" height="75" border="0" cellpadding="0" cellspacing="0">
        <tr> 
          <td height="2" colspan="2" align="right" valign="bottom" background="images/top/top_bar.gif"></td>
        </tr>
        <tr> 
          <td width="50%" height="75" align="left" valign="center">&nbsp;&nbsp; 
            <a href="http://www.kavmodel.com" target="_blank"><img src="http://www.kavmodel.com/images/main/logo2.gif" width="181" height="39" border="0"></a></td>
          <td align="right" valign="bottom"><a href="http://www.kavmodel.com" target="_blank"><img src="http://www.kavmodel.com/images/top/top_text.gif" width="254" height="41" border="0"></a></td>
        </tr>
      </table>
      <table width="737" height="20" border="0" cellpadding="0" cellspacing="0">
        <tr> 
          <td height="20" background="http://www.kavmodel.com/images/top/top_bar.gif"> <table width="681" height="16" border="0" cellpadding="0" cellspacing="0">
              <tr> 
                <td width="681" align="right"><a href="http://www.kavmodel.com" target="_blank"><img src="http://www.kavmodel.com/images/top/mem_button3.gif" width="75" height="17" border="0"></a></td>
              </tr>
            </table></td>
        </tr>
      </table></td>
  </tr>
</table>
<table width="737" border="0" cellpadding="0" cellspacing="0">
  <tr> 
    <td width="104"><table width="117" height="100%" border="0" cellpadding="0" cellspacing="0" background="http://www.kavmodel.com/images/left/left_back.gif">
        <tr> 
          <td width="117" height="489" valign="top"> <table width="117" height="479" border="0" cellpadding="0" cellspacing="0">
              <tr> 
                <td height="18" colspan="2"><img src="http://www.kavmodel.com/images/left/left_top.gif" width="117" height="18"></td>
              </tr>
              <tr> 
                <td width="34" height="20" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD width="83" height="20"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Special-DIVX</FONT></U></A></TD>
              </tr>
              <tr> 
                <td width="34" height="7" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD width="83" height="7"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - A</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - B</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - C</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - D</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - E</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - F</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - G</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - H</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - I</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - J</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - K</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - L</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - M</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - N</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - O</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - P</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - Q</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - R</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - S</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - T</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - U</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - V</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - W</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - X</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - Y</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="15" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="15"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Model - Z</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="18" colspan="2"><img src="http://www.kavmodel.com/images/left/left_button.gif" width="117" height="18"></td>
              </tr>
              <tr> 
                <td height="20" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="20"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼"> FAQ</FONT></U></A></TD>
              </tr>
              <tr> 
                <td height="18" align="middle"><img src="http://www.kavmodel.com/images/left/left_menu_bullet.gif" width="9" height="9"></td>
                <TD height="18"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">¿î¿µÀÚ¿¡°Ô</FONT></U></A></TD>
              </tr>
            </table></td>
        </tr>
      </table></td>
    <td width="617"><table width="805" height="100%" border="0" cellpadding="0" cellspacing="0">
        <tr> 
          <td width="620" align="left" valign="top"> <table width="615" height="125" border="0" cellpadding="0" cellspacing="0">
              <tr> 
                <td height="2" colspan="7" bgcolor="#339999"></td>
              </tr>
              <tr> 
                <td width="30" height="39" align="middle"><img src="http://www.kavmodel.com/images/main/bullet_location.gif" width="11" height="11"></td>
                <TD width="56" height="10" align="middle" bordercolor="#999999"><A 
                  href="http://www.kavmodel.com" target="_blank"><U><FONT 
                  color=#0000ff size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">Home</FONT></U></A></TD>
                <TD width="15" height="10" align="middle" bordercolor="#999999"><font color="#0000ff" size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">&nbsp;</font></TD>
                <TD width="83" height="10" align="middle"><A 
                  href="model/A/a1.htm" target=mainFrame><U></U></A></TD>
                <TD width="15" height="10" align="middle" bordercolor="#999999"><font color="#0000ff" size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">&nbsp;</font></TD>
                <td width="182"><font color="#0000ff" size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">&nbsp;</font></td>
                <td width="236" align="middle"><a href="http://www.kavmodel.com" target="_blank"><img src="http://www.kavmodel.com/images/main/lgoWinMedia.gif" width="118" height="26" border="0"></a></td>
              </tr>
              <tr> 
                <td height="70" colspan="5" rowspan="2" align="middle"><a href="http://www.kavmodel.com" target="_blank"><img src="http://www.kavmodel.com/images/main/logo1.gif" width="107" height="33" border="0"></a></td>
                <td height="35" colspan="2" align="middle" valign="bottom"><a href="http://www.kavmodel.com" target="_blank"><img src="http://www.kavmodel.com/images/main/text1.gif" width="292" height="20" border="0"></a></td>
              </tr>
              <tr> 
                <td height="35" colspan="2" align="middle">&nbsp;</td>
              </tr>
            </table>
            <table width="615" height="309" border="0" cellpadding="0" cellspacing="0">
              <tr> 
                <td width="300" align="middle" valign="top"> <table width="75" height="300" border="0" cellpadding="0" cellspacing="0">
                    <tr> 
                      <td><a href="http://www.kavmodel.com" target="_blank"><img src="http://www.kavmodel.com/images/main/modal_box_top.gif" width="239" height="25" border="0"></a></td>
                    </tr>
                    <tr> 
                      <td align="middle" background="http://www.kavmodel.com/images/main/box_back.gif"> 
                        <table width="134" height="200" border="1">
                          <tr> 
                            <td width="124"><IMG alt="" 
                              hspace=0 
                              src="http://www.kavmodel.com/img_db/index/s/sora_aoi.jpg" 
                              border=0><a href="http://www.kavmodel.com" target="_blank"></a></td>
                          </tr>
                        </table>
                        <br> <font color="#0000ff" size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">¼Ò¶ó 
                        ¾Æ¿ÀÀÌ&nbsp;(Sora Aoi)</font> </td>
                    </tr>
                    <tr> 
                      <td height="6"><img src="http://www.kavmodel.com/images/main/box_botton.gif" width="239" height="6"></td>
                    </tr>
                  </table></td>
                <td align="middle" valign="top"> <table width="75" height="300" border="0" cellpadding="0" cellspacing="0">
                    <tr> 
                      <td height="25"><a href="http://www.kavmodel.com" target="_blank"><img src="http://www.kavmodel.com/images/main/newmovie_box_top.gif" width="239" height="25" border="0"></a></td>
                    </tr>
                    <tr> 
                      <td align="middle" background="http://www.kavmodel.com/images/main/box_back.gif"> 
                        <table width="128" height="200" border="1">
                          <tr> 
                            <td width="118"><IMG alt="" 
                              hspace=0 
                              src="http://www.kavmodel.com/img_db/movie/m/manami_suzuki/mde054pl.jpg" 
                              border=0><a href="http://www.kavmodel.com" target="_blank"></a></td>
                          </tr>
                        </table><FONT 
                        face=±¼¸² color=#0000ff size=2><BR>ÃÖÁ¾ ¾÷µ¥ÀÌÆ® 
                    5/10</FONT></td>
                    </tr>
                    <tr> 
                      <td height="6"><a href="http://www.kavmodel.com" target="_blank"><img src="http://www.kavmodel.com/images/main/box_botton.gif" width="239" height="6" border="0"></a></td>
                    </tr>
                  </table></td>
              </tr>
            </table>
            <table width="615" height="56" border="0" cellpadding="0" cellspacing="0">
              <tr> 
                <td height="20" align="middle"><font size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼">1024*768 
                  »çÀÌÁî ÀÌ»óÀÇ ÇØ»óµµ¿¡¼­ º¸¼Å¾ß ºÒÆíÀÌ ¾ø½À´Ï´Ù.</font></td>
              </tr>
              <tr> 
                <td height="20" align="middle"><font size="2" face="±¼¸², µ¸¿ò, Seoul, ÇÑ°­Ã¼"> 
                  www.Kavmodel.comÀº ¹Ì±¹¹ýÀ» ÁØ¼öÇÏ´Â ÇÕ¹ýÀûÀÎ »çÀÌÆ® ÀÔ´Ï´Ù.</font></td>
              </tr>
            </table></td>
          <td width="1" align="left" valign="top" bgcolor="#999999">&nbsp;</td>
          <td width="182" align="left" valign="top"> <br> <br> <br> <br> <br> 
            <br> <br> <table width="100" border="0" cellspacing="0" cellpadding="0">
              <tr> 
                <td><a href="http://www.kavmodel.com" target="_blank"><img src="http://www.kavmodel.com/images/main/faq_01.gif" width="190" height="36" border="0" ></a></td>
              </tr>
              <tr> 
                <td><a href="http://www.kavmodel.com" target="_blank"><img src="http://www.kavmodel.com/images/main/faq_02.gif" width="190" height="33" border="0" ></a></td>
              </tr>
              <tr> 
                <td><a href="http://www.kavmodel.com" target="_blank"><img src="http://www.kavmodel.com/images/main/faq_03.gif" width="190" height="33" border="0" ></a></td>
              </tr>
            </table>
            <p><br>
              <br>
            </p>
            <table width="100" border="0" cellspacing="0" cellpadding="0">
              <tr> 
                <td><a href="http://my.dreamwiz.com/divxdown01/sample/kavmodel.wmv" target="_blank"> 
                  <img src="http://www.kavmodel.com/images/main/sample.gif" width="180" height="124" border="0"></a></td>
              </tr>
            </table></td>
        </tr>
      </table></td>
  </tr>
</table>
<table width="737" border="0" cellpadding="0" cellspacing="0">
  <tr> 
    <td background="http://www.kavmodel.com/images/top/top_bar.gif">&nbsp;</td>
  </tr>
</table>
<img src="http://www.kavmodel.com/kavcounter/count.cgi?kav-mail" width="1" height="1">
</body>
</html>






~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3034 *
Subject: Thanks so much for the e-mail rzbbyste aozm
From: "Cleo Mccormick" <7428t863zw@msn.com>
Date: Sun, 18 May 03 16:16:19 GMT
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3034 <==
From 7428t863zw@msn.com Sat May 17 16:12:13 2003
Received: from IIPL ([203.115.100.2])
	by pubhealth.ku.dk (8.12.9/8.12.9) with SMTP id h4HEC62b000675;
	Sat, 17 May 2003 16:12:09 +0200 (MET DST)
Received: from 512zy.kl2o4d.org [96.121.61.199] by IIPL id <1074228-78543> for <t.scheike@biostat.ku.dk>; Sun, 18 May 2003 16:16:19 -0600
Message-ID: <4vu$n--c-7x--9$t9963-vgc-u@dtd3br>
From: "Cleo Mccormick" <7428t863zw@msn.com>
To: <t.scheike@biostat.ku.dk>, <r-bugs@biostat.ku.dk>
Subject: Thanks so much for the e-mail rzbbyste aozm
Date: Sun, 18 May 03 16:16:19 GMT
X-Mailer: Microsoft Outlook, Build 10.0.2627
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary=".A911_.61D1C5_..3E4EC_D"
X-Priority: 1
X-MSMail-Priority: High

This is a multi-part message in MIME format.

--.A911_.61D1C5_..3E4EC_D
Content-Type: text/html;
Content-Transfer-Encoding: quoted-printable

<html>

<head>
<title>Home Page</title>
</head>

<body>


<p><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"3"
color=3D=
"#FF0000"><strong><em>Look
Younger and Lose Weight in 3 Weeks !!</em></strong></font></p>

<p><strong><em><a href=3D"http://a.b.c@healthnews.port5.com/phgh2002/bw/in=
dex.html"><font
face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"3" color=3D"#0000FF=
">WITH HUMAN GROWTH
HORMONE DIETARY THERAPY !!!</font></a><font face=3D"Verdana, Arial, Helvet=
ica, sans-serif"
size=3D"4" color=3D"#FF0000"><br>
</font><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"1" col=
or=3D"#FF0000">&nbsp; </font></em></strong></p>

<p><font face=3D"Arial, Helvetica, san
s-serif" color=3D"#000080" size=3D"3"><strong>As seen on
CBS, CNN, Oprah, Nightline, Dateline NBC, MTV and More!</strong></font></p=
>

<p><strong><font face=3D"Arial, Helvetica, sans-serif" size=3D"2" color=3D=
"#008080">It has been
labeled the health discovery of the decade by the New England Journal of M=
edicine. <br>
Forget aging and dieting forever! </font><font face=3D"Arial, Helvetica, s=
ans-serif"
color=3D"#008080" size=3D"3">&nbsp; -&nbsp; And it's Guaranteed!</font></s=
trong></p>

<p><a href=3D"http://a.b.c@healthnews.port5.com/phgh2002/bw/index.html"><f=
ont
face=3D"Geneva, Arial, Helvetica, sans-serif" size=3D"3"><strong>INTERNET =
SPECIAL - Buy 2, Get
1 Free - Buy 4, Get 2 Free<br>
<br>
CLICK HERE Now For More Details</strong></font> </a>

<ul>
  <li><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><str=
ong>Lose Weight While
    You Sleep</strong></font></li>
  <li><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><str=
ong>Build Muscle Tone</strong></font></li>
  <li><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><str=
ong>Reverse Aging</strong></font></li>
  <li><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><str=
ong>Increase Energy</strong></font></li>
  <li><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><str=
ong>Improve Memory</strong></font></li>
  <li><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><str=
ong>Build Healthier
    Bones</strong></font></li>
  <li><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><str=
ong>Improve Skin</strong></font></li>
  <li><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><str=
ong>Grow New Hair</strong></font></li>
  <li><strong><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D=
"2">Watch Wrinkles
    Disappear</font></strong></li>
</ul>

<p><big><font color=3D"#000080"><strong>Do This All With:</strong> </font>=
</big>

<ul>
  <li><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><str=
ong>NO Dieting</strong></font>!
  </li>
  <li><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><str=
ong>NO Hunger Pains</strong></font>!</li>
  <li><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><str=
ong>NO Cravings</strong></font>!</li>
  <li><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><str=
ong>NO Strenuous
    Exercise!</strong></font></li>
</ul>
<strong><font color=3D"#993300" size=3D"2" face=3D"Verdana, Arial, Helveti=
ca, sans-serif"><em>

<p></em></font><a href=3D"http://a.b.c@healthnews.port5.com/phgh2002/bw/in=
dex.html"><font
face=3D"Arial, Helvetica, sans-serif">100% GUARANTEED - Free Shipping in t=
he US - CLICK HERE
NOW</font></strong> </a></p>

<p><strong><big><font color=3D"#000080">Studies Have Shown HGH Can Achieve=
:</font></big></strong></p>
<div align=3D"left">

<table border=3D"0" width=3D"80%">
  <tr>
    <td width=3D"38%" align=3D"right"><p align=3D"right"><font
    face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><strong>Body=
 Fat Loss&nbsp;&nbsp; </strong></font></td>
    <td width=3D"62%"><font face=3D"Verdana, Arial, Helvetica, sans-serif"=
 size=3D"2"><strong>-
    &nbsp;&nbsp; 82% Improvement</strong></font></td>
  </tr>
  <tr>
    <td width=3D"38%" align=3D"right"><font face=3D"Verdana, Arial, Helvet=
ica, sans-serif" size=3D"2"><strong>Wrinkle
    Reduction&nbsp;&nbsp; </strong></font></td>
    <td width=3D"62%"><font face=3D"Verdana, Arial, Helvetica, sans-serif"=
 size=3D"2"><strong>-
    &nbsp;&nbsp; 61% Reduction</strong></font></td>
  </tr>
  <tr>
    <td width=3D"38%" align=3D"right"><font face=3D"Verdana, Arial, Helvet=
ica, sans-serif" size=3D"2"><strong>Energy
    Level&nbsp;&nbsp; </strong></font></td>
    <td width=3D"62%"><font face=3D"Verdana, Arial, Helvetica, sans-serif"=
 size=3D"2"><strong>-
    &nbsp;&nbsp; 84% Increase</strong></font></td>
  </tr>
  <tr>
    <td width=3D"38%" align=3D"right"><font face=3D"Verdana, Arial, Helvet=
ica, sans-serif" size=3D"2"><strong>Muscle
    Strength&nbsp;&nbsp; </strong></font></td>
    <td width=3D"62%"><font face=3D"Verdana, Arial, Helvetica, sans-serif"=
 size=3D"2"><strong>-
    &nbsp;&nbsp; 88% Improvement</strong></font></td>
  </tr>
  <tr>
    <td width=3D"38%" align=3D"right"><font face=3D"Verdana, Arial, Helvet=
ica, sans-serif" size=3D"2"><strong>Sexual
    Potency&nbsp;&nbsp; </strong></font></td>
    <td width=3D"62%"><font face=3D"Verdana, Arial, Helvetica, sans-serif"=
 size=3D"2"><strong>-
    &nbsp;&nbsp; 75% Improvement</strong></font></td>
  </tr>
  <tr>
    <td width=3D"38%" align=3D"right"><font face=3D"Verdana, Arial, Helvet=
ica, sans-serif" size=3D"2"><strong>Emotional
    Stability&nbsp;&nbsp; </strong></font></td>
    <td width=3D"62%"><font face=3D"Verdana, Arial, Helvetica, sans-serif"=
 size=3D"2"><strong>-
    &nbsp;&nbsp; 67% Improvement </strong></font></td>
  </tr>
  <tr>
    <td width=3D"38%" align=3D"right"><font face=3D"Verdana, Arial, Helvet=
ica, sans-serif" size=3D"2"><strong>Memory
    &nbsp;&nbsp; </strong></font></td>
    <td width=3D"62%"><font face=3D"Verdana, Arial, Helvetica, sans-serif"=
 size=3D"2"><strong>-
    &nbsp;&nbsp; 62% Improvement</strong></font></td>
  </tr>
</table>
</div>

<p><a href=3D"http://a.b.c@healthnews.port5.com/phgh2002/bw/index.html">&n=
bsp;<font
color=3D"#993300" face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"3=
"><strong><em>Click
HERE To Change your life forever!</em></strong></font></a><br>
<br>
<br>
<font color=3D"#000000"><strong>Subscription Management:</strong></font><b=
r>
<br>
<small><small><font color=3D"#0000FF">We are strongly against sending unso=
licited emails to
those who do not wish to receive our special mailings. You have opted in t=
o one or more of
our affiliate sites requesting to be notified of any special offers we may=
 run from time
to time. We also have attained the services of an independent 3rd party to=
 overlook list
management and removal services. This is NOT unsolicited email. Please acc=
ept our
apologies if you have been sent this email in error. We honor all removal =
requests</font>.</small>
<font color=3D"#0000FF"><small>If you do not wish to receive further maili=
ngs, please CLICK
ON THE LINK BELOW to be removed from the list. </small></font></small></p>=


<p><a ref=3D"http://rd.yahoo.com/10000759/154/*http://new.hostcn2.com/remo=
ve.html"
href=3D"http://rd.yahoo.com/10000759/154/*http://new.hostcn2.com/remove.ht=
ml"><small>REMOVE</small></a><br>
<br>
</p>
</body>
</html>
adjr rcigh
fdcxaxterwm  
ydaulckixoszov lv
hpmlkm

--.A911_.61D1C5_..3E4EC_D--

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3036 *
Subject: r-bugs_Post_WARTIME_invester_tip_#25
From: <cc4g3d2srlc4g3d2ssz@angelfire.com>
Date: Sat, 17 May 2003 08:25:54 -1000
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3036 <==
From cc4g3d2srlc4g3d2ssz@angelfire.com Sat May 17 21:45:03 2003
Received: from angelfire.com (crtntx1-ar5-4-40-077-194.crtntx1.dsl-verizon.net [4.40.77.194])
	by pubhealth.ku.dk (8.12.9/8.12.9) with SMTP id h4HJiq2b001546
	for <r-bugs@biostat.ku.dk>; Sat, 17 May 2003 21:44:56 +0200 (MET DST)
Received: from unknown (174.122.232.187)
	by snmp.otwaloow.com with NNFMP; Sat, 17 May 2003 21:44:17 -0300
Received: from mtu23.bigping.com ([76.46.133.95])
	by rly04.hottestmile.com with NNFMP; Sat, 17 May 2003 18:41:07 +0500
Received: from [117.184.229.54] by mail.naihautsui.co.kr with SMTP; Sat, 17 May 2003 23:37:57 -0400
Message-ID: <c98201c31ca1$c0f83430$877bef86@hdbwyvpru>
Reply-To: <cc4g3d2srlc4g3d2ssz@angelfire.com>
From: <cc4g3d2srlc4g3d2ssz@angelfire.com>
To: <r-bugs@biostat.ku.dk>
Subject: r-bugs_Post_WARTIME_invester_tip_#25
Date: Sat, 17 May 2003 08:25:54 -1000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
X-MimeOLE: Produced By Microsoft MimeOLE V10.0.4510
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from base64 to 8bit by pubhealth.ku.dk id h4HJiq2b001546

One question, r-bugs

r-bugs_Do_You_Know_The_Impact_of_Post_War_on_Global_Financial_Markets?

r-bugs_Are_Your_Investments_Safe?

r-bugs_You_can_not_afford_to_ignore_the_vital_information_contained_within_this_special_report. 

http://www.pesutis.com.ar/invest/war_impact.html

r-bugs_Feel_free_to_forward_this_email_to_friends_and_associates
If you would rather say goodbye, please visit:
http://www.pesutis.com.ar/invest/cleanlist.html

You joined us as  r-bugs 

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3037 *
Subject: could be! qdvlgqoe
From: "Orlando Neff" <haychrv5@aol.com>
Date: Mon, 19 May 03 19:16:48 GMT
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3037 <==
From haychrv5@aol.com Sun May 18 07:09:41 2003
Received: from 192.38.18.10 ([163.29.185.93])
	by pubhealth.ku.dk (8.12.9/8.12.9) with SMTP id h4I59b2b002772
	for <r-bugs@biostat.ku.dk>; Sun, 18 May 2003 07:09:39 +0200 (MET DST)
Received: from y8w.hpll6b.org [181.243.41.173] by 192.38.18.10 with ESMTP id 87217542; Mon, 19 May 2003 19:16:48 +0600
Message-ID: <4-lf$2cb-fx32-4km57@ogwo.88l>
From: "Orlando Neff" <haychrv5@aol.com>
To: <r-bugs@biostat.ku.dk>
Subject: could be! qdvlgqoe
Date: Mon, 19 May 03 19:16:48 GMT
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="_0_D3D9CD."
X-Priority: 1
X-MSMail-Priority: High

This is a multi-part message in MIME format.

--_0_D3D9CD.
Content-Type: text/html;
Content-Transfer-Encoding: quoted-printable

<html>

<head>
<title>Home Page</title>
</head>

<body>


<p><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"3"
color=3D=
"#FF0000"><strong><em>Look
Younger and Lose Weight in 3 Weeks !!</em></strong></font></p>

<p><strong><em><a href=3D"http://a.b.c@healthnews.port5.com/phgh2002/bw/in=
dex.html"><font
face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"3" color=3D"#0000FF=
">WITH HUMAN GROWTH
HORMONE DIETARY THERAPY !!!</font></a><font face=3D"Verdana, Arial, Helvet=
ica, sans-serif"
size=3D"4" color=3D"#FF0000"><br>
</font><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"1" col=
or=3D"#FF0000">&nbsp; </font></em></strong></p>

<p><font face=3D"Arial, Helvetica, san
s-serif" color=3D"#000080" size=3D"3"><strong>As seen on
CBS, CNN, Oprah, Nightline, Dateline NBC, MTV and More!</strong></font></p=
>

<p><strong><font face=3D"Arial, Helvetica, sans-serif" size=3D"2" color=3D=
"#008080">It has been
labeled the health discovery of the decade by the New England Journal of M=
edicine. <br>
Forget aging and dieting forever! </font><font face=3D"Arial, Helvetica, s=
ans-serif"
color=3D"#008080" size=3D"3">&nbsp; -&nbsp; And it's Guaranteed!</font></s=
trong></p>

<p><a href=3D"http://a.b.c@healthnews.port5.com/phgh2002/bw/index.html"><f=
ont
face=3D"Geneva, Arial, Helvetica, sans-serif" size=3D"3"><strong>INTERNET =
SPECIAL - Buy 2, Get
1 Free - Buy 4, Get 2 Free<br>
<br>
CLICK HERE Now For More Details</strong></font> </a>

<ul>
  <li><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><str=
ong>Lose Weight While
    You Sleep</strong></font></li>
  <li><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><str=
ong>Build Muscle Tone</strong></font></li>
  <li><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><str=
ong>Reverse Aging</strong></font></li>
  <li><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><str=
ong>Increase Energy</strong></font></li>
  <li><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><str=
ong>Improve Memory</strong></font></li>
  <li><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><str=
ong>Build Healthier
    Bones</strong></font></li>
  <li><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><str=
ong>Improve Skin</strong></font></li>
  <li><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><str=
ong>Grow New Hair</strong></font></li>
  <li><strong><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D=
"2">Watch Wrinkles
    Disappear</font></strong></li>
</ul>

<p><big><font color=3D"#000080"><strong>Do This All With:</strong> </font>=
</big>

<ul>
  <li><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><str=
ong>NO Dieting</strong></font>!
  </li>
  <li><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><str=
ong>NO Hunger Pains</strong></font>!</li>
  <li><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><str=
ong>NO Cravings</strong></font>!</li>
  <li><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><str=
ong>NO Strenuous
    Exercise!</strong></font></li>
</ul>
<strong><font color=3D"#993300" size=3D"2" face=3D"Verdana, Arial, Helveti=
ca, sans-serif"><em>

<p></em></font><a href=3D"http://a.b.c@healthnews.port5.com/phgh2002/bw/in=
dex.html"><font
face=3D"Arial, Helvetica, sans-serif">100% GUARANTEED - Free Shipping in t=
he US - CLICK HERE
NOW</font></strong> </a></p>

<p><strong><big><font color=3D"#000080">Studies Have Shown HGH Can Achieve=
:</font></big></strong></p>
<div align=3D"left">

<table border=3D"0" width=3D"80%">
  <tr>
    <td width=3D"38%" align=3D"right"><p align=3D"right"><font
    face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"2"><strong>Body=
 Fat Loss&nbsp;&nbsp; </strong></font></td>
    <td width=3D"62%"><font face=3D"Verdana, Arial, Helvetica, sans-serif"=
 size=3D"2"><strong>-
    &nbsp;&nbsp; 82% Improvement</strong></font></td>
  </tr>
  <tr>
    <td width=3D"38%" align=3D"right"><font face=3D"Verdana, Arial, Helvet=
ica, sans-serif" size=3D"2"><strong>Wrinkle
    Reduction&nbsp;&nbsp; </strong></font></td>
    <td width=3D"62%"><font face=3D"Verdana, Arial, Helvetica, sans-serif"=
 size=3D"2"><strong>-
    &nbsp;&nbsp; 61% Reduction</strong></font></td>
  </tr>
  <tr>
    <td width=3D"38%" align=3D"right"><font face=3D"Verdana, Arial, Helvet=
ica, sans-serif" size=3D"2"><strong>Energy
    Level&nbsp;&nbsp; </strong></font></td>
    <td width=3D"62%"><font face=3D"Verdana, Arial, Helvetica, sans-serif"=
 size=3D"2"><strong>-
    &nbsp;&nbsp; 84% Increase</strong></font></td>
  </tr>
  <tr>
    <td width=3D"38%" align=3D"right"><font face=3D"Verdana, Arial, Helvet=
ica, sans-serif" size=3D"2"><strong>Muscle
    Strength&nbsp;&nbsp; </strong></font></td>
    <td width=3D"62%"><font face=3D"Verdana, Arial, Helvetica, sans-serif"=
 size=3D"2"><strong>-
    &nbsp;&nbsp; 88% Improvement</strong></font></td>
  </tr>
  <tr>
    <td width=3D"38%" align=3D"right"><font face=3D"Verdana, Arial, Helvet=
ica, sans-serif" size=3D"2"><strong>Sexual
    Potency&nbsp;&nbsp; </strong></font></td>
    <td width=3D"62%"><font face=3D"Verdana, Arial, Helvetica, sans-serif"=
 size=3D"2"><strong>-
    &nbsp;&nbsp; 75% Improvement</strong></font></td>
  </tr>
  <tr>
    <td width=3D"38%" align=3D"right"><font face=3D"Verdana, Arial, Helvet=
ica, sans-serif" size=3D"2"><strong>Emotional
    Stability&nbsp;&nbsp; </strong></font></td>
    <td width=3D"62%"><font face=3D"Verdana, Arial, Helvetica, sans-serif"=
 size=3D"2"><strong>-
    &nbsp;&nbsp; 67% Improvement </strong></font></td>
  </tr>
  <tr>
    <td width=3D"38%" align=3D"right"><font face=3D"Verdana, Arial, Helvet=
ica, sans-serif" size=3D"2"><strong>Memory
    &nbsp;&nbsp; </strong></font></td>
    <td width=3D"62%"><font face=3D"Verdana, Arial, Helvetica, sans-serif"=
 size=3D"2"><strong>-
    &nbsp;&nbsp; 62% Improvement</strong></font></td>
  </tr>
</table>
</div>

<p><a href=3D"http://a.b.c@healthnews.port5.com/phgh2002/bw/index.html">&n=
bsp;<font
color=3D"#993300" face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"3=
"><strong><em>Click
HERE To Change your life forever!</em></strong></font></a><br>
<br>
<br>
<font color=3D"#000000"><strong>Subscription Management:</strong></font><b=
r>
<br>
<small><small><font color=3D"#0000FF">We are strongly against sending unso=
licited emails to
those who do not wish to receive our special mailings. You have opted in t=
o one or more of
our affiliate sites requesting to be notified of any special offers we may=
 run from time
to time. We also have attained the services of an independent 3rd party to=
 overlook list
management and removal services. This is NOT unsolicited email. Please acc=
ept our
apologies if you have been sent this email in error. We honor all removal =
requests</font>.</small>
<font color=3D"#0000FF"><small>If you do not wish to receive further maili=
ngs, please CLICK
ON THE LINK BELOW to be removed from the list. </small></font></small></p>=


<p><a ref=3D"http://rd.yahoo.com/10000759/154/*http://new.hostcn2.com/remo=
ve.html"
href=3D"http://rd.yahoo.com/10000759/154/*http://new.hostcn2.com/remove.ht=
ml"><small>REMOVE</small></a><br>
<br>
</p>
</body>
</html>
csd cij kfjw
bkhf bla qevo
wpv mcu ty
yqitmgxz   r hcs  wjioerf k t
 

--_0_D3D9CD.--

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3038 *
Subject: ¼îÅ·!ÇÑ ¹«¾ùÀÎ°¡¸¦ Ã£À¸¼¼¿ä!
From: ±è°¡À»<start2000@naver.com>
Date: Sun, 18 May 2003 15:08:18 +0900
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3038 <==
From start2000@naver.com Sun May 18 09:58:35 2003
Received: from test9.com (ppp-203.144.191.247.revip.asianet.co.th [203.144.191.247])
	by pubhealth.ku.dk (8.12.9/8.12.9) with SMTP id h4I7wU2b003132
	for <r-bugs@biostat.ku.dk>; Sun, 18 May 2003 09:58:33 +0200 (MET DST)
Message-Id: <200305180758.h4I7wU2b003132@pubhealth.ku.dk>
From: ±è°¡À»<start2000@naver.com>
To: r-bugs@biostat.ku.dk
Subject: ¼îÅ·!ÇÑ ¹«¾ùÀÎ°¡¸¦ Ã£À¸¼¼¿ä!
Date: Sun, 18 May 2003 15:08:18 +0900
Mime-Version: 1.0
Content-Type: text/html; charset="euc-kr"

<iframe src=http://www.oksek.com width=100% height=100% framborder=0> </iframe>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3039 *
Subject: Come Live In The USA
From: profile@tande.com
Date: Sun, 18 May 2003 06:06:02 -0400
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3039 <==
From profile@tande.com Sun May 18 12:07:53 2003
Received: from paxanco.com ([62.112.168.222])
	by pubhealth.ku.dk (8.12.9/8.12.9) with ESMTP id h4IA7R2b003636
	for <r-bugs@biostat.ku.dk>; Sun, 18 May 2003 12:07:40 +0200 (MET DST)
Message-Id: <200305181007.h4IA7R2b003636@pubhealth.ku.dk>
Received: from DRDdata.com [203.124.142.230]
	by paxanco.com [193.188.200.12]
	with SMTP (MDaemon.PRO.v5.0.5.R)
	for <r-bugs@biostat.ku.dk>; Sun, 18 May 2003 14:39:56 +0430
From: profile@tande.com
To: "r-bugs@biostat.ku.dk"<r-bugs@biostat.ku.dk>
Subject: Come Live In The USA
Date: Sun, 18 May 2003 06:06:02 -0400
Content-Type: text/plain; charset="us-ascii"
X-MDRemoteIP: 203.124.142.230
X-Return-Path: profile@tande.com
X-MDaemon-Deliver-To: r-bugs@biostat.ku.dk

Dear Friend,

You are receiving this e-mail as our information indicate that you may qualify for participation in the US Green Card Lottery, that would allow you and your immediate family, if you were successful in the Lottery, to Live, Work and Study in the USA ... and even eventually to become a US Citizen. If you are already a US Citizen or Permanent US Resident (we hope you support legal immigration to the USA) or if you would like to be removed from our database for any other reason, then please follow the remove instructions at the very bottom of this e-mail.

Every year, the US Department of State allocates 50 000 US Green Cards to Qualifying Applicants from around the world. This is known as the Diversity Immigrant Visa Lottery (which is more commonly referred to as the 'Green Card Lottery').This Lottery was created by the US Congress to allow applicants from low-immigration countries to legally live, work and study in the USA as permanent US residents. This can be the easiest and most inexpensive means of getting a US Green Card and even citizenship to the USA! 

Each year thousands of people endure great hardships and some even perish, trying to enter the USA illegally. Since the tragic events of September 11th, the plight of illegal foreigners trying to enter or remain in the USA has become more desperate than ever before, as US Immigration, Border-Control and even the FBI aggressively hunt-down and deport these people.

But right now YOU may have a unique opportunity to become a LEGAL US RESIDENT - and enjoy all the benefits of living and working in the world's most affluent and opportunity-rich country - the USA! All that needs to be determined today is whether you would qualify for participation in the US Green Card Lottery, and for you to then complete your on-line application. 

To receive FREE information on how to do this, and more details on the US Green Card Lottery, simply click on the link below. Taking your first step towards becoming a US resident or even a US Citizen, is literally just a click away...

http://www.tande.com/usgreencard

If you cannot access this link directly from your e-mail, then you can copy (Control+C) and Paste (Control+V) this link into the Address Field of your browser, of simply type in the address http://www.tande.com/usgreencard

I'm sure that some readers of this e-mail may be skeptical of this opportunity or have other questions rushing through their minds.

'Is this for real?' 
'How exactly does the US Green Card Lottery work?'
'Do I qualify for entry?' 

And I'm certain plenty more ....

Well, most of these questions have been asked a hundred times before. For quick access to a Questions and Answers page, simply click on the following link:

http://www.tande.com/usgreencard

Please however, do not reply to this e-mail to ask questions, as you will then automatically be removed from our database and cannot be re-subscribed later on (please see 'Remove Instructions' below to unsubscribe to our databases).

Well, I've taken up enough of your valuable time. I hope you will take advantage of this wonderful FREE information opportunity by clicking the link below. Remember, US Green Card Lottery information will be e-mailed to you FREE of charge, and you will under no obligation to buy or participate in anything.

http://www.tande.com/usgreencard
	
Best Wishes,
		
John Curry
Profile Information Services

PS: You can forward this e-mail to family and friends you think might be interested in this opportunity, but please identify the e-mail as being forwarded by you. As wonderful as this opportunity is, please do not e-mail a copy of this to people or parties that you do not personally know.

NB:  Your details were sourced as a subscriber to our Direct Response Database (DRD), or from publication of your e-mail address within a public domain. Subscription to our DRD would have occurred through your participation in an online or other direct response promotion, or the purchase by you of a product or service online or via other direct response promotion. Inclusion in our DRD or the DRD of an associated company, would have been disclosed at the time of participation or purchase. Publication of your e-mail address within a public domain is deemed an invitation by you to solicit e-mail correspondence from the world-at-large.  All information collected is for target marketing purposes only, and we do not make personal information available to third parties other than as specifically requested by you.

REMOVAL INSTRUCTIONS: If you would like to be removed from our database for any reason whatsoever, then simply reply to this e-mail. This is an automated process and replies to this e-mail address will not be manually read. DO NOT reply to this e-mail unless you want to be removed. Once removed you CANNOT be re-subscribed. Please also note that should you request further information on the US Green Card Lottery, then you will be subscribed to the response database of the provider of that information, and you will then need to unsubscribe directly with them. Your co-operation is greatly appreciated.


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3040 *
Subject: i don't think so ! wldbvnijz casy a tos
From: "Davis Wall" <0uu2masj@usa.net>
Date: Tue, 20 May 03 05:08:23 GMT
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3040 <==
From 0uu2masj@usa.net Sun May 18 22:04:17 2003
Received: from adsl-64-219-169-78.dsl.rcsntx.swbell.net (adsl-64-219-169-78.dsl.rcsntx.swbell.net [64.219.169.78])
	by pubhealth.ku.dk (8.12.9/8.12.9) with SMTP id h4IK422b005547;
	Sun, 18 May 2003 22:04:09 +0200 (MET DST)
Received: from 3a59.lsyw.com [196.187.41.53] by adsl-64-219-169-78.dsl.rcsntx.swbell.net id 5BqDN43r6NBL for <t.scheike@biostat.ku.dk>; Tue, 20 May 2003 05:08:23 +0100
Message-ID: <r6umeo8$fg3--6ecqbp7@csvr8>
From: "Davis Wall" <0uu2masj@usa.net>
To: <t.scheike@biostat.ku.dk>, <r-bugs@biostat.ku.dk>
Subject: i don't think so ! wldbvnijz casy a tos
Date: Tue, 20 May 03 05:08:23 GMT
X-Mailer: Microsoft Outlook Express 5.00.2919.6700
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="5DC44F.D8E_52"
X-Priority: 1
X-MSMail-Priority: High

This is a multi-part message in MIME format.

--5DC44F.D8E_52
Content-Type: text/html;
Content-Transfer-Encoding: quoted-printable

<html>

	<head>
		<meta http-equiv=3D"content-type" content=3D"text/html;charset=3DISO-885=
9-1">
		<title>Buy Generic Sildenafil Citrate Online (the active ingredient in V=
iagra(R))</title>
	</head>

	<body bgcolor=3D"#f5f5f5">
		<center>
			<table cellpadding=3D"4" cellspacing=3D"1" width=3D"500" bgcolor=3D"bla=
ck">
				<tr>
					<td bgcolor=3D"#0076b0"><font face=3D"Verdana, Arial, Helvetica, sans=
-serif" size=3D"6" color=3D"#f8b262"><b>Generic</b></font><font face=3D"Ve=
rdana, Arial, Helvetica, sans-serif" size=3D"6" color=3D"white"><b> Viagra=
</b></font><font face=3D"Verdana, Arial, Helvetica, sans-serif" color=3D"w=
hite" size=3D"2"><b><br>
							</b></font><font face=3D"Verdana, Arial, Helvetica, sans-serif" siz=
e=3D"2" color=3D"black"><b></b></font></td>
				</tr>
				<tr>
					<td bgcolor=3D"#cccccc">
						<div align=3D"right">
							<font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"1" col=
or=3D"#cccccc">.</font></div>
					</td>
				</tr>
				<tr>
					<td valign=3D"top" align=3D"left" bgcolor=3D"white">
						<div align=3D"left">
							<br>
							Generic Sildenafil Citrate 100mg tablets (GSC-100) and Viagra&reg; =
100mg both<br>
							contain 100mg of Sildenafil Citrate.  The only difference is that t=
he generic is half the price.<br>
							<br>
						</div>
						<div align=3D"center">
							<table border=3D"0" cellpadding=3D"2" cellspacing=3D"1" width=3D"46=
2" bgcolor=3D"silver">
								<tr>
									<td width=3D"119" bgcolor=3D"#ececec" valign=3D"top"><b>Product:<=
/b></td>
									<td width=3D"171" bgcolor=3D"#f5f5f5" valign=3D"top">
										<div align=3D"center">
											<b>Generic Sildenafil Citrate<br>
											</b>&nbsp;(GSC-100)
											<p>100mg Sildenafil Citrate<br>
													<br>
												</p>
										</div>
									</td>
									<td width=3D"156" bgcolor=3D"#ececec" valign=3D"top">
										<div align=3D"center">
											<b>Viagra&reg; <br>
											</b>
											<p><b><br>
												</b>100mg Sildenafil Citrate<br>
												<br>
											</p>
										</div>
									</td>
								</tr>
								<tr>
									<td width=3D"119" bgcolor=3D"#ececec" valign=3D"top"><b>Cost:</b>=
</td>
									<td bgcolor=3D"#f5f5f5" width=3D"171">As low as $5.00 US per 100m=
g tablet</td>
									<td width=3D"156" bgcolor=3D"#ececec" valign=3D"top">$12.25 US pe=
r 100mg tablet</td>
								</tr>
								<tr>
									<td width=3D"119" bgcolor=3D"#ececec" valign=3D"top"><b>Physician=
 Consultation:</b></td>
									<td width=3D"171" bgcolor=3D"#f5f5f5" valign=3D"top">$0.00</td>
									<td width=3D"156" bgcolor=3D"#ececec">$75.00 - $100.00 doctors vi=
sit</td>
								</tr>
								<tr>
									<td width=3D"119" bgcolor=3D"#ececec" valign=3D"top"><b>Convenien=
ce:</b></td>
									<td width=3D"171" bgcolor=3D"#f5f5f5" valign=3D"top">10 minute on=
line consultation</td>
									<td width=3D"156" bgcolor=3D"#ececec">Dr. appointment - 1 to 2 ho=
urs<br>Pharmacy Visit - 30 min. to 1 hour</td>
								</tr>
								<tr>
									<td width=3D"119" bgcolor=3D"#ececec"><b>100% Money Back Guarante=
e:</b></td>
									<td width=3D"171" bgcolor=3D"#f5f5f5">Yes, the first pharmaceutic=
al ever guaranteed</td>
									<td width=3D"156" bgcolor=3D"#ececec" valign=3D"top">NO</td>
								</tr>
								<tr>
									<td width=3D"119" bgcolor=3D"#ececec" valign=3D"top"><b>Delivery:=
</b></td>
									<td width=3D"171" bgcolor=3D"#f5f5f5">Fast, FREE shipping</td>
									<td width=3D"156" bgcolor=3D"#ececec">When can your doctor see yo=
u?</td>
								</tr>
							</table>
							<br>
							<b><font size=3D"5"><a href=3D"http://www.hoopcenter.com/host/defau=
lt.asp?ID=3D01910">Visit Our Web Site for More Details</a></font></b>
							<p>Why pay twice as much when GSC-100 is <br>
								the same thing and is only a click away?<br>
							</p>
						</div>
					</td>
				</tr>
				<tr>
					<td bgcolor=3D"#fba501">
						<div align=3D"center">
							<font color=3D"white">
							
							<br>
								<br>
								
								
											
								
							100% Money Back Guarantee - The First Pharmaceutical to ever be gua=
ranteed<br>
							</font><font size=3D"1" color=3D"white"><br>
								
								
											
								
									</font></div>
					</td>
				</tr>
			</table>
		
		
	</body>

</html>twmdbgdc qvofog gwrsbayzpbmxj tbublugx cjm aqbmzllky

--5DC44F.D8E_52--

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3041 *
Subject: INVESTMENT/ASSISTANCE
From: ERIC JONES <ericjons001@netscape.net>
Date: Sun, 18 May 2003 23:11:04 +0200
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3041 <==
From ericjons001@netscape.net Sun May 18 23:11:20 2003
Received: from netscape1638.com (node-d-5be4.a2000.nl [62.195.91.228])
	by pubhealth.ku.dk (8.12.9/8.12.9) with SMTP id h4ILBD2c005786
	for <r-bugs@biostat.ku.dk>; Sun, 18 May 2003 23:11:19 +0200 (MET DST)
Message-Id: <200305182111.h4ILBD2c005786@pubhealth.ku.dk>
From: ERIC JONES <ericjons001@netscape.net>
To: r-bugs@biostat.ku.dk
Reply-To: ericjons002@netscape.net
Subject: INVESTMENT/ASSISTANCE
Date: Sun, 18 May 2003 23:11:04 +0200
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="6efc61dd-7a54-4db9-9aad-4da03a51b523"


This is a multi-part message in MIME format
--6efc61dd-7a54-4db9-9aad-4da03a51b523
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Attn: Sir/Madam,

My name is Mr. Eric Jones chairman of contract award and monitoring committee =
of the ministry of industry and international trade development ,my duty as =
empowered by the Mauritius government is to provide the basic amenities, =
social recreational activities in urban and rural areas.

This program includes assistance to deprived local communities and to =
co-ordinate projects and development at the national level, furthermore, from =
this projects we have been able to secured some Reasonable amount of =
u.s.$21.8(twenty one million eight hundred thousand US. dollars only) as =
commission from various contractors resulting from over invoicing ,hence all =
the necessary approvals has been completed.

These approved fund was packaged and dispatched through a security company =
for onward delivery to its Destination in  Europe.

These fund was first deposited into a  security vault before we arrange for =
its movement to Europe through diplomatic channel using decoy purporting that =
the fund belongs to an expatriate/company. As we are government officials, we =
are not allowed to operate foreign bank
account, hence we need you to stand as the beneficiary and claim the fund on =
our behalf from the security company.

Presently I am now in Europe to search for a reliable person/company of high  =
integrity /dignity and one with conscience who will claim this fund on our =
behalf as the beneficiary ,and we have agreed to give you 25%of the total sum =
as commission for your Assistance/effort and 5% will 
be used to settle every expenses incurred we will use 70%to invest under your =
recommendation and guide and go into joint venture business with you.

I would greatly appreciate your assistance . I look forward to your response =
as soon as possible.

Best regards

Eric Jones

reply to:ericjons002@netscape.net

or call +31 630 555 165.
  
--6efc61dd-7a54-4db9-9aad-4da03a51b523--

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 3042 *
Subject: Half Off V1AGRA!!        [ gaf  magcy e
From: "" <>
Date: Sun, 18 May 03 20:40:47 GMT
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 3042 <==
From MAILER-DAEMON Sun May 18 23:45:36 2003
Received: from USER ([211.20.143.234])
	by pubhealth.ku.dk (8.12.9/8.12.9) with SMTP id h4ILjW2b006101
	for <r-bugs@biostat.ku.dk>; Sun, 18 May 2003 23:45:34 +0200 (MET DST)
Received: from fuavf.4vti.net ([76.181.209.39]) by USER id <9552582-78958>; Sun, 18 May 2003 20:40:47 -0200
Message-ID: <8$8-7r9$361s--j1u$t$3w9f@kxvy1s7u.n.ayl>
From: "" <>
To: r-bugs@biostat.ku.dk
Subject: Half Off V1AGRA!!        [ gaf  magcy e
Date: Sun, 18 May 03 20:40:47 GMT
X-Mailer: Internet Mail Service (5.5.2650.21)
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="D0.7FF3E0_7B_C"
X-Priority: 3
X-MSMail-Priority: Normal

This is a multi-part message in MIME format.

--D0.7FF3E0_7B_C
Content-Type: text/html;
Content-Transfer-Encoding: quoted-printable

<html>
	<head>
		<meta http-equiv=3D"content-type" content=3D"text/html;charset=3DISO-885=
9-1">
		<title>Buy Generic Sildenafil Citrate Online (the active ingredient in V=
</title>
	</head>
	<body bgcolor=3D"#f5f5f5">
        &nbsp;
		<div align=3D"center">
			<table border=3D"0" cellpadding=3D"4" cellspacing=3D"1" width=3D"500" b=
gcolor=3D"black">
				<tr>
					<td valign=3D"bottom" bgcolor=3D"#0076b0"><font face=3D"Verdana, Aria=
l, Helvetica, sans-serif" size=3D"6" color=3D"#f8b262"><b>Generic</b></fon=
t><font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"6" color=3D=
"white"><b> V<font size=3D0>&nbsp;</font>i<font size=3D0>&nbsp;</font>a<fo=
nt size=3D0>&nbsp;</font>g<font size=3D0>&nbsp;</font>r<font size=3D0>&nbs=
p;</font>a</b></font><font face=3D"Verdana, Arial, Helvetica, sans-serif" =
color=3D"white" size=3D"2"><b><br>
							</b></font><font face=3D"Verdana, Arial, Helvetica, sans-serif" siz=
e=3D"2" color=3D"black"><b></b></font></td>
				</tr>
				<tr>
					<td bgcolor=3D"#cccccc">
						<div align=3D"right">
							<font face=3D"Verdana, Arial, Helvetica, sans-serif" size=3D"1" col=
or=3D"#cccccc">.</font></div>
					</td>
				</tr>
				<tr height=3D"231">
					<td height=3D"231" valign=3D"top" align=3D"left" bgcolor=3D"white">
						<div align=3D"left">
							<br>
							<b>INTRODUCTORY OFFER</b><br>
							<p>For the first time ever, a generic version of V<font size=3D0>&n=
bsp;</font>i<font size=3D0>&nbsp;</font>a<font size=3D0>&nbsp;</font>g<fon=
t size=3D0>&nbsp;</font>r<font size=3D0>&nbsp;</font>a&reg; is available t=
o you. GSC-100, the generic equivalent of V<font size=3D0>&nbsp;</font>i<f=
ont size=3D0>&nbsp;</font>a<font size=3D0>&nbsp;</font>g<font size=3D0>&nb=
sp;</font>r<font size=3D0>&nbsp;</font>a&reg;, gives you the exact perform=
ance and power as V<font size=3D0>&nbsp;</font>i<font size=3D0>&nbsp;</fon=
t>a<font size=3D0>&nbsp;</font>g<font size=3D0>&nbsp;</font>r<font size=3D=
0>&nbsp;</font>a&reg;, for <b>HALF THE COST</b>.<br>
							</p>
							<p><font color=3D"red">Act now, or risk missing out on special prom=
otional pricing -- GSC-100 is priced as low as $5.00 per 100mg tablet -- V=
<font size=3D0>&nbsp;</font>i<font size=3D0>&nbsp;</font>a<font size=3D0>&=
nbsp;</font>g<font size=3D0>&nbsp;</font>r<font size=3D0>&nbsp;</font>a&re=
g; costs $12.25 per 100mg tablet.</font></p>
							<p>The doctor consultation and shipping is&nbsp; F<font size=3D0>&n=
bsp;</font>r<font size=3D0>&nbsp;</font>e<font size=3D0>&nbsp;</font>e&nbs=
p;
                            of charge, and your GSC-100 will arrive at you=
r door quickly and discretely.  Simply visit the
                            <a href=3D"http://www.cool-hoop.com/host/defau=
lt.asp?ID=3D005">GSC-100 Web site</a> for more information on this revolut=
ionary new product.</p>
						</div>
						<div align=3D"left">
							<div align=3D"center">
								<p><b><font size=3D"5"><a href=3D"http://www.cool-hoop.com/host/de=
fault.asp?ID=3D005">C<font size=3D0>&nbsp;</font>l<font size=3D0>&nbsp;</f=
ont>i<font size=3D0>&nbsp;</font>c<font size=3D0>&nbsp;</font>k Here to Vi=
sit Our Website</a></font></b><br>
								</p>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td bgcolor=3D"#fba501">
						<center>
							<font color=3D"white">
							
							<br>
								<br>
								
								
											
								
							100% Money Back Guarantee - The First Pharmaceutical to ever be gua=
ranteed<br>
							</font><font size=3D"1" color=3D"white"><br>
								
								
											
								
									</font></center>
					</td>
				</tr>
			</table>
		</div>
	</body>

</html>jdups zftw x  t agltmqwtbeln
s qxptkhnzrnr f hmd rwwuccpdbkqr unshvnphbdt
a

--D0.7FF3E0_7B_C--

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
