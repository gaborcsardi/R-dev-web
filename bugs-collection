=================================================
This is an automated collection of open reports in
the R-bugs repository.
=================================================

Directory:  Accuracy

* PR# 138 *
Subject: Re: [R] bug? and New bug.
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Wed, 10 Mar 1999 17:21:16 +0100
--pt() for large df. Solved, but problem remains for pf et al.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 138 <==
From maechler@stat.math.ethz.ch  Wed Mar 10 17:19:54 1999
Received: from hypatia.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.1/8.9.1) with SMTP id RAA25536
	for <R-bugs@biostat.ku.dk>; Wed, 10 Mar 1999 17:19:54 +0100 (MET)
Received: (daemon@localhost) by hypatia.math.ethz.ch (8.6.12/Main-STAT-mailer) id RAA13244; Wed, 10 Mar 1999 17:21:19 +0100
Received: from sophie(129.132.58.2), claiming to be "sophie.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa003Et; Wed Mar 10 17:21:16 1999
Received: (maechler@localhost) by sophie.ethz.ch (8.6.12/D-MATH-client) id RAA27290; Wed, 10 Mar 1999 17:21:16 +0100
Date: Wed, 10 Mar 1999 17:21:16 +0100
Message-Id: <199903101621.RAA27290@sophie.ethz.ch>
From: Martin Maechler <maechler@stat.math.ethz.ch>
To: Mai Zhou <mai@ms.uky.edu>
CC: r-bugs@stat.math.ethz.ch
In-reply-to: <199903101541.KAA12958@t6.mscf.uky.edu> (message from Mai Zhou on
	Wed, 10 Mar 1999 10:41:31 -0500 (EST))
Subject: Re: [R] bug? and New bug.
Reply-to: Martin Maechler <maechler@stat.math.ethz.ch>
References:  <199903101541.KAA12958@t6.mscf.uky.edu>

>>>>> "Mai" == Mai Zhou <mai@ms.uky.edu> writes:

    Mai> A new bug.  In 0.63.0 (windows NT) and 0.63.2 (on the Rweb)

    >> pt(1.96,df=100)
    Mai> [1] 0.9736105 #this is OK
    >> pt(1.96, df=100000000000000000000)
    Mai> [1] 0.5 #clearly wrong

    Mai> and for df=1000000 it took way too long to compute

    Mai> same with the F-distribution function.

Oh dear!  this is an ``old one'' 
   (I had at one time fixed something similar, maybe qt() ?
    but never done/checked all these limit cases).

--- I look at it some more...

Martin

==> 138.reply.1 <==
From maechler@stat.math.ethz.ch  Wed Mar 10 18:39:19 1999
Received: from hypatia.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.1/8.9.1) with SMTP id SAA26134
	for <R-bugs@biostat.ku.dk>; Wed, 10 Mar 1999 18:39:19 +0100 (MET)
Received: (daemon@localhost) by hypatia.math.ethz.ch (8.6.12/Main-STAT-mailer) id SAA15265; Wed, 10 Mar 1999 18:40:41 +0100
Received: from sophie(129.132.58.2), claiming to be "sophie.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa003iV; Wed Mar 10 18:40:31 1999
Received: (maechler@localhost) by sophie.ethz.ch (8.6.12/D-MATH-client) id SAA01355; Wed, 10 Mar 1999 18:40:30 +0100
Date: Wed, 10 Mar 1999 18:40:30 +0100
Message-Id: <199903101740.SAA01355@sophie.ethz.ch>
From: Martin Maechler <maechler@stat.math.ethz.ch>
To: R-bugs@biostat.ku.dk
CC: Mai Zhou <mai@ms.uky.edu>
In-reply-to: <199903101623.RAA06323@biostat.ku.dk>
	(maechler@stat.math.ethz.ch)
Subject: Re: [R] bug? and New bug. --- patch for pt() only (PR#138)
Reply-to: Martin Maechler <maechler@stat.math.ethz.ch>
References:  <199903101623.RAA06323@biostat.ku.dk>

The following patch saves  pt(), but not the  
pf() and pbeta() ones which are harder.. 
[pbeta(), the incomplete beta ratio is really underlying all these...
 needs another asymptotic formula, and it's even harder to decide 
 WHEN to switch from the (Taylor kind) series  to the asymptotic formula
]
This has to wait for a while, unless someone else....


BTW,  S-plus also fouls up completely here:

    df3 <- c(10^(3:20))
    ## completely wrong on S; taking forever on R
    plot(df3, ptd3 <- pt(1.96,df=df3), log='x', type='b')
    ptd3

giving

  [1]  9.748634e-01  9.749882e-01  9.750007e-01  9.750020e-01
  [5]  9.750021e-01  9.750021e-01  9.750021e-01  9.750023e-01
  [9]  9.750054e-01  9.750436e-01  9.748710e-01  9.725377e-01
 [13]  8.914032e-01 -4.261217e+06            NA            NA
 [17]            NA            NA

where the last before the NA's is  -426121.7  !! 


-----------------------
Here is the patch
---------------------------------------------------------------------

--- src/nmath/pt.c.~1~	Wed Feb  3 12:21:46 1999
+++ src/nmath/pt.c	Wed Mar 10 18:15:42 1999
@@ -41,6 +41,11 @@
     if(!finite(n))
 	return pnorm(x, 0.0, 1.0);
 #endif
+    if (n > 4e5) { /*-- Fixme(?): test should depend on `n' AND `x' ! */
+	/* Approx. from	 Abramowitz & Stegun 26.7.8 (p.949) */
+	val = 1./(4.*n);
+	return pnorm(x*(1. - val)/sqrt(1. + x*x*2.*val), 0.0, 1.0);
+    }
     val = 0.5 * pbeta(n / (n + x * x), n / 2.0, 0.5);
     return (x > 0.0) ? 1 - val : val;
 }

==> 138.audit <==
Tue Apr 06 16:45:45 1999	maechler	moved from incoming to Accuracy
Thu Jul 01 18:02:03 1999	pd	changed notes
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Add-ons

* PR# 443 *
Subject: chron now fails with 4 digit year
From: jens.oehlschlaegel-akiyoshi@mdfactory.de
Date: Wed, 16 Feb 2000 13:03:18 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 443 <==
From jens.oehlschlaegel-akiyoshi@mdfactory.de  Wed Feb 16 13:03:18 2000
Received: from localhost (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id NAA18887
	for <R-bugs@biostat.ku.dk>; Wed, 16 Feb 2000 13:03:18 +0100 (MET)
Date: Wed, 16 Feb 2000 13:03:18 +0100 (MET)
From: jens.oehlschlaegel-akiyoshi@mdfactory.de
Message-Id: <200002161203.NAA18887@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: chron now fails with 4 digit year
MIME-Version: 1.0
Content-Type: text/plain; charset=unknown-8bit
Content-Transfer-Encoding: 8bit

Full_Name: Jens Oehlschlägel-Akiyoshi
Version: RW0990
OS: Windows NT 4.0 SP5
Submission from: (NULL) (194.175.113.13)


With the version of the chron library included in RW0901
I could create CORRECT chron objects with mm/dd/yyyy

> as.numeric(dates("12/31/1999", format='m/d/y'))
[1] 10956
> as.numeric(dates("01/01/2000", format='m/d/y'))
[1] 10957

wheras backformatting in the print method failed

> dates("12/31/1999", format='m/d/y')
[1] 12/31/99
> dates("01/01/2000", format='m/d/y')
[1] 01/01/100

but now in RW0990

> dates("01/01/2000")
Error in fun(yy, ...) : must be 2-digit (numeric) year specification



==> 443.audit <==
Wed Feb 16 19:26:07 2000	ripley	moved from incoming to Add-ons
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Analyses

none

Directory:  Documentation

none

Directory:  Graphics

* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--Don't think I (pd) got the point there...
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 202 <==
From wsi@gcal.ac.uk  Wed Jun  2 15:02:10 1999
Received: from localhost (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id PAA27126
	for <R-bugs@biostat.ku.dk>; Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
From: wsi@gcal.ac.uk
Message-Id: <199906021302.PAA27126@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: persp box occlusion bug

Full_Name: Bill Simpson
Version: 64.1
OS: linux
Submission from: (NULL) (193.62.250.209)


Bug in persp() bounding box:
If the surface being plotted extends below the lower z-axis boundary, the box
is
drawn with the wrong occlusion. The box is shown as being occluded by the
surface
even though it should be in front of the surface.

The box is correct for surface extending above the box. Problem is only for
surface extending below the box.

This exhibits the bug:

std<-rep(seq(-32,32,8),9)/1000 * 60
cf<-rep(seq(-32,32,8),rep(9,9))/1000 *60 
dp<-(cf-std)/.6
std<-unique(std)
cf<-unique(cf)
dp<-t(matrix(dp,length(cf),length(std)))
persp(std,cf,dp, xlim=c(-2,2), ylim=c(-2,2), zlim=c(0,5),theta=-40,    
phi=45,
box=TRUE,ltheta=-120, lphi=120,
d=1.5, shade=.7)


==> 202.audit <==
Wed Jun 30 19:31:18 1999	pd	moved from incoming to Graphics
Thu Jul 01 18:19:48 1999	pd	changed notes
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 225 *
Subject: pch and mkh bug
From: Stephen Harker <sjh@ph.adfa.edu.au>
Date: Wed, 14 Jul 1999 13:10:31 +1000 (EST)
--(1) is an S incompatibility, but the S rules may not be a good model
--(2) is a bug, fixed for 0.65.0
--(3) has gone away in 0.65.0
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 225 <==
From sjh@phadfa.ph.adfa.edu.au  Wed Jul 14 05:05:25 1999
Received: from phadfa.ph.adfa.edu.au (www.ph.adfa.edu.au [131.236.40.1])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id FAA25763
	for <r-bugs@biostat.ku.dk>; Wed, 14 Jul 1999 05:05:01 +0200 (MET DST)
Received: (from sjh@localhost)
	by phadfa.ph.adfa.edu.au (8.9.0/8.9.0) id NAA22666
	for r-bugs@biostat.ku.dk; Wed, 14 Jul 1999 13:10:32 +1000 (EST)
From: Stephen Harker <sjh@ph.adfa.edu.au>
Message-Id: <199907140310.NAA22666@phadfa.ph.adfa.edu.au>
Subject: pch and mkh bug
To: r-bugs@biostat.ku.dk
Date: Wed, 14 Jul 1999 13:10:31 +1000 (EST)
Reply-To: s-harker@adfa.edu.au (Stephen Harker)
Return-Receipt-To: s-harker@adfa.edu.au (Stephen Harker)
Reply-To: s-harker@adfa.edu.au (Stephen Harker)
X-Attribution: SJH
X-Organisation: School of Physics, University College, ADFA, UNSW Australia
X-Phone: +61 2 6268 8771
X-FAX:   +61 2 6268 8786
X-Operating-System: SunOS phadfa 5.5.1 Generic_103640-05 sun4u sparc SUNW,Ultra-1
X-Mailer: ELM [version 2.5 PL0b2]
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="%--multipart-mixed-boundary-1.21682.931921831--%"


--%--multipart-mixed-boundary-1.21682.931921831--%
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I wish to report three possible bugs I have noticed with R.  We have
recently installed R and I am converting some scripts I had previously
used with a very old version of S (not Splus).  The R version
information is:

platform   sparc-sun-solaris2.5.1
arch       sparc                 
os         solaris2.5.1          
system     sparc, solaris2.5.1   
status                           
status.rev 0                     
major      0                     
minor      64.2                  
year       1999                  
month      July                  
day        3                     
language   R  

The script in question does not do anything in the way of analysis,
rather it uses R to produce a multiplot of fits to Moessbauer data
obtained from other programs.  The script has been roughly converted
to work with R, but had worked well with our old version of S.  I use
the analysis features somewhat more on nuclear orientation data.  The
script is attached to this email message and an example of the
interaction in using it is given below.

Script started on Wed 14 Jul 1999 12:18:11 PM EST
[/data/phd/sjh/graphics] R

R : Copyright 1999, The R Development Core Team
Version 0.64.2  (July 3, 1999)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type	"?license" or "?licence" for distribution details.

R is a collaborative project with many contributors.
Type	"?contributors" for a list.

Type	"demo()" for some demos, "help()" for on-line help, or
    	"help.start()" for a HTML browser interface to help.
Type	"q()" to quit R.

source("> mplot.r")
How many spectra do you want to plot? 1: 4
Read 1 items
Give the filename(s): 
1: H005c H004b H003b H002a
Read 4 items
Give Vmin and Vmax: 1: -12 12
Read 2 items
Do you want to remove a linear baseline? (y/n)1: n
Read 1 items
Do you want filenames? (y/n) 1: y
Read 1 items
Do you want to show the fit? (y/n) 1: y
Read 1 items
Do you want to show data points? (y/n) 1: y
Read 1 items
Do you want to give labels? (y/n) 1: y
Read 1 items
Give labels: 1: "200 K" "160 K" "120 K" "77 K"
Read 4 items
Do you want (l)eft, (c)entred or (r)ight justified labels? (l/c/r) 1: r
Read 1 items
Read 4099 items
Read 4099 items
Read 4099 items
Read 4099 items
Select an output type
 
1:PostScript 
2:X11 
3:Quit 
Selection: 2
Select an output type
 
1:PostScript 
2:X11 
3:Quit 
Selection: 1
Select an output type
 
1:PostScript 
2:X11 
3:Quit 
Selection: 3
> q()
Save workspace image? [y/n/c]: n
[/data/phd/sjh/graphics] x
exit

script done on Wed 14 Jul 1999 12:19:38 PM EST

The resulting PostScript file shows three possible bugs.  

(1) First the boxes drawn using points() via

  points(get(name2)[,1],offset[ii]+(vheight*(get(name2)[,2]-ymin[ii]-
        linbase[ii]*get(name2)[,1])/maxdip),pch=0,mkh=0.02)

are of a size that indicated that the mkh value is being ignored.
This can be fixed by using cex, however the S manual states that mkh
gives the height in inches of mark symbols drawn when pch is given as
a number.  This would appear to be a bug.

(2) The `custom' axis plotting for the y-axes is mixed up, the order
of the numbers is incorrect.  The y-axis is plotted via the command:

axis(side=2,at=ybase,labels=ymarker,mgp=c(4,2,0),las=1)

where the vectors ybase and ymarker are given below as respectively
(obtained from print(ybase) etc. commands)

[1] 13.75 12.25 10.50  9.00  7.25  5.75  4.00  2.50
[1] 1.000 0.978 1.000 0.987 1.000 0.990 1.000 0.990

This may indicate that ymarker[n-i], where n is the number of spectra
and i and index, may be being plotted against ybase[i].  This is
purely a supposition, but the two vectors are correctly ordered with
respect to each other.  Certainly the  plotted values are in the wrong
positions.

(3) The use of mtext should give the filename `prefixes' on the right
hand side.  This only works for the first entry in the vector, the
rest are ignored.  The actual command is shown below

   mtext(text=filen, side=4, line=0.5, at=ymid, cex=0.7, adj=0, las=1)

the vectors filen and ymid hold the entries to be plotted.  This
worked well in old S.  The vectors filen and ymid obtained by
print(filen) etc are given below.

[1] "H005c" "H004b" "H003b" "H002a"
[1] 12.25  9.00  5.75  2.50

The other members of the vectors are ignored, this approach works
successfully for the text command used to plot the temperature labels
shown on the attached PostScript file.

-- 
Stephen Harker                                        s-harker@adfa.edu.au
School of Physics               Baloney Baffles brains: Eric Frank Russell
University College                http://www.adfa.edu.au/physics/s-harker/
UNSW, ADFA

--%--multipart-mixed-boundary-1.21682.931921831--%
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Description: c program text
Content-Disposition: attachment; filename="mplot.r"

# S command file to print the data, and fit from the ADFA Minuit
# fitting program `adfapac'.  Stephen Harker: 29 October 1994.
#
# First delete any existing PostScript.out file.
# !rm PostScript.out 
#
# Determine output type.
#
graph.type <- function(){
  out.menu <- c(
        "PostScript",
#        "Tektronics",
        "X11",
        "Quit")
  cat("Select an output type\n")
  pick <- menu(out.menu)
  if (pick==1) dout <<- "Post"
#  if (pick==2) dout <<- "Tek"
  if (pick==2) dout <<- "X11"
  if (pick==3) dout <<- "Quit"
}
# cat("Do you want a PostScript file? (y/n) ")
# dout <- scan(what=character(),n=1)
# graph.type()
dout <- " "
#
# Set up the graphics parameters. I seem to need to use mgp here to make
# sure the Y-axis label does not overlap with the custom axis scaling.
#
par(mar=c(5.1,7.1,4,5.1),mgp=c(4,1,0))
#
# Find out how many files to read in.
#
cat("How many spectra do you want to plot? ")
nspect <- scan(what=numeric(),n=1)
#
# Read in data file names: mosp is the directory in which they are kept.
#
cat("Give the filename(s): \n")
filen <- scan(what=character(),n=nspect)
#
mosp <- "/data/phd/sjh/mos/plot/"
for (filei in 1:nspect){
  file1 <- paste(mosp,filen,".plot",sep="") }
#
# Determine Velocity range.
#
cat("Give Vmin and Vmax: ")
vels <- scan(what=numeric(),n=2)
vmin <- vels[1]
vmax <- vels[2]
#
# Is there a linear baseline to be removed?
# For papers subtract the effect of the linear baseline from data.
#
cat ("Do you want to remove a linear baseline? (y/n)")
linearb <- scan(what=character(),n=1)
if (linearb == "y") {
  cat("Give linear baselines: ")
  linbase <- scan(what=numeric(),n=nspect)
  } else {
  linbase <- c(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0) }
#
# Determine whether to y-axis is normalised counts, or counts in millions.
#
# cat ("Do you want % not counts? (y/n) ")
# percent <- scan(what=character(),n=1)
#
# Determine whether to plot filenames on RHS axis.
#
cat ("Do you want filenames? (y/n) ")
filelabels <- scan(what=character(),n=1)
if (filelabels == "Y") filelabels <- "y"
#
# Determine whether to show the fit or just the data.
#
cat ("Do you want to show the fit? (y/n) ")
FIT <- scan(what=character(),n=1)
#
# Determine whether to plot data points.
#
cat ("Do you want to show data points? (y/n) ")
dpts <- scan(what=character(),n=1)
if (dpts == "Y") dpts <- "y"
#
# Create LETTERS vector, default use is for a letter but can be
# redefined below for a special purpose label; just is for
# the justification type; SLabel is for the size of the label.
#
# LETTERS <- c("(a)", "(b)", "(c)", "(d)", "(e)", "(f)", "(g)", "(h)", 
#        "(i)", "(j)", "(k)", "(l)", "(m)", "(n)", "(o)", "(p)", "(q)")
just <- 0.5
SLabel <- 1.0
#
# Determine whether to input special labels rather than letters.
#
cat ("Do you want to give labels? (y/n) ")
Tlabels <- scan(what=character(),n=1)
if (Tlabels == "y"|Tlabels == "Y") {
  cat("Give labels: ")
  ourletters <- scan(what=character(),n=nspect)
  SLabel <- 0.7
  cat ("Do you want (l)eft, (c)entred or (r)ight justified labels? (l/c/r) ")
  Just <- scan(what=character(),n=1)
  if (Just == "c"|Just == "C") {just <- 0.5}
  if (Just == "l"|Just == "L") {just <- 0}
  if (Just == "r"|Just =="R") {just <- 1}
  }
#
# Calculate Heights.  Why is vheight 15.0?  Well strangely enough
# 6 inches = 15 cm (or close enough).
#
height <- 15.0          # Total number of units on Vertical Axis
dfirst <- 1.0           # Distance from top to first plot
dlast <- dfirst         # Distance from last plot to bottom
dnext <- 0.25           # Distance betweenc successive plots
vheight <- (height - dfirst - dlast - (nspect*dnext))/nspect
# Dummy data
X <- c(-1, 1)
Y <- c(0, 10)
#
# Set up some variables so that I can later add to them using `append'.
# This is a kludge as I don't seem to be able to use `replace' outside of
# existing data and have a problem with `assign' also.  This way I get the
# variables assigned, but later need to delete the NA from some of them.
#
assign("label2","a")
assign("offset",NA)
assign("baseline",NA)
assign("npoints",NA)
assign("nsub",NA)
assign("velposn",NA)
assign("ybasel",NA)
assign("ymin",NA)
assign("yave",NA)
assign("ybase",NA)
assign("ymid",NA)
assign("ylabel",NA)
assign("ymarker",NA)
#
# Define title for y-axis on whether normalised in millions or to 1.
#
ytitle <- "Normalised Counts"
#
# Loop over all spectra
#
for (ii in 1:nspect) {
  offset <- append(offset,dlast + (nspect-ii)*(vheight+dnext),ii-1)
  name <- paste("dspec",ii,sep="")
  filename <- file1[ii]
  assign(name,scan(file=filename,what=numeric()))
  baseline <- append(baseline,get(name)[1],after=ii-1) # Baseline
  npoints <- append(npoints,get(name)[2],after=ii-1)   # n points
  nsub <- append(nsub,get(name)[3],after=ii-1)         # n subspectra
#
# Observed spectrum (vel + count => 2 * npoints), skip first line.
#
  npts <- npoints[ii]
  nstart <- 3+1
  nend <- nstart+2*npts-1
  name2 <- paste("dato",ii,sep="")
  assign(name2,matrix(get(name)[nstart:nend],ncol=2,byrow=T))
  assign(name2,get(name2)[get(name2)[,1] < vmax & get(name2)[,1] > vmin,])
#
# Calculated spectrum, similar reasoning: skip first line & data.
#
  nstart <- nend + 1
  nend <-  nstart + 2*npts -1
  name3 <- paste("dfit",ii,sep="")
  assign(name3,matrix(get(name)[nstart:nend],
        ncol=2,byrow=T))
  assign(name3,get(name3)[get(name3)[,1] < vmax & get(name3)[,1] > vmin,])
#
# Subspectra, similar reasoning: skip first line, data and main fit.
#
  for (jj in 1:nsub[ii]) {
  nstart <- nend + 1
  nend <-  nstart + 2*npts -1
  name4 <- paste(jj,"dsub",ii,sep="")
  assign(name4,matrix(get(name)[nstart:nend],
        ncol=2,byrow=T))
  assign(name4,get(name4)[get(name4)[,1] < vmax & get(name4)[,1] > vmin,])
  }
#
# Used to calculate baseline (don't take it from fit, use 40 largest
# points), use sort to get an ascending vector of the spectrum count, 
# then take mean of largest 40 values.  
# Now back to taking baseline from fit!
# Also calculate minimum points for data and halfway point. 
#
  lenspect <- npts
  lenspect2 <- lenspect -40
  spectr <- sort(get(name2)[,2]-(get(name2)[,1]*linbase[ii]))
#  ybasel <- append(ybasel,mean(spectr[lenspect2:lenspect]),after=ii-1)
  ybasel <- append(ybasel,baseline[ii],after=ii-1)
#   ymin <- append(ymin,min(get(name2)[,2]),after=ii-1)
  if (dpts == "y"|dpts =="Y") {
  ymin <- append(ymin,min(spectr),after=ii-1) } else {
  ymin <- append(ymin,min(get(name3)[,2]),after=ii-1) }
  yave <- append(yave,(ybasel[ii] + ymin[ii])/2,ii-1)
#
# Plotted counts are either to be normalised by dividing by averaged 
# `baseline' and expressed in millions (if `percent' = "n").  Or they
# are to be expressed normalised to 1.  The `ymarker' vector contains 
# the Y axis labels, while the `ybase' vector contains the positions 
# where they will be plotted. The `ymid' vector is the position of the 
# middle of the spectrum (50% dip) and used for plotting the run number 
# to the right of the graph.
#
  maxdip <- ybasel[ii] - ymin[ii]
  ybase <- append(ybase,(vheight*(ybasel[ii]-ymin[ii])/maxdip)+offset[ii],
        2*ii-2)
  ybase <- append(ybase,(vheight*(yave[ii]-ymin[ii])/maxdip)+offset[ii],
        2*ii-1)
  ymid <- append(ymid,(vheight*(yave[ii]-ymin[ii])/maxdip)+offset[ii],
        ii-1)
  ylabel <- append(ylabel,(vheight*(yave[ii]-ymin[ii])/maxdip)+offset[ii],
        ii-1)
    ymarker <- append(ymarker,ybasel[ii]/ybasel[ii],2*ii-2)
    ymarker <- append(ymarker,yave[ii]/ybasel[ii],2*ii-1)
}
#
# Delete the last entry in the following vectors as the NA causes problems.
#
last <- nspect+1
last2 <- 1+(2*nspect)
ybase <- ybase[-last2]
ymarker <- ymarker[-last2]
ymid <- ymid[-last]
ylabel <- ylabel[-last]
yave <-yave[-last]
# Round of y-axis markers to 3 places.
#
ymarker <-  round(ymarker,3)
#
# Set up the x-axis and box for plot. Don't plot box and axes now, do 
# later with explicit axis commands.
#
my.output <- function(){
plot(X,Y,
 xlim=c(vmin,vmax),ylim=c(0,height),
 xlab="",yaxt="n",xaxs="i",lab=c(5,3,5),yaxs="i",
 ylab="",type="n")
title(xlab="Velocity [mm/s]",cex=1.1,mgp=c(3,1,0))
title(ylab=ytitle,cex=1.1,mgp=c(4,1,0))
#
# Plot y-axis labels on the LHS.
#
axis(side=2,at=ybase,labels=ymarker,mgp=c(4,2,0),las=1)
#
# Start plotting:
#
for (ii in 1:nspect) {
  name2 <- paste("dato",ii,sep="")
  name3 <- paste("dfit",ii,sep="")
#
  maxdip <- ybasel[ii] - ymin[ii]
  basepos <- (vheight*(ybasel[ii]-ymin[ii])/maxdip)+offset[ii]
#
# Plot normalised data points for each spectrum using an offset to put
# the points in the right place.  Carry this through to fit & subspectra.
# Notice linear baseline being subtracted from the data.
# Set parameter err to -1 to stop error messages to the screen.
#
  par(err=-1)
  if (dpts=="y"|dpts == "Y") {
  points(get(name2)[,1],offset[ii]+(vheight*(get(name2)[,2]-ymin[ii]-
        linbase[ii]*get(name2)[,1])/maxdip),pch=0,mkh=0.02,cex=0.1) }
# Draw in Baselines (taken out 10/11/94 SJH).
#  segments(vmin,basepos,vmax,basepos)
if (FIT=="y"|FIT == "Y") {
#
# Plot fit with a solid line.
#
  lines(get(name3)[,1],offset[ii]+(vheight*(get(name3)[,2]-ymin[ii]
        -linbase[ii]*get(name2)[,1])/maxdip),lty=1)
#
# Plot subspectra with a dashed line (if more than one).
#
  if (nsub[ii] > 1) {
   for (jj in 1:nsub[ii]) {
    name4 <- paste(jj,"dsub",ii,sep="")
    lines(get(name4)[,1],(vheight*(get(name4)[,2]-ymin[ii]
        -linbase[ii]*get(name2)[,1])/maxdip)+offset[ii],lty=jj+1) }}
} }
#
# Print file name on RHS of plot if desired, make smaller.
#
if (filelabels=="y"|filelabels == "Y") {
   mtext(text=filen, side=4, line=0.5, at=ymid, cex=0.7, adj=0, las=1)}
#
# Print labels for each spectrum, adj controls justification.
# The value for `just' is set earlier.
#
xposn <- 0.9*vmax
for (i in 1:nspect){
  if (Tlabels=="Y"|Tlabels=="y") {
        label2 <- append(label2,paste(ourletters[i]),i-1)
      } else {  label2 <- append(label2,paste(letters[i]),i-1)}
  velposn <- append(velposn,xposn,i-1)  }
label2 <- label2[-last]
velposn <- velposn[-last]
text(x=velposn, y=ylabel,labels=label2,cex=SLabel,adj=just)
}
#
#
while (dout!="Quit") {
 graph.type()
 if (dout=="Post") {postscript(file="mplot.ps",horizontal=FALSE,
         width=7.5, height=10)
        par(pin=c(4.33, 6)) } 
 if (dout=="Tek") {tek4014()}
 if (dout=="X11") {dev.set(which=2)}  # assumes device 2 is X11.
 my.output()
 if (dout=="Post") {dev.off()}
 }
#
# !rm swork/*
# q()

==> 225.followup.1 <==
From sjh@phadfa.ph.adfa.edu.au  Thu Jul 15 04:27:57 1999
Received: from phadfa.ph.adfa.edu.au (www.ph.adfa.edu.au [131.236.40.1])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id EAA02859
	for <r-bugs@biostat.ku.dk>; Thu, 15 Jul 1999 04:27:55 +0200 (MET DST)
Received: (from sjh@localhost)
	by phadfa.ph.adfa.edu.au (8.9.0/8.9.0) id MAA17919
	for r-bugs@biostat.ku.dk; Thu, 15 Jul 1999 12:33:28 +1000 (EST)
From: Stephen Harker <sjh@ph.adfa.edu.au>
Message-Id: <199907150233.MAA17919@phadfa.ph.adfa.edu.au>
Subject: pch and mkh bug PR#225
To: r-bugs@biostat.ku.dk
Date: Thu, 15 Jul 1999 12:33:27 +1000 (EST)
Reply-To: s-harker@adfa.edu.au (Stephen Harker)
Return-Receipt-To: s-harker@adfa.edu.au (Stephen Harker)
Reply-To: s-harker@adfa.edu.au (Stephen Harker)
X-Attribution: SJH
X-Organisation: School of Physics, University College, ADFA, UNSW Australia
X-Phone: +61 2 6268 8771
X-FAX:   +61 2 6268 8786
X-Operating-System: SunOS phadfa 5.5.1 Generic_103640-05 sun4u sparc SUNW,Ultra-1
X-Mailer: ELM [version 2.5 PL0b2]
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I am sorry about the problem caused by my first attempt at reporting a
bug.  This is a followup to my report PR#225, hopefully being more
useful.  By not I have a better understanding of the problems being
reported.

I wish to report one bug relating to plot character and to mention two
other possible bugs (these may relate to differences between R and S)
I have noticed with R.  We have recently installed R and I am
converting some scripts I had previously used with a very old version
of S (not Splus).  The R version information is:

platform   sparc-sun-solaris2.5.1
arch       sparc                 
os         solaris2.5.1          
system     sparc, solaris2.5.1   
status                           
status.rev 0                     
major      0                     
minor      64.2                  
year       1999                  
month      July                  
day        3                     
language   R  

In the following I will be quoting some extracts from R A Becker, J M
Chambers and A R Wilks _The New S Language_, Wadsworth & Brooks/Cole
1988, isbn 0-534-09192-X.  We have a copy of this book since, although
our departmental server did not update from S to Splus, the campus
server did.  I am using this as an authority to report some of the
following as being bugs.

(1)  First the boxes drawn using `points()' via the following example

Y <- c(13.75, 10.50, 7.25, 4.0)
X <- c(1, 2, 3, 4)
plot(X,Y,
 xlim=c(0,5),ylim=c(0,15),type="n")
points(X,Y,pch=0,mkh=0.02)
points(X,Y,pch=0,mkh=1.0)
points(X,Y-1,pch=0,cex=4.0)
points(X,Y-1,pch=0,cex=0.02)

are of a size that indicated that the mkh value is being ignored (the
upper set of boxes).  This can be fixed by using cex (the lower set of
boxes).  However, the S manual states that `mkh' gives the height in
inches of mark symbols drawn when `pch' is given as a number.  This
comment is also made in the help for the `par' function within R.  This
would appear to be a bug, using `cex' is correct only when giving a
character.

(2)  The plotting of axis labels on an axis becomes confused if the
`at' vector is descending.  For exaample, consider the following:

labels <- c("A", "B", "C", "D")
Y <- c(13.75, 10.50, 7.25, 4.0)
X <- c(1, 2, 3, 4)
plot(X,Y,
 xlim=c(0,5),ylim=c(0,15))
axis(side=4,at=Y,labels=labels)

According to the S manual `label[i]' is plotted at coordinate `at[i]'.
Although S (or R) plot the vector in ascending order this still worked
(in old S, anyway), it may have been a feature.  However, R appears to
sort `at[i]' but not do a corresponding sort on label[i].  The R help
does not make the statement about plotting `label[i]' at coordinate
`at[i]', so this may be a difference between S and R.  It can be
overcome by appropriate pre-sorting of the two vectors.

(3)  The use of `mtext' only works for a string, not for a vector of
strings.  For example, the following commands.

labels <- c("A", "B", "C", "D")
Y <- c(13.75, 10.50, 7.25, 4.0)
X <- c(1, 2, 3, 4)
plot(X,Y,
 xlim=c(0,5),ylim=c(0,15))
mtext(text=labels, side=4, line=0.5, at=Y)

plots only the first of the elements of `labels'.  Again, this may
reflect a difference between S and R.  The S manual states that `text'
is a character vector to be plotted and `at' is an optional vector of
positions.  However, the R help states that `text' is a character
string and `at' gives the location in user coordiates.  This can be
overcome by plotting `labels[i]' at `at[i]' within a loop.

-- 
Stephen Harker                                        s-harker@adfa.edu.au
School of Physics               Baloney Baffles brains: Eric Frank Russell
University College                http://www.adfa.edu.au/physics/s-harker/
UNSW, ADFA

==> 225.audit <==
Sat Aug 14 07:57:09 1999	ripley	changed notes
Sat Aug 14 07:57:09 1999	ripley	moved from incoming to Graphics
Sat Aug 14 09:58:36 1999	ripley	changed notes
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 230 *
Subject: Use of lwd = 0, lty = 2 in segments.
From: Douglas Bates <bates@stat.wisc.edu>
Date: Sat, 17 Jul 1999 17:18:44 -0500 (CDT)
--still with us (0.90.1, Dec.1999)
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 230 <==
From bates@verdi.stat.wisc.edu  Sun Jul 18 00:16:09 1999
Received: from verdi.stat.wisc.edu (root@verdi.stat.wisc.edu [128.105.5.97])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id AAA19722
	for <r-bugs@biostat.ku.dk>; Sun, 18 Jul 1999 00:16:08 +0200 (MET DST)
Received: by verdi.stat.wisc.edu
	via sendmail from stdin
	id <m115cn6-0000b3C@verdi.stat.wisc.edu> (Debian Smail3.2.0.102)
	for r-bugs@biostat.ku.dk; Sat, 17 Jul 1999 17:18:44 -0500 (CDT) 
Message-Id: <m115cn6-0000b3C@verdi.stat.wisc.edu>
Date: Sat, 17 Jul 1999 17:18:44 -0500 (CDT)
From: Douglas Bates <bates@stat.wisc.edu>
To: r-bugs@biostat.ku.dk
Subject: Use of lwd = 0, lty = 2 in segments.

This may not be considered a bug but it is an incompatibility with S.

There was a convention in S that the graphics parameter setting 
 lwd = 0 
is supposed to use the minimum possible line width on the device.  It
is not clear what that means on modern graphics devices but there is
still code (like mine) that assumes something sensible happens with
 lwd = 0
It seems that R's postscript device driver does something reasonable
with that for some graphics functions but not others.  The abline
function seems ok but the segments function doesn't.

The following produces a PostScript output file "foo.ps" that causes
ghostscript to complain of an error.
R> postscript("foo.ps")
R> plot(1:10, 1:10, type = "n")
R> abline(h = 5, lty = 2, lwd = 0)   # works properly
R> segments(1, 1, 1, 3, lty = 2, lwd = 0)  # fails
R> dev.off()

The last part of the PostScript file is

0.75 setlinewidth
[ 3.00 3.00] 0 setdash
np
77.04 290.39 m
743.76 290.39 l
o
0.00 setlinewidth
[ 0.00 0.00] 0 setdash
np
101.73 107.87 m
101.73 199.13 l

It is the line "[ 0.00 0.00] 0 setdash" that causes the problems.

The error message from Ghostscript is

Error: /rangecheckAladdin Ghostscript: Unrecoverable error, exit code 1
 in --setdash--
Operand stack:
   --nostringval--   0
Execution stack:
   %interp_exit   .runexec2   --nostringval--   --nostringval--   --nostringval--   2   %stopped_push   --nostringval--   --nostringval--   --nostringval--   false   1   %stopped_push   1   3   %oparray_pop   .runexec2   --nostringval--   --nostringval--   --nostringval--   2   %stopped_push   --nostringval--   2   3   %oparray_pop   --nostringval--   --nostringval--
Dictionary stack:
   --dict:874/941(G)--   --dict:0/20(G)--   --dict:75

I notice that in the C function PostScriptSetLineTexture in devPS.c,
the step lengths seem to be multiplied by something that may be the
line width before being written to the PostScript file.

--please do not edit the information below--

Version:
 platform = i686-unknown-linux
 arch = i686
 os = linux
 system = i686, linux
 status = 
 status.rev = 0
 major = 0
 minor = 64.2
 year = 1999
 month = July
 day = 3
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base


==> 230.audit <==
Sat Aug 14 07:58:31 1999	ripley	moved from incoming to Graphics
Fri Dec 24 10:46:24 1999	maechler	changed notes
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 267 *
Subject: matplot(... panel.first=..) fails  <==> dealing with "..."
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 6 Sep 1999 11:04:03 +0200
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 267 <==
From maechler@stat.math.ethz.ch  Mon Sep  6 11:04:17 1999
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA12119
	for <R-bugs@biostat.ku.dk>; Mon, 6 Sep 1999 11:04:16 +0200 (MET DST)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id LAA22009
	for <R-bugs@stat.math.ethz.ch>; Mon, 6 Sep 1999 11:04:18 +0200 (MET DST)
Received: from sophie(129.132.58.2), claiming to be "sophie.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa005Nr; Mon Sep  6 11:04:10 1999
Received: (maechler@localhost) by sophie.ethz.ch (8.6.12/D-MATH-client) id LAA01220; Mon, 6 Sep 1999 11:04:03 +0200
Date: Mon, 6 Sep 1999 11:04:03 +0200
Message-Id: <199909060904.LAA01220@sophie.ethz.ch>
From: Martin Maechler <maechler@stat.math.ethz.ch>
To: R-bugs@stat.math.ethz.ch
Subject: matplot(... panel.first=..) fails  <==> dealing with "..."
Reply-to: Martin Maechler <maechler@stat.math.ethz.ch>

Maybe, the following is not a bug in the strict sense,....

The following code shows what the effect :

  p1 <- function(...) plot.default(...)
  p2 <- function(...) { n <- names(list(...)); plot.default(...) }

  par(mfrow=c(2,2))
  p1(1:10, panel.first = grid(10,10)) # works okay (grid drawn)
  p2(1:10, panel.first = grid(10,10)) # doesn't draw the grid

A consequence of this is that the panel.first argument (of plot.default)
doesn't work with matplot()
	[well, matplot()'s doc doesn't claim it should, but still

-------
The real questions behind are:

1a) Why is "..." changed at the moment that I do  list(...)
1b) is this basic behavior desirable / changeable ....

2) How can one work around? 
   {save "..." to something else, first? 
    or explicitly save panel.first?}

-----------------------------

R versions,  both 0.64.2 and 0.65.0  (probably all R versions)

Version:
 platform = sparc-sun-solaris2.5
 arch = sparc
 os = solaris2.5
 system = sparc, solaris2.5
 status =
 status.rev = 0
 major = 0
 minor = 64.2
 year = 1999
 month = July
 day = 3
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

--
Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/

==> 267.reply.1 <==
From pd@biostat.ku.dk  Mon Sep  6 14:22:43 1999
Received: from biostat.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA16427;
	Mon, 6 Sep 1999 14:22:42 +0200 (MET DST)
Received: (from pd@localhost)
	by biostat.ku.dk (8.9.3/8.9.3) id OAA01443;
	Mon, 6 Sep 1999 14:25:30 +0200
To: maechler@stat.math.ethz.ch
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: matplot(... panel.first=..) fails  <==> dealing with "..." (PR#267)
References: <199909060904.LAA12129@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Sep 1999 14:25:30 +0200
In-Reply-To: maechler@stat.math.ethz.ch's message of "Mon, 6 Sep 1999 11:04:18 +0200 (MET DST)"
Message-ID: <x2puzwb51h.fsf@blueberry.kubism.ku.dk>
Lines: 51
X-Mailer: Gnus v5.5/Emacs 20.3

maechler@stat.math.ethz.ch writes:

> Maybe, the following is not a bug in the strict sense,....
> 
> The following code shows what the effect :
> 
>   p1 <- function(...) plot.default(...)
>   p2 <- function(...) { n <- names(list(...)); plot.default(...) }
> 
>   par(mfrow=c(2,2))
>   p1(1:10, panel.first = grid(10,10)) # works okay (grid drawn)
>   p2(1:10, panel.first = grid(10,10)) # doesn't draw the grid
...
> The real questions behind are:
> 
> 1a) Why is "..." changed at the moment that I do  list(...)
> 1b) is this basic behavior desirable / changeable ....

That's a result of lazy evaluation. plot.default is really playing
with fire, the way it is currently written. list(...) will force
evaluation of the promises which in turn causes grid() to be called
too early. I don't think it is desirable to change this behavior
(well, Robert wants us to consider eager evaluation, but that would
cause the construction to stop working in all cases!)

> 2) How can one work around? 
>    {save "..." to something else, first? 
>     or explicitly save panel.first?}
> 

Neither of the above, because the object is to access "..." without forcing
evaluation of its contents. One can do things like

> p2
function (...) 
{
    n <- names(match.call(expand.dots = F)[["..."]])
    plot.default(...)
}

Or, one can modify plot.default to take panel.first as an
*unevaluated* expression (mode "call" or "expression"), and do an
explicit eval(panel.first). But then you'd have to do 

p2(1:10, panel.first = quote(grid(10,10))) # or expression( )

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 267.audit <==
Tue Sep 21 12:16:18 1999	maechler	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 287 *
Subject: text( col=, cex=, font=) : doesn't allow more than length-1 arg
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 27 Sep 1999 11:12:08 +0200
--FIXME (still in 0.90.1)
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 287 <==
From maechler@stat.math.ethz.ch  Mon Sep 27 11:12:20 1999
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA27329
	for <R-bugs@biostat.ku.dk>; Mon, 27 Sep 1999 11:12:20 +0200 (MET DST)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id LAA06115
	for <R-bugs@stat.math.ethz.ch>; Mon, 27 Sep 1999 11:12:21 +0200 (MET DST)
Received: from sophie(129.132.58.2), claiming to be "sophie.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa001VX; Mon Sep 27 11:12:13 1999
Received: (maechler@localhost) by sophie.ethz.ch (8.6.12/D-MATH-client) id LAA01949; Mon, 27 Sep 1999 11:12:08 +0200
Date: Mon, 27 Sep 1999 11:12:08 +0200
Message-Id: <199909270912.LAA01949@sophie.ethz.ch>
From: Martin Maechler <maechler@stat.math.ethz.ch>
To: R-bugs@stat.math.ethz.ch
Subject: text( col=, cex=, font=) : doesn't allow more than length-1 arg
Reply-to: Martin Maechler <maechler@stat.math.ethz.ch>


text(..., col = <..>)   doesn't work if col has length more than one;

and the same for 'cex' and 'font'

A toy example, showing what is desired

plot(1);text(1.2, .8+(0:5)/16, LETTERS[6:1])
## works alright

plot(1);text(1.2, .8+(0:5)/16, LETTERS[6:1],col=1:6)
##>>> Error in par(args) : parameter "col" has the wrong length

---
Explanation:
The source code is in  src/main/plot.c  in do_text(),
and from reading it, "col" (& "cex" & "font") are extracted via GetPar()
(and later would nicely be recycled).
HOWEVER, the ProcessInlinePars() called after the three GetPar() gives the
error message, because "col" (cex, or font) are still part of the `args'
list.

All boils down to the FIXME part of the following description of
GetPar() [around line 120 in plot.c] :

/* GetPar is intended for looking through a list  -- typically that bound
 *	to ... --  for a particular parameter value.  This is easier than
 *	trying to match every graphics parameter in argument lists explicitly.
 * FIXME: This needs to be destructive, so that "ProcessInlinePars"
 *	can be safely called afterwards.
 */

PLEASE, can we fix this!

Idea: don't shorten the `parlist' argument of GetPar(), 
      for efficiency.
Just set the TAG to "", such that it will be disregarded subsequently,
i.e., do something like

SEXP GetPar(char *which, SEXP parlist)
{
    SEXP w, p;
    w = install(which);
    for (p = parlist; p != R_NilValue; p = CDR(p)) {
	if (TAG(p) == w) {
 NEW>>>	    TAG(p) == mkString("");
	    return CAR(p);
	}
    }
    return R_NilValue;
}

	  

-- 
Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

==> 287.audit <==
Tue Oct 05 15:51:35 1999	pd	moved from incoming to Graphics
Fri Dec 24 10:49:27 1999	maechler	changed notes
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 308 *
Subject:  R abnormal exit when plotting lm 
From: Ulf Mehlig <umehlig@uni-bremen.de>
Date: Tue, 2 Nov 1999 22:18:23 +0100
--Problem with X using plot.lm.
--Has been traced to strange char metrics of " " in URW fonts by PD.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 308 <==
From umehlig@uni-bremen.de  Tue Nov  2 22:14:35 1999
Received: from alf.zfn.uni-bremen.de (alf.zfn.uni-bremen.de [134.102.20.22])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA14786
	for <r-bugs@biostat.ku.dk>; Tue, 2 Nov 1999 22:14:34 +0100 (MET)
Received: from pandora3.localnet (root@tnt85.zfn.uni-bremen.de [134.102.7.85])
	by alf.zfn.uni-bremen.de (8.9.1a/ZfNServer) with ESMTP id WAA540814
	for <r-bugs@biostat.ku.dk>; Tue, 2 Nov 1999 22:13:24 +0100
Received: (from umehlig@localhost)
	by pandora3.localnet (8.9.1/8.9.1) id WAA04022;
	Tue, 2 Nov 1999 22:18:23 +0100
Date: Tue, 2 Nov 1999 22:18:23 +0100
From: Ulf Mehlig <umehlig@uni-bremen.de>
Message-Id: <199911022118.WAA04022@pandora3.localnet>
To: r-bugs@biostat.ku.dk
Subject:  R abnormal exit when plotting lm 
Cc: umehlig@uni-bremen.de

<<insert bug report here>>
I had a "abnormal" exit of R plotting a fitted linear model. here's
the last few lines of the R session:
-------------------------------------------------------------------
> plot(blstrhz.lm)
Hit <Return> to see next plot:
Hit <Return> to see next plot:
Hit <Return> to see next plot:
X Error of failed request:  BadValue (integer parameter out of range for operation)
  Major opcode of failed request:  53 (X_CreatePixmap)
      Value in failed request:  0x0
            Serial number of failed request:  16548
	            Current serial number in output stream:  16554

		            Process R exited abnormally with code 1 at Tue Nov  2 22:07:49 1999
			                                                                                 
-------------------------------------------------------------------
Which additional information do you need to find out whether this is
a bug?

Thanks for your attention,
Ulf Mehlig

--please do not edit the information below--

Version:
 platform = i686-unknown-linux
 arch = i686
 os = linux
 system = i686, linux
 status = Release
 major = 0
 minor = 65.1
 year = 1999
 month = October
 day = 07
 language = R

Search Path:
 .GlobalEnv, package:rmutil, package:gnlm, Autoloads, package:base

==> 308.reply.1 <==
From pd@biostat.ku.dk  Tue Nov  2 23:15:21 1999
Received: from biostat.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id XAA15029;
	Tue, 2 Nov 1999 23:15:20 +0100 (MET)
Received: (from pd@localhost)
	by biostat.ku.dk (8.9.3/8.9.3) id XAA05617;
	Tue, 2 Nov 1999 23:16:05 +0100
Sender: pd@blueberry.kubism.ku.dk
To: umehlig@uni-bremen.de
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: R abnormal exit when plotting lm (PR#308)
References: <199911022114.WAA14796@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 02 Nov 1999 23:16:05 +0100
In-Reply-To: umehlig@uni-bremen.de's message of "Tue, 2 Nov 1999 22:14:35 +0100 (MET)"
Message-ID: <x2k8o0tu8q.fsf@blueberry.kubism.ku.dk>
Lines: 34
X-Mailer: Gnus v5.7/Emacs 20.4
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

umehlig@uni-bremen.de writes:

> <<insert bug report here>>
> I had a "abnormal" exit of R plotting a fitted linear model. here's
> the last few lines of the R session:
> -------------------------------------------------------------------
> > plot(blstrhz.lm)
> Hit <Return> to see next plot:
> Hit <Return> to see next plot:
> Hit <Return> to see next plot:
> X Error of failed request:  BadValue (integer parameter out of range for operation)
>   Major opcode of failed request:  53 (X_CreatePixmap)
>       Value in failed request:  0x0
>             Serial number of failed request:  16548
> 	            Current serial number in output stream:  16554
> 
> 		            Process R exited abnormally with code 1 at Tue Nov  2 22:07:49 1999
> 			                                                                                 
> -------------------------------------------------------------------
> Which additional information do you need to find out whether this is
> a bug?

None. It's a bug...

However, to have a chance of fixing it (and knowing whether it got
fixed!), we'd need to either have instructions to reproduce the crash,
or at the very least detailed information on where things went wrong.
Can you make it happen again when running under a debugger?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 308.followup.1 <==
From umehlig@uni-bremen.de  Thu Nov  4 07:57:37 1999
Received: from alf.zfn.uni-bremen.de (alf.zfn.uni-bremen.de [134.102.20.22])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id HAA26342;
	Thu, 4 Nov 1999 07:57:33 +0100 (MET)
Received: from pandora3.localnet (root@tnt178.zfn.uni-bremen.de [134.102.7.178])
	by alf.zfn.uni-bremen.de (8.9.1a/ZfNServer) with ESMTP id HAA553540;
	Thu, 4 Nov 1999 07:56:22 +0100
Received: (from umehlig@localhost)
	by pandora3.localnet (8.9.1/8.9.1) id HAA02246;
	Thu, 4 Nov 1999 07:46:52 +0100
Date: Thu, 4 Nov 1999 07:46:52 +0100
From: Ulf Mehlig <umehlig@uni-bremen.de>
Message-Id: <199911040646.HAA02246@pandora3.localnet>
X-Authentication-Warning: pandora3.localnet: umehlig set sender to umehlig@pandora3.localnet using -f
To: p.dalgaard@biostat.ku.dk
CC: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
In-reply-to: <x2k8o0tu8q.fsf@blueberry.kubism.ku.dk>
	(p.dalgaard@biostat.ku.dk)
Subject: Re: R abnormal exit when plotting lm (PR#308)
References: <199911022114.WAA14796@pubhealth.ku.dk> <x2k8o0tu8q.fsf@blueberry.kubism.ku.dk>


 > None. It's a bug...
 > 
 > However, to have a chance of fixing it (and knowing whether it got
 > fixed!), we'd need to either have instructions to reproduce the crash,
 > or at the very least detailed information on where things went wrong.
 > Can you make it happen again when running under a debugger?

Unfortunately, I'm a little bit short of time now, but after the 20th
I will give a try! (I still have a hardcopy of the session, and I will
try to reproduce it step by step. By "running under a debugger" you
mean "R -d gdb", I suppose?).

Many thanks for your attention,
Ulf

-- 
======================================================================
Ulf Mehlig    <umehlig@zmt.uni-bremen.de>
              Center for Tropical Marine Ecology/ZMT, Bremen, Germany
----------------------------------------------------------------------

==> 308.followup.2 <==
From umehlig@uni-bremen.de  Wed Dec  8 20:29:30 1999
Received: from alf.zfn.uni-bremen.de (alf.zfn.uni-bremen.de [134.102.20.22])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA23316;
	Wed, 8 Dec 1999 20:29:29 +0100 (MET)
Received: from pandora3.localnet (root@tnt187.zfn.uni-bremen.de [134.102.7.187])
	by alf.zfn.uni-bremen.de (8.9.1a/ZfNServer) with ESMTP id UAA85698;
	Wed, 8 Dec 1999 20:26:52 +0100
Received: (from umehlig@localhost)
	by pandora3.localnet (8.9.1/8.9.1) id UAA03462;
	Wed, 8 Dec 1999 20:30:47 +0100
Date: Wed, 8 Dec 1999 20:30:47 +0100
From: Ulf Mehlig <umehlig@uni-bremen.de>
Message-Id: <199912081930.UAA03462@pandora3.localnet>
X-Authentication-Warning: pandora3.localnet: umehlig set sender to umehlig@pandora3.localnet using -f
To: p.dalgaard@biostat.ku.dk
CC: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
In-reply-to: <x2k8o0tu8q.fsf@blueberry.kubism.ku.dk>
	(p.dalgaard@biostat.ku.dk)
Subject: Re: R abnormal exit when plotting lm (PR#308)
References: <199911022114.WAA14796@pubhealth.ku.dk> <x2k8o0tu8q.fsf@blueberry.kubism.ku.dk>

 Dear R-developers,

 recently I sent a bug report about plot(aov()) crashing R (resp. the
 X Windows part of R) without reporting the data I used.

 In the meantime, I discovered, that the problem is due to a .RData
 file -- without it, there is no crash, with that .RData loaded, the
 following small sequence of commands crashes R 0.90, too, on my
 machine. R had been started with "--vsize 16M --nsize 4000k":

 ----------------------------------------------------------------------
 
 > x <- data.frame(id=rep(c("a", "b", "c"), 100), val=rnorm(1:300))
 > plot(aov(val ~ id, data=x))
 Hit <Return> to see next plot: 
 Hit <Return> to see next plot: 
 Hit <Return> to see next plot: 
 X Error of failed request:  BadValue (integer parameter out of range for operation)
   Major opcode of failed request:  53 (X_CreatePixmap)
     Value in failed request:  0x0
       Serial number of failed request:  1229
         Current serial number in output stream:  1235

	 Process R exited abnormally with code 1 at Wed Dec  8 19:25:58 1999

 ----------------------------------------------------------------------

 Prof. Ripley suggested that it might be a XFree86 error, so I'll give
 you my X version, too (from X -showconfig):
 
 ----------------------------------------------------------------------
 
 XFree86 Version 3.3.3.1 / X Window System
 (protocol Version 11, revision 0, vendor release 6300)
 Release Date: January 4 1999
         If the server is older than 6-12 months, or if your card is newer
	         than the above date, look for a newer version before reporting
		         problems.  (see http://www.XFree86.Org/FAQ)
			 Operating System: Linux 2.0.36 i686 [ELF]
			 Configured drivers:
			   Mach64: accelerated server for ATI Mach64 graphics adaptors (Patchlevel 0)

  ----------------------------------------------------------------------

 ... maybe I should upgrade my X windows system :-|

 I'll include the base64-encoded .RData file in gzipped form below. For
 me, the "problem" is solved, but maybe there is somebody in the
 development team who is interested in more details ...
  

 Regards, Ulf

--please do not edit the information below--

Version:
 platform = i686-unknown-linux
 arch = i686
 os = linux
 system = i686, linux
 status = 
 major = 0
 minor = 90.0
 year = 1999
 month = November
 day = 22
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

  ----------------------------------------------------------------------
begin-base64 644 .RData.gz
H4sICPg8TTgCAy5SRGF0YQDsvQe4JFXVr78qVw1Jcs5phjDMyWcOjFMEyTlL
EAYYYHACTABEzAQzKKigRMmICCqKgShJMogECQIqSNfh5ES+79q7kRo5u/q7
9z7X7/v/H+Z59rOme63u02d11X5/1Wf3/jVN7eiYICKniGQXiqz5HbH/9D7v
YPt/j7EUIzpy9owFC+x9PuNjjPSoWXPmzpgzU+8OGMtr5D6tCRkr6eM3sI+J
GKtqfvLkyXo7ZqytcfbME2fOtk+cMDbU2vefVH8GY1NGNn/eSZNL92cMfaIl
J+89Y+5R8+ZMXjBz5lH1197EWGLyrjMWLJx84ozZi2Zq/RKMLv15C+Ytmn+k
uUuWZEzT32fW0ea2/p6f1Ne+YOG844lLM/SX8bfa3OSXYSzS3+mz9jVoDz6j
tyfa28syfq+3N7W3l2Pcrrftw01/7tLbm9jbKzDu09tb2NsrMh7U25+yt7V/
T2vPNtxE2yIrM17U1zNtmsmvwvi73l7X3tb+/lMfv5V9/GqMIb39cXt7dcbb
evtUe3sN/qvvk7/RRub2mtzWnnhdNr8W/9Xf0fu8vc375elrDmbMnq231+H2
Kub2XG2DrMvtTq0/0tavx39zc+wcMWvuUfa+9bnvV/qY2fOO0dscHt49pucn
zF9o33/vcc3PPFnfAuGV+dquZPaRx86bt8C8cRuTflhrFiwyxxrtD97Vn3M8
b7l9a2UST6nHaXz0vPlzZiw09/E84Yl67MxaMPnoGUcunDff1vJ2Revp882f
aX7mZtzWjoSzZy3QR/L2Rd/V5583/6iZ9cdw7MU1Pd52n3nywt1mLjx2nv0F
eSsTPf6ik2YdtfBYWzuF+2ZoX062t8ln+5jXb39eM7fP0fzxNt/C4XqG3v6M
vd3K7Sv19hH2dhuH7h56e6693c6ht6a+3iPnzdQjuYND7VZzLs7UX1d4T1bQ
V5doLxbN1pciU7nvRn3MjIUL59tzY8UX9HUvnDl/Tv0c25JDTg8V/yTbPw6r
lb+gz3PSzFnHHLvQVHHkrbKsOQZmmXedQ231PtP3GXNmzba/wHSRbX9n+j6X
Zz9y5vH26YRjY7sb9DXMnXeEPtnWIjtdoLd333aPXYnbiOypp04862imCPvG
biuyoFvvO9a8BnPfdiKf1deZzp+54Ph5c03lJ7hPz41owcIZC+u/zw7irXmk
fV/nfpq4I7dHzLHF7aMXmW7uxH1v6O88Z5F5zM7irTXh/ZpZc00/d+G+pcwx
utD0cldur6+vac6iyfW7ZDfu215fEzPQrKPsvbuLt66eL6k+18KZc/Tt3oP7
vm7r5s+aMdfMTHty3w/0Z5rH2heyF/f9VI833tPJ/J6zjrK/1N7irafn9YRZ
c2ctnEX9KbZP+3D/zvoccxbRAXNqyb7irf+A/ixOx3lzKOb/+4m32Uvm2DAn
hHnS/cWbrnNXcMxsc34dIN5ees5m5jUeMfv9OfhA8Y5psr05Yv6M+ebN/qR4
p2hv/dn2fDhIvG89oY+dvOf8eSfSifo8cLB4l/bqz5h3xHF6+xDxrtFjJDzx
yHna5EPF31Lnkuz4eRw1C97/teQw8e/T89o/3j7R4eI/eLP+/pP3nT/jyJlH
zDjy0+b+GeK/pnPEkrMVAyfNmD931lydcI4Q/y19z4OTm/Sly5Hiv2Oe70R7
Yh/F7cgcI5OP0l9+JrdTM4ctnLmgftwezX1LGMbMXLBg8uwTF8w40by6Y7hf
mRFP3n7W/Hrxsdy3rD3m2jmPZRa3dQ5NbI15Dcdxn87t4TFzTcM/ze3V7GuY
O484m9t6fsfzZyw6fqY96edw3zqGZ4vmTD7CTMcyl/v0OEyOmP33hQvtTDWP
+3QuW0LP68mzZxxRh+3x3D9J+3bEoqNOmqcpMx3LCdy/mfZjn+3N7fnc3sLO
VWb2WsDtZv0ZcxfNOWrmDPMmLOS+Nu3R7KPqM7Ry0n/HsGA3e/tEbm+pTD1+
Pu/nZI6syf8qPomcIso/0nL4ZG5vrb+bVky2k+JnuG87rdl/b3P7FG7voD2y
zxJNkq63tGfZgoXzZxw7e9Fc++vI9uKt+Efip3iHNf9Z6bpY5+1TiQXxc0Sd
Tz5PfJ34BWIP8YtEPT6/RNT57MvEfuJXiAPE04iDxNOJytgziMPEM4l6fH2V
OEr8GnGM+HWizivfIL5J/CbxLeK3iMrkbxPfIZ5FVJadTXyP+B3pukR/j+8S
VYudQ9Tj9Vyiaq7vEZXh3yfqcfsD6bprT+J5xL2I5xO1Yz8kKnN+RNyPeIF0
3a2Pv5Coj7+IqI+/mKja7BKi6rFLiXr8/5iomusyos6HlxP1HLiCqJrhSqLO
iVcR9Ry4Wrruv5R4DfHHxGuJlxF/QryceB1RmfZTojLgeqLy6GfEnxNvIP6C
eCPxl8SfE28i/oL4a+IviXre30T8DfFXxN8Sf03UeeRm4i3E3xBVg/2WeAfx
d9L1wNFGp3U9oIfILUTF9K3S9U9l/G3S9dqo0W1dr+n7dgdR37c7ifq+/YH4
ltFxXa/p+3Y3Ud+3e4j6vt1LfM/oui49zOSPRH3f7ifq+/YAMTA6r6umfX+I
qH1/mKh9f4SofX+UqH1/jKh9f5yoff8TUfv+BFH7/mei9v1Jovb9KeIyRjd2
1VS7PUPU+ecvRJ3TnyWqDn2OqPPQ80TVnS8QVW/+lWh1ZldNWfUSUXXly0Q9
f/5GXN3ozq4a+lH+QdS56RUielFeJa5tdGhXTeen14joQqkRVWMVRJ2juol6
afA6UcVtD1HnqV4i+k76iCqr+4k6Tw0QVQcOEjc1urarpvPUMFE1wghRrwdG
iTpfjRHRXfIGUSfZN4k6b71FbDE6uKum8/E7RJ273iWio+Q9Yoe57OmqMX95
HhGt5PlENJIXELc0urmrhh7yIiIayIuJzGFeQkTveCkRfeNlROYybwIRPeMt
QdzW6OyuGvOZtxQRreItTWTG9ZYh7mB0d1dtR+KyxJ2IyxHhubc8cRejw7tq
aCRvRSJTrLcScXfiysQ9jC7vqjEPeKsSmQe81YjMA97qROYBbw3ivsQ1icwH
3lrE/YlrEw8grkM8kLgukWsibz3iQcT1iQeby7qu2iHEDYmHEjcictnibUw8
zFwSddUOJzIv12aYS56u2hHm0qirhgbzNiMeZS6NumrM395k4tHmUqirxnnp
TSFyXnpNxFnEZiJCwWshQnivlQj1vDYizPTaiZDR6yDOM9chXTXI4U0lnmAu
abpqANHbkrjAXCJ11SC0N424yFwiddXQHd504knmuqWrBvC8rYkIG28bItfJ
3rZELv+87YhoTu8TxM8RtydymeTtQEQjezsSv0jcifgl4s7ELxN3IX6FuCvx
NIPHrtrpxN2JaH5vD+KZxD2JXyXuRfwacW8iOtHbh/gN4r7EbxL3I36LuD/x
28QDiGcRDySeTfwkket67yDid81lfVeNaw3vEOK5xEOJ3zOXnF217xMPI6I9
vcOJ5xFnEM83lx5dtR+aS7uu2o+IRxHR6t5M4oXEo4kXEY8hXkw8lgi4vFlE
OOAdR4QD3qeJcMCbTYQD3hziFeZSpqsGD7x5xKvMpVBX7WriCcRriPOJ1xIX
EH9CXEi8jriIiC72TiReTzyJ+DNzqdVVu8FcQnXV4Ip3CvHn5tK9q/YLcwnc
VYMrHvyv3WQucbtqaFwP/tfgiwf/a/DFg/81+OLB/xp88eB/Db548L/Gtb4H
/2twxoP/Na65PPhfu40I/2twx4P/Nbjjwf/anUT4X/sDEf7X7iLC/9rdRPhf
4zrYg/+1e4nwv3YfEf7X0C8e/K/dT4T/NTS8B/9rDxLhf+0hIvyvoXc9+F97
hAj/a48S4X/tMSL8r3Fd7cH/2p+I8L+GLvfgf+3PRPhfe5II/2tPEeF/7Wki
/K89Q4T/tb8Q4X/tWSL8rz1HhP+154nwv8b1owf/a38lwv/ai0T4X+P6woP/
tZeJ8L/2NyL8r3F95sH/2j+I8L/2ChH+114lwv/aP4nwv/YaEf7XAKoH/2vo
Ng/+19BtHvyvvW4+U+iqods8+F9Dt3nwv4Zu8+B/Dd3mwf8aus2D/zV0mwf/
a+g2D/7X0G0e/K+h2zz4X4P/HvyvwX8P/tfgvwf/a/Dfg/81+O/B/xr89+B/
7R3zGUZXDf578L8G/z34r/LSg/8FMPHgfwH/PfhfwH8P/hfw34P/Bfz34H8B
/z34X8B/D/4X8N+D/0VmPhPpKuC/B/8L+O/B/wL+e/C/gP8e/C/gvwf/C/jv
wf8C/nvwv4D/Hvwv4L8H/wv478H/Av578L+A/x78L+C/B/8L+O/B/wL+e/C/
gP8e/C/gvwf/C/jvwf9CPz+C/4V+bgT/C/28CP4X+jkR/C/08yH4X+jnQvC/
0M+D4H+hnwHB/0I/+4H/hX7mA/8L+O/B/wL+e/C/gP8e/C/gvwf/C/jvwf8C
/nvwv4D/Hvwv4L8H/wv478H/Av578L+A/x78L+C/B/8L+O/B/wL+e/C/gP8e
/C/gvwf/C/jvwf+iw3zE2VXAfx/+F/Dfh/8F/PfhfwH/ffhfwH8f/hfw34f/
Bfz34X8B/334X8B/H/4X8N+H/wX89+F/Af99+F/Afx/+F/Dfh/8F/PfhfwH/
ffhfwH8f/hfw34f/Bfz34X8B/334X8B/H/4X8N+H/wX89+F/Af99+F/Afx/+
F/Dfh/8F/PfhfwH/ffhfwH8f/hfw34f/Bfz34X8B/334XxyoHy0S4b8P/wv4
78P/Av778L+A/z78Lw7VjxCJ8N+H/wX89+F/Af99+F/MMJ/hdRXw34f/Bfz3
4X8B/334X8B/H/4X8N+H/wX89+F/Af99+F/Afx/+F/Dfh/8F/PfhfwH/ffhf
wH8f/hfw34f/Bfz34X8B/334X8B/H/4X8N+H/8UC/UiXuFA/SiXCfx/+F/Df
h/8F/PfhfwH/ffhfwH8f/hfw34f/Bfz34X8B/334X8B/H/4X8N+H/wX89+F/
Af99+F/Afx/+F/Dfh/8F/PfhfwH/ffhfwH8f/hfw34f/Bfz34X8B/334X8B/
H/4XX9fLciL89+F/Af99+F98Sy+LifDfh/8F/PfhfwH/ffhfwH8f/hfw34f/
Bfz34X8B/334X8B/H/4X8N+H/wX89+F/Af99+F/Afx/+Fz/US3Qi/PfhfwH/
ffhfwH8f/hfw34f/Bfz34X9xiX60ToT/Pvwv4L8P/4vL9OMh4uX6MRsR/vvw
v4D/PvwvrtKPd4jw34f/Bfz34X8B/334X8B/H/4X8N+H/8VP9eMb4vX6USUR
/vvwv4D/Pvwv4L8P/wv478P/Av778L+A/z78L+C/D/8L+O/D/wL++/C/gP8+
/C/gvw//C/jvw/8C/vvwv4D/Pvwv4L8P/wv478P/Av778L+A/z78L+C/D/8L
+O/D/wL++/C/gP8+/C/gvw//C/jvw/8C/vvwv4D/Pvwv4L8P/wv478P/Av77
8L+A/z78L+C/D/8L+O/D/wL++/C/gP8+/C/gvw//C/jvw/8C/vvwv4D/Pvwv
4L8P/wv478P/Av778L+A/z78L+C/D/8L+O/D/wL++/C/gP8+/C/gvw//C/jv
w/8C/vvwv4D/Pvwv4L8P/wv478P/Av778L+A/z78L+C/D/8L+O/D/wL++/C/
gP8+/C/gvw//C/jvw/8CsPrwv4D/Pvwv4L8P/wv478P/Av778L+A/z78L+C/
D/8L+O/D/wL++/C/gP8+/C/gvw//C/jvw/8C/vvwv4D/Pvwv4L8P/wv478P/
Av778L+A/z78L+C/D/8L+O/D/wL++/BfP1by4X83/PfhfzdQ8eF/N/z34X83
/Pfhfzf89+F/N/z34X83/Pfhfzf89+F/N/z34X83/Pfhfzf89+F/N/z34X83
/Pfhfzf89+F/N/z34X83/Pfhfzf89+F/N/z34X83/Pfhfzf89+F/N/z34X83
/Pfhfzf89+F/N/z34X83/Pfhfzf89+F/N/z34X83/Pfhfzf89+F/N/z34X83
/Pfhfzf89+F/N/z34X83/Pfhfzf89+F/N/z34X83/Pfhf7f+rQf+d8N/H/53
w38f/nfr+Q7/X9f3A/6/rv2G/z3aT/jfo/2C/z3aD/jfo78v/O/R3wf+9+jr
hf89+nrgf4/+PPjfg57w4X8PesGH/z3oAR/+90w1f87s6oHnAfzvgdcB/O+B
xwH874G3AfzvgacB/O+BlwH874GHAfzvgXcB/O+BZwH874FXAfzvgUcB/O+B
NwH874EnAfzvgRcB/O+BBwH872G+D+B/D/N5AP97mK8D+N/DfBzA/x7m2wD+
9zCfBvC/h/kygP89zIcB/O9hvgvgfw/zWQD/e5ivAvjfw3wUwP8e5psA/vcw
nwTwv4f5IoD/PcwHAfzv4XwP4H8P53MA/3s4XwP438P5GMD/Hs63AP73DOif
JomcLwH87+F8COB/L8d7AP97OZ4D+N/L8RrA/16OxwD+93K8BfC/l+MpgP+9
a+ufhYkcDwH870XvBfC/Fz0XwP9e9FoA/3vRYwH870VvBfC/Fz0VwP9e9FIA
/3vRQwH870XvBPC/Fz0TwP9e9EoA/3vRIwH870VvBPC/Fz0RwP9e9EIA/3vR
AwH874X3AfzvhecB/O+F1wH874XHAfzvhbcB/O+FpwH874WXAfzvhYcB/O+F
dwH874VnAfzv5fgN4H8vPArgfy+8CeB/LzwJ4H8vvAjgfy88COB/L/N9AP97
mc8D+N/LfB3A/17m4wD+9zLfBvC/l/k0gP+9zJcB/O9lwgngfy/zXQD/e5nP
Avjfy3wVwH/9GDuA/33MNwH872M+CeB/H/NFAP/7mA8C+N/H+R7A/7619M96
RM7XAP736d9Z4X/f5vqnRWKz/gmMiF4O4H/fVvonIyJ6N4D/fejZAP73oVcD
+N+HHg3gf99++udfInoygP996MUA/vcdpX8OIqL3Avjfh54L4H/fAv3TLPFk
/TMEEb0VwP8+9FQA//vQSwH870MPBfC/7zv65x0ieiaA/33olQD+96FHAvjf
h94I4H8feiKA/33ohQD+96EHAvjfB+8D+N8HzwP43wevA/jfB48D+N8HbwP4
3wdPA/jfBy8D+N8HDwP43wfvAvjfB88C+N8HrwL438cbEMD/PngTwP8+eBLA
/z54EcD/fngQwP9+5vsA/vcznwfwv5/5OoD//czHAfzvZ74N4H8/82kA//v1
7+Hwv5/roQD+93O9E8D/fq5nAvjfz/VKAP/7uR4J4H8/1xsB/O/neiKA//1c
LwTwv5/rgQD+96P3A/jfj54P4H8/ej2A//3o8QD+96O3A/jfj54O4H8/ejmA
//3o4QD+96N3A/jfj54N4H8/ejWA//3o0QD+96M3A/jfj54M4H8/ejGA//3o
wQD+96P3Avjfj54L4H8/ei2A//3osQD+96O3Avjfj54K4H8/eimA//3ooQD+
96N3Avjfj54J4H8/eiWA//3okQD+96M3Avjfj54I4H8/eiGA//3ogQD+98P7
AP73w/MA/g8AgwD+D8DjAP4PwNsA/g/A0wD+D8DLAP4PwMMA/g/AuwD+D8Cz
AP4PcL0awP8BrkcD+D/A9WYA/we4ngzg/8B0s56ha4DrwQD+D3C9F8D/Aa7n
Avg/wPVaAP8HuB4L4P8A11sB/B/geiqA/wNcLwXwf4DroQD+D3C9E8D/Aa5n
Avg/wPVKAP8HuB4J4P8A1xsB/B/geiKA/wNcLwTwf4DrgQD+D6D3A/g/gJ4P
4P8Aej2A/wPo8QD+D6C3A/g/gJ4O4P8AejmA/wPo4QD+D6B3A/g/gJ4N4P8A
ejWA/wPo0QD+D6A3A/g/gJ4M4P8AejGA/wPowQD+D6D3Avg/gJ4L4P8Aei2A
/wPwP4D/A/A/gP+D8D+A/4PwP4D/g/A/gP+D8D+A/4PwP4D/g/A/gP+D8D+A
/4PwP4D/g/A/gP+DW5j1I12D8D+A/4NTzfKlrkH4H8L/wW3NWpKuQfgfwv9B
+B/C/0H4H8L/Qfgfwv9B+B/C/0H4H8L/Qfgfwv9B+B/C/0H4H8L/Qfgfwv9B
+B/C/0H4H8L/Qfgfwv9B+B/C/0H4H8L/Qfgfwv9B+B/C/0H4H8L/Qfgfwv9B
+B/C/0H4H8L/Qfgfwv9B+B/C/0H4H8L/Qfgfwv9B+B/C/0H4H8L/Qfgfwv9B
+B/C/0H4H8L/Qfgfwv9B+B/C/0H4H8L/Qfgfwv9B+B/C/0H4H8L/Qfgfwv8h
+B/C/yH4H8L/Ifgfwv8h+B/C/yH4H8L/Ifgfwv8h+B/C/yH4H8L/IV27A/+H
4H8I/4fgfwj/h+B/CP+H4H8I/4fgfwj/h+B/CP+H4H8I/4fgfwj/h+B/CP+H
4H8I/4fgfwj/h+B/CP+H4H8I/4fgfwj/h+B/CP+H4H8I/4fgfwj/h+B/CP+H
4H8I/4fgfwj/h+B/CP+H4H8I/4fgfwj/h+B/CP+H4H8I/4fgfwj/h+B/CP+H
4H8I/4fgfwj/h27TJS9E+B/C/yH4H8L/Ifgfwv8h+B/C/yH4H8L/Ifgfwv8h
+B/C/yH4H8L/Ifgfwv8h+B/C/yH4H8L/Ifgfwn/983QI/4fhfwj/h+F/CP+H
4X8I/4fhfwj/h+F/CP+H19LlQUT4H8L/4Ym6xIi4uf7ZnQj/Q/g/DP9D+D+8
lS5hIML/EP4Pw/8Q/g/D/xD+D8P/EP4P76dLG4jwP4T/w4fpEiAi/A/h/zD8
D+H/MPwP4f8w/A/h//DJukyMCP9D+D8M/0P4P3ymWdfVNQz/Q/g/DP9D+D8M
/0P4Pwz/Q/g/DP9D+D8M/0P4Pwz/Q/g/DP9D+D8M/0P4Pwz/Q/g/DP9D+D8M
/0P4Pwz/Q/g/DP9D+D8M/0P4Pwz/Q/g/DP9D+D8M/0P4Pwz/Q/g/DP9D+D8M
/0P4P8wbEcL/Yfgfwv9h+B/C/xEmnRD+j8D/EP6PwP8Q/o/A/xD+j8D/EP6P
wP8Q/o/A/xD+j8D/EP6PwP8Q/o/A/xD+j8D/EP6PwP8Q/o/A/xD+j8D/EP6P
wP8Q/o/A/xD+j8D/EP6PwP8Q/o/A/xD+j8D/EP6PwP8Q/o/A/xD+j8D/EP6P
wP8Q/o/A/xD+j8D/EP6PwP8Q/o/A/xD+j8D/EP6PwP8Q/o/A/xD+j8D/EP6P
wP8Q/o/A/xD+j8D/EP6PwP8Q/o/A/xD+j8D/EP6PwP8Q/o/A/xD+j8D/EP6P
wP8Q/o/A/xD+j8D/EP6PwP8Q/o/A/xD+j8D/EP6PwP8Q/o/A/xD+j8D/EP6P
wP8Q/o/C/xD+j8L/EP6Pwv8Q/o/C/xD+j8L/EP6Pwv8Q/o/C/xD+j8L/EP6P
wv8Q/o/C/xD+j8L/EP6Pwv8Q/o/C/xD+j8L/EP6Pwv8Q/o/C/xD+j8L/EP6P
wv8Q/o/C/xD+j8L/EP6Pwv8Q/o/C/xD+j8L/EP6Pwv8Q/o/C/xD+j8L/EP6P
wv8Q/o/C/xD+j8L/EP6Pwv8Q/o/C/xD+j8L/EP6Pwv8Q/o/C/xD+j8L/EP6P
wv8Q/o/C/xD+j8L/EP6Pwv8Q/o/C/xD+j8L/EP6Pwv8Q/o/C/xD+j8L/EP6P
wv8Q/o/C/xD+j8L/EP6Pwv8Q/o/C/xD+j8L/EP6Pwv8Q/o/B/xD+j8H/EP6P
wf8Q/o/B/xD+j8H/EP6Pwf8Q/o/B/xD+j8H/EP6P6XpQ+D8G/0P4Pwb/Q/g/
NtUsV+4ag/8R/B+D/xH8H4P/Efwfg/8R/B+D/xH8H4P/Efwfg/8R/B+D/xH8
H4P/Efwfg/8R/B+D/xH8H4P/Efwfg/8R/B+D/xH8H4P/Efwfg/8R/B+D/xH8
H4P/Efwfg/8R/B+D/xH8H4P/Efwfg/8R/B+D/xH8H4P/Efwfg/8R/B+D/xH8
H4P/Efwfg/8R/B+D/xH8H4P/Efwfg/8R/B+D/xH8H4P/Efwf+5tZH9s1Bv8j
+D8G/yP4/ybzcgT/31xo1st2vam/F/x/k+Mugv9vMi9EcP8tzosI7r/FvBXB
/bfgfQT33+L4iuD+W5z/Edx/C25GU2QaGk2iJiJ6Imom8n5HLUTOx6iVyHwZ
tck0XT4TtRPRG1EHkeMh6iRyvkZTiRREXUTezGhLInok2orI8RJNI3I+Rx8n
Mt9G04nwMMqJ6JVoayLHU7QNkfM92pbIfBxtR4SX0SeI6JloeyLHW7QDkfkg
2pHIfB3tRISn0c5E9E60C5HjMdqVyHwR7UZkPo92J8LbaA8ieijak8jxGu1F
1L7tTdS+7UOEx9G+RO3ffkSO52h/IvNNdAARHkQHEuF19Ekieio6iMjxHh1M
ZD6KDiHCi+hQIjyPPkVEb0WHETkfosOJuh56BlHXQR9B1PXPRxLRY9FRRM6X
aCaR+Sw6mghvomOI6IHoWCJ6LZpF5HyKjiMy30WfJrbrEkEieiGaQ+zUpf5E
Pd/mEbt0CTcRXkUnENET0XziNF3GS9TzcSGR+TJaRIRn0YnErXW5NRE9GJ1M
1PP1M0Tm0+gUIryLPktEj0SnEtGL0eeIej5/nsh8G32BCA+jLxLRK9GXiOjJ
6MtEPd+/QmQ+jk4jwsvodCJ6JjqDiN6MziTqfPBVIvN19DUiPI2+TkTvRN8g
okejbxJ1vvgWkfk8+jYR3kZnEdFD0dlE9Gr0HeIhZt35NDSaROcQ4XF0LhG9
FH2PiJ6Nvk/U+eYHRHgQnUeE19H5RPRU9EOiro/8EVHnowuI8CK6kAjPo4uI
6K3oYiJ6OLqEqPPVpUR4Ev2YCO+jy4josehyIno5uoKo89mVRHgTXUVED0RX
E3VeuIao88K1RJ0XfkLUeeE6os4LPyWi56Lriejt6GdEnQ9vIMKr6EYieiL6
ORG9F/2CiB6PfknU+fImIjyLfkVEb0S/JqIHo5uJ6PXoN0SdT39LhHfR74jo
kej3RPRidAsRPR/dStT59jYiPIxuJ6JXojuI6MnoTiJ6P/oDUefju4jwMrqb
iJ6J7iGiN6N7iVwPRPcRdb7+IxGeRvcT0TvRA0T0aPQgkeuF6CGizucPE+Ft
9AgRPRQ9SkSvRo8RuZ6IHifqfP8nos6XTxB1vvwzET0bPUnUefMpovLgaSK8
jp4hoqeivxDRu9GzRK5HoueIyovnifA8eoGI3or+SkQPRy8SuV6JXiIqT14m
wvvob0T0WPR3Ino5+geR65noFaLy5lUieiD6JxG9Fr1GRE9HNSLXO1FBVB51
E9EL0etE9FzUQ0RvR71EroeiPqLyqp+InogGiOi9aJCIHo+GiFwvRcNE5dkI
Eb0RjRLRg9EYEb0evUHkeip6k6i8e4uIHoneJqIXo3eI6PnoXSLXW9F7xPvN
15KmodEk9ojoydgnovfjgMj1WBwS4WUcEdEzcUxEb8YJkeuBOCWiZ+KMiN6M
JxC5HoiXIHK9Fi9JhKfxUkT0Trw0keuEeBki13Hxx4jon3hZItcN8XJEruvi
5YlwN16BiC6KVySiW+OViFxXxCsTue6LVyFyXR6vSkTPxqsRud6IVydyPRiv
QeR6PV6TiJ6K1yKid+O1iVyPxOsQ4W+8LhHuxusR4W68PhHuxhvINF2uGm9I
hLvxRkS4G29MhLvxRCLcjScRKYw3IdLUeFMi3I03I8LdeHNipkvliXA33oII
d2P4jzaSGP6jjSSG/2gjieE/2khi+I82khj+o40khv9oI4nhP9pIYviPNpIY
/qONJIb/aCOJ4T/aSGL4jzaSGP6jjSSG/2gjieE/2khi+I82khj+o40khv9o
I4nhP9pIYviPNpIY/qONJIb/+t2hGP6jjSSG/2gjieE/2khi+K/fJYrhP9pI
YviPNpIY/kdwN4b/aCSJ4T8aSWL4j0aSGP6jkSSG/5F+1wj+o5Ekhv9oJInh
PxpJYviPRpIY/qORJIb/aCSJ4T8aSWL4j0aSGP6jkSSG/2gkieE/Gkli+I9G
khj+o5Ekhv9oJInhPxpJYviPRpIY/qORJIb/aCSJ4T8aSWL4j0aSGP6jkSSG
/2gkieE/Gkli+I9Gkhj+o5Ekhv9oJInhPxpJYviPRpIY/qORJIb/aCSJ4T8a
SWL4j0aSGP6jkSSG/2gkieE/Gkli+I9Gkhj+o5Ekhv9oJInhPxpJYviPRpIY
/qORJIb/aCSJ4T8aSWL4j0aSGP6jkSSG/2gkieE/Gkli+I9Gkhj+o5Ekhv9o
JInhPxpJYviPRpIY/qORJIb/aCSJ4T8aSWL4j0aSGP6jkSSG/2gkieE/Gkli
+I9Gkhj+o5Ekhv9oJInhPxpJYviPRpIY/qORJIb/aCSJ4T8aSWL4j0aSGP6j
kSSG/2gkieE/Gkli+I9Gkhj+o5Ekhv9oJInhPxpJYviPRpIY/qORJIb/aCSJ
4T8aSWL4j0aSGP6jkSSG/2gkieE/Gkli+I9Gkhj+o5Ekhv9oJInhPxpJYviP
RpIY/qORJIb/aCSJ4T8aSWL4j0aSGP6jkSSG/2gkieE/Gkli+I9Gkhj+o5Ek
hv9oJInhPxpJYviv382L4T8aSWL4j0aSGP6jkSSG/2gkieE/Gkli+I9Gkhj+
o5Ekhv9oJInhPxpJYviPRpIY/qORJIb/aCSJ4T8aSWL4j0aSGP6jkSSG/2gk
ieE/Gkli+I9Gkhj+o5Ekhv9oJInhPxpJYviPRpIY/qORJIb/aCSJ4T8aSWL4
j0aSGP6jkSSG/2gkieE/Gkli+I9Gkhj+o5Ekhv9oJInhPxpJYviPRpIY/qOR
JIb/aCSJ4T8aSWL4j0aSGP6jkSSG/2gkieE/Gkli+I9Gkhj+o5Ekhv9oJInh
PxpJYviPRpIY/qORJIb/aCSJ4T8aSWL4j0aSGP6jkfQ7ktPQSBLDfzSSxPAf
jSQx/EcjSQz/I+Uu/I+Uu/A/Uu7C/0i5C/8j5S78j5S78D9S7sL/SLkL/yPl
LvxHI0kM/9FIEsN/NJLE8B+NJDH8RyNJDP/RSBLDfzSSxPAfjSQx/Ecj6VeQ
p6GRJIH/aCRJ4D8aSRL4j0aSBP6jkSSB/2gkSeA/GkkS+I9GkgT+o5Ekgf9o
JEngPxpJEviPRpIE/qORJIH/aCRJ4D8aSRL4j0aSBP6jkSSB/2gkSeA/GkkS
+I9GkgT+o5Ekgf9oJEngPxpJEviPRpIE/qORJIH/aCRJ4D8aSRL4j0aSBP6j
kSSB/2gkSeA/GkkS+I9GkgT+o5Ekgf9oJEngPxpJEviPRpIE/uvXVBL4j0aS
BP6jkSSB/2gkSeA/GkkS+I9GkgT+o5Ekgf9oJEngPxpJEviPRpIE/qORJIH/
aCRJ4D8aSb9DOw2NJAn8RyNJAv/RSJLAfzSSJPAfjSQJ/EcjSQL/0UiSwH80
kiTwH40kCfxHI0kC/9FIksB/NJIk8B+NJAn8RyNJAv/RSJLAfzSSJPAfjSQJ
/EcjSQL/0UiSwH80kiTwH40kCfxHI0kC/9FIksB/NJIk8B+NJAn8RyNJAv/R
SJLAfzSSJPAfjSQJ/EcjSQL/0UiSwH80kiTwH40kCfxHI0kC/2P9bjH8j/X7
xPAfjSQJ/EcjSQL/0UiSwH80kiTwH40kCfxHI0kC/9FIksB/NJIk8B+NJAn8
RyNJAv/RSJLAfzSSfl95GhpJEviPRpIE/qORJIH/aCRJ4D8aSRL4j0aSBP6j
kSSB/2gkSeA/GkkS+I9GkgT+o5Ekgf9oJEngPxpJEviPRpIE/qORJIH/aCRJ
4D8aSRL4j0aSBP6jkSSB/2gkSeA/GkkS+I9GkgT+o5Ekgf9oJEngPxpJEviP
RpIE/qORJIH/aCRJ4D8aSRL4j0aSBP6jkSSB/2gkSeA/GkkS+I9GkgT+o5Ek
gf9oJEngPxpJEviPRpIE/qORJIH/aCRJ4D8aSRL4j0aSBP6jkSSB/2gkSeA/
GkkS+I9GkgT+o5Ekgf9oJEngPxpJEviPRpIE/qORJIH/aCRJ4D8aSRL4j0aS
BP6jkSSB/2gkSeA/GkkS+I9GkgT+o5Ekgf9oJEngPxpJEviPRpIE/qORJIH/
aCRJ4D8aSRL4j0aSBP6jkSSB/2gkSeA/GkkS+I9GkgT+o5Ekgf9oJEngPxpJ
EviPRpIE/qORJIH/aCRJ4D8aSRL4j0aSBP6jkSSB/2gkSeA/GkkS+I9GkgT+
o5Ekgf9oJEngPxpJEviPRpIE/qORJIH/aCRJ4D8aSRL4j0aSBP6jkSSB/2gk
SeA/GkkS+I9GkgT+o5Ekgf9oJEngPxpJEviPRpIE/qORJIH/aCRJ4D8aSRL4
j0aSBP6jkSSB/2gkSeA/GkkS+I9GkgT+o5Ekgf9oJEngPxpJEviPRpIE/qOR
JIH/aCRJ4D8aSRL4j0aSBP6jkSSB/2gkSeA/GkkS+I9GkgT+o5Ekgf9oJEng
PxpJEviPRpIE/qORJIH/aCRJ4D8aSRL4j0aSBP6jkSSB/2gkSeA/GkkS+I9G
kgT+o5Ekgf9oJEngPxpJEviPRpIE/qORJIH/aCRJ4D8aSRL4j0aSBP6jkSSB
/2gkSeA/GkkS+I9GkgT+o5Ekgf9oJEngPxpJEviPRpIE/qORJIH/aCRJ4D8a
SRL4j0aSBP6jkSSB/2gkSeA/GkkS+I9GkgT+o5Ekgf9oJEngPxpJEviPRpIE
/qORdLuRaWgkSeE/GklS+I9GkhT+o5Ekhf9oJEnhPxpJUviPRpIU/qORJIX/
aCRJ4T8aSVL4j0aSFP6jkSSF/2gkSeE/GklS+K/7SKTwH40kKfxHI0kK/9FI
ksJ/NJKk8B+NJCn8RyNJCv/RSJLCfzSSpPAfjSQp/EcjSQr/0UiSwn80kqTw
H40kKfxHI0kK/9FIksJ/NJKk8B+NJCn8RyNJCv/RSJLCfzSSpPAfjSQp/Nev
p6bwH40kKfxHI0kK/9FIksJ/NJKk8B+NJCn8RyNJCv/RSJLCfzSSpPAfjSQp
/EcjSQr/0UiSwn80kqTwH40kKfxHI0kK/9FIksJ/NJKk8B+NJCn8RyNJCv/R
SJLCfzSSpPAfjSQp/EcjSQr/0UiSwn80kqTwH40kKfxHI0kK/9FIksJ/NJKk
8B+NJCn8RyNJCv/RSJLCfzSSpPAfjSQp/EcjSQr/0UiSwn80kqTwH40kKfxH
I0kK/9FIksJ/NJKk8B+NJCn8RyNJCv/RSJLCfzSSpPAfjSQp/EcjSQr/0UiS
wn80kqTwX/cZSeE/GklS+I9GkhT+o5Ekhf9oJEnhPxpJUviPRpIU/qORJIX/
aCRJ4T/aSFL4jyaSFP6jiSSF/2giSeE/mkhS+I8mkhT+o4kkhf9oIknhP5pI
UviPJpIU/qOJJIX/aCJJ4T+aSFL4jyaSFP6jiSSF/2giSeE/mkhS+I8mkhT+
o4kkhf9oIknhP5pIUviPJpIU/qOJJIX/aCJJ4T+aSFL4jyaSFP6jiSSF/2gi
SeE/mkhS+I8mkhT+o4kkhf9oIknhP5pIUviPJpIU/qOJJIX/aCJJ4T+aSFL4
r3u4pPAfTSQp/EcTSQr/0USSwn80kaTwH00kKfxHE0kK/9FEksJ/NJGk8B9N
JCn8RxNJCv/RRJLCfzSRpPAfTSQp/EcTSQr/0USSwn80kaTwH00kKfxHE0kK
/9FEksJ/NJGk8B9NJCn8RxNJCv/RRJLCfzSRpPAfTSQp/EcTSQr/0USSwn80
kaTwH00kKfxHE0kK/9FEksJ/NJGk8B9NJCn8RxNJCv/RRJLCfzSRpPAfTSQp
/EcTSQr/0USSwn80kaTwH00kKfxHE0kK/9FEksJ/NJGk8B9NJCn8RxNJCv/R
RJLCfzSRpPAfTSQp/EcTSQr/0USSwn80kaTwH00kKfxHE0kK/9FEksJ/NJGk
8B9NJCn8RxNJCv/RRJLCfzSRpPAfTSQp/EcTSQr/0USSwn80kaTwH00kKfxH
E0kK/9FEksJ/NJGk8B9NJCn8RxNJCv/RRJLCfzSRpPAfTSQp/EcTSQr/0USS
wn80kaTwH00kKfxHE0kK/9FEksJ/NJGk8B9NJCn8RxNJCv/RRJLCfzSRpPAf
TSQp/EcTSQr/0USSwn80kaTwH00kKfxHE0kK/9FEksJ/NJGk8B9NJCn8RxNJ
Cv/RRJLCfzSRpPAfTSQp/EcTSQr/0USSwn80kaTwH00kKfxHE0kK/9FEksJ/
NJGk8B9NJCn8RxNJCv/RRJLCfzSRpPAfTSQp/EcTSQr/0USSwn80kaTwH00k
KfxHE0kK/9FEksJ/NJGk8B9NJCn8RxNJCv/RRJLCf7SQpPA/Uc7D/0Q5D/8T
5Tz8RwvptmLT0EKSwX+0kGTwHy0kGfxHC0kG/9FCksF/tJBk8B8tJBn8RwtJ
Bv/RQpLBf7SQZPAfLSQZ/EcLSQb/0UKSwX+0kGTwHy0kGfxHC0kG/9FCksF/
tJBk8B8tJBn8RwtJBv/RQpLBf7SQZPAfLSQZ/EcLSQb/0UKSwX+0kGTwHy0k
GfxHC0kG/9FCksF/tJBk8B8tJBn8RwtJBv/RQpLBf91+IoP/aCHJ4D9aSDL4
jxaSDP6jhSSD/2ghyeA/Wkgy+I8Wkgz+o4Ukg/9oIcngP1pIMviPFpIM/qOF
JIP/aCHJ4D/aRTL4j3aRDP6jXSSD/2gXyeA/2kUy+I92kQz+o10kg/9oF8ng
P9pFMviPdpEM/qNdJIP/aBfJ4D/aRTL4j3aRDP6jXSSD/2gXyeA/2kUy+I92
kQz+o10kg/9oF8ngP9pFMviPdpEM/qNdJIP/aBfJ4D/aRTL4n+r+XvA/1X29
4D/aRTL4j3aRDP6jXSSD/2gXyeA/2kUy+I92kQz+o10kg/9oF8ngP9pF9wub
hnaRDP6jXSSD/2gXyeA/2kUy+I92kQz+o10kg/9oF8ngP9pFMviPdpEM/qNd
JIP/aBfJ4D/aRTL4j3aRDP6jXSSD/2gXyeA/2kUy+I92kQz+o10kg/9oF8ng
P9pFMviPdpEM/qNdJIP/aBfJ4D/aRTL4j3aRDP6jXSSD/2gXyeA/2kUy+I92
kQz+o10kg/9oF8ngP9pFMviPdpEM/qNdJIP/aBfJ4D/aRTL4j3aRDP6jXSSD
/2gXyeA/2kUy+I92kQz+o10kg/9oF8ngP9pFMviPdpEM/qNdJIP/aBfJ4D/a
RTL4j3aRDP6jXSSD/2gXyeA/2kUy+I92kQz+o10kg/9oF8ngP9pFMviPdpEM
/qNdJIP/aBfJ4D/aRTL4j3aRDP6jXSSD/6nuywj/0S66P9w0tItk8B/tIhn8
R7tIBv/RLpLBf7SLZPAf7SIZ/Ee7SAb/0S6SwX+0i2TwH+2i+z1OQ7tIBv/R
LpLBf7SLZPAf7SIZ/Ee7SAb/0S6SwX+0i2TwH+0iGfxHu0gG/9EuksF/tItk
8B/tIhn8R7tIBv/RLpLBf7SLZPAf7SIZ/Ee7SAb/0S6SwX+0i2TwH+0iGfxH
u0gG/9EuksF/tItk8B/tIhn8R7tIBv/RLpLBf7SLZPAf7SIZ/Ee7SAb/0S6S
wX+0i2TwH+0iGfxHu0gG/9EuksF/tItk8B/tIhn8R7tIBv/RLpLBf7SLZPAf
7SIZ/Ee7SAb/0S6SwX+0i2TwH+0iGfxHu0gG/9EuksF/tItk8B/tIhn8R7tI
Bv/RLpLBf7SLZPAf7SIZ/Ee7SAb/0S6SwX+0i2TwH+0iGfxHu0gG/9EuksF/
tItk8B/tIhn8R7tIBv/RLpLBf7SLZPAf7SIZ/Ee7SAb/0S6SwX+0i2TwH+0i
GfxHu0gG/9EuksF/tItk8B/tIhn8R7tIBv/RLpLBf7SLZPAf7SIZ/Ee7SAb/
0S6SwX+0i2TwH+0iGfxHu0gG/9EuksF/tItk8B/tIhn8R7tIBv/RLpLBf7SL
ZPAf7SIZ/E+V1/A/VV7D/1R5Df9T5TX8T5XX8D9VXsP/VHkN/1PlNfxPldfw
P1Vew3+0i24fOg3tIhPgP9pFJsB/tItMgP9oF5kA/9EuMgH+o11kAvxHu8gE
+I92kQnwH+0iE+A/2kUmwH+0i0yA/2gXmQD/0S4yAf6jXWQC/Ee7yAT4j3aR
CfAf7SIT4D/aRSbAf7SLTID/aBeZAP/RLjIB/qNdZAL8T98z+5zZPVHNv/f4
V99jNS5tdPmpcWommD0FZyycMfno+TPm2P3YPjtOne6R1HbEvJOPnz1v4cRj
Zi6Y/K991tb5/DqfmTlj/hZz5s1deOxm6+hzrTNtnX+lJ9mnObW+X2r5Ob36
XmyfG+fn6Y6m0+o/b3J938r/k5/7ecfP7TZ7vX345+qeUK3v/54Ljp89a+HE
OUcffPD7O0seeuhm6+jtzT+4Y9Jm60yePHmS2TNu/J/VY/aR+/DP0v2uNvqv
/QzzsC87nr/P7Ev34efX/bAmm+effNTMo2csmv1f/DmnOX7OgNnv7sM/R29n
9jibeHS972c4nmPI7JH34efQPcuW+bdXI2YfvfGfZ8Tsrffh59E9ydY4+ODJ
HxzS/M6brfOvZ51k9uIb/znHzP58H35OFcLpOvyrv8/fHKdGtzncbeLRi+Ye
uXDWvLkTT95snVmT1pl19DoTZy2YPGfGwvmzTp44a9KkdWb869bJkw4+eNah
h66jO5uuw8N0e+X375ykj7dP/61xXqtv9g60+wh+u74f8wd53U+w6+J367Vn
jZN/Q/cWrOfPHic/qnsO1vPfGSc/rHsR1vPfHSc/qHsU1vPnjJPv170L6/lz
x8n36p6G9fz3xsm/rnsd1vPfHydfvFf/Z/ZD/FD+rr3quaXMPonjHQt2z8jz
x3nsPvX9Fdc2eyp++LFLmv0PdS9E3RdR90jU/RJ170TdR1H3VNT9FXWvRd13
0e7B+KP6a/HME5n9Gv3m94+7/82R/TeMCf+BscR/cCz5Hxzef3D4/5cj+A+O
sMGI/oMj/m8Yyf+j8Z+eJyb8N4yP5or//rnif9Jc8l+dU/5PR/TfMP6/NA9d
MI5eNsdBU7O560Jn3myPLhc581PMXRePkzfH8VR71yWufKe961JXvsPe9WNX
vt3edZkr32bvutyVb7V3XeHKt9i7rnTlbfvkKlfetk+u/rCOvf/HJQ18TYUG
vnacx15e39t7bbOf94cfG5g9tXV/bbvX9nWL61vdB9zoW++j8f/74X80Phof
jY/G/1BN+NH4aPzfjp+Oo5FurGuhTY23yYc0ku5n3D3R7HWp+17qHpi6H6bu
jan7ZOqembp/pu6lqftq6h6but+m7r2p+3Dqnpy6P6fu1an7duoenrqfp+7t
qft86p6fuv+n7gWq+4LqHqG6X6juHar7iOqeorq/qO41qvuO6h6kuh+p7k2q
+5TqnqW6f6nuZar7muoep7rfqe59qvug6p6ouj+q7pWq+6bqHqq6n6rurar7
rOqeq7r/qu7Fqvuy6h6tul+r7t2q+7jqnq66v6vu9ar7vuoesLofrO4Nq/vE
6p6xun+s7iWr+8rqHrO636zuPav70OqetLo/re5Vq/vW6h62up+t7m2r+9zq
nre6/63uhav74uoeubpfru6dq/vo6p66ur+u7rWr++7qHry6H6/uzav79Oqe
vbp/r+7lq/v66h6/ut+v7v2r+wDrnsC6P7DuFaz7BusewrqfsO4trPsM657D
uv+w7kWs+xLrHsW6X7HuXaz7GOuexrq/se51rPse6x7Iuh+y7o2s+yTrnsm6
f7Lupaz7Kusey7rfsu69rPsw657Muj+z7tWs+zbrHs66n7Pu7az7POuez7r/
s+4FrftC6x7Rul+07h2t+0jrntK6v7TuNa37Tuse1Lofte5NrftU657Vun+1
7mWt+1rrHte637Xufa37YOue2Lo/tu6Vrftm6x7aup+27q2t+2zrntu6/7bu
xa37cuse3bpft+7drft4657eur+37vWt+37rHuC6H7juDa77hOue4bp/uO4l
rvuK6x7jut+47j2u+5DrnuS6P7nuVa77luse5rqfue5trvuc657nuv+57oWu
+6LrHum6X7runa77qOue6rq/uu61rvuu6x7suh+77s2u+7Trnu26f7vu5a77
uuse77rfu+79rvvA657wuj+87hWv+8brHvK6n7zuLa/7zOue87r/vO5Fr/vS
6x71ul+97l2v+9jrnva6v73uda/73use+Lofvu6Nr/vk6575un++7qWv++rr
Hvu6377uva/78Oue/Lo/v+7Vr/v26x7+up+/7u2v+/zrnv+6/796AagvgHoE
qF+Aegeoj4B6Cqi/gHoNqO+AehCoH4F6E6hPgXoWqH+Behmor4F6HKjfgXof
qA+CeiKoP4J6JahvgnooqJ+Ceiuoz4J6Lqj/gnoxqC+DejSoX4N6N6iPg3o6
qL+Dej2o74N6QKgfhHpDqE+Eekaof4R6SaivhHpMqN+Eek+oD4V6Uqg/hXpV
qG+Felion4V6W6jPhXpeqP+FemGoL4Z6ZKhfhnpnqI+Gemqov4Z6bajvhnpw
qB+HenOoT4d6dqh/h3p5qK+Henyo34d6f6gPiHqCqD+IeoWob4h6iKifiHqL
qM+Ieo6o/4h6kagviXqUqF+Jepeoj4l6mqi/iXqdqO+JeqCoH4p6o6hPinqm
qH+Keqmor4p6rKjfinqvqA+LerKoP4t6tahvi3q4qJ+Leruoz4t6vqj/i3rB
qC+MesSoX4x6x6iPjHrKqL+Mes2o74x60KgfjXrTqE+Netaof4162aivjXrc
qN+Net+oD4564qg/jnrlqG+Oeuion45666jPjnruqP+OevGoL4969Khfj3r3
qI+Pevqov496/ajvj3oAqR+QegOpT5B6Bql/kHoJqa+Qegyp35B6D6kPkXoS
qT+RehWpb5F6GKmfkXobqc+Reh6p/5F6IakvknokqV+Seiepj5J6Kqm/knot
qe+SejCpH5N6M6lPk3o2qX+Tejmpr5N6PKnfk3o/qQ+UekKpP5R6RalvlHpI
qZ+Uekupz5R6Tqn/lHpRqS+VelSpX5V6V6mPlXpaqb+Vel2p75V6YKkflnpj
qU+Wemapf5Z6aamvlnpsqd+Wem+pD5d6cqk/l3p1qW+Xenipn5d6e6nPl3p+
qf+XeoGpL5h6hKlfmHqHqY+Yeoqpv5h6janvmHqQqR+ZepOpT5l6lql/mXqZ
qa+Zepyp35l6n6kPmnqiqT+a9Ur72Tj65xd1X7eljJfbeJ8vWT++G8d57E11
D7gNje/bhx8bmb2ldJ8p3XNK958ye1HJL+qevYvprLx9mQe+2zXp3rz5mgM/
dsRuf8pbz13lnIW/Py5v33KNbTe74pS849je1icvPSJvv+cTl95/+1fyjk2v
+Ns+o4/k7X/Za9WHk8PytqYbvnbJxnvn7bucHGz/3KF521Uvfzn/9Rfz9iOW
3Om3n2rLO9q+ve73974l73jx1qVen/itvOPbg7sdt9JaeWv3g/x7KO847aA1
rkub8o7bzv7+7867L28/dcVdzzssyTtmbTJlv+YZefudB/UcufbX887tfn/c
5994Nu+4ac4hb173l7ztzJnvfP0vv807n75qzVd++ETe3nr1Hfv+8Yy8behH
vMCxvOMA+zo6H5n3+NoD/8g7ixVvWlD7Rd5xxsvFGttunk+9+uPb8Mx56yX6
8vfNO5b8xrbf+1Kcd5z58DMrnblp3rln/K2bf3tv3vHgST/89J435lOvXWmt
PU48PO+8yubbzz9niRdf+FPeefeZ5zz/g5F86pR5s7Y7pjPvrE269zNX3pS3
7sDDbhjIp5534GemPfOFfOpv3np19je2y7t+csIiOpJPPeHY+Tesc3feGe+6
xVc+u3Petc2MU1f/y1751JeeenbozHfy1u9Gv/cum5tP/f6EK6nIt7zuO4/t
vuVD+dRTuXfyz/Pm5Q86/cxzXsinPv6CPPbrlfOu/ZvGLjl7ct65/ipv77nj
yvnUn/j6BuRTZ/J2PfxM3nXmF1vn3P1kvuXdr73EO5ZP/dWyrWFtl7zr6p/+
5OL9fpR3Tvrm5ydusETe+fCtf718+it5+zUnP/HO4K/yrhf/cfjWX+vIO7s+
1Tb91J68vfPh47ve+kLe0mafd+oF+rCT86ZPfvo3PEPeccfmJzWddXfetfp1
Jyz5c37PtfTlfTJvX9b+vi2P8my73JtP6bE/p+3WG+9qvv/AvGOprdqXbY3y
lhu63vr8dyTvmnLZUxOmnZB37rHfj6Yl9+UdF9Tfn5+cvtbNe3Xzc9OmjV77
TN7RutlWF3Xfnk99/fH+a956Ne9c8rYbDz5get659S1XLHvBi3nHLrR92+/n
7YfR5fW78vbpWw8s99SCvP23y3DAnZ933LDOXRwxeddnOna556q+vP3xz/78
3bvn5FM/98wXjvjV9fnUpR94a8WbFuadm/zimEveyPL2C7f5wx97Hszbhnn2
RaN5e+26Z/758W3+dfy3/+ZTF62e/jBvv/0ry839wbfyzgM21Tcib/vZr19b
5o35efuvP/bApE9dlLfv+MupnHF5e3HevS9/eeu84+D6+TZBD/csbztLjn32
G9flrQ9pO6O8/bGz7g6/NC9fg2bscuiD+aSw+f4Drjozb7rZHl/NM5/sPOOT
u+ST7hzr+OWPW/MV1//xBRy5eeutn9t/9tDa+Spkdx7qz9vXpd0HXJ23vk3b
bruR/M17FaevnW/y9j3TV1guzjd9+VfXf27/OXlHTQ+7z+bNj9rzdpO/7vgF
Zoq87fqz3/vBBgvz1qd5FUfyfBfs/+dHrn04b93n0VNPu+n5vPnbenr4ees1
Ow/1Pf2JvGObQn+xvInirdc5JF/ldH4LmZWvf06L/subWy5YmiMhn/TKaxxw
Q/mURftstPIdt/J4e750HHbq6985dkHeuZI9vtvuOyweOXf7vOn64/VAySc9
vcn5U25dOt/0ag6Hk/+ct1yh09Ry+cTROzgALsw3adbDYk7edO4xnWt+7ra8
ZXt+zej3+boP7fHXLY86KF//Uj3tVss7Jtn5r/Ouw6896s6xvOUfnTrx5R1X
2tfV/GV7nm0wXw+YK/OWLcjO+Ec+ZYU/nt43b1be/M7xesDmTTfYfrVOs8dz
WzBj+Xz3K/K2h3Ua3Cpvn5rpiZK37s3Rscdf8w18ZqnWuXnTKvY8XE5f/dzz
8jVPPOxp7slX1sP3e1/KN9BZZtNP55M5CHmCPDKn38r5OmZaOzZP+57e7tHl
r8k3mmSPvxV/ey8H2mH5+mbaaM8n1s/fqX8yE3DetOMP/UUbbp9Pqc9rU/jl
Dnx51Xz9N+zrmxLbeadpNaaZ58/LW+/R6XDZvGMr3o75N+RTBv7+7a+f8ELe
dLsepifkzUtwmiwo8g3n2b40b2ePzy3M9BDkq13/ir6BeduJ526/4EtP5+16
GBz7XL5Ftz1f2977xx/XXOHveev12pYt85YD7Pv3/nwwZZI9HlqGmMU6z8hb
b9HDet18i4PXe/Qfh2+TT1lzhb/9/k8H5xv12Xm49bP2vF9/o/px9enjXv3z
0Y/k6+psf/i1edumr7+57buH5lPaRt5Z973JedORtp9bXP78FqtdzPH3PdvX
5juYru65Om954MUXHv8qx7nB0Pp5666vBpzSefN3v6oTYt7UfcUpJ89eL2+9
WN+2/fMpdR60pvY8b2tR7O2Rt45xuq11c976Neg4/XN56wtf+fuG1zMPbmLf
h5avvHsIb1neup3lWLN52dvkzZmdn1r6zYmRt55l57HW5s2X3j9cNW/p2lYf
mLf81M4XU3a1HH3//lZt97PfzNsm2/m2ZZuzDpk4/Ie8Obfz1Pu/xwZi38+W
hy8HqPfnrd9QeXBKPuWLF+6015evzVs3q/+e87o58X+St0b2fG4+2Rxwees6
evrwe19pufZ+bO6z72PL8z/XF5y3/nP4zrMOof7RI3Z7vJ/nfWTj323RfUDe
9jFkwL1/y1tEcTU1bzOH2XF524DlY/sDioEN8/bX9XSZlre3W13S9ssfM5Pc
xvxtudlyxp0b8ZLzyZf9/k8Hnf7VvON3Vre0Iip4orylY8I0zlh4rvJhs7zj
Nft+dLzC7LLgy3lnpqf1dnnTfGhwyFt52z9nnvuzPZbOW06r7fzNFXfL2zcw
E23ePvGfPMOP8o4fGUGUdyS9F/Ib5u332Xm5Y8C+ns7rtA0cN1/jqFjz83nL
95ZYZuPfTcmnntiH0Phd3ta7x1Kn7eahX+z807GL5Wfno5ZPnduNInjQPwv1
cNo9bz/ugKvOuHPjvG0rM33+a/7vPOO5Q4/86tF556m/gQAn5507fIKJjN9z
RfvzOoHQDp+Ymncup4m2vHV1e/6039yhHczbB69R4ZW3P2/Pp85+y4up9eOp
42jzj76ZCSnvvNWe31Ob7DzT8abVhZ07Z/4L8ng+5YhrEEp/zdsvY/o/GE7v
bvnQccvnbtvxC3D0QZWJ0/PWtS1fNn+Vw2D/J/OmCy1/227Upzs+b39v8o7/
vGqtvOUalVdL5G1PWh3X9tbO60+9vTtv/cK6CI+z85bv3qITb96eWX3W/q7l
W/OFnOU7vvav+aOTLvGO5q1vWr32r9/z1LreO7uuV7uZZTY/Ke84UGUxOu5M

==> 308.reply.2 <==
From pd@biostat.ku.dk  Wed Dec  8 22:17:54 1999
Received: from biostat.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA23822;
	Wed, 8 Dec 1999 22:17:54 +0100 (MET)
Received: (from pd@localhost)
	by biostat.ku.dk (8.9.3/8.9.3) id WAA10119;
	Wed, 8 Dec 1999 22:20:57 +0100
Sender: pd@blueberry.kubism.ku.dk
To: Ulf Mehlig <umehlig@uni-bremen.de>
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: R abnormal exit when plotting lm (PR#308)
References: <199911022114.WAA14796@pubhealth.ku.dk> <x2k8o0tu8q.fsf@blueberry.kubism.ku.dk> <199912081930.UAA03462@pandora3.localnet>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Dec 1999 22:20:57 +0100
In-Reply-To: Ulf Mehlig's message of "Wed, 8 Dec 1999 20:30:47 +0100"
Message-ID: <x2iu29jfie.fsf@blueberry.kubism.ku.dk>
Lines: 34
X-Mailer: Gnus v5.7/Emacs 20.4
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

Ulf Mehlig <umehlig@uni-bremen.de> writes:

>  Dear R-developers,
> 
>  recently I sent a bug report about plot(aov()) crashing R (resp. the
>  X Windows part of R) without reporting the data I used.
> 
>  In the meantime, I discovered, that the problem is due to a .RData
>  file -- without it, there is no crash, with that .RData loaded, the
>  following small sequence of commands crashes R 0.90, too, on my
>  machine. R had been started with "--vsize 16M --nsize 4000k":
> 
>  ----------------------------------------------------------------------
>  
>  > x <- data.frame(id=rep(c("a", "b", "c"), 100), val=rnorm(1:300))
>  > plot(aov(val ~ id, data=x))
>  Hit <Return> to see next plot: 
>  Hit <Return> to see next plot: 
>  Hit <Return> to see next plot: 
>  X Error of failed request:  BadValue (integer parameter out of range for operation)
>    Major opcode of failed request:  53 (X_CreatePixmap)
>      Value in failed request:  0x0
>        Serial number of failed request:  1229
>          Current serial number in output stream:  1235
> 
> 	 Process R exited abnormally with code 1 at Wed Dec  8 19:25:58 1999

Happens here too. Will have a look.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 308.reply.3 <==
From pd@biostat.ku.dk  Wed Dec  8 22:26:39 1999
Received: from biostat.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA23867;
	Wed, 8 Dec 1999 22:26:39 +0100 (MET)
Received: (from pd@localhost)
	by biostat.ku.dk (8.9.3/8.9.3) id WAA10155;
	Wed, 8 Dec 1999 22:29:42 +0100
Sender: pd@blueberry.kubism.ku.dk
To: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Cc: Ulf Mehlig <umehlig@uni-bremen.de>, r-devel@stat.math.ethz.ch,
        R-bugs@biostat.ku.dk
Subject: Re: R abnormal exit when plotting lm (PR#308)
References: <199911022114.WAA14796@pubhealth.ku.dk> <x2k8o0tu8q.fsf@blueberry.kubism.ku.dk> <199912081930.UAA03462@pandora3.localnet> <x2iu29jfie.fsf@blueberry.kubism.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Dec 1999 22:29:42 +0100
In-Reply-To: Peter Dalgaard BSA's message of "08 Dec 1999 22:20:57 +0100"
Message-ID: <x2g0xdjf3t.fsf@blueberry.kubism.ku.dk>
Lines: 43
X-Mailer: Gnus v5.7/Emacs 20.4
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> Ulf Mehlig <umehlig@uni-bremen.de> writes:
> 
> >  Dear R-developers,
> > 
> >  recently I sent a bug report about plot(aov()) crashing R (resp. the
> >  X Windows part of R) without reporting the data I used.
> > 
> >  In the meantime, I discovered, that the problem is due to a .RData
> >  file -- without it, there is no crash, with that .RData loaded, the
> >  following small sequence of commands crashes R 0.90, too, on my
> >  machine. R had been started with "--vsize 16M --nsize 4000k":
> > 
> >  ----------------------------------------------------------------------
> >  
> >  > x <- data.frame(id=rep(c("a", "b", "c"), 100), val=rnorm(1:300))
> >  > plot(aov(val ~ id, data=x))
> >  Hit <Return> to see next plot: 
> >  Hit <Return> to see next plot: 
> >  Hit <Return> to see next plot: 
> >  X Error of failed request:  BadValue (integer parameter out of range for operation)
> >    Major opcode of failed request:  53 (X_CreatePixmap)
> >      Value in failed request:  0x0
> >        Serial number of failed request:  1229
> >          Current serial number in output stream:  1235
> > 
> > 	 Process R exited abnormally with code 1 at Wed Dec  8 19:25:58 1999
> 
> Happens here too. Will have a look.

Reproduce without the .RData file with

 X11(point=16,h=5,w=5)
 x <- data.frame(id=rep(c("a", "b", "c"), 100), val=rnorm(1:300))
 plot(aov(val ~ id, data=x))

(The X11 thing was in .First)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 308.followup.3 <==
From umehlig@uni-bremen.de  Mon Dec 13 17:11:10 1999
Received: from alf.zfn.uni-bremen.de (alf.zfn.uni-bremen.de [134.102.20.22])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id RAA11064;
	Mon, 13 Dec 1999 17:11:09 +0100 (MET)
Received: from pandora3.localnet (root@tnt44.zfn.uni-bremen.de [134.102.7.44])
	by alf.zfn.uni-bremen.de (8.9.1a/ZfNServer) with ESMTP id RAA108094;
	Mon, 13 Dec 1999 17:08:19 +0100
Received: (from umehlig@localhost)
	by pandora3.localnet (8.9.1/8.9.1) id RAA03205;
	Mon, 13 Dec 1999 17:02:48 +0100
Date: Mon, 13 Dec 1999 17:02:48 +0100
From: Ulf Mehlig <umehlig@uni-bremen.de>
Message-Id: <199912131602.RAA03205@pandora3.localnet>
X-Authentication-Warning: pandora3.localnet: umehlig set sender to umehlig@pandora3.localnet using -f
To: p.dalgaard@biostat.ku.dk
CC: p.dalgaard@biostat.ku.dk, r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
In-reply-to: <x2g0xdjf3t.fsf@blueberry.kubism.ku.dk>
	(p.dalgaard@biostat.ku.dk)
Subject: Re: R abnormal exit when plotting lm (PR#308)
References: <199911022114.WAA14796@pubhealth.ku.dk> <x2k8o0tu8q.fsf@blueberry.kubism.ku.dk> <199912081930.UAA03462@pandora3.localnet> <x2iu29jfie.fsf@blueberry.kubism.ku.dk> <x2g0xdjf3t.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> wrote:

 > Reproduce without the .RData file with
 > 
 >  X11(point=16,h=5,w=5)
 >  x <- data.frame(id=rep(c("a", "b", "c"), 100), val=rnorm(1:300))
 >  plot(aov(val ~ id, data=x))
 > 
 > (The X11 thing was in .First)

Crashes on my computer, too.

-- 
======================================================================
Ulf Mehlig    <umehlig@zmt.uni-bremen.de>
              Center for Tropical Marine Ecology/ZMT, Bremen, Germany
----------------------------------------------------------------------

==> 308.audit <==
Sun Nov 07 08:26:44 1999	ripley	changed notes
Sun Nov 07 08:26:44 1999	ripley	moved from incoming to Graphics
Fri Feb 18 15:19:00 2000	pd	changed notes
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 365 *
Subject: plot math - segfault and "frac", "^" bug(s)..
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Wed, 8 Dec 1999 18:27:03 +0100 (MET)
--seg.fault fixed; "^" precedence is really bad
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 365 <==
From maechler@stat.math.ethz.ch  Wed Dec  8 18:27:24 1999
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA22695
	for <R-bugs@biostat.ku.dk>; Wed, 8 Dec 1999 18:27:23 +0100 (MET)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id SAA08532;
	Wed, 8 Dec 1999 18:27:25 +0100 (MET)
Received: from sophie(129.132.58.2), claiming to be "sophie.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa0025I; Wed Dec  8 18:27:25 1999
Received: (maechler@localhost) by sophie.ethz.ch (8.6.12/D-MATH-client) id SAA05515; Wed, 8 Dec 1999 18:27:23 +0100
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <14414.38119.468921.199923@gargle.gargle.HOWL>
Date: Wed, 8 Dec 1999 18:27:03 +0100 (MET)
To: R bug tracking system <R-bugs@biostat.ku.dk>
Cc: R-core@stat.math.ethz.ch
Subject: plot math - segfault and "frac", "^" bug(s)..
In-Reply-To: <14414.36319.505765.117118@gargle.gargle.HOWL>
References: <14414.36319.505765.117118@gargle.gargle.HOWL>
X-Mailer: VM 6.75 under Emacs 20.4.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>


    MM> I've sent two bug reports that both haven't been forwarded to R-devel
    MM> and haven't should up at the jitterbug repository.

    MM> ??

    MM> Martin

Well, actually only one [the other went to R-core alone]
Here it is :

 From: Martin Maechler <maechler@sophie>
 To: R-bugs
 Subject: plot math - segfault and "frac", "^" bug(s)..
 Date: 8 Dec 1999 12:50:44 +0100

This is in R versions 0.65, 0.90.0, and the current "pre-release",
both on Linux and Solaris
[with x11() , but most probably not device dependent].

The following shows it all :

    plot(1,type='n')

    ## Frac doesn't shrink properly...
    text(.7,1.3,  expression( frac(7,4) == 1 * frac(3,4)), cex=1)
    text(.7,1.2,  expression( frac(7,4) == 1 * frac(3,4)), cex=3)

    ## Bug in precedency rule of  "^" :
    text(.7, 1,   expression( Phi^{-1}(frac(3,4))),cex=3)
    text(1.1,1,   expression( {Phi^{-1}}(frac(3,4))),cex=3)

    ## This segfaults :
    text(.9, 1,   expression( Phi^ -1 (frac(3,4))),cex=3)


Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><


==> 365.reply.1 <==
From pd@biostat.ku.dk  Wed Dec  8 18:39:43 1999
Received: from biostat.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA22830;
	Wed, 8 Dec 1999 18:39:43 +0100 (MET)
Received: (from pd@localhost)
	by biostat.ku.dk (8.9.3/8.9.3) id SAA09672;
	Wed, 8 Dec 1999 18:42:45 +0100
Sender: pd@blueberry.kubism.ku.dk
To: maechler@stat.math.ethz.ch
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: plot math - segfault and "frac", "^" bug(s).. (PR#365)
References: <199912081727.SAA22705@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Dec 1999 18:42:45 +0100
In-Reply-To: maechler@stat.math.ethz.ch's message of "Wed, 8 Dec 1999 18:27:25 +0100 (MET)"
Message-ID: <x2aenl49d6.fsf@blueberry.kubism.ku.dk>
Lines: 20
X-Mailer: Gnus v5.7/Emacs 20.4
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

maechler@stat.math.ethz.ch writes:

>     MM> I've sent two bug reports that both haven't been forwarded to R-devel
>     MM> and haven't should up at the jitterbug repository.
> 
>     MM> ??
> 
>     MM> Martin
> 
> Well, actually only one [the other went to R-core alone]
> Here it is :

Whoops. Now we have it in triplicate after I fixed the mail setup.
Please respond to this one (PR#365) *only*!

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 365.audit <==
Sun Dec 12 07:53:19 1999	ripley	moved from incoming to Graphics
Fri Dec 24 09:37:39 1999	maechler	changed notes
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 378 *
Subject: plot()  after split.screen() on postscript() Device produces inconsistent PostScript file
From: boble@usa.net
Date: Fri, 17 Dec 1999 21:32:23 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 378 <==
From boble@usa.net  Fri Dec 17 21:32:24 1999
Received: from localhost (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id VAA05034
	for <R-bugs@biostat.ku.dk>; Fri, 17 Dec 1999 21:32:23 +0100 (MET)
Date: Fri, 17 Dec 1999 21:32:23 +0100 (MET)
From: boble@usa.net
Message-Id: <199912172032.VAA05034@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: plot()  after split.screen() on postscript() Device produces inconsistent PostScript file
MIME-Version: 1.0
Content-Type: text/plain; charset=unknown-8bit
Content-Transfer-Encoding: 8bit

Full_Name: Boris Leykekhman
Version: 0.90.0
OS: Red Hat Linux 6.1
Submission from: (NULL) (131.136.242.1)


Problem:
Plot()  after split.screen() on postscript() Device produces PostScript file,
which crashes PS interpretter with error message: 
Error: /undefined in fg
To reproduce:
#----- Start R code
postscript("test.ps")
split.screen(c(2,2))
screen(1)
plot(c(1,2,3,4))
dev.off()
#----- End R code
Workaround:
Inserting the line with definition of  fg, taken from the correct PS file,
solved my problem.
The line is: 
/fg {0.0000 0.0000 0.0000} def fg rgb
It was inserted after:
%%EndProlog2


==> 378.audit <==
Wed Jan 26 19:28:19 2000	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 384 *
Subject: tck crash
From: Patrick Lindsey <plindsey@alpha.luc.ac.be>
Date: Wed, 22 Dec 1999 10:05:48 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 384 <==
From plindsey@alpha.luc.ac.be  Wed Dec 22 10:05:43 1999
Received: from alpha.luc.ac.be (alpha.luc.ac.be [193.190.2.30])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA05862
	for <R-bugs@biostat.ku.dk>; Wed, 22 Dec 1999 10:05:42 +0100 (MET)
Received: (from plindsey@localhost)
	by alpha.luc.ac.be (8.9.3/8.9.3) id KAA17737
	for R-bugs@biostat.ku.dk; Wed, 22 Dec 1999 10:05:49 +0100 (MET)
From: Patrick Lindsey <plindsey@alpha.luc.ac.be>
Message-Id: <199912220905.KAA17737@alpha.luc.ac.be>
Subject: tck crash
To: R-bugs@biostat.ku.dk (R bugs)
Date: Wed, 22 Dec 1999 10:05:48 +0100 (MET)
X-Mailer: ELM [version 2.5 PL1]
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

The following crashes R0.90.1 on Intel Linux.

This is what some of my students did:
plot.new()
plot.window(0:1,0:1)
axis(1,tck=0:1)

Patrick.


==> 384.reply.1 <==
From maechler@stat.math.ethz.ch  Wed Dec 22 10:51:09 1999
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA06436
	for <R-bugs@biostat.ku.dk>; Wed, 22 Dec 1999 10:51:08 +0100 (MET)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id KAA16019;
	Wed, 22 Dec 1999 10:51:12 +0100 (MET)
Received: from lynne(129.132.58.30), claiming to be "lynne.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa003uH; Wed Dec 22 10:51:04 1999
Received: (maechler@localhost) by lynne.ethz.ch (8.9.3/D-MATH-client) id KAA32736; Wed, 22 Dec 1999 10:51:03 +0100
X-Authentication-Warning: lynne.ethz.ch: maechler set sender to maechler@lynne using -f
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <14432.40710.712824.237174@gargle.gargle.HOWL>
Date: Wed, 22 Dec 1999 10:51:02 +0100 (MET)
To: plindsey@alpha.luc.ac.be
Cc: R-bugs@biostat.ku.dk
Subject: Re: tck crash (PR#384)
In-Reply-To: <199912220905.KAA05874@pubhealth.ku.dk>
References: <199912220905.KAA05874@pubhealth.ku.dk>
X-Mailer: VM 6.75 under Emacs 20.5.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>

>>>>> On Wed, 22 Dec 1999 10:05:44 +0100 (MET), plindsey@alpha.luc.ac.be said:

    plindsey> The following crashes R0.90.1 on Intel Linux.
    plindsey> This is what some of my students did:

    plindsey> plot.new()
    plindsey> plot.window(0:1,0:1)
    plindsey> axis(1,tck=0:1)

Thank you for the bug report!

It also crashes on our Solaris platform, and with the newest "developers"
version.  
However, *only* when no device has been created previously in the current R
session, i.e., PREpending 

	par("usr") ; dev.off()

to your three commands gives the correct error message
  >>> Error in par(args) : parameter "tck" has the wrong length

--

Remark / Question :

 I think I would rather not have my students use low-level functions such
 as   plot.new()  and  plot.window()...

 Is there a reason they need these instead of  plot()/lines()/.... etc ?

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

==> 384.audit <==
Wed Jan 26 19:31:43 2000	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 389 *
Subject: coredump with plot(x,y,pch="+",cex=2.2)
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 26 Dec 1999 18:14:10 -0500 (EST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 389 <==
From rnassar@duke.edu  Mon Dec 27 00:16:37 1999
Received: from pohl.acpub.duke.edu (pohl.acpub.duke.edu [152.3.233.64])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id AAA28153
	for <r-bugs@biostat.ku.dk>; Mon, 27 Dec 1999 00:16:36 +0100 (MET)
Received: from bio3.acpub.duke.edu (rnassar@bio3.acpub.duke.edu [152.3.233.103]) 
	by pohl.acpub.duke.edu (8.8.5/Duke-4.7.0) with ESMTP id SAA01253;
	Sun, 26 Dec 1999 18:14:11 -0500 (EST)
Received: (from rnassar@localhost) 
	by bio3.acpub.duke.edu (8.8.5/Duke-4.7.1) id SAA19084;
	Sun, 26 Dec 1999 18:14:10 -0500 (EST)
Date: Sun, 26 Dec 1999 18:14:10 -0500 (EST)
From: Rashid Nassar <rnassar@duke.edu>
X-Sender: rnassar@bio3.acpub.duke.edu
To: r-bugs <r-bugs@biostat.ku.dk>
Subject: coredump with plot(x,y,pch="+",cex=2.2)
Message-ID: <Pine.SOL.3.91.991226181116.19079A-100000@bio3.acpub.duke.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

Core dumped when plot() is used with pch="c" & cex > 2, e.g.,

plot(1,1, pch="+", cex=2.2)

Thank you and best wishes for 2000!

Rashid Nassar

--please do not edit the information below--

Version:
 platform = i586-unknown-linux
 arch = i586
 os = linux
 system = i586, linux
 status = 
 major = 0
 minor = 90.1
 year = 1999
 month = December
 day = 15
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

==> 389.reply.1 <==
From pd@biostat.ku.dk  Mon Dec 27 01:02:40 1999
Received: from biostat.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id BAA28417;
	Mon, 27 Dec 1999 01:02:39 +0100 (MET)
Received: (from pd@localhost)
	by biostat.ku.dk (8.9.3/8.9.3) id BAA12095;
	Mon, 27 Dec 1999 01:08:25 +0100
Sender: pd@blueberry.kubism.ku.dk
To: rnassar@duke.edu
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: coredump with plot(x,y,pch="+",cex=2.2) (PR#389)
References: <199912262316.AAA28163@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 27 Dec 1999 01:08:24 +0100
In-Reply-To: rnassar@duke.edu's message of "Mon, 27 Dec 1999 00:16:38 +0100 (MET)"
Message-ID: <x21z89p7nr.fsf@blueberry.kubism.ku.dk>
Lines: 44
X-Mailer: Gnus v5.7/Emacs 20.4
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

rnassar@duke.edu writes:

> Core dumped when plot() is used with pch="c" & cex > 2, e.g.,
> 
> plot(1,1, pch="+", cex=2.2)
> 
> Thank you and best wishes for 2000!

Works fine here... 

Which flavour of linux is doing that to you? Did you install from
prepackaged binaries or compile R yourself? (I've had one report
saying that demo(graphics) crashed in RH6.0 when installing from .rpm)

Could you please try debugging a little further?

Try /path/to/R -d gdb, run, recreate the crash, and tell us what gdb
says at that that point and the first couple of line of "bt" output
might also be useful.

> --please do not edit the information below--
> 
> Version:
>  platform = i586-unknown-linux
>  arch = i586
>  os = linux
>  system = i586, linux
>  status = 
>  major = 0
>  minor = 90.1
>  year = 1999
>  month = December
>  day = 15
>  language = R
> 
> Search Path:
>  .GlobalEnv, Autoloads, package:base


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 389.reply.2 <==
From pd@biostat.ku.dk  Mon Dec 27 14:52:02 1999
Received: from biostat.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA02510;
	Mon, 27 Dec 1999 14:52:01 +0100 (MET)
Received: (from pd@localhost)
	by biostat.ku.dk (8.9.3/8.9.3) id OAA12903;
	Mon, 27 Dec 1999 14:57:52 +0100
Sender: pd@blueberry.kubism.ku.dk
To: Rashid Nassar <rnassar@duke.edu>
Cc: r-bugs@biostat.ku.dk
Subject: Re: coredump with plot(x,y,pch="+",cex=2.2) (PR#389)
References: <Pine.SOL.3.91.991226200231.19262A-100000@bio3.acpub.duke.edu>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 27 Dec 1999 14:57:51 +0100
In-Reply-To: Rashid Nassar's message of "Sun, 26 Dec 1999 20:41:52 -0500 (EST)"
Message-ID: <x2vh5kfpuo.fsf@blueberry.kubism.ku.dk>
Lines: 160
X-Mailer: Gnus v5.7/Emacs 20.4
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit


[please CC: r-bugs on this kind of reply, so that it gets properly filed]

Rashid Nassar <rnassar@duke.edu> writes:

> ... it is 2 or 3 am your end-- I guess I shouldn't report such things 
> without thinking about what time it is over in Denmark.

Well, my computer is not connected to my alarm clock (yet...). Bad
habit, but it's so nice and quiet at that time and I had some stuff I
wanted to get written down. (You stand a much worse chance of catching
me early in the morning.)

> To answer your questions:
> 
> 1.  I'm using Red Hat 6.0.  
> 2.  I compiled R on my machine
> 
> > Try /path/to/R -d gdb, run, recreate the crash, and tell us what gdb
> > says at that that point and the first couple of line of "bt" output
> > might also be useful.
> 
> 3.  I've tried demo(graphics) (which also crashed R) and plot() with
> pch="c" & cex=2.2 with gdb running as per your instructions (I hope!) and
> I include the output below: I apologize for my ignorance, but I don't know
> what "bt" output is or how I can get it (I need to ask my son for
> assistance with that, if the following does not suffice-- please let me
> know and I'd be glad to try anything that I know how to do.  I included the
> whole thing so I won't remove relevant details.

"bt" (backtrace) is just a gdb command which you type at the (gdb)
prompt, but never mind. The output below suffices in this case (but if
it were inside a utility routine called from multiple places, I would
have wanted to know where it was called from).

Obviously, this shouldn't crash R, but the only reason I can see that
it might happen is if the scalable fonts are absent *and* the Adobe
fonts are not present in both 75dpi and 100dpi versions. I seem to
recall that RH6.0 had a bug in the font server setup somewhat to that
effect (causing Netscape to crash all over the place). So what is in
your /etc/X11/fs/config ? Mine (RH6.1+modif.) has:

catalogue = /usr/X11R6/lib/X11/fonts/misc:unscaled,
        /usr/X11R6/lib/X11/fonts/100dpi:unscaled,
        /usr/X11R6/lib/X11/fonts/75dpi:unscaled,
        /usr/X11R6/lib/X11/fonts/misc,
        /usr/X11R6/lib/X11/fonts/Type1,
        /usr/X11R6/lib/X11/fonts/Speedo,
        /usr/share/fonts/default/Type1,
        /usr/X11R6/lib/X11/fonts/100dpi,
        /usr/X11R6/lib/X11/fonts/cyrillic,
        /usr/X11R6/lib/X11/fonts/75dpi


> Best regards,  -Rashid
> 
> =========================
> [rnassar@rnassar sgu]$ /usr/local/bin/R -d gdb
> GNU gdb 4.17.0.11 with Linux support
> Copyright 1998 Free Software Foundation, Inc.
> GDB is free software, covered by the GNU General Public License, and you are
> welcome to change it and/or distribute copies of it under certain conditions.
> Type "show copying" to see the conditions.
> There is absolutely no warranty for GDB.  Type "show warranty" for details.
> This GDB was configured as "i386-redhat-linux"...
> (gdb) R
> Starting program: /usr/local/lib/R/bin/R.X11 
> 
> R : Copyright 1999, The R Development Core Team
> Version 0.90.1  (December 15, 1999)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type    "?license" or "?licence" for distribution details.
> 
> R is a collaborative project with many contributors.
> Type    "?contributors" for a list.
> 
> Type    "demo()" for some demos, "help()" for on-line help, or
>         "help.start()" for a HTML browser interface to help.
> Type    "q()" to quit R.
> 
> [Previously saved workspace restored]
> 
> > > demo(graphics)
> 
> 
>         demo(graphics)
>         ---- ~~~~~~~~
> 
> Type  <Return>   to start : 
> 
> > opar <- par(ask = interactive() && (.Device == "X11" || 
>     .Device == "windows"))
> 
> > x <- rnorm(50)
> 
> > opar <- c(opar, par(bg = "white"))
> 
> > plot(x, ann = FALSE, type = "n")
> Hit <Return> to see next plot: 
> 
> > abline(h = 0, col = gray(0.9))
> 
> > lines(x, col = "green4", lty = "dotted")
> 
> > points(x, bg = "limegreen", pch = 21)
> 
> > title(main = "Simple Use of Color In a Plot", xlab = "Just a Whisper of a Label", 
>     col.main = "blue", col.lab = gray(0.8), cex.main = 1.2, cex.lab = 1, 
>     font.main = 4, font.lab = 3)
> 
> > par(bg = "gray")
> 
> > piechart(rep(1, 24), col = rainbow(24), radius = 0.9)
> Hit <Return> to see next plot: 
> 
> > title(main = "A Sample Color Wheel", cex.main = 1.4, 
>     font.main = 3)
> 
> Program received signal SIGSEGV, Segmentation fault.
> SetFont (face=3, size=17, dd=0x8171050) at devX11.c:920
> 920             XSetFont(display, xd->wgc, xd->font->fid);
> (gdb) 
> (gdb) R
> The program being debugged has been started already.
> Start it from the beginning? (y or n) y
> Starting program: /usr/local/lib/R/bin/R.X11 
> 
> R : Copyright 1999, The R Development Core Team
> Version 0.90.1  (December 15, 1999)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type    "?license" or "?licence" for distribution details.
> 
> R is a collaborative project with many contributors.
> Type    "?contributors" for a list.
> 
> Type    "demo()" for some demos, "help()" for on-line help, or
>         "help.start()" for a HTML browser interface to help.
> Type    "q()" to quit R.
> 
> [Previously saved workspace restored]
> 
> > plot(1,1,pch=4,cex=2.2)
> > plot(1,1,pch="+",cex=2.2)
> 
> Program received signal SIGSEGV, Segmentation fault.
> SetFont (face=1, size=26, dd=0x8173058) at devX11.c:920
> 920             XSetFont(display, xd->wgc, xd->font->fid);
> (gdb) q
> The program is running.  Exit anyway? (y or n) y
> [rnassar@rnassar sgu]$ 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 389.followup.1 <==
From rnassar@duke.edu  Tue Dec 28 10:26:23 1999
Received: from compton.acpub.duke.edu (compton.acpub.duke.edu [152.3.233.74])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id BAA04233;
	Tue, 28 Dec 1999 01:46:30 +0100 (MET)
Received: from bio3.acpub.duke.edu (rnassar@bio3.acpub.duke.edu [152.3.233.103]) 
        by compton.acpub.duke.edu (8.9.3/8.9.3/Duke-5.0.0) with ESMTP id TAA21958;
        Mon, 27 Dec 1999 19:42:08 -0500 (EST)
Received: (from rnassar@localhost) 
	by bio3.acpub.duke.edu (8.8.5/Duke-4.7.1) id TAA21379;
	Mon, 27 Dec 1999 19:42:06 -0500 (EST)
Date: Mon, 27 Dec 1999 19:42:06 -0500 (EST)
From: Rashid Nassar <rnassar@duke.edu>
X-Sender: rnassar@bio3.acpub.duke.edu
To: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
cc: r-bugs@biostat.ku.dk
Subject: Re: coredump with plot(x,y,pch="+",cex=2.2) (PR#389)
In-Reply-To: <x2vh5kfpuo.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.SOL.3.91.991227191601.21272B-100000@bio3.acpub.duke.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Content-Length: 1776


On 27 Dec 1999, Peter Dalgaard BSA wrote:
> 
> Obviously, this shouldn't crash R, but the only reason I can see that
> it might happen is if the scalable fonts are absent *and* the Adobe
> fonts are not present in both 75dpi and 100dpi versions. I seem to
> recall that RH6.0 had a bug in the font server setup somewhat to that
> effect (causing Netscape to crash all over the place). So what is in
> your /etc/X11/fs/config ? Mine (RH6.1+modif.) has:
> 
> catalogue = /usr/X11R6/lib/X11/fonts/misc:unscaled,
>         /usr/X11R6/lib/X11/fonts/100dpi:unscaled,
>         /usr/X11R6/lib/X11/fonts/75dpi:unscaled,
>         /usr/X11R6/lib/X11/fonts/misc,
>         /usr/X11R6/lib/X11/fonts/Type1,
>         /usr/X11R6/lib/X11/fonts/Speedo,
>         /usr/share/fonts/default/Type1,
>         /usr/X11R6/lib/X11/fonts/100dpi,
>         /usr/X11R6/lib/X11/fonts/cyrillic,
>         /usr/X11R6/lib/X11/fonts/75dpi


You are absolutely right.  Here is what is (was) in my  /etc/X11/fs/config:

#=====================================================
catalogue = /usr/X11R6/lib/X11/fonts/misc:unscaled,
	/usr/X11R6/lib/X11/fonts/75dpi:unscaled,
	/usr/X11R6/lib/X11/fonts/100dpi:unscaled,
	/usr/X11R6/lib/X11/fonts/misc,
	/usr/X11R6/lib/X11/fonts/Type1,
	/usr/X11R6/lib/X11/fonts/Speedo

# in 12 points, decipoints
default-point-size = 120

# 100 x 100 and 75 x 75
default-resolutions = 75,75,100,100
#==================================================

I confirmed the crash, then I added the following four lines (from your 
/etc/X11/fs/config  file:

         /usr/share/fonts/default/Type1,
         /usr/X11R6/lib/X11/fonts/100dpi,
         /usr/X11R6/lib/X11/fonts/cyrillic,
         /usr/X11R6/lib/X11/fonts/75dpi

and now it works perfectly. Thank you!

Best regards,

Rashid

==> 389.reply.3 <==
From pd@biostat.ku.dk  Tue Dec 28 17:15:01 1999
Received: from biostat.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.8.8+Sun/8.8.8) with ESMTP id RAA09258;
	Tue, 28 Dec 1999 17:14:59 +0100 (MET)
Received: (from pd@localhost)
	by biostat.ku.dk (8.9.3/8.9.3) id RAA23836;
	Tue, 28 Dec 1999 17:20:59 +0100
Sender: pd@blueberry.kubism.ku.dk
To: Rashid Nassar <rnassar@duke.edu>
Cc: r-bugs@biostat.ku.dk
Subject: Re: coredump with plot(x,y,pch="+",cex=2.2) (PR#389)
References: <Pine.SOL.3.91.991227191601.21272B-100000@bio3.acpub.duke.edu>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 28 Dec 1999 17:20:58 +0100
In-Reply-To: Rashid Nassar's message of "Mon, 27 Dec 1999 19:42:06 -0500 (EST)"
Message-ID: <x2hfh3rq8l.fsf@blueberry.kubism.ku.dk>
Lines: 32
X-Mailer: Gnus v5.7/Emacs 20.4
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Length: 1370

Rashid Nassar <rnassar@duke.edu> writes:

> On 27 Dec 1999, Peter Dalgaard BSA wrote:
> > 
> > Obviously, this shouldn't crash R, but the only reason I can see that
> > it might happen is if the scalable fonts are absent *and* the Adobe
> > fonts are not present in both 75dpi and 100dpi versions. I seem to
> > recall that RH6.0 had a bug in the font server setup somewhat to that
> > effect (causing Netscape to crash all over the place). So what is in
> > your /etc/X11/fs/config ? Mine (RH6.1+modif.) has:
....
> You are absolutely right.  Here is what is (was) in my  /etc/X11/fs/config:
> 
> #=====================================================
> catalogue = /usr/X11R6/lib/X11/fonts/misc:unscaled,
> 	/usr/X11R6/lib/X11/fonts/75dpi:unscaled,
> 	/usr/X11R6/lib/X11/fonts/100dpi:unscaled,
> 	/usr/X11R6/lib/X11/fonts/misc,
> 	/usr/X11R6/lib/X11/fonts/Type1,
> 	/usr/X11R6/lib/X11/fonts/Speedo

Nice to know that you got it working, but it still puzzles me that it
broke. Unless, perhaps, you happen not to have the 100dpi fonts
installed...

(BTW: Things look much nicer with the urw fonts in RH6.1...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 389.audit <==
Wed Jan 26 19:28:19 2000	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 390 *
Subject: axis for small ranges
From: Andreas Weingessel <Andreas.Weingessel@ci.tuwien.ac.at>
Date: Tue, 28 Dec 1999 13:28:01 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 390 <==
From weingessel@ci.tuwien.ac.at  Tue Dec 28 14:46:26 1999
Received: from fangorn.ci.tuwien.ac.at (fangorn.ci.tuwien.ac.at [128.131.51.24])
	by pubhealth.ku.dk (8.8.8+Sun/8.8.8) with ESMTP id OAA08225
	for <r-bugs@biostat.ku.dk>; Tue, 28 Dec 1999 14:43:27 +0100 (MET)
Received: from elendil.ci.tuwien.ac.at (elendil.ci.tuwien.ac.at [128.131.51.38])
	by fangorn.ci.tuwien.ac.at (8.9.3/8.9.3/Debian/GNU) with ESMTP id NAA01762
	for <r-bugs@biostat.ku.dk>; Tue, 28 Dec 1999 13:27:16 +0100
Received: (from weingessel@localhost)
	by elendil.ci.tuwien.ac.at (8.9.3/8.8.5) id NAA20101;
	Tue, 28 Dec 1999 13:28:01 +0100
Date: Tue, 28 Dec 1999 13:28:01 +0100
Message-Id: <199912281228.NAA20101@elendil.ci.tuwien.ac.at>
From: Andreas Weingessel <Andreas.Weingessel@ci.tuwien.ac.at>
To: r-bugs@biostat.ku.dk
Subject: axis for small ranges
Reply-to: Andreas.Weingessel@ci.tuwien.ac.at
Content-Length: 742


If you plot a vector of numbers which are all very similar
(i.e. within the range of some eps), the y-axis is not drawn
correctly. Either it is completely missing and there is an additional
horizontal line (1st example below) or it is longer than the plotting
region (2nd example).


x <- c(0.12345678912345678,0.12345678912345679,0.12345678912345676)
plot(x)

y <- c(0.9999563255363383973418, 0.9999563255363389524533, 0.9999563255363382863194)
plot(y)

-aw

--please do not edit the information below--

Version:
 platform = i686-unknown-linux
 arch = i686
 os = linux
 system = i686, linux
 status = Patched
 major = 0
 minor = 90.0
 year = 1999
 month = December
 day = 9
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

==> 390.reply.1 <==
From thomas@abigail.columbia.edu  Tue Dec 28 17:24:46 1999
Received: from gimel.biostat.washington.edu (gimel.biostat.washington.edu [128.95.21.81])
	by pubhealth.ku.dk (8.8.8+Sun/8.8.8) with ESMTP id RAA09299
	for <R-bugs@biostat.ku.dk>; Tue, 28 Dec 1999 17:24:45 +0100 (MET)
Received: from thomas by gimel.biostat.washington.edu with local-esmtp (Exim 3.03 #1 (Debian))
	id 122zPz-0001yO-00; Tue, 28 Dec 1999 08:24:15 -0800
Date: Tue, 28 Dec 1999 16:24:15 +0000 (GMT)
From: Thomas Lumley <thomas@biostat.washington.edu>
To: Andreas.Weingessel@ci.tuwien.ac.at
cc: R-bugs@biostat.ku.dk
Subject: Re: axis for small ranges (PR#390)
In-Reply-To: <199912281346.OAA08271@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.10.9912281617490.7560-100000@gimel.biostat.washington.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Sender: Thomas Lumley <thomas@abigail.columbia.edu>
Content-Length: 1775

On Tue, 28 Dec 1999 Andreas.Weingessel@ci.tuwien.ac.at wrote:

> 
> If you plot a vector of numbers which are all very similar
> (i.e. within the range of some eps), the y-axis is not drawn
> correctly. Either it is completely missing and there is an additional
> horizontal line (1st example below) or it is longer than the plotting
> region (2nd example).
> 
> 
> x <- c(0.12345678912345678,0.12345678912345679,0.12345678912345676)
> plot(x)

This one works for me on Solaris and Linux (though with Linux the label
isn't centered)

> y <- c(0.9999563255363383973418, 0.9999563255363389524533, 0.9999563255363382863194)
> plot(y)

On Solaris (with a somewhat old version of R) this causes an infinite loop
(interruptable by C-c) in pretty0

	-thomas

> 
> -aw
> 
> --please do not edit the information below--
> 
> Version:
>  platform = i686-unknown-linux
>  arch = i686
>  os = linux
>  system = i686, linux
>  status = Patched
>  major = 0
>  minor = 90.0
>  year = 1999
>  month = December
>  day = 9
>  language = R
> 
> Search Path:
>  .GlobalEnv, Autoloads, package:base
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Thomas Lumley
------------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------




==> 390.audit <==
Wed Jan 26 19:28:20 2000	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 400 *
Subject: X11 troubles
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 13 Jan 2000 14:31:42 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 400 <==
From pd@biostat.ku.dk  Thu Jan 13 14:29:00 2000
Received: from biostat.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id OAA01544
	for <r-bugs@mail.kubism.ku.dk>; Thu, 13 Jan 2000 14:29:00 +0100 (MET)
Received: (from pd@localhost)
	by biostat.ku.dk (8.9.3/8.9.3) id OAA15286;
	Thu, 13 Jan 2000 14:31:43 +0100
Sender: pd@blueberry.kubism.ku.dk
To: r-bugs@biostat.ku.dk
Subject: X11 troubles
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 13 Jan 2000 14:31:42 +0100
Message-ID: <x23ds2nlmp.fsf@blueberry.kubism.ku.dk>
Lines: 24
X-Mailer: Gnus v5.7/Emacs 20.4
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

Just to get these issues recorded in the bug repository:

a) We don't handle multiple window closes well

My "favourite" version of this is when I ^Z out of an R session with
an open graphics window to do something on the command line, then kill
the graphics window (which does nothing), kill it again, realise that
it's because the R session was stopped, and:

[pd@blueberry BUILD]$ %
bin/R
Segmentation fault (core dumped)

b) X11 errors should be caught by an error handler, not kill R.

This is mainly seen when there's an error somewhere else, such as
trouble with the font setup. But in principle, we should at worst shut
down the graphics window, not R itself.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 400.audit <==
Wed Jan 26 19:28:37 2000	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 414 *
Subject:  graphics bugs: steep slopes and large values beyond ylim 
From: Ben Bolker <bolker@zoo.ufl.edu>
Date: Mon, 7 Feb 2000 18:28:04 -0500
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 414 <==
From ben@bolker-nt.zoo.ufl.edu  Tue Feb  8 00:32:03 2000
Received: from triarch.zoo.ufl.edu (triarch.zoo.ufl.edu [128.227.60.248])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id AAA13274
	for <r-bugs@biostat.ku.dk>; Tue, 8 Feb 2000 00:32:02 +0100 (MET)
Received: from bolker-nt.zoo.ufl.edu ([128.227.60.126])
          by triarch.zoo.ufl.edu (Netscape Messaging Server 3.5)
           with ESMTP id 494; Mon, 7 Feb 2000 18:32:02 -0500
Received: (from ben@localhost)
	by bolker-nt.zoo.ufl.edu (8.9.3/8.9.3) id SAA22301;
	Mon, 7 Feb 2000 18:28:04 -0500
Date: Mon, 7 Feb 2000 18:28:04 -0500
From: Ben Bolker <bolker@zoo.ufl.edu>
Message-Id: <200002072328.SAA22301@bolker-nt.zoo.ufl.edu>
To: r-bugs@biostat.ku.dk
Subject:  graphics bugs: steep slopes and large values beyond ylim 
Cc: ben@bolker-nt.zoo.ufl.edu


  Some of my students have uncovered some apparent graphics bugs in 
R.  I think they may manifest slightly different on different platforms/
with different display devices (they sometimes report a Windows graph
that looks OK but odd results on printing).
  I'm able to replicate similar problems on my Linux (RH 6.0) system.


1. abline() plots nothing, or a wrong line, when the slope is too steep.

plot(0:10,0:10)
abline(a=0,b=100)
abline(a=0,b=200)
abline(a=0,b=300)
abline(a=0,b=80)

2. when plotting with type "l" and with values far beyond the limits of
the plot, semi-random lines appear on the plot.

plot(exp(1:100),ylim=c(0,10),type="l")

Any thoughts?  I poked a little bit at this myself: abline calls GLine, neither of them
seems to do much checking whether the endpoints of the line to be drawn are way outside of the
window (I guess that XDrawLine, which gets called by GLine, can't handle this).
I guess this should probably be fixed at the the level of GLine (it might fix both of
the above problems, but I'm a little bit afraid digging this deeply into the graphics drivers.
  Maybe it will be obvious to someone closer to the code?

--please do not edit the information below--

Version:
 platform = i686-unknown-linux
 arch = i686
 os = linux
 system = i686, linux
 status = 
 major = 0
 minor = 99.0
 year = 2000
 month = February
 day = 7
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

==> 414.audit <==
Wed Feb 16 19:26:57 2000	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 442 *
Subject:  rug() extends axes instead of clipping 
From: Berwin Turlach <berwin@maths.uwa.edu.au>
Date: Wed, 16 Feb 2000 17:37:52 +0800
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 442 <==
From berwin@bossiaea.maths.uwa.edu.au  Wed Feb 16 10:37:55 2000
Received: from bossiaea.maths.uwa.edu.au (IDENT:root@bossiaea.maths.uwa.edu.au [130.95.16.247])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id KAA16776
	for <r-bugs@biostat.ku.dk>; Wed, 16 Feb 2000 10:37:52 +0100 (MET)
Received: (from berwin@localhost)
	by bossiaea.maths.uwa.edu.au (8.9.3/8.9.3) id RAA04563;
	Wed, 16 Feb 2000 17:37:52 +0800
Date: Wed, 16 Feb 2000 17:37:52 +0800
From: Berwin Turlach <berwin@maths.uwa.edu.au>
Message-Id: <200002160937.RAA04563@bossiaea.maths.uwa.edu.au>
To: r-bugs@biostat.ku.dk
Subject:  rug() extends axes instead of clipping 
Cc: berwin@bossiaea.maths.uwa.edu.au

Dear R developers,

I noticed that rug() may extend the line of the horizontal axis beyond
the left and right vertical axes.  The following snippet illustrates
the problem:

set.seed(2241)
dat <- rnorm(10) 
plot(c(-2,2),c(0,0.5),type="n", xlab="", ylab="")
rug(dat)

The problem seems to be that:
> range(dat)
[1] -2.739635  1.037512

Cheers,

        Berwin

--please do not edit the information below--

Version:
 platform = i686-unknown-linux
 arch = i686
 os = linux
 system = i686, linux
 status = Patched
 major = 0
 minor = 99.0
 year = 2000
 month = February
 day = 9
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

==> 442.audit <==
Wed Feb 16 19:26:07 2000	ripley	moved from incoming to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 446 *
Subject: Axis mishandling missing values
From: murdoch@stats.uwo.ca
Date: Wed, 16 Feb 2000 22:35:05 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 446 <==
From murdoch@stats.uwo.ca  Wed Feb 16 22:35:06 2000
Received: from localhost (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id WAA24150
	for <R-bugs@biostat.ku.dk>; Wed, 16 Feb 2000 22:35:05 +0100 (MET)
Date: Wed, 16 Feb 2000 22:35:05 +0100 (MET)
From: murdoch@stats.uwo.ca
Message-Id: <200002162135.WAA24150@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: Axis mishandling missing values

Full_Name: Duncan Murdoch
Version: 0.99.0
OS: Windows
Submission from: (NULL) (129.100.45.113)


Graphics/442 talks about rug() extending the axis when the range of new values
is bigger than the plot.  This also happens if there are NAs in the data:

x <- c(rnorm(10),NA)
hist(x)
rug(x)

will make the x axis extending off the page to the left.  This seems to be a bug
in axis(at=x), which should either ignore missing values or abort.

==> 446.audit <==
Fri Feb 18 15:28:13 2000	pd	moved from incoming to Low-level
Fri Feb 18 22:48:11 2000	ripley	moved from Low-level to Graphics
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  In-Out

* PR# 129 *
Subject: Formatting in formatC and format
From: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
Date: Sun, 28 Feb 1999 08:53:34 +0000 (GMT)
--Documentation and ``merge'' of format() and formatC() would be desired - MM
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 129 <==
From ripley@stats.ox.ac.uk  Sun Feb 28 09:51:39 1999
Received: from toucan.stats.ox.ac.uk (toucan.stats.ox.ac.uk [163.1.20.20])
	by pubhealth.ku.dk (8.9.1/8.9.1) with ESMTP id JAA07277
	for <r-bugs@biostat.ku.dk>; Sun, 28 Feb 1999 09:51:34 +0100 (MET)
Received: from max144.public.ox.ac.uk (max144.public.ox.ac.uk [192.76.27.144])
	by toucan.stats.ox.ac.uk (8.9.0/8.9.0) with ESMTP id IAA22690
	for <r-bugs@biostat.ku.dk>; Sun, 28 Feb 1999 08:53:17 GMT
Date: Sun, 28 Feb 1999 08:53:34 +0000 (GMT)
From: Prof Brian D Ripley <ripley@stats.ox.ac.uk>
Sender: ripley@auk.stats
To: r-bugs@biostat.ku.dk
Subject: Formatting in formatC and format
Message-ID: <Pine.GSO.4.05.9902280852300.286-100000@auk.stats>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

[This turned into a bug report which will go to r-devel, so I have taken it
off r-help.]

Bugs reported here:

(1) formatC's help page need some clarification.

(2) formatC needs to treat modes "double" and "real" as equivalent.

(3) format's help page or (preferably) format needs correction re the
meaning of `digits'


On Sun, 28 Feb 1999, Martin Maechler wrote:

> >>>>> "BDR" == Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

`should not 5.96 print as 6.0 with 2 dignificant digits?'

>     BDR> S-PLUS has an option nsmall to format to do precisely this, and
>     BDR> there was a question asking how to do it on s-news today.  I have
>     BDR> thought for a while that we need to implement something like this
>     BDR> in R: maybe I had better do it....
> 
> Is it necessary?

Yes, as I want to do things that C's printf does not do, AFAIK.

> In R, we've always been having   formatC(.) as an alternative to format(.)
> allowing more precise formatting specifications.
> However, maybe I didn't understand what yuo were alluding to..

I find formatC useful (if hard to understand) but it does not in my hands
do what I want. I don't think formatC's help page defines precisely what it
does. In particular, it does not say what format=NULL, the default, does.  
So if I try

formatC(6.0, digits=1)
[1] " 6"

I do not get what I expected. It looks as if I need

formatC(6.0, digits=1, format="f")
[1] "6.0"

My guess is that the default is "g" for doubles. (I also find that what 
happens when I give format="g" for an integer and or give the `wrong' mode
is not defined or even inconsistent:

> formatC(as.integer(12345678), mode="real")
Error: `type' must be "real" for this format
> formatC(as.integer(12345678), mode="double")
[1] "1.235e+07"
> formatC(as.integer(12345678), mode="double", format="d")
[1] "12345678"

What are the rules here?)

The help page for formatC references the pre-ANSI C 2nd edition of
Kernighan & Ritchie, but I think the ANSI standard is that same. There is a
reference to leading zeroes, none to trailing zeroes. I believe printf can
be system-dependent (and some of it certainly is: win32 libraries use
n.ddde+nnn and Solaris ones use n.ddde+nn not n.dddenn as your help page
says).  I think, pessimistically, that it is not safe to rely on how the C
runtime library does this.


BTW, there is a trick here:

format(c(5.9, 6.0), digits=2)[-1]
[1] "6.0"

does what Dr Carsten wanted (but see later for the meaning of digits=2).


In any case, 

formatC(6.01, digits=1, format="f")
[1] "6.0"

is not what I am looking for, but (from S-PLUS)

> format(6.0, nsmall=1)
[1] "6.0"
> format(6.01, nsmall=1)
[1] "6.01"


Here is something else I find useful, and I think R is not as documented:
In S-PLUS I get (by default) alignment on the (implied) decimal point:

> format(c(6.11, 13.1), digits=2)
[1] " 6.1" "13  "

whereas in R

> format(c(6.11, 13.1), digits=2)
[1] " 6.1" "13.1"

Now R says (?format)

  digits: how many significant digits are to be used for `numeric x'.

but that is not what happens.  And I can't see how to do this in formatC:

> formatC(c(6.11, 13.1), digits=2, format="fg")
[1] "6.1" " 13"

as the alignment is wrong.  I think in print/format, digits=2 means that
data are rounded so that the smallest (in magnitude) number has two
significant digits, and then the result is converted dropping trailing
zeroes, as in

> format(c(6.0, 13.1), digits=2)
[1] " 6" "13"

(That is what S-PLUS gives too, aargh.)


Another, minor, point: format is generic and can be applied to lists,
for example, whereas formatC cannot.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


==> 129.audit <==
Thu Apr 01 10:22:15 1999	maechler	changed notes
Thu Apr 01 10:22:15 1999	maechler	moved from incoming to In-Out
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Installation

none

Directory:  Language

* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 408 <==
From wsimpson@gcal.ac.uk  Fri Jan 28 11:17:36 2000
Received: from localhost (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA11325
	for <R-bugs@biostat.ku.dk>; Fri, 28 Jan 2000 11:17:36 +0100 (MET)
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
From: wsimpson@gcal.ac.uk
Message-Id: <200001281017.LAA11325@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: convolution bug

Full_Name: Bill Simpson
Version: 65.1 , 0.90.1
OS: Linux
Submission from: (NULL) (193.62.250.209)


I reported this on r-help, but here is official bug report.

The present convolve() does not do convolution by default. Its default behaviour
is
correlation. This is a bug.

The default argument conj should be set to FALSE.

The zero-padding should be on the right for linear convolution (don't ask me
why you call this type="open"; I suggest type="linear").

Here is what I expect linear convolution to do:
myconvolve<-function (x,h) 
{
    nx <- length(x)
    nh <- length(h)
    #zero pad
    if(nx>nh)
       {
       x <- c(x,rep(0, nh-1))
       h<-c(h,rep(0,nx-1))
       }
    else
       {
       h <- c(h,rep(0, nx-1))
       x<-c(x,rep(0,nh-1))
       }
    x <- fft(fft(x) * fft(h), inv = TRUE)
    Re(x)/length(x)
#I am not sure about this, the R IFFT is weird
}

What "circular" convolution should do is just
eliminate the zero-padding:

myconvolve2<-function (x,h)
{
#no padding, circular convolution
    nx <- length(x)
    nh <- length(h)
    x <- fft(fft(x) * fft(h), inv = TRUE)
    Re(x)/(nx)
}


I suggest that you create two functions, convolve() and correlate(), and get
rid
of the conj argument in convolve().

==> 408.audit <==
Wed Feb 16 19:28:42 2000	ripley	moved from incoming to Language
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 412 <==
From postmaster@franz.stat.wisc.edu  Sun Feb  6 01:16:33 2000
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id BAA26868
	for <R-bugs@biostat.ku.dk>; Sun, 6 Feb 2000 01:16:31 +0100 (MET)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id BAA18080
	for <r-bugs@hypatia.math.ethz.ch>; Sun, 6 Feb 2000 01:16:38 +0100 (MET)
Received: from franz.stat.wisc.edu(128.105.174.95)
 via SMTP by hypatia, id smtpdAAAa004QS; Sun Feb  6 01:16:33 2000
Received: from pubhealth.ku.dk (really [130.225.108.10]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m12HFNP-000ZSxC@franz.stat.wisc.edu> (Debian Smail3.2.0.102)
	for <r-bugs@r-project.org>; Sat, 5 Feb 2000 18:16:31 -0600 (CST) 
Received: from biostat.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id BAA26864
	for <r-bugs@r-project.org>; Sun, 6 Feb 2000 01:16:18 +0100 (MET)
Received: (from pd@localhost)
	by biostat.ku.dk (8.9.3/8.9.3) id BAA12311;
	Sun, 6 Feb 2000 01:18:51 +0100
Sender: pd@blueberry.kubism.ku.dk
To: r-bugs@r-project.org
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
Message-ID: <x2900zyyhh.fsf@blueberry.kubism.ku.dk>
Lines: 51
X-Mailer: Gnus v5.7/Emacs 20.4
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit


Call objects don't always behave as you'd expect. They're mostly
list-like, but with exceptions:

> f<-function(x,y,...)match.call(expand.dots=FALSE)
> xx <- f(y=1,2,z=3,4)
> dd <- xx$...
> xx$... <- NULL
> c(xx,dd)
[[1]]
f(x = 2, y = 1)

$z
[1] 3

[[3]]
[1] 4

> as.call(c(as.list(xx),dd))
f(x = 2, y = 1, z = 3, 4)

(Splus has this rather differently, since dd becomes a call to list()
rather than a list of promises:

S> c(xx,dd)
f(x = 2, y = 1, list, z = 3, 4)
S> as.call(c(as.list(xx),dd))
f(x = 2, y = 1, list, z = 3, 4)

...but at least gives the same in both cases)

Also, the names of arguments added with [[<- is getting dropped if a
new element is required:

> xx[["abc"]]<-123
> xx
f(x = 2, y = 1, 123)

S has what I'd expect there:

S> xx[["abc"]]<-123
S> xx
f(x = 2, y = 1, abc = 123)

[R-0.99.0 prerelease on RedHat6.1, but this is likely not a new thing.]

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 412.audit <==
Wed Feb 16 19:26:57 2000	ripley	moved from incoming to Language
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Low-level

* PR# 343 *
Subject: rbind invisible return value
From: Thomas Lumley <thomas@biostat.washington.edu>
Date: Wed, 24 Nov 1999 11:34:10 -0800 (PST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 343 <==
From thomas@biostat.washington.edu  Wed Nov 24 20:34:15 1999
Received: from mail.biostat.washington.edu (mail.biostat.washington.edu [128.95.113.21])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id UAA09276
	for <R-bugs@biostat.ku.dk>; Wed, 24 Nov 1999 20:34:14 +0100 (MET)
Received: from wompom.biostat.washington.edu (wompom.biostat.washington.edu [128.95.21.54])
	by mail.biostat.washington.edu (8.9.1b+Sun/8.9.1-fetrow-99-05-16b) with ESMTP id LAA01462
	for <R-bugs@biostat.ku.dk>; Wed, 24 Nov 1999 11:34:14 -0800 (PST)
Date: Wed, 24 Nov 1999 11:34:10 -0800 (PST)
From: Thomas Lumley <thomas@biostat.washington.edu>
To: R-bugs@biostat.ku.dk
Subject: rbind invisible return value
In-Reply-To: <199911241426.PAA07010@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.10.9911241131290.17266-100000@wompom.biostat.washington.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII


An assignment in an argument sometimes makes rbind return invisibly

> rbind(diag(3),a<-1:3)
> print(rbind(diag(3),a<-1:3))
     [,1] [,2] [,3]
[1,]    1    0    0
[2,]    0    1    0
[3,]    0    0    1
[4,]    1    2    3

> version
         _                           
platform sparc-sun-solaris2.7        
arch     sparc                       
os       solaris2.7                  
system   sparc, solaris2.7           
status   Under development (unstable)
major    0                           
minor    99.0                        
year     1999                        
month    November                    
day      23                          
language R 


==> 343.reply.1 <==
From pd@biostat.ku.dk  Thu Nov 25 11:58:27 1999
Received: from biostat.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id LAA15452;
	Thu, 25 Nov 1999 11:58:26 +0100 (MET)
Received: (from pd@localhost)
	by biostat.ku.dk (8.9.3/8.9.3) id LAA10595;
	Thu, 25 Nov 1999 11:59:28 +0100
Sender: pd@blueberry.kubism.ku.dk
To: thomas@biostat.washington.edu
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: rbind invisible return value (PR#343)
References: <199911241934.UAA09286@pubhealth.ku.dk>
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 25 Nov 1999 11:59:27 +0100
In-Reply-To: thomas@biostat.washington.edu's message of "Wed, 24 Nov 1999 20:34:16 +0100 (MET)"
Message-ID: <x27lj6rg4w.fsf@blueberry.kubism.ku.dk>
Lines: 19
X-Mailer: Gnus v5.7/Emacs 20.4
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

thomas@biostat.washington.edu writes:

> An assignment in an argument sometimes makes rbind return invisibly
> 
> > rbind(diag(3),a<-1:3)
> > print(rbind(diag(3),a<-1:3))
>      [,1] [,2] [,3]
> [1,]    1    0    0
> [2,]    0    1    0
> [3,]    0    0    1
> [4,]    1    2    3

Ditto with cbind(). Not new, 0.65.1 does likewise.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 343.audit <==
Wed Dec 08 16:53:21 1999	maechler	moved from incoming to Low-level
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 386 *
Subject: as.matrix.data.frame() modifies content of character columns
From: "=?iso-8859-1?Q?Jens_Oehlschl=E4gel-Akiyoshi?=" <jens.oehlschlaegel-akiyoshi@mdfactory.de>
Date: Wed, 22 Dec 1999 16:18:19 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 386 <==
From jens.oehlschlaegel-akiyoshi@mdfactory.de  Wed Dec 22 16:22:59 1999
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id QAA12770
	for <R-bugs@biostat.ku.dk>; Wed, 22 Dec 1999 16:22:59 +0100 (MET)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id QAA21417
	for <r-bugs@hypatia.math.ethz.ch>; Wed, 22 Dec 1999 16:23:02 +0100 (MET)
Received: from UNKNOWN(194.175.113.15), claiming to be "hermes.mdfactory.de"
 via SMTP by hypatia, id smtpdAAAa005ES; Wed Dec 22 16:22:56 1999
Received: from joelschlaegel ([172.26.2.169])
	by hermes.mdfactory.de (8.9.2/8.9.2) with SMTP id QAA14668
	for <r-bugs@lists.r-project.org>; Wed, 22 Dec 1999 16:21:52 +0100 (CET)
Reply-To: <jens.oehlschlaegel-akiyoshi@mdfactory.de>
From: "=?iso-8859-1?Q?Jens_Oehlschl=E4gel-Akiyoshi?=" <jens.oehlschlaegel-akiyoshi@mdfactory.de>
To: <r-bugs@stat.math.ethz.ch>
Subject: as.matrix.data.frame() modifies content of character columns
Date: Wed, 22 Dec 1999 16:18:19 +0100
Message-ID: <000701bf4c8f$c7e940d0$a9021aac@joelschlaegel>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2173.0
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Importance: Normal
X-MIME-Autoconverted: from 8bit to quoted-printable by hermes.mdfactory.de id QAA14668
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by pubhealth.ku.dk id QAA12770



If you have the following dataframe:

> x <- data.frame(x=I(rep('"', 3)))

then

> as.matrix(x)[1,1] == x[1,1]
[1] FALSE

which seems to be WRONG to me.

Also I don't understand
> x
     x
1 \\\"
2 \\\"
3 \\\"


Details
=======

As expected
> unclass(x)
$x
[1] "\"" "\"" "\""
attr(,"class")
[1] "AsIs"

attr(,"row.names")
[1] "1" "2" "3"


but now look at this
correct:
> x[1,1]
[1] "\""

wrong:
> as.matrix(x)[1,1]
[1] "\\\""

this is not only a printing problem
correct:
> cat(x[1,1], "\n")
"

wrong:
> cat(as.matrix(x)[1,1], "\n")
\"


Interpretation
==============

To my understanding, this is caused, because as.matrix.data.frame makes use
of format, and format does

> cat(format('"'), "\n")
\"

If this is the cause and format() does right, then consequently

         format MUST NEVER be used within R routines EXCEPT FOR PRINTING,
         i.e. formatting something and storing it or returning it from a
function is dangerous.
         Even the use for cat() may be dangerous, as cat() as a side effect
may store data,
         as in write() or write.table(). This deserves a BIG warning in the
documentation of format.

Here is a list of functions of package:base making use of format

> collect <- character()
> for (i in ls("package:base")){
+   if (   any(grep("format[(]", deparse(get(i, pos="package:base"))))
+       || any(grep("format.default[(]", deparse(get(i,
pos="package:base"))))
+      )collect <- c(collect, i)
+ }
> collect
 [1] "add1.default"          "add1.glm"              "add1.lm"
"all.equal.numeric"
 [5] "anovalist.lm"          "as.matrix.data.frame"  "drop1.default"
"drop1.glm"
 [9] "drop1.lm"              "format.char"           "format.default"
"format.pval"
[13] "help.search"           "hist.default"          "legend"
"ls.print"
[17] "print.aov"             "print.aovlist"         "print.coefmat"
"print.dummy.coef"
[21] "print.glm"             "print.glm.null"        "print.htest"
"print.lm"
[25] "print.mtable"          "print.summary.glm"     "print.summary.lm"
"print.summary.lm.null"
[29] "print.tables.aov"      "print.ts"              "quantile.default"
"step"
[33] "str.default"           "summary.aov"           "summary.data.frame"
"summary.default"
[37] "summary.infl"          "symnum"



platform Windows
arch     x86
os       Win32
system   x86, Win32
status
major    0
minor    90.1
year     1999
month    December
day      15
language R


--
Dr. Jens Oehlschlägel-Akiyoshi
MD FACTORY GmbH
Bayerstrasse 21

80335 München

Tel.: 089 545 28-27
Fax.: 089 545 28-10
http://www.mdfactory.de

Standard Disclaimers: Opinions expressed here are personal
and are not otherwise represented.



==> 386.audit <==
Wed Jan 26 19:31:10 2000	ripley	moved from incoming to Low-level
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 388 *
Subject: data.frame(I(matrix)) ?
From: "=?iso-8859-1?Q?Jens_Oehlschl=E4gel-Akiyoshi?=" <jens.oehlschlaegel-akiyoshi@mdfactory.de>
Date: Thu, 23 Dec 1999 19:12:58 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 388 <==
From jens.oehlschlaegel-akiyoshi@mdfactory.de  Thu Dec 23 19:17:43 1999
Received: from stat.math.ethz.ch (daemon@hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id TAA21708
	for <R-bugs@biostat.ku.dk>; Thu, 23 Dec 1999 19:17:43 +0100 (MET)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id TAA28293
	for <r-bugs@hypatia.math.ethz.ch>; Thu, 23 Dec 1999 19:17:47 +0100 (MET)
Received: from UNKNOWN(194.175.113.15), claiming to be "hermes.mdfactory.de"
 via SMTP by hypatia, id smtpdAAAa006u3; Thu Dec 23 19:17:37 1999
Received: from joelschlaegel ([172.26.2.169])
	by hermes.mdfactory.de (8.9.2/8.9.2) with SMTP id TAA29745
	for <r-bugs@lists.r-project.org>; Thu, 23 Dec 1999 19:16:31 +0100 (CET)
Reply-To: <jens.oehlschlaegel-akiyoshi@mdfactory.de>
From: "=?iso-8859-1?Q?Jens_Oehlschl=E4gel-Akiyoshi?=" <jens.oehlschlaegel-akiyoshi@mdfactory.de>
To: <r-bugs@stat.math.ethz.ch>
Subject: data.frame(I(matrix)) ?
Date: Thu, 23 Dec 1999 19:12:58 +0100
Message-ID: <000f01bf4d71$5813d080$a9021aac@joelschlaegel>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2173.0
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Importance: Normal
X-MIME-Autoconverted: from 8bit to quoted-printable by hermes.mdfactory.de id TAA29745
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by pubhealth.ku.dk id TAA21708



I observe dificulties with using data.frame(I(matrix))

> mat <- matrix(letters, 2, 2)
> dimnames(mat) <- list(c(1:2), c("x","y"))
> mat
  x   y
1 "a" "c"
2 "b" "d"

> dd <- data.frame(I(mat))
> ddd
  I.mat..x I.mat..y
1        a        a
2        b        b
3        c        c

doesn't look too bad,
but,
has only one column name:

> dimnames(dd)
[[1]]
[1] "1" "2"

[[2]]
[1] "I.mat."

and unexpected structure
> str(ddd)
`data.frame':     3 obs. of  1 variable:
 $ I.mat.: chr [1:3, 1:2] "a" "b" "c" "a" "b" "c"
  ..- attr(*, "dimnames")=List of 2
  .. ..$ : NULL
  .. ..$ : chr  "x" "y"
  ..- attr(*, "class")= chr "AsIs"
>

column 1 is a matrix
> ddd[,1]
     x   y
[1,] "a" "a"
[2,] "b" "b"
[3,] "c" "c"
attr(,"class")
[1] "AsIs"

This dataframe is not a simple list with each element representing one
column.

Consequently, e.g.

> sapply(ddd, FUN=function(x)x)
     I.mat.
[1,] "a"
[2,] "b"
[3,] "c"
[4,] "a"
[5,] "b"
[6,] "c"

is no longer a matrix.


platform Windows
arch     x86
os       Win32
system   x86, Win32
status
major    0
minor    90.1
year     1999
month    December
day      15
language R

--
Dr. Jens Oehlschlägel-Akiyoshi
MD FACTORY GmbH
Bayerstrasse 21

80335 München

Tel.: 089 545 28-27
Fax.: 089 545 28-10
http://www.mdfactory.de

Standard Disclaimers: Opinions expressed here are personal
and are not otherwise represented.


==> 388.audit <==
Wed Jan 26 19:31:10 2000	ripley	moved from incoming to Low-level
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 391 *
Subject: Segfault in dataentry()
From: Peter Dalgaard BSA <p.dalgaard@pubhealth.ku.dk>
Date: 29 Dec 1999 11:59:50 +0100
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 391 <==
From pd@biostat.ku.dk  Wed Dec 29 11:53:44 1999
Received: from biostat.ku.dk (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.8.8+Sun/8.8.8) with ESMTP id LAA02951;
	Wed, 29 Dec 1999 11:53:44 +0100 (MET)
Received: (from pd@localhost)
	by biostat.ku.dk (8.9.3/8.9.3) id LAA01559;
	Wed, 29 Dec 1999 11:59:50 +0100
Sender: pd@blueberry.kubism.ku.dk
To: r-core@r-project.org
Subject: Segfault in dataentry()
Cc: r-bugs@biostat.ku.dk
From: Peter Dalgaard BSA <p.dalgaard@pubhealth.ku.dk>
Date: 29 Dec 1999 11:59:50 +0100
Message-ID: <x2d7rqt3kp.fsf@blueberry.kubism.ku.dk>
Lines: 18
X-Mailer: Gnus v5.7/Emacs 20.4
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Length: 611


> dataentry(0,0)

Program received signal SIGSEGV, Segmentation fault.
0x808991c in duplicate (s=0x0) at ../../../R/src/main/duplicate.c:42
42	    switch (TYPEOF(s)) {

Apparently that one doesn't get trapped by the no-segfault checks.
Martin? 

(It's not too high priority to fix, but confusing data.entry and
dataentry provokes this quite easily.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

==> 391.reply.1 <==
From maechler@stat.math.ethz.ch  Fri Dec 31 18:09:17 1999
Received: from stat.math.ethz.ch (hypatia.ethz.ch [129.132.58.23])
	by pubhealth.ku.dk (8.8.8+Sun/8.8.8) with ESMTP id SAA12661;
	Fri, 31 Dec 1999 18:09:16 +0100 (MET)
Received: (from daemon@localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id SAA16695;
	Fri, 31 Dec 1999 18:09:19 +0100 (MET)
Received: from florence(129.132.58.33), claiming to be "florence.ethz.ch"
 via SMTP by hypatia, id smtpdAAAa0044p; Fri Dec 31 18:09:10 1999
Received: (maechler@localhost) by florence.ethz.ch (8.9.3/D-MATH-client) id SAA15779; Fri, 31 Dec 1999 18:09:14 +0100
X-Authentication-Warning: florence.ethz.ch: maechler set sender to maechler@florence using -f
From: Martin Maechler <maechler@stat.math.ethz.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <14444.58169.886168.959820@gargle.gargle.HOWL>
Date: Fri, 31 Dec 1999 18:09:13 +0100 (MET)
To: p.dalgaard@pubhealth.ku.dk
Cc: R-bugs@biostat.ku.dk
Subject: Re: Segfault in dataentry() (PR#391)
In-Reply-To: <199912291053.LAA02959@pubhealth.ku.dk>
References: <199912291053.LAA02959@pubhealth.ku.dk>
X-Mailer: VM 6.75 under Emacs 20.5.1
Reply-To: Martin Maechler <maechler@stat.math.ethz.ch>
Content-Length: 1008

>>>>> "PD" == p dalgaard <p.dalgaard@pubhealth.ku.dk> writes:

    >> dataentry(0,0)

    PD> Program received signal SIGSEGV, Segmentation fault.  0x808991c in
    PD> duplicate (s=0x0) at ../../../R/src/main/duplicate.c:42 42 switch
    PD> (TYPEOF(s)) {

    PD> Apparently that one doesn't get trapped by the no-segfault checks.
    PD> Martin?

There's a not-so-short  "stop.list" of functions which are *NOT* tested for
segfaults.   dataentry (w/ and w/o ".") is among them.
all the interactive ones are, actually.
[[remember:   The list was quite a bit shorter, and there were R core
	      members who complained...]] 

Look in  ..../tests/make-no-segfault.R for the statements starting with

 edit.int <- c("fix", "edit", "vi", "emacs", "pico", "xemacs", "xedit")
 misc.int <- c("browser", "bug.report", "menu")
 stop.list[["base"]] <-
    ..

to find all the functions which are *not* tested for seg.faults.

Maybe we (R-core) we should really always have
      R_TESTLOTS=yes
in our environments?

==> 391.reply.2 <==
From hornik@ci.tuwien.ac.at  Sat Jan  1 16:40:27 2000
Received: from fangorn.ci.tuwien.ac.at (fangorn.ci.tuwien.ac.at [128.131.51.24])
	by pubhealth.ku.dk (8.8.8+Sun/8.8.8) with ESMTP id QAA13861
	for <R-bugs@biostat.ku.dk>; Sat, 1 Jan 2000 16:40:27 +0100 (MET)
Received: from aragorn.ci.tuwien.ac.at (hornik@aragorn.ci.tuwien.ac.at [128.131.51.35])
	by fangorn.ci.tuwien.ac.at (8.9.3/8.9.3/Debian/GNU) with ESMTP id QAA19454;
	Sat, 1 Jan 2000 16:39:43 +0100
Received: (from hornik@localhost)
	by aragorn.ci.tuwien.ac.at (8.9.3/8.8.5) id QAA19446;
	Sat, 1 Jan 2000 16:40:51 +0100
From: Kurt Hornik <Kurt.Hornik@ci.tuwien.ac.at>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <14446.8194.975894.184062@aragorn.ci.tuwien.ac.at>
Date: Sat, 1 Jan 2000 16:40:50 +0100 (CET)
To: maechler@stat.math.ethz.ch
Cc: r-devel@stat.math.ethz.ch, R-bugs@biostat.ku.dk
Subject: Re: Segfault in dataentry() (PR#391)
In-Reply-To: <199912311709.SAA12673@pubhealth.ku.dk>
References: <199912311709.SAA12673@pubhealth.ku.dk>
X-Mailer: VM 6.75 under Emacs 19.34.1
Reply-To: Kurt.Hornik@ci.tuwien.ac.at
Content-Length: 1470

>>>>> maechler  writes:

>>>>> "PD" == p dalgaard <p.dalgaard@pubhealth.ku.dk> writes:
>>> dataentry(0,0)

PD> Program received signal SIGSEGV, Segmentation fault.  0x808991c in
PD> duplicate (s=0x0) at ../../../R/src/main/duplicate.c:42 42 switch
PD> (TYPEOF(s)) {

PD> Apparently that one doesn't get trapped by the no-segfault checks.
PD> Martin?

> There's a not-so-short  "stop.list" of functions which are *NOT* tested for
> segfaults.   dataentry (w/ and w/o ".") is among them.
> all the interactive ones are, actually.
> [[remember:   The list was quite a bit shorter, and there were R core
> 	      members who complained...]] 

> Look in  ..../tests/make-no-segfault.R for the statements starting with

>  edit.int <- c("fix", "edit", "vi", "emacs", "pico", "xemacs", "xedit")
>  misc.int <- c("browser", "bug.report", "menu")
>  stop.list[["base"]] <-
>     ..

> to find all the functions which are *not* tested for seg.faults.

> Maybe we (R-core) we should really always have
>       R_TESTLOTS=yes
> in our environments?

Actually, I'd prefer having some means of markup in the Rd source code
to indicate whether an object should not be employed for the no-segfault
testing.  We could still keep the R_TESTLOTS, though ...

E.g, the socket docs would have something correspding to \dontrun in the
examples section.

This should be cleaner than having to change the script in tests.

(Confusion arose when Fritz added old.packages() two days ago ...)

-k

==> 391.audit <==
Fri Feb 18 15:28:12 2000	pd	moved from incoming to Low-level
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 407 *
Subject: NA not printed after table
From: Andreas Weingessel <Andreas.Weingessel@ci.tuwien.ac.at>
Date: Thu, 27 Jan 2000 18:47:38 +0100
--print.table sets na.print, and that persists.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 407 <==
From weingessel@ci.tuwien.ac.at  Thu Jan 27 18:47:30 2000
Received: from fangorn.ci.tuwien.ac.at (root@fangorn.ci.tuwien.ac.at [128.131.51.24])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA05684
	for <r-bugs@biostat.ku.dk>; Thu, 27 Jan 2000 18:47:30 +0100 (MET)
Received: from elendil.ci.tuwien.ac.at (elendil.ci.tuwien.ac.at [128.131.51.38])
	by fangorn.ci.tuwien.ac.at (8.9.3/8.9.3/Debian/GNU) with ESMTP id SAA05556
	for <r-bugs@biostat.ku.dk>; Thu, 27 Jan 2000 18:47:36 +0100
Received: (from weingessel@localhost)
	by elendil.ci.tuwien.ac.at (8.9.3/8.8.5) id SAA04737;
	Thu, 27 Jan 2000 18:47:38 +0100
Date: Thu, 27 Jan 2000 18:47:38 +0100
Message-Id: <200001271747.SAA04737@elendil.ci.tuwien.ac.at>
From: Andreas Weingessel <Andreas.Weingessel@ci.tuwien.ac.at>
To: r-bugs@biostat.ku.dk
Subject: NA not printed after table
Reply-to: Andreas.Weingessel@ci.tuwien.ac.at


In the following example, the NA is not printed.

x <- c(1,2,3,2,1)
y <- table(x)
z <- list(a=y,b=NA)
z

yields

$a
x
1 2 3 
2 2 1 

$b
[1]  
   ^^^^
no NA here!

or

z <- list(a=y,d=2,b=c(1,NA,2))

R> z
$a
x
1 2 3 
2 2 1 

$d
[1] 2

$b
[1] 1   2


This seems to happen only, if an object of class "table" precedes an
NA in a list.


--please do not edit the information below--

Version:
 platform = i686-unknown-linux
 arch = i686
 os = linux
 system = i686, linux
 status = Under development (unstable)
 major = 0
 minor = 99.0
 year = 2000
 month = January
 day = 3
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

==> 407.audit <==
Fri Feb 18 15:28:13 2000	pd	moved from incoming to Low-level
Fri Feb 18 22:52:05 2000	ripley	changed notes
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Misc

none

Directory:  Models

none

Directory:  Startup

none

Directory:  System-specific

* PR# 449 *
Subject: Installation of rpm file on Suse Linux 6.2
From: luzi@stud.phys.ethz.ch
Date: Thu, 17 Feb 2000 18:36:04 +0100 (MET)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 449 <==
From luzi@stud.phys.ethz.ch  Thu Feb 17 18:36:06 2000
Received: from localhost (blueberry [130.225.108.193])
	by pubhealth.ku.dk (8.9.3/8.9.1) with ESMTP id SAA03607
	for <R-bugs@biostat.ku.dk>; Thu, 17 Feb 2000 18:36:04 +0100 (MET)
Date: Thu, 17 Feb 2000 18:36:04 +0100 (MET)
From: luzi@stud.phys.ethz.ch
Message-Id: <200002171736.SAA03607@pubhealth.ku.dk>
To: R-bugs@biostat.ku.dk
Subject: Installation of rpm file on Suse Linux 6.2

Full_Name: Luzi P. Schucan
Version: R-base-0.90.1-2.i386.rpm
OS: Linux
Submission from: (NULL) (141.84.136.129)


I just wanted to install the rpm package with rpm --v -i [file], and here is the
log:
(I DID run it as root!!)
(the important thing is in the end: there must be a bug in the post install
script.
The problem is, that it does install all the files, but it doesn't correctly
hang
the whole thing into the system. No binaries can be run, it always says things
about
missing links etc)
(I'd be VERY glad if you could help me FAST, 'cause this is for my Diplomarbeit
at 
the ETH Zurich in Switzerland. Thank you!)

D: counting packages to install
D: found 1 packages
D: looking for packages to download
D: retrieved 0 packages
D: New Header signature
D: Signature size: 68
D: Signature pad : 4
D: sigsize         : 72
D: Header + Archive: 4460045
D: expected size   : 4460045
D: opening database mode 0x42 in //var/lib/rpm/
D: found 0 source and 1 binary packages
D: dependencies: looking for perl
D: dependencies: looking for /bin/sh
D: dependencies: looking for /bin/sh
D: dependencies: looking for /usr/bin/perl
D: dependencies: looking for ld-linux.so.2
D: dependencies: looking for libICE.so.6
D: dependencies: looking for libSM.so.6
D: dependencies: looking for libX11.so.6
D: dependencies: looking for libc.so.6
D: dependencies: looking for libc.so.6(GLIBC_2.0)
D: dependencies: looking for libc.so.6(GLIBC_2.1)
D: dependencies: looking for libdl.so.2
D: dependencies: looking for libdl.so.2(GLIBC_2.0)
D: dependencies: looking for libdl.so.2(GLIBC_2.1)
D: dependencies: looking for libm.so.6
D: dependencies: looking for libm.so.6(GLIBC_2.0)
D: dependencies: looking for libm.so.6(GLIBC_2.1)
D: dependencies: looking for libncurses.so.4
D: dependencies: looking for libz.so.1
D: installing binary packages
D: New Header signature
D: Signature size: 68
D: Signature pad : 4
D: sigsize         : 72
D: Header + Archive: 4460045
D: expected size   : 4460045
D: package: R-base-0.90.1-2 files test = 0
D:    file: /usr/doc/packages/R-base action: create
D:    file: /usr/doc/packages/R-base/README action: create
D:    file: /usr/local/bin/R action: create
D:    file: /usr/local/bin/Rd2txt action: create
D:    file: /usr/local/bin/Rdconv action: create
D:    file: /usr/local/bin/Rdindex action: create
D:    file: /usr/local/bin/Sd2Rd action: create
D:    file: /usr/local/info/R-FAQ.info.gz action: create
D:    file: /usr/local/info/R-exts.info-1.gz action: create
D:    file: /usr/local/info/R-exts.info-2.gz action: create
D:    file: /usr/local/info/R-exts.info.gz action: create
D:    file: /usr/local/lib/R/COPYING action: create
D:    file: /usr/local/lib/R/COPYRIGHTS action: create
D:    file: /usr/local/lib/R/MIRROR-SITES action: create
D:    file: /usr/local/lib/R/RESOURCES action: create
D:    file: /usr/local/lib/R/afm/Makefile action: create
D:    file: /usr/local/lib/R/afm/agd_____.lt1 action: create
D:    file: /usr/local/lib/R/afm/agdo____.lt1 action: create
D:    file: /usr/local/lib/R/afm/agw_____.lt1 action: create
D:    file: /usr/local/lib/R/afm/agwo____.lt1 action: create
D:    file: /usr/local/lib/R/afm/bkd_____.lt1 action: create
D:    file: /usr/local/lib/R/afm/bkdi____.lt1 action: create
D:    file: /usr/local/lib/R/afm/bkl_____.lt1 action: create
D:    file: /usr/local/lib/R/afm/bkli____.lt1 action: create
D:    file: /usr/local/lib/R/afm/cob_____.lt1 action: create
D:    file: /usr/local/lib/R/afm/cobo____.lt1 action: create
D:    file: /usr/local/lib/R/afm/com_____.lt1 action: create
D:    file: /usr/local/lib/R/afm/coo_____.lt1 action: create
D:    file: /usr/local/lib/R/afm/hv______.lt1 action: create
D:    file: /usr/local/lib/R/afm/hvb_____.lt1 action: create
D:    file: /usr/local/lib/R/afm/hvbo____.lt1 action: create
D:    file: /usr/local/lib/R/afm/hvn_____.lt1 action: create
D:    file: /usr/local/lib/R/afm/hvnb____.lt1 action: create
D:    file: /usr/local/lib/R/afm/hvnbo___.lt1 action: create
D:    file: /usr/local/lib/R/afm/hvno____.lt1 action: create
D:    file: /usr/local/lib/R/afm/hvo_____.lt1 action: create
D:    file: /usr/local/lib/R/afm/ncb_____.lt1 action: create
D:    file: /usr/local/lib/R/afm/ncbi____.lt1 action: create
D:    file: /usr/local/lib/R/afm/nci_____.lt1 action: create
D:    file: /usr/local/lib/R/afm/ncr_____.lt1 action: create
D:    file: /usr/local/lib/R/afm/pob_____.lt1 action: create
D:    file: /usr/local/lib/R/afm/pobi____.lt1 action: create
D:    file: /usr/local/lib/R/afm/poi_____.lt1 action: create
D:    file: /usr/local/lib/R/afm/por_____.lt1 action: create
D:    file: /usr/local/lib/R/afm/sy______.afm action: create
D:    file: /usr/local/lib/R/afm/tib_____.lt1 action: create
D:    file: /usr/local/lib/R/afm/tibi____.lt1 action: create
D:    file: /usr/local/lib/R/afm/tii_____.lt1 action: create
D:    file: /usr/local/lib/R/afm/tir_____.lt1 action: create
D:    file: /usr/local/lib/R/bin action: create
D:    file: /usr/local/lib/R/bin/BATCH action: create
D:    file: /usr/local/lib/R/bin/COMPILE action: create
D:    file: /usr/local/lib/R/bin/INSTALL action: create
D:    file: /usr/local/lib/R/bin/LIBINDEX action: create
D:    file: /usr/local/lib/R/bin/R action: create
D:    file: /usr/local/lib/R/bin/R.X11 action: create
D:    file: /usr/local/lib/R/bin/REMOVE action: create
D:    file: /usr/local/lib/R/bin/Rd2contents action: create
D:    file: /usr/local/lib/R/bin/Rd2dvi action: create
D:    file: /usr/local/lib/R/bin/Rd2txt action: create
D:    file: /usr/local/lib/R/bin/Rdconv action: create
D:    file: /usr/local/lib/R/bin/Rdindex action: create
D:    file: /usr/local/lib/R/bin/Rman2Rd action: create
D:    file: /usr/local/lib/R/bin/SHLIB action: create
D:    file: /usr/local/lib/R/bin/Sd2Rd action: create
D:    file: /usr/local/lib/R/bin/build-help action: create
D:    file: /usr/local/lib/R/bin/check action: create
D:    file: /usr/local/lib/R/bin/filename action: create
D:    file: /usr/local/lib/R/bin/fwf2table action: create
D:    file: /usr/local/lib/R/bin/help action: create
D:    file: /usr/local/lib/R/bin/help.links action: create
D:    file: /usr/local/lib/R/bin/help.pretty action: create
D:    file: /usr/local/lib/R/bin/html2dos action: create
D:    file: /usr/local/lib/R/bin/massage-Examples action: create
D:    file: /usr/local/lib/R/bin/pager action: create
D:    file: /usr/local/lib/R/demos/Makefile action: create
D:    file: /usr/local/lib/R/demos/dynload/Makefile action: create
D:    file: /usr/local/lib/R/demos/dynload/README action: create
D:    file: /usr/local/lib/R/demos/dynload/zero.R action: create
D:    file: /usr/local/lib/R/demos/dynload/zero.c action: create
D:    file: /usr/local/lib/R/demos/graphics/graphics.R action: create
D:    file: /usr/local/lib/R/demos/graphics/image.R action: create
D:    file: /usr/local/lib/R/demos/language/is-things.R action: create
D:    file: /usr/local/lib/R/demos/language/recursion.R action: create
D:    file: /usr/local/lib/R/demos/language/scoping.R action: create
D:    file: /usr/local/lib/R/demos/models/glm-v+r.R action: create
D:    file: /usr/local/lib/R/demos/models/lm+glm.R action: create
D:    file: /usr/local/lib/R/demos/nlm/valley.R action: create
D:    file: /usr/local/lib/R/doc/R-FAQ.html action: create
D:    file: /usr/local/lib/R/doc/Rnotes/R.ps action: create
D:    file: /usr/local/lib/R/doc/html/R.css action: create
D:    file: /usr/local/lib/R/doc/html/about.html action: create
D:    file: /usr/local/lib/R/doc/html/faq.html action: create
D:    file: /usr/local/lib/R/doc/html/function.html action: create
D:    file: /usr/local/lib/R/doc/html/index.html action: create
D:    file: /usr/local/lib/R/doc/html/left.jpg action: create
D:    file: /usr/local/lib/R/doc/html/logo.jpg action: create
D:    file: /usr/local/lib/R/doc/html/logosm.jpg action: create
D:    file: /usr/local/lib/R/doc/html/packages-foot.html action: create
D:    file: /usr/local/lib/R/doc/html/packages-head.html action: create
D:    file: /usr/local/lib/R/doc/html/packages.html action: create
D:    file: /usr/local/lib/R/doc/html/resource.html action: create
D:    file: /usr/local/lib/R/doc/html/right.jpg action: create
D:    file: /usr/local/lib/R/doc/html/search action: create
D:    file: /usr/local/lib/R/doc/html/search/IndexEntry.class action: create
D:    file: /usr/local/lib/R/doc/html/search/IndexStream.class action: create
D:    file: /usr/local/lib/R/doc/html/search/IndexTable.class action: create
D:    file: /usr/local/lib/R/doc/html/search/SearchEngine.class action: create
D:    file: /usr/local/lib/R/doc/html/search/SearchEngine.html action: create
D:    file: /usr/local/lib/R/doc/html/search/Tracer.class action: create
D:    file: /usr/local/lib/R/doc/html/search/Value.class action: create
D:    file: /usr/local/lib/R/doc/html/search/index.txt action: create
D:    file: /usr/local/lib/R/doc/html/template.html action: create
D:    file: /usr/local/lib/R/doc/html/thanks.html action: create
D:    file: /usr/local/lib/R/doc/html/up.jpg action: create
D:    file: /usr/local/lib/R/doc/manual/R-exts.ps action: create
D:    file: /usr/local/lib/R/doc/manual/refman.ps action: create
D:    file: /usr/local/lib/R/etc/Makeconf action: create
D:    file: /usr/local/lib/R/etc/Makefile action: create
D:    file: /usr/local/lib/R/etc/Rdconvlib.pl action: create
D:    file: /usr/local/lib/R/etc/buildlib.pl action: create
D:    file: /usr/local/lib/R/etc/html-layout.pl action: create
D:    file: /usr/local/lib/R/include action: create
D:    file: /usr/local/lib/R/include/Applic.h action: create
D:    file: /usr/local/lib/R/include/Arith.h action: create
D:    file: /usr/local/lib/R/include/Blas.h action: create
D:    file: /usr/local/lib/R/include/Complex.h action: create
D:    file: /usr/local/lib/R/include/Error.h action: create
D:    file: /usr/local/lib/R/include/Errormsg.h action: create
D:    file: /usr/local/lib/R/include/Fortran.h action: create
D:    file: /usr/local/lib/R/include/Linpack.h action: create
D:    file: /usr/local/lib/R/include/Mathlib.h action: create
D:    file: /usr/local/lib/R/include/Memory.h action: create
D:    file: /usr/local/lib/R/include/PrtUtil.h action: create
D:    file: /usr/local/lib/R/include/Random.h action: create
D:    file: /usr/local/lib/R/include/Rconfig.h action: create
D:    file: /usr/local/lib/R/include/Rdefines.h action: create
D:    file: /usr/local/lib/R/include/Rinternals.h action: create
D:    file: /usr/local/lib/R/include/Rversion.h action: create
D:    file: /usr/local/lib/R/include/S.h action: create
D:    file: /usr/local/lib/R/include/S_compat.h action: create
D:    file: /usr/local/lib/R/include/Utils.h action: create
D:    file: /usr/local/lib/R/include/f2c.h action: create
D:    file: /usr/local/lib/R/library action: create
D:    file: /usr/local/lib/R/library/LibIndex action: create
D:    file: /usr/local/lib/R/library/base action: create
D:    file: /usr/local/lib/R/library/base/CONTENTS action: create
D:    file: /usr/local/lib/R/library/base/DESCRIPTION action: create
D:    file: /usr/local/lib/R/library/base/INDEX action: create
D:    file: /usr/local/lib/R/library/base/R action: create
D:    file: /usr/local/lib/R/library/base/R-ex action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Arithmetic.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Bessel.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Beta.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Binomial.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Cauchy.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Chisquare.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Comparison.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Constants.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Control.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Exponential.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Extract.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Extremes.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/FDist.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Formaldehyde.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/GammaDist.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Geometric.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/HairEyeColor.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Hyperbolic.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Hypergeometric.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/IQR.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/InsectSprays.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Last.value.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/LifeCycleSavings.R action:
create
D:    file: /usr/local/lib/R/library/base/R-ex/Log.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Logic.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Logistic.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Lognormal.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Math.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Memory.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/NA.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/NULL.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/NegBinomial.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Normal.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/OrchardSprays.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/PlantGrowth.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Platform.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Poisson.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Primitive.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Random.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Recall.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Round.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/SignRank.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Special.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/TDist.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Titanic.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/ToothGrowth.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Trig.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Tukey.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/UCBAdmissions.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/USArrests.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/USJudgeRatings.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/USPersonalExpenditure.R action:
create
D:    file: /usr/local/lib/R/library/base/R-ex/Uniform.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/VADeaths.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Version.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Weibull.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/Wilcoxon.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/abbreviate.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/abline.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/add1.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/aggregate.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/airmiles.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/airquality.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/alias.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/all.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/all.equal.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/allnames.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/anscombe.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/any.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/aov.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/aperm.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/append.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/apply.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/approxfun.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/apropos.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/args.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/array.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/arrows.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/as.function.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/assign.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/attach.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/attenu.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/attitude.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/attr.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/attributes.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/autoload.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/ave.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/axis.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/backsolve.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/barplot.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/body.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/box.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/boxplot.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/boxplot.default.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/boxplot.formula.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/boxplot.stats.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/bxp.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/c.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/call.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/case.names.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/cat.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/cbind.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/charmatch.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/check.options.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/chisq.test.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/chol.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/chol2inv.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/chull.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/co2.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/codes.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/coefficients.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/col.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/colnames.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/colors.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/commandArgs.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/comment.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/complete.cases.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/complex.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/conflicts.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/contour.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/contrast.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/contrasts.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/convolve.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/coplot.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/cor.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/count.fields.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/crossprod.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/cumsum.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/curve.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/cut.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/data.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/data.class.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/data.frame.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/dataentry.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/date.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/delay.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/delete.response.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/demo.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/density.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/deparse.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/deriv.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/detach.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/dev.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/dev2.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/diag.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/diff.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/dim.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/dimnames.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/discoveries.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/do.call.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/dotplot.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/double.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/dput.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/drop.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/dummy.coef.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/dump.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/duplicated.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/dynload.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/edit.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/eff.aovlist.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/effects.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/eigen.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/environment.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/esoph.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/euro.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/eval.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/example.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/exists.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/expand.grid.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/expression.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/extractAIC.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/factor.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/factor.scope.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/faithful.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/family.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/fft.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/file.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/file.show.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/filled.contour.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/fivenum.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/fix.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/formals.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/format.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/format.info.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/formatc.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/formula.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/function.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/gc.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/get.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/getenv.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/getwd.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/gl.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/glm.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/glm.summaries.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/gnome.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/gray.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/grep.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/grid.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/hdf5.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/help.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/help.search.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/help.start.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/hist.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/hsv.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/ifelse.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/image.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/infert.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/influence.measures.R action:
create
D:    file: /usr/local/lib/R/library/base/R-ex/interaction.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/interactive.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/invisible.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/is.empty.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/is.finite.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/is.language.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/is.object.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/is.recursive.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/isR.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/islands.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/jitter.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/kappa.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/kronecker.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/lapply.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/layout.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/legend.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/length.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/levels.factor.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/library.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/library.dynam.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/lines.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/list.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/list.files.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/lm.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/lm.influence.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/lm.summaries.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/load.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/loglin.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/longley.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/lower.tri.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/lowess.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/ls.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/ls.diag.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/lsfit.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/machine.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/mad.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/mahalanobis.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/make.link.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/make.names.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/make.socket.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/mat.or.vec.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/match.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/match.arg.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/match.call.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/match.fun.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/matmult.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/matplot.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/matrix.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/mean.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/median.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/memory.profile.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/menu.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/methods.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/missing.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/mode.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/model.extract.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/model.frame.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/model.matrix.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/model.tables.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/mosaicplot.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/mtcars.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/mtext.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/na.action.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/na.fail.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/name.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/names.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/nargs.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/nchar.R action: create
D:    file: /usr/local/lib/R/library/base/R-ex/nextn.R action: create

==> 449.audit <==
Fri Feb 18 15:28:29 2000	pd	moved from incoming to System-specific
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  TooMuchAtOnce

* PR# 53 *
Subject: 0.62.3 bugs, incompatibilities and problems
From: Jim Lindsey <jlindsey@alpha.luc.ac.be>
Date: Mon, 12 Oct 1998 09:43:51 +0200 (MET DST)
--Of Jims points: (checked in 0.65 April 26 compared to Splus 3.4)
-- 4. works the same as S
-- 5. Splus gives NA and the if(class(z)=="repeated") doesn't work in either
-- 10. seems to work
-- 7.  seems to do what Jim wants now
--1.0.0
-- 1. is S-compatible and has been altered to make R incompatible
--13. There are many such options.
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 53 <==
From jlindsey@alpha.luc.ac.be  Mon Oct 12 09:42:39 1998
Received: from hypatia.math.ethz.ch (hypatia.ethz.ch [129.132.58.23])
	by kubism.ku.dk (8.9.1/8.9.1) with SMTP id JAA06654
	for <R-bugs@biostat.ku.dk>; Mon, 12 Oct 1998 09:42:38 +0200 (MET DST)
Received: from alpha.luc.ac.be (alpha.luc.ac.be [193.190.2.30]) by hypatia.math.ethz.ch (8.6.12/Main-STAT-mailer) with ESMTP id JAA22911; Mon, 12 Oct 1998 09:41:41 +0200
Received: (from jlindsey@localhost)
	by alpha.luc.ac.be (8.9.1/8.9.1) id JAA09128;
	Mon, 12 Oct 1998 09:43:51 +0200 (MET DST)
From: Jim Lindsey <jlindsey@alpha.luc.ac.be>
Message-Id: <199810120743.JAA09128@alpha.luc.ac.be>
Subject: 0.62.3 bugs, incompatibilities and problems
To: r-help@stat.math.ethz.ch (r-help)
Date: Mon, 12 Oct 1998 09:43:51 +0200 (MET DST)
Cc: r-bugs@stat.math.ethz.ch (rbugs)
X-Mailer: ELM [version 2.4 PL23]
Content-Type: text

Here are various things that I have been accumulating concerning
R0.62.3 in attempting to debug my libraries, as compared to 0.62.1.
I have already reported some of them before.
Apparently no one is using my libraries as I have not received a
single bug report.  Jim

R0.62.3

 0. configure does not work properly if f77 or fort77 is a script
    front end for f2c
 1. 2-level factor variables have no label in glm()
 2. meaningless P-values and stars by default in summary(glm())
    (see John Nelder's recent `A Statistical Scandal' on Allstat)
 3. options changed in data.frame() (such as as.is= )
 4. seq(5,20,by=4) does not work properly
 5. NULL==1 *now* gives an error instead of FALSE
    e.g. if(class(z)=="repeated") when z has no class
 6. is.factor(c(gl(2,2),gl(2,2))) gives FALSE and a lot of other
    annoying `features' with factor variables
 7. if resp is a dataframe, cbind(resp[,1:1],resp[,5:6]) no longer works
    but cbind(resp[,1:2],resp[,5:6]) does;
    *now* requires cbind(resp[,1:1,drop=F],resp[,5:6])
 8. logical weights no longer work in glm() with a dataframe:
    there is some comparison in which they are taken as a factor variable
    y <- rnorm(20)
    wt <- rep(T,20)
    df <- data.frame(y,wt)
    glm(y~1,weights=wt)  works but not
    glm(y~1,weights=wt,data=df)
    Error: "<" not meaningful for factors
    probably related to point 6 above
 9. offset= option in glm() no longer works if there are NAs
10. y~x+(x>0) works but y~x*(x>0) *now* gives a parse error
11. Error: heap memory (5120Kb) exhausted
    with 4773k bytes of heap free (93%) from gc()
    Mainly occurs in functions involving a for() loop around calls
    to glm(), tapply(), and data.frame() (e.g. EM algorithm in my glmm
    and coxre functions) Did not occur in 0.62.1
12. gc() has to be used *twice* between functions calls with big data
    sets to free memory (already reported in previous versions)
13. the fact that a batch job stops when there is an error is
    extremely annoying and time wasting; there should at least be an
    option to set the level of tolerance to such errors

==> 53.audit <==
Mon Dec 07 14:56:10 1998	pd	moved from incoming to TooMuchAtOnce
Mon Apr 26 20:57:23 1999	robert	changed notes
Thu Feb 17 17:42:05 2000	ripley	changed notes
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* PR# 76 *
Subject: R-0.63.0
From: Rashid Nassar <rnassar@acpub.duke.edu>
Date: Fri, 11 Dec 1998 23:20:08 -0500 (EST)
-- no notes --
~~~~~~~~~~ original reports follow ~~~~~~~~~~
==> 76 <==
From rnassar@acpub.duke.edu  Sat Dec 12 05:22:21 1998
Received: from heinlein.acpub.duke.edu (heinlein.acpub.duke.edu [152.3.233.9])
	by kubism.ku.dk (8.9.1/8.9.1) with ESMTP id FAA04692
	for <r-bugs@biostat.ku.dk>; Sat, 12 Dec 1998 05:22:20 +0100 (MET)
Received: from godzilla3.acpub.duke.edu (rnassar@godzilla3.acpub.duke.edu [152.3.233.44]) 
	by heinlein.acpub.duke.edu (8.8.5/Duke-4.6.0) with ESMTP id XAA10587;
	Fri, 11 Dec 1998 23:20:11 -0500 (EST)
Received: (from rnassar@localhost) 
	by godzilla3.acpub.duke.edu (8.8.5/Duke-4.4) id XAA11937;
	Fri, 11 Dec 1998 23:20:09 -0500 (EST)
Date: Fri, 11 Dec 1998 23:20:08 -0500 (EST)
From: Rashid Nassar <rnassar@acpub.duke.edu>
To: r-bugs <r-bugs@biostat.ku.dk>
Subject: R-0.63.0
Message-ID: <Pine.SOL.3.91.981211231231.11592A-100000@godzilla3.acpub.duke.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII

Dear Sirs,

I would like to again express my thanks for all who continue to make R 
better and better.

Here are some things I ran into while using R-0.63.

bug.report() gives the following information, but I haven't figured
out yet how to use this function (or even how to exit from it!) so this 
is cut-&-paste:

===================================================

Version:
 platform = i586-unknown-linux
 arch = i586
 os = linux
 system = i586, linux
 status =
 status.rev = 0
 major = 0
 minor = 63.0
 year = 1998
 month = November
 day = 14
 language = R

Search Path:
 .GlobalEnv, pigv, Autoloads, package:base

===================================================
In the following examples, x,y,z are numeric, and A is factor

1. 
(carried over from earlier versions:)

> boxplot(y~A)  #works ok
> boxplot(A,y)  #doesn't like it and issues odd error message
Error: "+" not meaningful for factors


2.
> plot(A,y, cex=n)   #seems to ignore cex parameter

3. 
On multiple plots, plot() omits to next location in case of input error: 
e.g.,

> par(mfrow=c(2,2),pty="s")
> plot(x,y,col=codes(z)) #error in attempted plot at (1,1)
Error: no applicable method for "codes"

> plot(x,y,col=codes(A)) #mistake corrected
#plots at (1,2) leaving (1,1) location empty


4. 
Possible problem with main= and sub= when using formula() (my guess
is that I shouldn't be using formula() in title, but here it is just
in case what I'm doing is legitimate):

> formula(fpvr2.sc)
pvr2 ~ sc

> qqnorm(rstudent(fpvr2.sc),main=formula(fpvr2.sc))
> qqnorm(rstudent(fpvr2.sc),main=paste(formula(fpvr2.sc)))
 # both print main title as:
 #
 #         ~
 #        pvr2 
 #         sc


> qqnorm(rstudent(fpvr2.sc),sub=formula(fpvr2.sc))
> qqnorm(rstudent(fpvr2.sc),sub=paste(formula(fpvr2.sc)))

# result in 'pvr2', '~', and 'sc' being superimposed


5. 
Formatting problem with stem():

> pigv[,c(4,8)]
     sc  hill2
1  cont 1.9003
2  cont 1.8869
3  cont 2.3610
4  cont 2.2316
5  cont 1.0572
6  cont 2.0070
7  scr1 2.7811
8  scr1 2.8592
9  scr1 1.9251
10 scr1 3.1048
11 scr1 3.7369
12 cont 1.7435

> m.sq.hill2.sc <- lm(hill2^2~sc,pigv)

> stem(resid(m.sq.hill2.sc))

  The decimal point is 1 digit(s) to the right of the |

  -0 | 5
  -0 | 311000
  0 | 0112
  0 | 5

#  but with another set of residuals formatting works correctly:

> m.hill2.sc <- lm(hill2~sc,pigv)
> stem(resid(m.hill2.sc))

  The decimal point is at the |

  -1 | 0
  -0 | 8
  -0 | 110
   0 | 00123
   0 | 59


 
6. 
> text(locator(),"sometext") 

shows up nicely on screen, but does not show on printout of saved
plot, even as the rest of the plot prints correctly.

Many thanks,

Rashid Nassar


==> 76.audit <==
Fri Jan 08 17:49:48 1999	pd	moved from incoming to TooMuchAtOnce
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Directory:  Windows

none

Directory:  incoming

none
